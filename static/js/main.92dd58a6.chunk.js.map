{"version":3,"sources":["img sync /^/icon/-.*/.svg$","img/icon-edit.svg","views/gmx-test/img/ddl/ic_eth_40.svg","views/gmx-test/img/ddl sync /^/ic_.*_40/.svg$","views/options/img/ddl/ic_eth_40.svg","img sync /^/icon/-.*_sm/.svg$","img/icon-wallet.svg","img/icon-link.svg","views/gmx-test/img/DROP_DOWN.svg","views/gmx-test/img/ddl/icon_dollar.svg","views/gmx-test/img/ddl/icon_dollar_active.svg","views/gmx-test/img/ddl/icon_market.svg","views/gmx-test/img/ddl/icon_market_active.svg","views/gmx-test/img/ddl/icon_trigger.svg","views/gmx-test/img/ddl/icon_trigger_active.svg","views/gmx-test/img/ddl/icon_withdraw.svg","views/gmx-test/img/ddl/icon_withdraw_active.svg","views/gmx-test/img/ddl/long.svg","views/gmx-test/img/ddl/long_active.svg","views/gmx-test/img/ddl/short.svg","views/gmx-test/img/ddl/short_active.svg","views/gmx-test/img/gmx-logo-with-name.svg","views/gmx-test/img/position-share-bg.png","views/gmx-test/img/swap.svg","img/icon-bin.svg","img/icon-btn-up.svg","img/icon-calendar.svg","img/icon-call-active.svg","img/icon-call.svg","img/icon-down-small.svg","img/icon-market.svg","img/icon-put-active.svg","img/icon-put.svg","img/icon-settings.svg","views/gmx-test/img/ddl/ic_btc_40.svg","views/gmx-test/img/ddl/ic_dai_40.svg","views/gmx-test/img/ddl/ic_frax_40.svg","views/gmx-test/img/ddl/ic_link_40.svg","views/gmx-test/img/ddl/ic_uni_40.svg","views/gmx-test/img/ddl/ic_usdc_40.svg","views/gmx-test/img/ddl/ic_usdt_40.svg","views/gmx-test/img/ddl/ic_weth_40.svg","views/gmx-test/img/ic_arbitrum_24.svg","views/gmx-test/img/ic_avalanche_24.svg","views/gmx-test/img/ic_avax_24.svg","views/gmx-test/img/ic_btc.b_24.svg","views/gmx-test/img/ic_btc_24.svg","views/gmx-test/img/ic_busd_24.svg","views/gmx-test/img/ic_dai_24.svg","views/gmx-test/img/ic_eth_24.svg","views/gmx-test/img/ic_frax_24.svg","views/gmx-test/img/ic_glp_24.svg","views/gmx-test/img/ic_gmx_24.svg","views/gmx-test/img/ic_link_24.svg","views/gmx-test/img/ic_mim_24.svg","views/gmx-test/img/ic_settings_24.svg","views/gmx-test/img/ic_tether_24.svg","views/gmx-test/img/ic_uni_24.svg","views/gmx-test/img/ic_usdc.e_24.svg","views/gmx-test/img/ic_usdc_24.svg","views/gmx-test/img/ic_usdt_24.svg","views/gmx-test/img/ic_wallet_24.svg","views/gmx-test/img/ic_wavax_24.svg","views/gmx-test/img/ic_weth_24.svg","img/icon-GMX.svg","img/icon-GMX_full.svg","img/icon-GMX_sm.svg","img/icon-GNS.svg","img/icon-GNS_full.svg","img/icon-GNS_sm.svg","img/icon-Hegic_full.svg","img/icon-Hegic_sm.svg","img/icon-Lyra_full.svg","img/icon-Lyra_sm.svg","img/icon-aggregator.svg","img/icon-date.svg","img/icon-down-small-white.svg","views/options/img/ddl/ic_btc_40.svg","views/options/img/ddl/ic_dai_40.svg","views/options/img/ddl/ic_frax_40.svg","views/options/img/ddl/ic_link_40.svg","views/options/img/ddl/ic_uni_40.svg","views/options/img/ddl/ic_usdc_40.svg","views/options/img/ddl/ic_usdt_40.svg","views/options/img/ddl/ic_weth_40.svg","views/options/img/ddl sync /^/ic_.*_40/.svg$","views/gmx-test/img sync /^/.*$","views/gmx-test/img/Anyswap.png","views/gmx-test/img/Anyswap.svg","views/gmx-test/img/Artwork.svg","views/gmx-test/img/Artwork_gmx.svg","views/gmx-test/img/Banxa.png","views/gmx-test/img/Hop.png","views/gmx-test/img/Hop.svg","views/gmx-test/img/Hop_dark.png","views/gmx-test/img/Hop_dark.svg","views/gmx-test/img/Synapse.png","views/gmx-test/img/Synapse.svg","views/gmx-test/img/binance.png","views/gmx-test/img/bscscan.png","views/gmx-test/img/btn_big_arbitrum.png","views/gmx-test/img/btn_big_avalanche.png","views/gmx-test/img/btn_big_bsc.png","views/gmx-test/img/btn_big_purchasegmx.png","views/gmx-test/img/btn_big_purchasegmx.svg","views/gmx-test/img/buy_gmx.svg","views/gmx-test/img/buy_gmx_bond.svg","views/gmx-test/img/buy_transfer_eth.svg","views/gmx-test/img/coinbaseWallet.png","views/gmx-test/img/coingecko.png","views/gmx-test/img/cross.svg","views/gmx-test/img/ddl/chevron-down.svg","views/gmx-test/img/ddl/chevron-down_sm.svg","views/gmx-test/img/ddl/ic_btc_40.png","views/gmx-test/img/ddl/ic_dai_40.png","views/gmx-test/img/ddl/ic_eth_40.png","views/gmx-test/img/ddl/ic_frax_40.png","views/gmx-test/img/ddl/ic_link_40.png","views/gmx-test/img/ddl/ic_uni_40.png","views/gmx-test/img/ddl/ic_usdc_40.png","views/gmx-test/img/ddl/ic_usdt_40.png","views/gmx-test/img/ddl/ic_weth_40.png","views/gmx-test/img/ddl/icon_arrow.svg","views/gmx-test/img/ddl/icon_check.svg","views/gmx-test/img/ddl/icon_close.svg","views/gmx-test/img/ddl/icon_close_sm.svg","views/gmx-test/img/ddl/icon_close_toast.svg","views/gmx-test/img/ddl/lock.svg","views/gmx-test/img/flag_en.svg","views/gmx-test/img/flag_es.svg","views/gmx-test/img/flag_fr.svg","views/gmx-test/img/flag_ja.svg","views/gmx-test/img/flag_ko.svg","views/gmx-test/img/flag_ru.svg","views/gmx-test/img/flag_zh.svg","views/gmx-test/img/glp_icon.svg","views/gmx-test/img/gmx-logo-final-white-small.png","views/gmx-test/img/gmx-logo-final-white.png","views/gmx-test/img/gmx-logo-final.png","views/gmx-test/img/gmx-logo-glow.png","views/gmx-test/img/gmx_logo.svg","views/gmx-test/img/graphite-01.png","views/gmx-test/img/ic-communityproject.svg","views/gmx-test/img/ic_arbitrum_16.svg","views/gmx-test/img/ic_arbitrum_96.svg","views/gmx-test/img/ic_arbitrum_hover_16.svg","views/gmx-test/img/ic_arrowleft16.svg","views/gmx-test/img/ic_arrowright16.svg","views/gmx-test/img/ic_avalanche_16.svg","views/gmx-test/img/ic_avalanche_96.svg","views/gmx-test/img/ic_avax_30.svg","views/gmx-test/img/ic_avax_40.svg","views/gmx-test/img/ic_banxa.svg","views/gmx-test/img/ic_binance_logo.svg","views/gmx-test/img/ic_bsc.svg","views/gmx-test/img/ic_bsc_96.svg","views/gmx-test/img/ic_btc.b_40.svg","views/gmx-test/img/ic_btc_40.svg","views/gmx-test/img/ic_buy_glp.svg","views/gmx-test/img/ic_cash.png","views/gmx-test/img/ic_cash.svg","views/gmx-test/img/ic_checked.svg","views/gmx-test/img/ic_coingecko_16.svg","views/gmx-test/img/ic_coingecko_hover_16.svg","views/gmx-test/img/ic_convert_down.svg","views/gmx-test/img/ic_copy_16.svg","views/gmx-test/img/ic_cost.svg","views/gmx-test/img/ic_dai_40.svg","views/gmx-test/img/ic_discord.svg","views/gmx-test/img/ic_eth_40.svg","views/gmx-test/img/ic_frax_40.svg","views/gmx-test/img/ic_github.svg","views/gmx-test/img/ic_glp_40.svg","views/gmx-test/img/ic_glp_custom.svg","views/gmx-test/img/ic_gmx.svg","views/gmx-test/img/ic_gmx_30.svg","views/gmx-test/img/ic_gmx_40.svg","views/gmx-test/img/ic_gmx_64.svg","views/gmx-test/img/ic_gmx_arbitrum.svg","views/gmx-test/img/ic_gmx_avax.svg","views/gmx-test/img/ic_gmx_big.svg","views/gmx-test/img/ic_gmx_custom.svg","views/gmx-test/img/ic_gmx_footer.svg","views/gmx-test/img/ic_hop.svg","views/gmx-test/img/ic_info.svg","views/gmx-test/img/ic_language24.svg","views/gmx-test/img/ic_link_40.svg","views/gmx-test/img/ic_liquidity.svg","views/gmx-test/img/ic_medium.svg","views/gmx-test/img/ic_menu_dots.svg","views/gmx-test/img/ic_metamask_16.svg","views/gmx-test/img/ic_metamask_hover_16.svg","views/gmx-test/img/ic_mim_40.svg","views/gmx-test/img/ic_multiswap.svg","views/gmx-test/img/ic_new_link_16.svg","views/gmx-test/img/ic_olympus.svg","views/gmx-test/img/ic_olympus_arbitrum.svg","views/gmx-test/img/ic_selector_dropdowns.svg","views/gmx-test/img/ic_settings_16.svg","views/gmx-test/img/ic_sign in_16.svg","views/gmx-test/img/ic_sign_out_16.svg","views/gmx-test/img/ic_simpleswaps.svg","views/gmx-test/img/ic_stats.svg","views/gmx-test/img/ic_stats_big.svg","views/gmx-test/img/ic_synapse.svg","views/gmx-test/img/ic_telegram.svg","views/gmx-test/img/ic_tokens.svg","views/gmx-test/img/ic_totaluser.svg","views/gmx-test/img/ic_trading.svg","views/gmx-test/img/ic_transfer_avax.svg","views/gmx-test/img/ic_twitter.svg","views/gmx-test/img/ic_uni_40.svg","views/gmx-test/img/ic_usdc.e_40.svg","views/gmx-test/img/ic_usdc_40.svg","views/gmx-test/img/ic_usdt_40.svg","views/gmx-test/img/ic_wavax_40.svg","views/gmx-test/img/ic_weth_40.svg","views/gmx-test/img/lg_arbitrum.svg","views/gmx-test/img/logo_GMX.svg","views/gmx-test/img/logo_GMX_small.svg","views/gmx-test/img/long.svg","views/gmx-test/img/metamask-text.svg","views/gmx-test/img/metamask.png","views/gmx-test/img/page-not-found.svg","views/gmx-test/img/short.svg","views/gmx-test/img/trading.jpg","views/gmx-test/img/wallet-connect-text.svg","views/gmx-test/img/walletconnect-circle-blue.svg","views/gmx-test/img/wave-01.png","views/gmx-test/img/wave-02.png","views/gmx-test/img sync /^/ic_.*_24/.svg$","img/icon-BTC.svg","img/icon-ETH.svg","img/icon-GNS_v2.svg","img/icon-Hegic.svg","img/icon-Lyra.svg","img/icon-Premia.svg","img/icon-WBTC.svg","img/icon-dollar.svg","img/icon-down.svg","img/icon-hint.svg","img/icon-repay.svg","img/icon-sort.svg","img/icon-usdc.svg","img/icon-user.svg","views/options/img sync /^/.*$","views/options/img/Anyswap.png","views/options/img/Anyswap.svg","views/options/img/Artwork.svg","views/options/img/Artwork_gmx.svg","views/options/img/Banxa.png","views/options/img/DROP_DOWN.svg","views/options/img/Hop.png","views/options/img/Hop.svg","views/options/img/Hop_dark.png","views/options/img/Hop_dark.svg","views/options/img/Synapse.png","views/options/img/Synapse.svg","views/options/img/binance.png","views/options/img/bscscan.png","views/options/img/btn_big_arbitrum.png","views/options/img/btn_big_avalanche.png","views/options/img/btn_big_bsc.png","views/options/img/btn_big_purchasegmx.png","views/options/img/btn_big_purchasegmx.svg","views/options/img/buy_gmx.svg","views/options/img/buy_gmx_bond.svg","views/options/img/buy_transfer_eth.svg","views/options/img/coinbaseWallet.png","views/options/img/coingecko.png","views/options/img/cross.svg","views/options/img/ddl/chevron-down.svg","views/options/img/ddl/chevron-down_sm.svg","views/options/img/ddl/ic_btc_40.png","views/options/img/ddl/ic_dai_40.png","views/options/img/ddl/ic_eth_40.png","views/options/img/ddl/ic_frax_40.png","views/options/img/ddl/ic_link_40.png","views/options/img/ddl/ic_uni_40.png","views/options/img/ddl/ic_usdc_40.png","views/options/img/ddl/ic_usdt_40.png","views/options/img/ddl/ic_weth_40.png","views/options/img/ddl/icon_arrow.svg","views/options/img/ddl/icon_check.svg","views/options/img/ddl/icon_close.svg","views/options/img/ddl/icon_close_sm.svg","views/options/img/ddl/icon_close_toast.svg","views/options/img/ddl/icon_dollar.svg","views/options/img/ddl/icon_dollar_active.svg","views/options/img/ddl/icon_market.svg","views/options/img/ddl/icon_market_active.svg","views/options/img/ddl/icon_trigger.svg","views/options/img/ddl/icon_trigger_active.svg","views/options/img/ddl/icon_withdraw.svg","views/options/img/ddl/icon_withdraw_active.svg","views/options/img/ddl/lock.svg","views/options/img/ddl/long.svg","views/options/img/ddl/long_active.svg","views/options/img/ddl/short.svg","views/options/img/ddl/short_active.svg","views/options/img/flag_en.svg","views/options/img/flag_es.svg","views/options/img/flag_fr.svg","views/options/img/flag_ja.svg","views/options/img/flag_ko.svg","views/options/img/flag_ru.svg","views/options/img/flag_zh.svg","views/options/img/glp_icon.svg","views/options/img/gmx-logo-final-white-small.png","views/options/img/gmx-logo-final-white.png","views/options/img/gmx-logo-final.png","views/options/img/gmx-logo-glow.png","views/options/img/gmx-logo-with-name.svg","views/options/img/gmx_logo.svg","views/options/img/graphite-01.png","views/options/img/ic-communityproject.svg","views/options/img/ic_arbitrum_16.svg","views/options/img/ic_arbitrum_24.svg","views/options/img/ic_arbitrum_96.svg","views/options/img/ic_arbitrum_hover_16.svg","views/options/img/ic_arrowleft16.svg","views/options/img/ic_arrowright16.svg","views/options/img/ic_avalanche_16.svg","views/options/img/ic_avalanche_24.svg","views/options/img/ic_avalanche_96.svg","views/options/img/ic_avax_24.svg","views/options/img/ic_avax_30.svg","views/options/img/ic_avax_40.svg","views/options/img/ic_banxa.svg","views/options/img/ic_binance_logo.svg","views/options/img/ic_bsc.svg","views/options/img/ic_bsc_96.svg","views/options/img/ic_btc.b_24.svg","views/options/img/ic_btc.b_40.svg","views/options/img/ic_btc_24.svg","views/options/img/ic_btc_40.svg","views/options/img/ic_busd_24.svg","views/options/img/ic_buy_glp.svg","views/options/img/ic_cash.png","views/options/img/ic_cash.svg","views/options/img/ic_checked.svg","views/options/img/ic_coingecko_16.svg","views/options/img/ic_coingecko_hover_16.svg","views/options/img/ic_convert_down.svg","views/options/img/ic_copy_16.svg","views/options/img/ic_cost.svg","views/options/img/ic_dai_24.svg","views/options/img/ic_dai_40.svg","views/options/img/ic_discord.svg","views/options/img/ic_eth_24.svg","views/options/img/ic_eth_40.svg","views/options/img/ic_frax_24.svg","views/options/img/ic_frax_40.svg","views/options/img/ic_github.svg","views/options/img/ic_glp_24.svg","views/options/img/ic_glp_40.svg","views/options/img/ic_glp_custom.svg","views/options/img/ic_gmx.svg","views/options/img/ic_gmx_24.svg","views/options/img/ic_gmx_30.svg","views/options/img/ic_gmx_40.svg","views/options/img/ic_gmx_64.svg","views/options/img/ic_gmx_arbitrum.svg","views/options/img/ic_gmx_avax.svg","views/options/img/ic_gmx_big.svg","views/options/img/ic_gmx_custom.svg","views/options/img/ic_gmx_footer.svg","views/options/img/ic_hop.svg","views/options/img/ic_info.svg","views/options/img/ic_language24.svg","views/options/img/ic_link_24.svg","views/options/img/ic_link_40.svg","views/options/img/ic_liquidity.svg","views/options/img/ic_medium.svg","views/options/img/ic_menu_dots.svg","views/options/img/ic_metamask_16.svg","views/options/img/ic_metamask_hover_16.svg","views/options/img/ic_mim_24.svg","views/options/img/ic_mim_40.svg","views/options/img/ic_multiswap.svg","views/options/img/ic_new_link_16.svg","views/options/img/ic_olympus.svg","views/options/img/ic_olympus_arbitrum.svg","views/options/img/ic_selector_dropdowns.svg","views/options/img/ic_settings_16.svg","views/options/img/ic_settings_24.svg","views/options/img/ic_sign in_16.svg","views/options/img/ic_sign_out_16.svg","views/options/img/ic_simpleswaps.svg","views/options/img/ic_stats.svg","views/options/img/ic_stats_big.svg","views/options/img/ic_synapse.svg","views/options/img/ic_telegram.svg","views/options/img/ic_tether_24.svg","views/options/img/ic_tokens.svg","views/options/img/ic_totaluser.svg","views/options/img/ic_trading.svg","views/options/img/ic_transfer_avax.svg","views/options/img/ic_twitter.svg","views/options/img/ic_uni_24.svg","views/options/img/ic_uni_40.svg","views/options/img/ic_usdc.e_24.svg","views/options/img/ic_usdc.e_40.svg","views/options/img/ic_usdc_24.svg","views/options/img/ic_usdc_40.svg","views/options/img/ic_usdt_24.svg","views/options/img/ic_usdt_40.svg","views/options/img/ic_wallet_24.svg","views/options/img/ic_wavax_24.svg","views/options/img/ic_wavax_40.svg","views/options/img/ic_weth_24.svg","views/options/img/ic_weth_40.svg","views/options/img/lg_arbitrum.svg","views/options/img/logo_GMX.svg","views/options/img/logo_GMX_small.svg","views/options/img/long.svg","views/options/img/metamask-text.svg","views/options/img/metamask.png","views/options/img/page-not-found.svg","views/options/img/position-share-bg.png","views/options/img/short.svg","views/options/img/swap.svg","views/options/img/trading.jpg","views/options/img/wallet-connect-text.svg","views/options/img/walletconnect-circle-blue.svg","views/options/img/wave-01.png","views/options/img/wave-02.png","img sync /^/icon/-.*_full/.svg$","img/BuilderCharts sync /^/.*/.svg$","img/BuilderCharts/Call.svg","img/BuilderCharts/Put.svg","img/BuilderCharts/Straddle.svg","img/BuilderCharts/Strangle.svg","components/UI/logo/Logo.jsx","components/UI/button/Button.jsx","hooks/useTogglePopup.js","components/Wallet.jsx","components/utils/wallet.js","components/Tabs.jsx","Header.jsx","Footer.jsx","views/gmx-test/config/Addresses.js","views/gmx-test/config/Tokens.js","views/gmx-test/lib/legacy.js","views/gmx-test/config/chains.js","views/gmx-test/domain/common.js","views/gmx-test/lib/contracts/fetcher.ts","views/gmx-test/lib/helperToast.ts","views/gmx-test/components/ToastifyDebug/ToastifyDebug.tsx","views/gmx-test/lib/contracts/transactionErrors.ts","views/gmx-test/lib/contracts/constants.js","views/gmx-test/lib/contracts/utils.ts","views/gmx-test/lib/contracts/callContract.tsx","views/gmx-test/domain/prices.js","views/gmx-test/domain/legacy.js","views/gmx-test/config/ui.js","views/gmx-test/components/Tooltip/Tooltip.js","components/utils/notifications.js","views/gmx-test/components/Tab/Tab.js","views/gmx-test/lib/useLockBodyScroll.ts","views/gmx-test/components/Modal/Modal.js","views/gmx-test/components/Common/Portal.js","views/gmx-test/components/Tooltip/TooltipWithPortal.js","views/gmx-test/components/Exchange/TokenSelector.js","views/gmx-test/components/Exchange/ExchangeInfoRow.js","views/gmx-test/components/Checkbox/Checkbox.js","views/gmx-test/components/StatsTooltip/StatsTooltipRow.tsx","views/gmx-test/components/SlippageInput/SlippageInput.jsx","components/utils/sepThousands.js","components/utils/math.js","components/UI/input/NumberInput_v3.jsx","components/utils/constants.js","components/UI/loader/Spinner.jsx","components/utils/utils.js","views/gmx-test/components/Exchange/ConfirmationBox.js","views/gmx-test/components/Referrals/referralsHelper.js","views/gmx-test/domain/referrals.js","components/UI/modal/Modal.jsx","components/UI/modal/ChooseMarketModal.jsx","views/gmx-test/lib/GNS_legacy.js","components/UI/modal/SLTPModal.jsx","components/utils/providers.js","views/options/config/Addresses.js","views/options/config/Tokens.js","views/options/lib/legacyOptions.js","components/utils/contracts.js","components/UI/Selector/Selector.jsx","views/gmx-test/components/Exchange/SwapBox.js","views/gmx-test/components/Exchange/ChartTokenSelector.js","views/gmx-test/components/Exchange/TradingView.jsx","views/gmx-test/components/Exchange/ChartSelector.jsx","views/gmx-test/components/Exchange/ExchangeTVChart.js","views/gmx-test/components/Exchange/PositionSeller.js","views/gmx-test/components/Exchange/PositionEditor.js","views/gmx-test/components/Exchange/OrdersToa.js","views/gmx-test/components/Common/SpinningLoader.js","views/gmx-test/components/Exchange/PositionShare.js","views/gmx-test/lib/useLoadImage.js","views/gmx-test/components/Exchange/PositionsItem.jsx","views/gmx-test/components/Exchange/PositionsList.js","views/gmx-test/components/Exchange/OrderEditor.js","views/gmx-test/components/Exchange/OrderEditorGNS.jsx","views/gmx-test/components/Exchange/OrdersList.js","views/gmx-test/components/Exchange/TradeHistory.js","views/gmx-test/components/Exchange/ExchangeBanner.js","views/gmx-test/pages/Exchange/Exchange.js","views/gmx-test/components/EventToast/useEventToast.js","views/gmx-test/components/EventToast/EventToastContainer.js","views/gmx-test/components/Common/SEO.js","views/gmx-test/components/ModalViews/RedirectModal.js","views/gmx-test/lib/i18n.js","views/gmx-test/App/App.js","views/gmx-test/lib/useRouteQuery.js","views/options/components/Tab/TabOptions.js","views/options/components/Exchange/SwapBoxOptions.js","views/options/components/Exchange/ChartTokenSelectorOptions.js","views/options/config/ui.js","views/options/components/Tooltip/Tooltip.js","views/options/components/Exchange/ExchangeTVChartOptions.js","views/options/components/Exchange/PositionsItemOptions.jsx","views/options/components/Exchange/ClosePositionModal.jsx","components/Currency.jsx","components/UI/modal/SLTPModalOptions.jsx","views/options/components/Exchange/PositionsListOptions.js","views/options/lib/contracts/fetcher.ts","components/UI/loader/Loader.jsx","views/options/components/Exchange/OptionsItem.jsx","components/UI/Filter/Filter.jsx","hooks/useDebounce.js","views/options/components/Exchange/BuyPositionModal.jsx","hooks/useSort.js","views/options/components/Exchange/OptionsList.jsx","views/options/pages/Exchange/ExchangeOptions.js","views/options/App/App.js","views/Terminal/Terminal.jsx","views/Terminal/analyticsConstants.js","views/Terminal/UserProfile/components/UserGraph.jsx","views/Terminal/UserProfile/components/TxHistoryItem.jsx","hooks/usePages.js","components/utils/pages.js","views/Terminal/UserProfile/components/TxHistory.jsx","views/Terminal/UserProfile/UserProfile.jsx","components/UI/input/InputSimple.jsx","views/Terminal/Builder/builderConstants.js","views/Terminal/Builder/BuilderForm/BuyBuildModal.jsx","views/Terminal/Builder/BuilderForm/BuilderForm.jsx","hooks/useBuilderField.js","views/Terminal/Builder/Builder.jsx","components/AppRouter.jsx","context/context.js","components/UI/warning/Warning.jsx","App.js","index.js"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","Logo","_jsx","className","children","href","Button","_ref","disabled","clickHandler","isMain","props","_objectWithoutProperties","_excluded","classes","cx","btnActive","childProps","_objectSpread","toString","useTogglePopup","_useState","useState","_useState2","_slicedToArray","isOpen","setIsOpen","closePopup","document","removeEventListener","openPopup","stopPropagation","addEventListener","Wallet","addr","address","setAddress","_useTogglePopup","openWallet","closeWallet","_jsxs","onClick","src","icon_wallet","alt","slice","xmlns","width","height","viewBox","fill","clipPath","d","concat","rel","target","icon_link","ARBITRUM","requestAccount","_asyncToGenerator","_regeneratorRuntime","mark","_callee","setWalletAddress","accounts","wrap","_context","prev","next","window","ethereum","networkVersion","Number","alert","request","method","params","chainId","ethers","utils","hexlify","location","reload","t0","console","log","chainName","nativeCurrency","symbol","decimals","rpcUrls","blockExplorerUrls","abrupt","sent","toLowerCase","on","t1","stop","_x","apply","arguments","connectWallet","_ref2","_callee2","_context2","_x2","Tabs","links","isBtnType","cls","link","isHidden","linkCls","isActive","isExternal","to","name","Link","Header","_window$ethereum","walletAddress","useEffect","loc","useLocation","headerLinks","activeLink","find","pathname","startsWith","Footer","rx","fillRule","clipRule","CONTRACTS","Treasury","BUSD","GMT","Vault","Router","Reader","AmmFactory","AmmFactoryV2","OrderBook","OrderBookReader","GmxMigrator","USDG","NATIVE_TOKEN","XGMT","GMT_USDG_PAIR","XGMT_USDG_PAIR","GMT_USDG_FARM","XGMT_USDG_FARM","USDG_YIELD_TRACKER","XGMT_YIELD_TRACKER","GMT_USDG_FARM_TRACKER_XGMT","GMT_USDG_FARM_TRACKER_NATIVE","XGMT_USDG_FARM_TRACKER_XGMT","XGMT_USDG_FARM_TRACKER_NATIVE","AUTO","AUTO_USDG_PAIR","AUTO_USDG_FARM","AUTO_USDG_FARM_TRACKER_XGMT","AUTO_USDG_FARM_TRACKER_NATIVE","GMT_GMX_IOU","XGMT_GMX_IOU","GMT_USDG_GMX_IOU","XGMT_USDG_GMX_IOU","VaultReader","GlpManager","RewardRouter","RewardReader","GLP","GMX","ES_GMX","BN_GMX","ES_GMX_IOU","StakedGmxTracker","BonusGmxTracker","FeeGmxTracker","StakedGlpTracker","FeeGlpTracker","StakedGmxDistributor","StakedGlpDistributor","GmxVester","GlpVester","PositionRouter","PositionManager","ReferralStorage","ReferralReader","GlpRewardRouter","OrderExecutor","UniswapGmxEthPool","Multicall","TraderJoeGmxAvaxPool","getContract","market","TOKENS","coingeckoUrl","imageUrl","constants","AddressZero","isNative","isWrapped","baseSymbol","isUsdg","isStable","isShortable","isTempHidden","ADDITIONAL_TOKENS","CHAIN_IDS","TOKENS_MAP","TOKENS_BY_SYMBOL_MAP","j","length","tokens","i","token","WRAPPED_TOKENS_MAP","NATIVE_TOKENS_MAP","_i","_CHAIN_IDS","_step","_iterator","_createForOfIteratorHelper","s","n","done","value","err","f","getWrappedToken","getNativeToken","getTokens","isValidToken","getToken","getTokenBySymbol","getWhitelistedTokens","filter","UI_VERSION","MAINNET","createRandom","AVALANCHE","TESTNET","ARBITRUM_TESTNET","DEFAULT_CHAIN_ID","CHAIN_ID","MIN_PROFIT_TIME","SELECTED_NETWORK_LOCAL_STORAGE_KEY","IS_NETWORK_DISABLED","_IS_NETWORK_DISABLED","_defineProperty","CHAIN_NAMES_MAP","_CHAIN_NAMES_MAP","alchemyWhitelistedDomains","ARBITRUM_RPC_PROVIDERS","AVALANCHE_RPC_PROVIDERS","SHOULD_EAGER_CONNECT_LOCALSTORAGE_KEY","CURRENT_PROVIDER_LOCALSTORAGE_KEY","LANGUAGE_LOCALSTORAGE_KEY","getChainName","USDG_ADDRESS","BASIS_POINTS_DIVISOR","MAX_LEVERAGE","MAX_ALLOWED_LEVERAGE","MAX_PRICE_DEVIATION_BASIS_POINTS","USDG_DECIMALS","USD_DECIMALS","DEPOSIT_FEE","DUST_BNB","DUST_USD","expandDecimals","PRECISION","DEFAULT_MAX_USDG_AMOUNT","TAX_BASIS_POINTS","STABLE_TAX_BASIS_POINTS","SWAP_FEE_BASIS_POINTS","STABLE_SWAP_FEE_BASIS_POINTS","MARGIN_FEE_BASIS_POINTS","LIQUIDATION_FEE","THRESHOLD_REDEMPTION_VALUE","FUNDING_RATE_PRECISION","SWAP","INCREASE","DECREASE","LONG","SHORT","MARKET","LIMIT","STOP","LEVERAGE_ORDER_OPTIONS","SWAP_ORDER_OPTIONS","SWAP_OPTIONS","DEFAULT_SLIPPAGE_AMOUNT","SLIPPAGE_BPS_KEY","CLOSE_POSITION_RECEIVE_TOKEN_KEY","IS_PNL_IN_LEVERAGE_KEY","SHOW_PNL_AFTER_FEES_KEY","DISABLE_ORDER_VALIDATION_KEY","SHOULD_SHOW_POSITION_LINES_KEY","REFERRAL_CODE_KEY","REFERRAL_CODE_QUERY_PARAM","MAX_REFERRAL_CODE_LENGTH","TRIGGER_PREFIX_ABOVE","TRIGGER_PREFIX_BELOW","MIN_PROFIT_BIPS","HIGH_EXECUTION_FEES_MAP","_HIGH_EXECUTION_FEES_","_ICONLINKS","coingecko","arbitrum","ETH","BTC","LINK","UNI","USDC","USDT","DAI","MIM","FRAX","avalanche","AVAX","supportedChainIds","isDevelopment","push","injectedConnector","InjectedConnector","deserialize","data","_Object$entries","entries","_Object$entries$_i","key","_type","bigNumberify","helperToast","success","content","opts","toast","dismiss","error","useLocalStorageByChainId","defaultValue","_useLocalStorage","useLocalStorage","_useLocalStorage2","internalValue","setInternalValue","setValue","useCallback","useLocalStorageSerializeKey","JSON","stringify","getLiquidationPriceFromDelta","liquidationAmount","size","collateral","averagePrice","isLong","eq","gt","priceDelta","sub","mul","div","add","replaceNativeTokenAddress","path","nativeTokenAddress","updatedPath","getMarginFee","sizeDelta","afterFeeUsd","getServerBaseUrl","hostname","includes","fromLocalStorage","localStorage","getItem","getServerUrl","isTriggerRatioInverted","fromTokenInfo","toTokenInfo","maxPrice","lt","getExchangeRate","tokenAInfo","tokenBInfo","inverted","minPrice","getMostAbundantStableToken","infoTokens","availableAmount","whitelistedTokens","stableToken","t","info","getTokenInfo","adjustedAvailableAmount","adjustForDecimals","getExchangeRateDisplay","rate","tokenA","tokenB","undefined","shouldInvertTriggerRatio","rateValue","formatAmount","omitSymbols","adjustForDecimalsFactory","number","amount","divDecimals","mulDecimals","getFeeBasisPoints","usdgDelta","feeBasisPoints","taxBasisPoints","increment","usdgSupply","totalTokenWeights","usdgAmount","initialAmount","nextAmount","targetAmount","weight","getTargetUsdgAmount","toNumber","initialDiff","nextDiff","rebateBps","averageDiff","taxBps","getNextFromAmount","toAmount","fromTokenAddress","toTokenAddress","toTokenPriceUsd","ratio","forSwap","fromTokenMinPrice","toTokenMaxPrice","fromToken","toToken","contractMinPrice","contractMaxPrice","fromAmountBasedOnRatio","adjustDecimals","isZero","fromAmount","swapFeeBasisPoints","feeBasisPoints0","feeBasisPoints1","getNextToAmount","toAmountBasedOnRatio","getSwapFeeBasisPoints","redemptionAmount","expectedAmount","getProfitPrice","closePrice","position","profitPrice","calculatePositionDelta","price","_ref3","lastIncreasedTime","delta","pendingDelta","minProfitExpired","Date","now","hasProfit","lte","deltaPercentage","pendingDeltaPercentage","getDeltaStr","_ref4","deltaStr","deltaPercentageStr","getLeverage","_ref5","increaseSize","collateralDelta","increaseCollateral","entryFundingRate","cumulativeFundingRate","includeDelta","nextSize","gte","remainingCollateral","fundingFee","getLiquidationPrice","adjustedDelta","positionFee","liquidationPriceForFees","liquidationPriceForMaxLeverage","getUsd","tokenAddress","max","orderOption","triggerPriceUsd","getTriggerPrice","getPositionKey","account","collateralTokenAddress","indexTokenAddress","getPositionContractKey","collateralToken","indexToken","solidityKeccak256","BSC_RPC_PROVIDERS","RPC_PROVIDERS","_RPC_PROVIDERS","FALLBACK_PROVIDERS","_FALLBACK_PROVIDERS","host","formatDateTime","time","formatDateFn","getTimeRemaining","parseInt","diff","hours","minutes","activateInjectedProvider","providerName","providers","isCoinbaseWallet","isMetaMask","provider","_ref7","_ref8","setSelectedProvider","getInjectedConnector","useChainId","useWeb3React","chainIdFromLocalStorage","removeItem","getProvider","library","getSigner","_","sample","StaticJsonRpcProvider","getFallbackProvider","BigNumber","from","pow","limitDecimals","maxDecimals","amountStr","split","dotIndex","indexOf","substr","_parseOrdersData","ordersData","indexes","extractor","uintPropsLength","addressPropsLength","_ordersData","uintProps","addressProps","count","orders","sliced","order","index","parseDecreaseOrdersData","decreaseOrdersData","triggerPrice","triggerAboveThreshold","type","parseIncreaseOrdersData","increaseOrdersData","purchaseToken","purchaseTokenAmount","parseSwapOrdersData","swapOrdersData","shouldUnwrap","amountIn","minOut","triggerRatio","every","tokenDecimals","displayDecimals","useCommas","formatUnits","minDecimals","padEnd","padDecimals","numberWithCommas","formatAmountFree","parseFloat","trimZeroDecimals","parseValue","pValue","isNaN","parseUnits","x","parts","replace","join","getExplorerUrl","usePrevious","ref","useRef","current","approveTokens","_ref14","setIsApproving","spender","onApproveSubmitted","pendingTxns","setPendingTxns","includeMessage","Contract","Token","abi","approve","MaxUint256","then","_ref15","_callee8","res","txUrl","pendingTxn","_context8","hash","message","_toConsumableArray","_x11","catch","_e$data","_e$message","failMsg","finally","shouldRaiseGasError","balance","replaceNative","NETWORK_METADATA","_NETWORK_METADATA","addNetwork","_ref17","_callee10","metadata","_context10","_x12","switchNetwork","_ref18","_callee11","active","chainIdHex","_context11","setItem","_x13","_x14","getInjectedHandler","activate","fn","_ref20","_callee13","_context13","_e$message2","UnsupportedChainIdError","errString","setTokenUsingIndexPrices","indexPrices","indexPrice","indexPriceBn","spreadBps","minPrimaryPrice","halfSpreadBps","getInfoTokens","tokenBalances","vaultTokenInfo","fundingRateInfo","vaultPropsLength","parse","poolAmount","reservedAmount","bufferAmount","maxUsdgAmount","globalShortSize","maxGlobalShortSize","maxGlobalLongSize","guaranteedUsd","maxPrimaryPrice","maxAvailableShort","hasMaxAvailableShort","availableUsd","maxAvailableLong","hasMaxAvailableLong","remainingLongSize","maxLongCapacity","managedUsd","managedAmount","fundingRate","CHART_PERIODS","isAddressZero","_window$location$host","_window$location$host2","isLocal","_window$location$host3","getPositionForOrder","positionsMap","getOrderError","positionForOrder","parseEther","_constants","nativeTokenSymbol","defaultCollateralSymbol","defaultFlagOrdersEnabled","positionReaderPropsLength","v2","SWAP_ORDER_EXECUTION_GAS_FEE","INCREASE_ORDER_EXECUTION_GAS_FEE","DECREASE_ORDER_EXECUTION_GAS_FEE","wrappedTokenSymbol","getConstant","chainlinkClient","createClient","arbitrumGraphClient","avalancheGraphClient","arbitrumReferralsGraphClient","avalancheReferralsGraphClient","uri","ApolloClient","cache","InMemoryCache","fetcher","contractInfo","additionalArgs","_len","args","Array","_key","arg0","arg1","isAddress","contractCall","getContractCall","shouldCallFallback","handleFallback","reject","fallbackProvider","result","contractName","_x3","Promise","setTimeout","_x4","_x5","contract","ToastifyDebug","open","setOpen","old","NOT_ENOUGH_FUNDS","USER_DENIED","SLIPPAGE","RPC_ERROR","TX_ERROR_PATTERNS","_TX_ERROR_PATTERNS","msg","extractError","ex","_ex$data","patterns","pattern","matchCode","matchMessage","GAS_PRICE_ADJUSTMENT_MAP","_GAS_PRICE_ADJUSTMENT","MAX_GAS_PRICE_MAP","setGasPrice","_setGasPrice","txnOpts","maxGasPrice","premium","gasPrice","feeData","getGasPrice","getFeeData","maxPriorityFeePerGas","maxFeePerGas","getGasLimit","_getGasLimit","_contract$estimateGas","gasLimit","_args2","estimateGas","callContract","_callContract","_errorData$error","sentMsg","autoCloseToast","_extractError","_extractError2","_message","errorData","originalError","isArray","hideSuccessMsg","successMsg","t2","autoClose","FEED_ID_MAP","BTC_USD","ETH_USD","BNB_USD","LINK_USD","UNI_USD","SUSHI_USD","AVAX_USD","AAVE_USD","YFI_USD","SPELL_USD","timezoneOffset","getTimezoneOffset","getChartPricesFromStats","_getChartPricesFromStats","_callee3","period","timeDiff","url","json","prices","_prices2","OBSOLETE_THRESHOLD","updatedAt","_context3","Math","floor","_ref6","lastEx","_res","fetch","ok","status","statusText","toISOString","close","c","high","h","low","l","getChainlinkChartPricesFromGraph","tokenSymbol","marketName","feedId","requests","query","gql","all","chunks","uniqTs","Set","forEach","chunk","rounds","item","has","unixTimestamp","sort","periodTime","candles","first","prevTsGroup","prevPrice","_prices$i2","ts","tsGroup","min","getCandlesFromPrices","useChartPrices","currentAveragePrice","swrKey","_useSWR","useSWR","_fetcher","warn","dedupingInterval","focusThrottleInterval","updatePrices","mutate","currentAveragePriceString","retPrices","useMemo","periodSeconds","priceData","getStablePriceData","_prices","currentCandleTime","last","averagePriceValue","newCandle","appendCurrentAveragePrice","newPrices","prevTime","_prices$i","fillGaps","getGmxGraphClient","useInfoTokens","vaultReaderAddress","vaultAddress","positionRouterAddress","whitelistedTokenAddresses","refreshInterval","indexPricesUrl","_useSWR2","refreshWhenHidden","invariant","condition","errorMsg","useMinExecutionFee","multiplier","minExecutionFee","_useSWR8","_callee6","_gasPrice","_context6","finalExecutionFee","estimatedExecutionFee","finalExecutionFeeUSD","isFeeHigh","getHighExecutionFee","minExecutionFeeUSD","minExecutionFeeErrorMessage","useHasOutdatedUi","_useSWR11","text","hasOutdatedUi","approvePlugin","_x6","_x7","_x8","_approvePlugin","_callee7","pluginAddress","_ref10","routerAddress","_context7","createSwapOrder","_x9","_x10","_x15","_createSwapOrder","executionFee","shouldWrap","orderBookAddress","_args8","_createIncreaseOrder","_callee9","fromETH","_args9","_context9","createDecreaseOrder","_x27","_x28","_x29","_x30","_x31","_x32","_x33","_x34","_x35","_createDecreaseOrder","_args10","cancelSwapOrder","_x36","_x37","_x38","_x39","_cancelSwapOrder","cancelDecreaseOrder","_x40","_x41","_x42","_x43","_cancelDecreaseOrder","_callee12","_context12","cancelIncreaseOrder","_x44","_x45","_x46","_x47","_cancelIncreaseOrder","handleCancelOrder","func","cancelMultipleOrders","_x48","_x49","_cancelMultipleOrders","_callee14","allIndexes","ordersWithTypes","getIndexes","_args14","_context14","groupBy","v","updateDecreaseOrder","_x50","_x51","_x52","_x53","_x54","_x55","_x56","_x57","_updateDecreaseOrder","_callee15","_context15","updateIncreaseOrder","_x58","_x59","_x60","_x61","_x62","_x63","_x64","_updateIncreaseOrder","_callee16","_context16","updateSwapOrder","_x65","_x66","_x67","_x68","_x69","_x70","_x71","_updateSwapOrder","_callee17","_context17","REDIRECT_POPUP_TIMESTAMP_KEY","IS_TOUCH","OPEN_DELAY","CLOSE_DELAY","Tooltip","_props$position","_props$trigger","enabled","visible","setVisible","intervalCloseRef","intervalOpenRef","trigger","onMouseEnter","clearInterval","onMouseClick","onMouseLeave","style","disableHandleStyle","handleClassName","handle","renderContent","notifySuccess","errAlert","setIsLoading","_err$reason","reason","Tab","options","option","setOption","onChange","_props$type","optionLabels","icons","disabledTooltip","iconsFirst","opt","_icons2","disabledNode","label","disabledList","el","_icons","TOUCH_MOVE_CONTAINER_CLASS_NAME","Modal","isVisible","setIsVisible","zIndex","onAfterOpen","isNifty","modalRef","closeModal","bodyNode","classList","remove","getElementsByTagName","keyCode","AnimatePresence","motion","initial","animate","exit","variants","hidden","opacity","visibility","transition","duration","overflow","MdClose","fontSize","transformStyle","transformOrigin","transform","Portal","root","body","createElement","appendChild","removeChild","createPortal","TooltipWithPortal","_useState3","_useState4","coords","setCoords","_useState5","_useState6","tooltipWidth","setTooltipWidth","handlerRef","updateTooltipCoords","rect","getBoundingClientRect","left","top","y","scrollY","fitHandleWidth","closeOnDoubleClick","TokenSelector","isModalVisible","setIsModalVisible","searchKeyword","setSearchKeyword","tokenInfo","mintingCap","showMintingCap","selectedTokenLabel","_props$showTokenImgIn","showBalances","showTokenImgInDropdown","_props$showSymbolImag","showSymbolImage","_props$showNewCaret","showNewCaret","_props$getTokenState","getTokenState","disableBodyScrollLock","visibleTokens","onSelectToken","tokenImage","require","filteredTokens","tokenIndex","_tokenPopupImage","tokenPopupImage","mintAmount","tokenState","portalClassName","default","stroke","strokeWidth","strokeLinecap","strokeLinejoin","dropDownIcon","ExchangeInfoRow","isTop","isWarning","Checkbox","isChecked","setIsChecked","selected","ImCheckboxChecked","ImCheckboxUnchecked","StatsTooltipRow","_ref$showDollar","showDollar","SlippageInput","placeholder","val","onFocus","parentElement","onBlur","separateThousands","num","symb","_str$split","_str$split2","intPart","fractionPart","hasFraction","convertInputNum","_result$match","match","_result$split","removeNonNumeric","sepToNumber","str","fraction","formatForContract","NumberInput_v3","title","displayValueTitle","displayValue","hasError","maxValue","icon","iconAlt","additionalSymbol","hasFocus","setHasFocus","HOMEPAGE_HREF","DDL_WALLET","DDL_WALLET_ENCODED","repeat","DATE_FORMAT_TEMPLATE","ALL_MARKETS","marketsList","GNS_FEES_MULTIPLIER","OPTIONS_DECIMALS","marketsOptions","assetsOptions","assetsIconsDraft","asset","assetsIcons","PremiaStrikeRangeMultiplier","Call","Put","OPTION_TYPES","Hegic","Lyra","Premia","Spinner","ImSpinner2","getSlTpFromPercentage","isTP","percentage","openPriceNum","leverage","fees","toFixed","msToTimeLeft","ms","days","fromBigNumber","numToBn","maxFraction","executePromise","cb","tx","wait","getOptionProfitZone","isCall","strikePrice","profitZone","profitZoneStr","getMarkPrice","awaitLoading","node","isLoading","HIGH_SPREAD_THRESHOLD","ConfirmationBox","isSwap","isMarketOrder","isShort","isHigherSlippageAllowed","setIsHigherSlippageAllowed","onConfirmationClick","setIsConfirming","shortCollateralAddress","hasExistingPosition","existingPosition","existingLiquidationPrice","displayLiquidationPrice","shortCollateralToken","isPendingConfirmation","feesUsd","isSubmitting","fromUsdMin","toUsdMax","nextAveragePrice","feeBps","savedSlippageAmount","userSlippage","setUserSlippage","allowedSlippage","TPValue","setTPValue","SLValue","setSLValue","TPHasError","setTPHasError","SLHasError","setSLHasError","liquidity","fromTokenUsd","toTokenUsd","isProfitWarningAccepted","setIsProfitWarningAccepted","isTriggerWarningAccepted","setIsTriggerWarningAccepted","isLimitOrdersVisible","setIsLimitOrdersVisible","onCancelOrderClick","collateralAfterFees","existingOrder","wrappedToken","sameToken","existingOrders","existingTriggerOrders","decreaseOrdersThatWillBeExecuted","markPrice","takeProfit","stopLoss","getError","borderTakeProfit","_calculatePositionDel","hasPendingProfit","spread","fromSpread","toSpread","isHigh","getSpread","showSpread","renderSpreadWarning","renderFeeWarning","renderMinProfitWarning","minProfitExpiration","_calculatePositionDel2","renderExistingOrderWarning","sizeInToken","p","triggerPricePrefix","renderExistingTriggerErrors","existingTriggerOrderLength","orderText","_Fragment","renderExistingTriggerWarning","renderMain","renderExecutionFee","renderAvailableLiquidity","availableLiquidity","_liquidity$market","formattedValue","isLiquidityRisk","riskThresholdBps","poolWithoutBuffer","adjustedMaxGlobalShortSize","sizeTokens","renderMarginSection","BsArrowRight","renderSwapSection","allowContentTouchMove","action","getPrimaryText","REGEX_VERIFY_BYTES32","getGraphClient","decodeReferralCode","hexCode","parseBytes32String","substring","String","fromCharCode","trim","encodeReferralCode","final","HashZero","formatBytes32String","useUserReferralCode","localStorageCode","referralStorageAddress","onChainCode","localStorageCodeOwner","test","_useMemo","_useMemo2","attachedOnChain","userReferralCode","userReferralCodeString","resetModal","isObligatory","onMouseDown","onTransitionEnd","isScrollable","scrollHeight","clientHeight","alignItems","ChooseMarketModal","setMarkets","markets","liqs","draftMarkets","liqInfo","defaultChecked","checked","findIndex","splice","GNS_PAIRS","SLTPModal","onApply","btnText","setIsSubmitting","lineHeight","Boolean","getBtnText","alchemyProvider","AlchemyProvider","mmProvider","Web3Provider","signer","CALL","PUT","SWAP_ICONS","_SWAP_ICONS","callIcon","putIcon","callActiveIcon","putActiveIcon","TP","SL","_DDL_POOL","_USDC","approveUSDC","getIsUsdcApproved","allowance","_args","OperationalTreasury","_OperationalTreasury","OperationalTreasury_ABI","HEGOPS","_HEGOPS","HEGOPS_ABI","HEGIC_STRATEGIES","short","HegicStrategy_CALL_100_BTC_1","HegicStrategy_CALL_100_ETH_1","HegicStrategy_CALL_110_BTC_1","HegicStrategy_CALL_110_ETH_1","HegicStrategy_CALL_120_BTC_1","HegicStrategy_CALL_120_ETH_1","HegicStrategy_CALL_130_BTC_1","HegicStrategy_CALL_130_ETH_1","HegicStrategy_PUT_100_BTC_1","HegicStrategy_PUT_100_ETH_1","HegicStrategy_PUT_70_BTC_1","HegicStrategy_PUT_70_ETH_1","HegicStrategy_PUT_80_BTC_1","HegicStrategy_PUT_80_ETH_1","HegicStrategy_PUT_90_BTC_1","HegicStrategy_PUT_90_ETH_1","medShort","HegicStrategy_CALL_100_BTC_2","HegicStrategy_CALL_100_ETH_2","HegicStrategy_CALL_110_BTC_2","HegicStrategy_CALL_110_ETH_2","HegicStrategy_CALL_120_BTC_2","HegicStrategy_CALL_120_ETH_2","HegicStrategy_CALL_130_BTC_2","HegicStrategy_CALL_130_ETH_2","HegicStrategy_PUT_100_BTC_2","HegicStrategy_PUT_100_ETH_2","HegicStrategy_PUT_70_BTC_2","HegicStrategy_PUT_70_ETH_2","HegicStrategy_PUT_80_BTC_2","HegicStrategy_PUT_80_ETH_2","HegicStrategy_PUT_90_BTC_2","HegicStrategy_PUT_90_ETH_2","medLong","HegicStrategy_CALL_100_BTC_3","HegicStrategy_CALL_100_ETH_3","HegicStrategy_CALL_110_BTC_3","HegicStrategy_CALL_110_ETH_3","HegicStrategy_CALL_120_BTC_3","HegicStrategy_CALL_120_ETH_3","HegicStrategy_CALL_130_BTC_3","HegicStrategy_CALL_130_ETH_3","HegicStrategy_PUT_100_BTC_3","HegicStrategy_PUT_100_ETH_3","HegicStrategy_PUT_70_BTC_3","HegicStrategy_PUT_70_ETH_3","HegicStrategy_PUT_80_BTC_3","HegicStrategy_PUT_80_ETH_3","HegicStrategy_PUT_90_BTC_3","HegicStrategy_PUT_90_ETH_3","long","HegicStrategy_CALL_100_BTC_4","HegicStrategy_CALL_100_ETH_4","HegicStrategy_CALL_110_BTC_4","HegicStrategy_CALL_110_ETH_4","HegicStrategy_CALL_120_BTC_4","HegicStrategy_CALL_120_ETH_4","HegicStrategy_CALL_130_BTC_4","HegicStrategy_CALL_130_ETH_4","HegicStrategy_PUT_100_BTC_4","HegicStrategy_PUT_100_ETH_4","HegicStrategy_PUT_70_BTC_4","HegicStrategy_PUT_70_ETH_4","HegicStrategy_PUT_80_BTC_4","HegicStrategy_PUT_80_ETH_4","HegicStrategy_PUT_90_BTC_4","HegicStrategy_PUT_90_ETH_4","PRICE_CALCULATORS","PriceCalculator_PUT_100_BTC","PriceCalculator_PUT_100_ETH","PriceCalculator_PUT_70_BTC","PriceCalculator_PUT_70_ETH","PriceCalculator_PUT_80_BTC","PriceCalculator_PUT_80_ETH","PriceCalculator_PUT_90_BTC","PriceCalculator_PUT_90_ETH","PriceCalculator_CALL_100_BTC","PriceCalculator_CALL_100_ETH","PriceCalculator_CALL_110_BTC","PriceCalculator_CALL_110_ETH","PriceCalculator_CALL_120_BTC","PriceCalculator_CALL_120_ETH","PriceCalculator_CALL_130_BTC","PriceCalculator_CALL_130_ETH","HegicStrategy_ABI","_HegicStrategy_ABI","PriceCalculator_ABI","_PriceCalculator_ABI","HEGIC_BUY_URLS","PUT_100_BTC","PUT_100_ETH","PUT_70_BTC","PUT_70_ETH","PUT_80_BTC","PUT_80_ETH","PUT_90_BTC","PUT_90_ETH","CALL_100_BTC","CALL_100_ETH","CALL_110_BTC","CALL_110_ETH","CALL_120_BTC","CALL_120_ETH","CALL_130_BTC","CALL_130_ETH","HEGIC_SENTIMENT_LABELS","CHAI_CONTRACT_ETH","CHAI_CONTRACT_BTC","Chai_ABI","_Chai_ABI","PremiaPools","DDL_TP_Hegic_addr","_DDL_TakeProfit_Hegic","DDL_TP_Hegic_ABI","DDL_TP_Lyra_ETH_addr","_DDL_TakeProfit_Lyra_ETH","DDL_TP_Lyra_BTC_addr","_DDL_TakeProfit_Lyra_BTC","DDL_TP_Lyra_ABI","getTPMethod","getTPContract","address_old","getTPApproveContract","_Lyra_OptionToken_ETH","_Lyra_OptionToken_BTC","builderOpen","_BuilderOpen","builderOpen_ABI","builderOpenContract","Selector","chosenItemIcon","items","chosenItem","defaultText","onSelect","renderOnHover","titleIcon","hideChosenItem","iconText","_props$formatFn","formatFn","_props$sortFn","sortFn","isComplex","_props$complexCols","complexCols","renderChosenItem","closeSelector","chosenItemLabel","nodes","group","headerNode","col","itemArr","isChosen","itemNode","itemName","renderComplexListFn","longImg","shortImg","swapImg","longActiveImg","shortActiveImg","leverageSliderHandle","dragging","restProps","SliderTooltip","prefixCls","overlay","placement","Slider","Handle","SwapBox","positions","_liquidity$suitableMa","pendingPositions","setPendingPositions","setFromTokenAddress","setToTokenAddress","swapOption","setSwapOption","tokenSelection","setTokenSelection","isConfirming","setIsPendingConfirmation","flagOrdersEnabled","savedIsPnlInLeverage","orderBookApproved","positionRouterApproved","isWaitingForPluginApproval","approveOrderBook","approvePositionRouter","setIsWaitingForPluginApproval","isWaitingForPositionRouterApproval","setIsWaitingForPositionRouterApproval","isPluginApproving","isPositionRouterApproving","savedShouldDisableValidationForTesting","pendingPositionsGNS","setPendingPositionsGNS","fromValue","setFromValue","toValue","setToValue","anchorOnFromAmount","setAnchorOnFromAmount","_useState7","_useState8","isApproving","_useState9","_useState10","isWaitingForApproval","setIsWaitingForApproval","_useState11","_useState12","_useState13","_useState14","setModalError","_useState15","_useState16","_useUserReferralCode","_useState17","_useState18","_useLocalStorageByCha","_useLocalStorageByCha2","setShortCollateralAddress","_useLocalStorageSeria","_useLocalStorageSeria2","leverageOption","setLeverageOption","_useLocalStorageSeria3","_useLocalStorageSeria4","isLeverageSliderEnabled","hasLeverageOption","_useState19","_useState20","_useLocalStorageSeria5","_useLocalStorageSeria6","setOrderOption","positionKey","orderOptions","orderOptionLabels","_useState21","_useState22","triggerPriceValue","setTriggerPriceValue","fromTokens","stableTokens","indexTokens","shortableTokens","toTokens","needOrderBookApproval","prevNeedOrderBookApproval","needPositionRouterApproval","prevNeedPositionRouterApproval","tokenAllowanceAddress","tokenAllowance","tokenAllowanceGNS","GNS_Storage","Api","_useSWR3","curPairSymbol","GNS_contract","GNS_PairIndex","GNS_Info","openInterestDai","openInterest","maxOpenInterest","_GNS_Info$maxOpenInte","liq","liquidityData","_useState23","_useState24","setLiquidity","_useLocalStorageSeria7","_useLocalStorageSeria8","_useState25","_useState26","modal","setModal","_useState27","_useState28","modalVisible","setModalVisible","_useState29","_useState30","suitableMarket","setSuitableMarket","reduce","_liquidity$result$nam","_liquidity$market$nam","fromBalance","toBalance","isPotentialWrap","isWrapOrUnwrap","needApproval","prevFromTokenAddress","prevNeedApproval","prevToTokenAddress","_useState31","_useState32","triggerRatioValue","setTriggerRatioValue","triggerRatioInverted","maxToTokenOut","_toTokenInfo$availabl","_toTokenInfo$poolAmou","_toTokenInfo$poolAmou2","maxToTokenOutUSD","maxFromTokenInUSD","_fromTokenInfo$maxUsd","entryMarkPrice","nextToAmount","nextToValue","nextFromAmount","nextFromValue","updateSwapAmounts","leverageMultiplier","fromUsdMinAfterFee","toNumerator","toDenominator","baseFromAmountUsd","swapFees","updateLeverageAmounts","liquidationPrice","nextDelta","nextHasProfit","nextPrice","divisor","getNextAveragePrice","liqPriceDistance","getToLabel","i18n","currentRate","usdgFromAmount","getSwapError","_leverage","requiredAmount","swapAmount","nextUsdgAmount","sizeUsd","stableTokenAmount","0","getLeverageError","isPrimaryEnabled","isStopOrder","_getError","_getError2","_useState33","_useState34","hasInputFocus","setHasInputFocus","_useState35","_useState36","hasInputError","setHasInputError","inputVal","_callee4","_context4","WETH","unwrap","_callee5","_context5","swap","_getNextToAmount7","multiPath","_getNextFromAmount2","_multiPath","createIncreaseOrder","1","2","_x16","_x17","_x18","_x19","_x20","_x21","_x22","_x23","_x24","_x25","_x26","referralCode","increasePosition","tokenAddress0","refPrice","priceBasisPoints","priceLimit","boundedFromAmount","_getNextToAmount8","contractAddress","pendingChanges","showFromAndToSection","showTriggerPriceSection","showTriggerRatioSection","feeTokenPrice","_useState37","_useState38","_useState39","_useState40","_useState41","_useState42","_useState43","_useState44","openTrade","_ref12","pairIndex","posSize","openPrice","roundLeverage","typeOfOrder","slippage","GNS_Trading","tsc","positionSizeDai","curLeverage","marks","GNS","setFromValueToMaximumAvailable","maxAvailableAmount","icon_settings","React","Fragment","shouldShowMaxButton","Trans","getTokenLabel","evt","_ref13","positive","negative","step","approveFromToken","_getError5","_getError6","errorCode","isSupportedChain","_getError3","_getError4","charAt","indexTokenInfo","nextToAmountUsd","ChartTokenSelector","selectedToken","_require","_value$symbol","Menu","as","Items","Item","marginLeft","marginRight","tvScriptLoadingPromise","TradingViewWidget","chartToken","onLoadScriptRef","getElementById","TradingView","widget","autosize","interval","timezone","theme","locale","toolbar_bg","enable_publishing","hide_side_toolbar","container_id","allow_symbol_change","script","onload","head","ChartSelector","setPeriod","candleStatsHtml","chartRef","chart","setChart","isTrading","simple","trading","getChartToken","RED_COLOR","GREEN_COLOR","ExchangeTVChart","savedShouldShowPositionLines","currentChart","setCurrentChart","currentSeries","setCurrentSeries","hoveredCandlestick","setHoveredCandlestick","setChartToken","tmp","previousMarketName","currentOrders","_useChartPrices","_useChartPrices2","updatePriceData","chartInited","setChartInited","scaleChart","timeScale","setVisibleRange","onCrosshairMove","seriesPrices","values","_loop","point","createChart","offsetWidth","offsetHeight","layout","backgroundColor","textColor","fontFamily","localization","timeFormatter","businessDayOrTimestamp","grid","vertLines","color","horzLines","rightOffset","borderVisible","barSpacing","timeVisible","fixLeftEdge","priceScale","crosshair","horzLine","vertLine","mode","subscribeCrosshairMove","series","addCandlestickSeries","lineColor","topColor","bottomColor","lineWidth","priceLineColor","downColor","wickDownColor","upColor","wickUpColor","setInterval","resizeChart","resize","setData","lines","line","removePriceLine","deltaPrice","candlestick","timeThreshold","average","CLOSE_ICONS","Market","marketImg","Market_active","marketActiveImg","Stop","triggerImg","Stop_active","triggerActiveImg","ORDER_SIZE_DUST_USD","_orderOptionLabels","getTokenAmount","usdAmount","shouldSwap","receiveToken","isCollateralWrapped","isSameToken","isUnwrap","PositionSeller","setOrdersToaOpen","initTab","keepLeverage","prevIsVisible","savedRecieveTokenAddress","setSavedRecieveTokenAddress","swapToToken","setSwapToToken","maxAmount","maxAmountFormatted","maxAmountFormattedFree","convertedAmount","convertedAmountFormatted","nextLeverage","nextLiquidationPrice","isClosing","nextCollateral","isNotEnoughReceiveTokenLiquidity","isCollateralPoolCapacityExceeded","swapFeeToken","swapFee","_useMemo2$","ret","isSwapAllowed","receiveAmount","convertedReceiveAmount","totalFees","executionFeeUsd","_step2","residualSize","_iterator2","abs","deductions","collateralInfo","receiveTokenInfo","_useMemo3","_getDeltaStr","_calculatePositionDel3","_getDeltaStr2","_useMemo4","onClickPrimary","minProfitTimeExpired","withdrawETH","prefix","warning","tokenOptionInfo","convertedTokenAmount","_getSwapLimits","maxInUsd","maxIn","maxOut","maxOutUsd","fromInfo","toInfo","getSwapLimits","DEPOSIT","WITHDRAW","EDIT_OPTIONS","EDIT_ICONS","_EDIT_ICONS","depositImg","withdrawImg","depositActiveImg","withdrawActiveImg","PositionEditor","nextLeverageExcludingPnl","isSwapping","setIsSwapping","isDeposit","isWithdrawal","resetForm","depositCollateral","3","collateralSnapshot","expectingCollateralChange","withdrawCollateral","OrdersToa","SpinningLoader","_ref$size","ROOT_SHARE_URL","UPLOAD_URL","UPLOAD_SHARE","config","quality","canvasWidth","canvasHeight","getShareURL","imageInfo","PositionShareCard","positionRef","userAffiliateCode","uploadedImageInfo","uploadedImageError","sharePositionBgImg","deltaAfterFeesPercentageStr","homeURL","backgroundImage","gmxLogo","QRCodeSVG","PositionShare","_positionToShare$inde","setIsPositionShareModalOpen","isPositionShareModalOpen","positionToShare","affiliateCodes","setAffiliateCodes","_templateObject3","_taggedTemplateLiteral","variables","_res$data","parsedAffiliateCodes","referrerTotalStats","useAffiliateCodes","setUploadedImageInfo","setUploadedImageError","_useCopyToClipboard","useCopyToClipboard","copyToClipboard","sourceLoaded","setSourceLoaded","img","Image","useLoadImage","shareBgImg","tweetLink","hashtag","finalURL","encodeURIComponent","getTwitterIntentURL","_handleDownload","element","dataUrl","toJpeg","download","click","image","BiCopy","RiFileDownloadLine","FiTwitter","PositionsItem","_position$deltaAfterF","_position$deltaAfterF2","_position$sl","_position$sl2","_position$tp","_position$tp2","_position$deltaAfterF3","_position$deltaAfterF4","_position$sl3","_position$sl4","_position$tp3","_position$tp4","onPositionClick","setListSection","positionOrders","hasPositionProfit","showPnlAfterFees","positionDelta","hasOrderError","borrowFeeUSD","editPosition","sellPosition","isLarge","isPending","openSLTPModal","isCloseLoading","setIsCloseLoading","hasPendingChanges","openOrderModal","triggerPricesGMX","triggerOrdersGMX","muted","hasLowCollateral","icon_edit","display","deltaAfterFeesStr","sl","tp","getOrdersForPosition","hasMatchingIndexToken","hasMatchingCollateralToken","PositionsList","_Object$keys","_Object$keys2","positionsGNS","positionsDataIsLoading","setMarket","positionsLoading","hasPositions","SLTPModalInfo","setSLTPModalInfo","curVal","orderName","setSLTP","newValue","positionToEditKey","setPositionToEditKey","positionToSellKey","setPositionToSellKey","isPositionEditorVisible","setIsPositionEditorVisible","isPositionSellerVisible","setIsPositionSellerVisible","positionSellerTab","setPositionSellerTab","setCollateralTokenAddress","ordersToaOpen","setLoading","closeTradeMarket","getStatusLabel","_SLTPModalInfo","renderSLTPModal","borrowFeeRate","pos","trader","ADDRESS_ZERO","assign","buy","tokenSymb","tokenAddr","curPrice","initCollateral","pendingDeltaAfterFees","deltaBeforeFeesStr","entryPrice","liqPrice","posKey","cellSpacing","colSpan","OrderEditor","setEditingOrder","initialRatio","indexTokenMarkPrice","OrderEditorGNS","priceValue","setPriceValue","SLVal","TPVal","updateOpenLimitOrder","OrdersList","ordersGNS","hideActions","cancelOrderIdList","setCancelOrderIdList","hasOrders","marketIconGNS","marketIconGMX","editingOrder","editingOrderGNS","setEditingOrderGNS","orderEditorGNSVisible","setOrderEditorGNSVisible","onCancelClick","cancelOpenLimitOrder","onEditClick","renderHead","renderEmptyRow","renderActions","renderLargeList","indexTokenSymbol","collateralTokenInfo","collateralUSD","renderLargeListGNS","ord","_order$maxPrice","_order$tp","_order$sl","positionSize","renderSmallListGNS","_order$maxPrice2","_order$tp2","_order$sl2","renderSmallList","getOrderActionTitle","actionDisplay","renderLiquidationTooltip","liquidationData","minCollateral","borrowFee","loss","getLiquidationData","liquidationsDataMap","timestamp","TradeHistory","shouldShowPaginationButtons","pageIds","setPageIds","pageIndex","setPageIndex","_useTrades","forSingleAccount","afterId","urlItem","URL","searchParams","append","_useSWR6","trades","updateTrades","item0","item1","data0","data1","time0","time1","block0","blockNumber","block1","useTrades","liquidationsData","graphClient","_data","liquidatedPositions","useLiquidationsData","memo","getMsg","trade","tradeData","defaultMsg","tokenAmount","tokenIn","tokenOut","amountOut","acceptablePrice","_params$flags","flags","isOrderExecution","_params$flags2","_params$flags3","isLiquidation","longShortDisplay","executionPriceDisplay","executionPrice","sizeDeltaDisplay","increase","priceDisplay","getPositionDisplay","fromAmountDisplay","toAmountDisplay","amountInDisplay","minOutDisplay","tradesWithMessages","border","txhash","lastTrade","ExchangeBanner","hideBanner","PENDING_POSITION_VALID_DURATION","notifications","pushSuccessNotification","transactionHash","pushErrorNotification","getFundingFee","getTokenAddress","applyPendingChanges","Exchange","forwardRef","setSavedIsPnlInLeverage","savedShowPnlAfterFees","setSavedShouldShowPositionLines","showBanner","setShowBanner","bannerHidden","setBannerHidden","updatedPositions","setUpdatedPositions","_useWeb3React","currentAccount","readerAddress","usdgAddress","positionQuery","collateralTokens","getPositionQuery","defaultTokenSelection","_useLocalStorageByCha3","_useLocalStorageByCha4","selectedSwapOption","newTokenSelection","tokenAddresses","positionData","positionDataError","positionsGNSLoading","setPositionsGNSLoading","pair","openTrades","positionsGNSError","VaultV2","_useMinExecutionFee","currentTokenPriceStr","_getPositions","propsLength","contractKey","hasRealisedProfit","realisedPnl","updatedPosition","collateralAfterFee","closingFee","hasProfitAfterFees","deltaPercentageAfterFees","netValue","getPositions","useImperativeHandle","onUpdatePosition","reserveAmount","onClosePosition","onIncreasePosition","fee","indexTokenItem","onDecreasePosition","onCancelIncreasePosition","blockGap","timeGap","onCancelDecreasePosition","receiver","_useAccountOrders","overrideAccount","_useWeb3React4","connectedAccount","shouldRequest","orderBookReaderAddress","orderBookContract","orderBookReaderContract","fetchIndexesFromServer","fetchLastIndex","fetchLastIndexes","getRange","getOrders","_yield$Promise$all3","_yield$Promise$all4","serverIndexes","lastIndexes","_yield$Promise$all5","_yield$Promise$all6","_yield$Promise$all6$","swapOrders","_yield$Promise$all6$2","increaseOrders","_yield$Promise$all6$3","decreaseOrders","ordersIndexesUrl","_i2","a","b","decrease","_ref11","_hex","_yield$Promise$all","_yield$Promise$all2","_indexes","knownIndexes","lastIndex","parseFunc","_useSWR$data","useAccountOrders","_useSWR9","getOpenLimitOrder","ordersGNSData","setOrdersGNS","setIsPluginApproving","setIsPositionRouterApproving","setIsCancelMultipleOrderProcessing","finish","posLength","ordersLength","LIST_SECTIONS","_useLocalStorageByCha5","_useLocalStorageByCha6","listSection","LIST_SECTIONS_LABELS","Orders","Positions","getListSection","section","hiddenLimit","getTime","useEventToast","EventToastContainer","useWindowScroll","breakpoint","createBreakpoint","XL","L","S","useBreakpoint","Toaster","reverseOrder","gutter","containerClassName","containerStyle","right","toastOptions","Infinity","SEO","customMeta","meta","description","Helmet","property","RedirectPopupModal","redirectModalVisible","setRedirectModalVisible","appRedirectUrl","setRedirectPopupTimestamp","setShouldHideRedirectModal","shouldHideRedirectModal","removeRedirectPopupTimestamp","defaultLocale","dynamicActivate","_dynamicActivate","loadLocaleData","en","plurals","es","zh","ko","ru","ja","fr","arbWsProvider","WebSocketProvider","avaxWsProvider","JsonRpcProvider","FullApp","setRegisterVisible","exchangeRef","history","useNavigate","search","URLSearchParams","useRouteQuery","get","encodedReferralCode","queryParams","delete","selectedToPage","isSettingsVisible","setIsSettingsVisible","setSavedSlippageAmount","slippageAmount","setSlippageAmount","isPnlInLeverage","setIsPnlInLeverage","shouldDisableValidationForTesting","setShouldDisableValidationForTesting","setShowPnlAfterFees","setSavedShowPnlAfterFees","setSavedShouldDisableValidationForTesting","_useLocalStorageSeria9","_useLocalStorageSeria10","decodedRefCode","checkPendingTxns","updatedPendingTxns","receipt","_txUrl","getTransactionReceipt","wsVaultAbi","VaultV2b","wsProvider","getWsProvider","wsVault","wsPositionRouter","callExchangeRef","_exchangeRef$current","_len2","_key2","_len3","_key3","_len4","_key4","_len5","_key5","_len6","_key6","_len7","_key7","off","dgAddress","basisPoints","Perpetuals","assetOption","setAssetOption","amountValue","setAmountValue","setOptions","setOptionsLength","setOptionsExpectedLength","isOptionsLoading","setIsOptionsLoading","optionPrices","setOptionPrices","scrollToList","chaiMarkPrice","expirationDate","expDateUTC","getUTCHours","setUTCDate","getUTCDate","setUTCHours","periodEightAM","fetchHegicOptions","strikes","periodDays","strategies","expectedLength","strategy","_strategy$split","_strategy$split2","strategySentiment","strikeScale","strategyTokenSymbol","strategyIsCall","strike","strategyAddress","strategyContract","priceName","priceAddress","priceContract","urlName","periodS","getAvailableContracts","initSize","hasLiquidity","buyUrl","isBuyingEnabled","getPremium","calculatePremium","cost","delegateYield","fetchLyraOptions","lyra","periodMs","boardId","board","_args5","mkt","baseToken","liveBoards","prevBd","curBd","expiryTimestamp","cur","expDate","liveBoardsMap","strikeId","toUpperCase","getTrade","WeiPerEther","expiry","contractAddresses","optionMarket","_getPremium","quoteOption","ask","_buy","isDisabled","disabledReason","referrer","sendTransaction","pricePerOption","fetchPremiaOptions","base","PremiaPool_ABI","getPoolSettings","DAI_ABI","strikeFormatted","rangeMultiplier","markPriceFormatted","lowerBoundary","higherBoundary","quote","fixedFromFloat","fixedToBn","baseCost64x64","feeCost64x64","totalSupply","marginBottom","format","getChartOptions","closePosition","markPrices","openSLTP","isTpSubmitting","setIsTpSubmitting","isSlSubmitting","setIsSlSubmitting","hasTP","hasSL","getTpTooltipText","getIsTooltipEnabled","pnl","_position$pnl","unrealizedPnl","unrealizedPnlPercentage","strat","closeBtnDisabled","isClosingDisabled","isSLTPDisabled","closeButton","TPButton","SLButton","sentiment","textAlign","ClosePositionModal","_pnlStr","pnlFormatted","pnlSign","pnlStr","pnlPercentage","pnlPercentageStr","setPosition","isHegic","isLyra","sizeValue","setSizeValue","setTrade","Currency","_ref$isSmall","isSmall","_ref$currencyName","currencyName","isHlight","SLTPModalOptions","SLTPCommission","isRemoving","setIsRemoving","isApproved","setIsApproved","isActionSet","titleStr","checkIsTpApproved","executeCb","setIsSLTPSpinning","approveTp","commissionSize","call","userPrice","marginTop","hasOldTP","icon_bin","positionsError","closeModalVisible","setCloseModalVisible","SLTPVisible","setSLTPVisible","setIsTP","renderPositionItem","Loader","cy","r","OptionsItem","_option$buyUrl","buyPosition","logo","isITM","Filter","selectedItems","setSelectedItems","iconLabels","openFilter","icon_curve","icon_down","iconName","itemIcon","isSelected","useDebounce","delay","timer","debouncedCb","clearTimeout","BuyPositionModal","usdcBalance","setPremium","onSizeValueChange","isUsdcApproved","initSizeNumber","useSort","filterArr","filterPropertyName","sortType","setSortType","sortedItems","setSortedItems","param","itemsArr","isBigNumbers","dir","isInit","isBigNumber","arr","_sortType$split","_sortType$split2","prevParam","prevDir","prevEl","OptionsList","_options$","_options$2","scrollRef","chaiAddress","latestAnswer","_useSort","_useSort2","sortOptions","sortedOptions","setSortedOptions","buyModalVisible","setBuyModalVisible","optPriceObj","scrollTo","behavior","icon_btnUp","_useLocalStorageByCha7","_useLocalStorageByCha8","optionsExpectedLength","setPositions","fetchHegicPositions","strategiesAddresses","chaiContractETH","chaiContractBTC","chaiMarkPrices","transferFilter","events","tokenIds","buyFilterTopics","eventsPack","eventsPackLimit","lastPackLength","_contract","buyFilter","_events","formatPosition","_formatPosition","OpTreasury","additionalData","isSpread","buyingPrice","stratContract","profit","_getOptionProfitZone","DDL_TakeProfit","tpInfo","approveContract","uniqStrategy","fetchedPosition","decode","topics","lockedLiquidity","state","positivepnl","payOffAmount","tokenIdToTokenInfo","takeProfitPrice","takeType","expiration","connect","payOff","isApprovedOrOwner","obj","hexZeroPad","queryFilter","tokenId","eArr","fetchLyraPositions","posArr","isBuy","_getOptionProfitZone2","stopOrderPrice","stopOrderType","owner","_getTrade","_close","ownerOf","_fetcher2","pendingIndex","positionsData","positionsDataError","_useSWR4","_fetcher3","commission","SLTPCommissionError","_useLocalStorageByCha9","_useLocalStorageByCha10","scrollIntoView","Options","Terminal","_objectDestructuringEmpty","endsWith","Outlet","CHART_COLORS","perps","sum","CHART_LABELS","UserGraph","txData","hasTxData","profitPerps","cumulative_amount_usd","outflow","daily_amount_usd","profitOptions","profitTotal","profitPerpsSign","profitOptionsSign","profitTotalSign","chartData","setChartData","ChartModule","register","zoom","datesArr","dates","labels","date","datasets","txSource","dataset","borderColor","pointBackgroundColor","hoverBackgroundColor","hoverBorderColor","tooltip","callbacks","labelColor","borderWidth","reducer","dateTx","defaultFont","family","globalOptions","spanGaps","pointStyle","pointRadius","pointHoverRadius","pointHitRadius","pointBorderColor","interaction","intersect","maintainAspectRatio","padding","bottom","axesOptions","ticksOptions","font","legendOptions","align","usePointStyle","pointStyleWidth","boxHeight","boxWidth","tooltipOptions","titleColor","titleFont","bodyFont","cornerRadius","caretPadding","boxPadding","xAlign","yAlign","context","parsed","Intl","NumberFormat","currency","pluginsOptions","legend","pan","pinch","Line","dataIdKey","scales","minUnit","displayFormats","day","tooltipFormat","ticks","callback","sign","plugins","iconSrc","TxHistoryItem","typeLabel","transaction_type","isNegative","amount_usd","amountSign","marketLogo","block_timestamp","tx_hash","usePages","totalPages","page","setPage","pagesArray","pagesArr","startingPoint","getPagesArray","ceil","TxHistory","sortTxs","sortedTxs","setSortedTxs","pages","pagedTxs","UserProfile","setTxData","txDataForChart","setTxDataForChart","setAccount","flipside","Flipside","queriesObj","getSqlQueries","queriesObjForChart","getSqlQueriesForChart","promises","promisesChart","queryName","run","sql","ttlMinutes","_res$records","records","record","_loop2","queryObj","InputSimple","unit","inputRef","focus","builderStrategies","stats","Outlook","Profit","Risk","structure","Strangle","Straddle","strategyStatsLabels","builderProtocols","getOptionComponentLabel","stratName","BuyBuildModal","fields","maxCost","setIsUsdcApproved","premiums","setPremiums","isMinorLoading","setIsMinorLoading","field","strikesData","calcPremium","onPrimaryClick","paramsArr","protocols","productKey","getParams","consolidationOfTransactions","cellPadding","marketIcon","struct","structLabel","icon_calendar","dateMs","BuilderForm","setAsset","setAmount","setStrategy","lyraMarket","setLyraMarket","isCostLoading","setIsCostLoading","setCost","datesMs","setDatesMs","builderFields","effectFn","defaultStrikes","defaultStrikesData","loader","clearData","setStrikes","setStrikesData","effFactory","strikesPromises","useBuilderFields","fetchHegicStrikes","fetchLyraStrikes","clearOptions","btnDefaultText","bd","defaultAmount","amountBn","encodeFromHegic","strikeRounded","ONE_BN","encodeFromLyra","positionId","iterations","optionType","setCollateralTo","minTotalCost","maxTotalCost","calcMaxCost","premiumPromises","calcMaxCostDelayed","renderChartPreview","stat","statValue","neutral","_builderFields$i$date","setDateMs","margin","_field$strike2","setStrike","_field$market","_strikes$market","_strikes$market$find","strikeArr","isBtnEnabled","Builder","AppRouter","setPath","nav","Routes","Route","Navigate","GlobalStatsContext","createContext","UserStatsContext","Warning","getLibrary","registerVisible","Jelly","cssTransition","enter","connectInjectedWallet","attemptActivateWallet","_useWeb3React2","HashRouter","I18nProvider","ToastContainer","limit","hideProgressBar","newestOnTop","closeOnClick","draggable","pauseOnHover","autoRefreshOnNetworkChange","App","curBalance","avail","userStats","setUserStats","totalSupplied","totalBorrowed","utilRate","availToBorrow","borrowAPY","globalStats","setGlobalStats","Web3ReactProvider","Provider","ReactDOM","createRoot","render","StrictMode"],"mappings":"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f,OAAe,suB,+BCAf,OAAe,8zB,+BCAf,OAAe,khB,+BCAf,OAAe,kmB,+BCAf,OAAe,skB,+BCAf,OAAe,k7B,+BCAf,OAAe,syB,+BCAf,OAAe,02B,+BCAf,OAAe,cAA0B,sC,+BCAzC,OAAe,cAA0B,sC,+BCAzC,OAAe,cAA0B,sC,+BCAzC,OAAe,cAA0B,yC,+BCAzC,OAAe,cAA0B,4C,+BCAzC,OAAe,cAA0B,gC,+BCAzC,OAAe,cAA0B,mC,+BCAzC,OAAe,cAA0B,mC,+BCAzC,OAAe,cAA0B,mC,+BCAzC,OAAe,cAA0B,mC,+BCAzC,OAAe,cAA0B,mC,+BCAzC,OAAe,cAA0B,mC,+BCAzC,OAAe,cAA0B,mC,+BCAzC,OAAe,cAA0B,oC,+BCAzC,OAAe,03C,+BCAf,OAAe,cAA0B,gD,+BCAzC,OAAe,cAA0B,0C,+BCAzC,OAAe,cAA0B,yC,+BCAzC,OAAe,cAA0B,oC,+BCAzC,OAAe,cAA0B,uC,+BCAzC,OAAe,cAA0B,+C,+BCAzC,OAAe,cAA0B,0C,+BCAzC,OAAe,cAA0B,0C,+BCAzC,OAAe,cAA0B,gD,+BCAzC,OAAe,cAA0B,0C,+BCAzC,OAAe,cAA0B,2C,+BCAzC,OAAe,cAA0B,2C,+BCAzC,OAAe,cAA0B,2C,+BCAzC,OAAe,cAA0B,sC,+BCAzC,OAAe,cAA0B,sC,+BCAzC,OAAe,cAA0B,oC,+BCAzC,OAAe,cAA0B,2C,+BCAzC,OAAe,cAA0B,kC,+BCAzC,OAAe,cAA0B,qC,+BCAzC,OAAe,cAA0B,uC,+BCAzC,OAAe,cAA0B,qC,+BCAzC,OAAe,cAA0B,sC,+BCAzC,OAAe,00D,+BCAf,OAAe,cAA0B,mC,+BCAzC,OAAe,cAA0B,sC,+BCAzC,OAAe,cAA0B,2C,+BCAzC,OAAe,cAA0B,iD,+BCAzC,OAAe,cAA0B,2C,+BCAzC,OAAe,cAA0B,sC,+BCAzC,OAAe,cAA0B,mC,+BCAzC,OAAe,cAA0B,qC,+BCAzC,OAAe,cAA0B,sC,+BCAzC,OAAe,cAA0B,qC,+BCAzC,OAAe,cAA0B,sC,+BCAzC,OAAe,cAA0B,qC,+BCAzC,OAAe,cAA0B,qC,+BCAzC,OAAe,cAA0B,yC,+BCAzC,OAAe,cAA0B,kC,+BCAzC,OAAe,cAA0B,qC,+BCAzC,OAAe,cAA0B,qC,+BCAzC,OAAe,cAA0B,qC,+BCAzC,OAAe,cAA0B,2C,+BCAzC,OAAe,cAA0B,uC,+BCAzC,OAAe,cAA0B,sC,+BCAzC,OAAe,cAA0B,yC,+BCAzC,OAAe,cAA0B,yC,+BCAzC,OAAe,cAA0B,kC,+BCAzC,OAAe,cAA0B,mC,+BCAzC,OAAe,cAA0B,yC,+BCAzC,OAAe,cAA0B,sC,+BCAzC,OAAe,cAA0B,wC,+BCAzC,OAAe,cAA0B,qC,+BCAzC,OAAe,cAA0B,wC,+BCAzC,OAAe,cAA0B,0C,+BCAzC,OAAe,cAA0B,gD,+BCAzC,OAAe,cAA0B,qC,+BCAzC,OAAe,cAA0B,wC,+BCAzC,OAAe,cAA0B,0C,+BCAzC,OAAe,cAA0B,sC,+BCAzC,OAAe,cAA0B,+C,+BCAzC,OAAe,cAA0B,iD,+BCAzC,OAAe,cAA0B,0C,+BCAzC,OAAe,cAA0B,yC,+BCAzC,OAAe,cAA0B,0C,+BCAzC,OAAe,cAA0B,0C,+BCAzC,OAAe,cAA0B,oC,+BCAzC,OAAe,cAA0B,wC,+BCAzC,OAAe,cAA0B,sC,+BCAzC,OAAe,cAA0B,uC,+BCAzC,OAAe,cAA0B,qC,+BCAzC,OAAe,cAA0B,wC,+BCAzC,OAAe,cAA0B,sC,+BCAzC,OAAe,cAA0B,4C,+BCAzC,OAAe,cAA0B,sC,+BCAzC,OAAe,cAA0B,qC,+BCAzC,OAAe,cAA0B,wC,+BCAzC,OAAe,cAA0B,sC,+BCAzC,OAAe,cAA0B,sC,+BCAzC,OAAe,cAA0B,uC,+BCAzC,OAAe,cAA0B,sC,+BCAzC,OAAe,cAA0B,uC,+BCAzC,OAAe,cAA0B,oC,+BCAzC,OAAe,cAA0B,0C,+BCAzC,OAAe,cAA0B,gC,+BCAzC,OAAe,cAA0B,yC,+BCAzC,OAAe,cAA0B,oC,+BCAzC,OAAe,cAA0B,0C,+BCAzC,OAAe,cAA0B,iC,+BCAzC,OAAe,cAA0B,mC,+BCAzC,OAAe,cAA0B,+C,+BCAzC,OAAe,cAA0B,qD,+BCAzC,OAAe,cAA0B,mC,+BCAzC,OAAe,cAA0B,mC,qFCAzC,IAAIH,EAAM,CACT,uBAAwB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AAOC,OAAOD,KAAKV,EACpB,EACAC,EAAeW,QAAUR,EACzBS,EAAOC,QAAUb,EACjBA,EAAeE,GAAK,G,+BCnNpB,OAAe,svC,+BCAf,OAAe,cAA0B,mC,+BCAzC,OAAe,cAA0B,mC,+BCAzC,OAAe,cAA0B,uC,+BCAzC,OAAe,8/C,+BCAf,OAAe,cAA0B,qC,+BCAzC,OAAe,s1D,+BCAf,OAAe,cAA0B,+B,+BCAzC,OAAe,spE,+BCAf,OAAe,cAA0B,oC,+BCAzC,OAAe,07D,+BCAf,OAAe,cAA0B,mC,+BCAzC,OAAe,kwC,+BCAf,OAAe,kvG,+BCAf,OAAe,cAA0B,4C,+BCAzC,OAAe,8lK,+BCAf,OAAe,cAA0B,uC,+BCAzC,OAAe,8lY,+BCAf,OAAe,cAA0B,+C,+BCAzC,OAAe,cAA0B,mC,+BCAzC,OAAe,cAA0B,wC,+BCAzC,OAAe,cAA0B,4C,+BCAzC,OAAe,cAA0B,0C,+BCAzC,OAAe,s/S,+BCAf,OAAe,cAA0B,iC,+BCAzC,OAAe,cAA0B,wC,+BCAzC,OAAe,cAA0B,2C,+BCAzC,OAAe,szB,+BCAf,OAAe,suB,+BCAf,OAAe,8zB,+BCAf,OAAe,khB,+BCAf,OAAe,kmB,+BCAf,OAAe,skB,+BCAf,OAAe,k7B,+BCAf,OAAe,syB,+BCAf,OAAe,02B,+BCAf,OAAe,cAA0B,sC,+BCAzC,OAAe,cAA0B,sC,+BCAzC,OAAe,cAA0B,sC,+BCAzC,OAAe,cAA0B,yC,+BCAzC,OAAe,cAA0B,4C,+BCAzC,OAAe,cAA0B,uC,+BCAzC,OAAe,cAA0B,8C,+BCAzC,OAAe,cAA0B,uC,+BCAzC,OAAe,cAA0B,8C,+BCAzC,OAAe,cAA0B,wC,+BCAzC,OAAe,cAA0B,+C,+BCAzC,OAAe,cAA0B,yC,+BCAzC,OAAe,cAA0B,gD,+BCAzC,OAAe,cAA0B,gC,+BCAzC,OAAe,cAA0B,gC,+BCAzC,OAAe,cAA0B,uC,+BCAzC,OAAe,cAA0B,iC,+BCAzC,OAAe,cAA0B,wC,+BCAzC,OAAe,cAA0B,mC,+BCAzC,OAAe,cAA0B,mC,+BCAzC,OAAe,cAA0B,mC,+BCAzC,OAAe,cAA0B,mC,+BCAzC,OAAe,cAA0B,mC,+BCAzC,OAAe,cAA0B,mC,+BCAzC,OAAe,cAA0B,mC,+BCAzC,OAAe,cAA0B,oC,+BCAzC,OAAe,03C,+BCAf,OAAe,cAA0B,gD,+BCAzC,OAAe,cAA0B,0C,+BCAzC,OAAe,cAA0B,yC,+BCAzC,OAAe,cAA0B,8C,+BCAzC,OAAe,cAA0B,oC,+BCAzC,OAAe,cAA0B,uC,+BCAzC,OAAe,cAA0B,+C,+BCAzC,OAAe,cAA0B,0C,+BCAzC,OAAe,cAA0B,0C,+BCAzC,OAAe,cAA0B,0C,+BCAzC,OAAe,cAA0B,gD,+BCAzC,OAAe,cAA0B,0C,+BCAzC,OAAe,cAA0B,2C,+BCAzC,OAAe,cAA0B,2C,+BCAzC,OAAe,cAA0B,2C,+BCAzC,OAAe,cAA0B,2C,+BCAzC,OAAe,cAA0B,sC,+BCAzC,OAAe,cAA0B,sC,+BCAzC,OAAe,cAA0B,sC,+BCAzC,OAAe,cAA0B,oC,+BCAzC,OAAe,cAA0B,2C,+BCAzC,OAAe,cAA0B,kC,+BCAzC,OAAe,cAA0B,qC,+BCAzC,OAAe,cAA0B,uC,+BCAzC,OAAe,cAA0B,uC,+BCAzC,OAAe,cAA0B,qC,+BCAzC,OAAe,cAA0B,qC,+BCAzC,OAAe,cAA0B,sC,+BCAzC,OAAe,cAA0B,sC,+BCAzC,OAAe,00D,+BCAf,OAAe,cAA0B,mC,+BCAzC,OAAe,cAA0B,sC,+BCAzC,OAAe,cAA0B,2C,+BCAzC,OAAe,cAA0B,iD,+BCAzC,OAAe,cAA0B,2C,+BCAzC,OAAe,cAA0B,sC,+BCAzC,OAAe,cAA0B,mC,+BCAzC,OAAe,cAA0B,qC,+BCAzC,OAAe,cAA0B,qC,+BCAzC,OAAe,cAA0B,sC,+BCAzC,OAAe,cAA0B,qC,+BCAzC,OAAe,cAA0B,qC,+BCAzC,OAAe,cAA0B,sC,+BCAzC,OAAe,cAA0B,sC,+BCAzC,OAAe,cAA0B,qC,+BCAzC,OAAe,cAA0B,qC,+BCAzC,OAAe,cAA0B,qC,+BCAzC,OAAe,cAA0B,yC,+BCAzC,OAAe,cAA0B,kC,+BCAzC,OAAe,cAA0B,qC,+BCAzC,OAAe,cAA0B,qC,+BCAzC,OAAe,cAA0B,qC,+BCAzC,OAAe,cAA0B,qC,+BCAzC,OAAe,cAA0B,2C,+BCAzC,OAAe,cAA0B,uC,+BCAzC,OAAe,cAA0B,sC,+BCAzC,OAAe,cAA0B,yC,+BCAzC,OAAe,cAA0B,yC,+BCAzC,OAAe,cAA0B,kC,+BCAzC,OAAe,cAA0B,mC,+BCAzC,OAAe,cAA0B,yC,+BCAzC,OAAe,cAA0B,sC,+BCAzC,OAAe,cAA0B,sC,+BCAzC,OAAe,cAA0B,wC,+BCAzC,OAAe,cAA0B,qC,+BCAzC,OAAe,cAA0B,wC,+BCAzC,OAAe,cAA0B,0C,+BCAzC,OAAe,cAA0B,gD,+BCAzC,OAAe,cAA0B,qC,+BCAzC,OAAe,cAA0B,qC,+BCAzC,OAAe,cAA0B,wC,+BCAzC,OAAe,cAA0B,0C,+BCAzC,OAAe,cAA0B,sC,+BCAzC,OAAe,cAA0B,+C,+BCAzC,OAAe,cAA0B,iD,+BCAzC,OAAe,cAA0B,0C,+BCAzC,OAAe,cAA0B,0C,+BCAzC,OAAe,cAA0B,yC,+BCAzC,OAAe,cAA0B,0C,+BCAzC,OAAe,cAA0B,0C,+BCAzC,OAAe,cAA0B,oC,+BCAzC,OAAe,cAA0B,wC,+BCAzC,OAAe,cAA0B,sC,+BCAzC,OAAe,cAA0B,uC,+BCAzC,OAAe,cAA0B,wC,+BCAzC,OAAe,cAA0B,qC,+BCAzC,OAAe,cAA0B,wC,+BCAzC,OAAe,cAA0B,sC,+BCAzC,OAAe,cAA0B,4C,+BCAzC,OAAe,cAA0B,sC,+BCAzC,OAAe,cAA0B,qC,+BCAzC,OAAe,cAA0B,qC,+BCAzC,OAAe,cAA0B,wC,+BCAzC,OAAe,cAA0B,wC,+BCAzC,OAAe,cAA0B,sC,+BCAzC,OAAe,cAA0B,sC,+BCAzC,OAAe,cAA0B,sC,+BCAzC,OAAe,cAA0B,sC,+BCAzC,OAAe,cAA0B,wC,+BCAzC,OAAe,cAA0B,uC,+BCAzC,OAAe,cAA0B,uC,+BCAzC,OAAe,cAA0B,sC,+BCAzC,OAAe,cAA0B,sC,+BCAzC,OAAe,cAA0B,uC,+BCAzC,OAAe,cAA0B,oC,+BCAzC,OAAe,cAA0B,0C,+BCAzC,OAAe,cAA0B,gC,+BCAzC,OAAe,cAA0B,yC,+BCAzC,OAAe,cAA0B,oC,+BCAzC,OAAe,cAA0B,0C,+BCAzC,OAAe,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","file":"static/js/main.92dd58a6.chunk.js","sourcesContent":["var map = {\n\t\"./icon-BTC.svg\": 651,\n\t\"./icon-ETH.svg\": 652,\n\t\"./icon-GMX.svg\": 340,\n\t\"./icon-GMX_full.svg\": 341,\n\t\"./icon-GMX_sm.svg\": 342,\n\t\"./icon-GNS.svg\": 343,\n\t\"./icon-GNS_full.svg\": 344,\n\t\"./icon-GNS_sm.svg\": 345,\n\t\"./icon-GNS_v2.svg\": 653,\n\t\"./icon-Hegic.svg\": 654,\n\t\"./icon-Hegic_full.svg\": 346,\n\t\"./icon-Hegic_sm.svg\": 347,\n\t\"./icon-Lyra.svg\": 655,\n\t\"./icon-Lyra_full.svg\": 348,\n\t\"./icon-Lyra_sm.svg\": 349,\n\t\"./icon-Premia.svg\": 656,\n\t\"./icon-WBTC.svg\": 657,\n\t\"./icon-aggregator.svg\": 350,\n\t\"./icon-bin.svg\": 260,\n\t\"./icon-btn-up.svg\": 261,\n\t\"./icon-calendar.svg\": 262,\n\t\"./icon-call-active.svg\": 263,\n\t\"./icon-call.svg\": 264,\n\t\"./icon-date.svg\": 351,\n\t\"./icon-dollar.svg\": 658,\n\t\"./icon-down-small-white.svg\": 352,\n\t\"./icon-down-small.svg\": 265,\n\t\"./icon-down.svg\": 659,\n\t\"./icon-edit.svg\": 108,\n\t\"./icon-hint.svg\": 660,\n\t\"./icon-link.svg\": 242,\n\t\"./icon-market.svg\": 266,\n\t\"./icon-put-active.svg\": 267,\n\t\"./icon-put.svg\": 268,\n\t\"./icon-repay.svg\": 661,\n\t\"./icon-settings.svg\": 269,\n\t\"./icon-sort.svg\": 662,\n\t\"./icon-usdc.svg\": 663,\n\t\"./icon-user.svg\": 664,\n\t\"./icon-wallet.svg\": 241\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 71;","export default __webpack_public_path__ + \"static/media/icon-edit.233d1510.svg\";","export default __webpack_public_path__ + \"static/media/ic_eth_40.03a12ea6.svg\";","var map = {\n\t\"./ic_btc_40.svg\": 305,\n\t\"./ic_dai_40.svg\": 306,\n\t\"./ic_eth_40.svg\": 180,\n\t\"./ic_frax_40.svg\": 307,\n\t\"./ic_link_40.svg\": 308,\n\t\"./ic_uni_40.svg\": 309,\n\t\"./ic_usdc_40.svg\": 310,\n\t\"./ic_usdt_40.svg\": 311,\n\t\"./ic_weth_40.svg\": 312\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 236;","export default __webpack_public_path__ + \"static/media/ic_eth_40.1b83dd3c.svg\";","var map = {\n\t\"./icon-GMX_sm.svg\": 342,\n\t\"./icon-GNS_sm.svg\": 345,\n\t\"./icon-Hegic_sm.svg\": 347,\n\t\"./icon-Lyra_sm.svg\": 349\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 238;","export default __webpack_public_path__ + \"static/media/icon-wallet.5b677892.svg\";","export default __webpack_public_path__ + \"static/media/icon-link.436183a1.svg\";","export default __webpack_public_path__ + \"static/media/DROP_DOWN.ef525fad.svg\";","export default __webpack_public_path__ + \"static/media/icon_dollar.8908c0f2.svg\";","export default __webpack_public_path__ + \"static/media/icon_dollar_active.059213a3.svg\";","export default __webpack_public_path__ + \"static/media/icon_market.1494995a.svg\";","export default __webpack_public_path__ + \"static/media/icon_market_active.257003dd.svg\";","export default __webpack_public_path__ + \"static/media/icon_trigger.abfde3ea.svg\";","export default __webpack_public_path__ + \"static/media/icon_trigger_active.8868a9b4.svg\";","export default __webpack_public_path__ + \"static/media/icon_withdraw.09cda1b1.svg\";","export default __webpack_public_path__ + \"static/media/icon_withdraw_active.1e16a67d.svg\";","export default __webpack_public_path__ + \"static/media/long.0f8a81b9.svg\";","export default __webpack_public_path__ + \"static/media/long_active.d0e619ea.svg\";","export default __webpack_public_path__ + \"static/media/short.670d98eb.svg\";","export default __webpack_public_path__ + \"static/media/short_active.d3098d1c.svg\";","export default __webpack_public_path__ + \"static/media/gmx-logo-with-name.6211e9eb.svg\";","export default __webpack_public_path__ + \"static/media/position-share-bg.900fbfaa.png\";","export default __webpack_public_path__ + \"static/media/swap.40fb8e49.svg\";","export default __webpack_public_path__ + \"static/media/icon-bin.b250ed4d.svg\";","export default __webpack_public_path__ + \"static/media/icon-btn-up.13730dce.svg\";","export default __webpack_public_path__ + \"static/media/icon-calendar.7cd1d421.svg\";","export default __webpack_public_path__ + \"static/media/icon-call-active.867eabe7.svg\";","export default __webpack_public_path__ + \"static/media/icon-call.7aeed2e7.svg\";","export default __webpack_public_path__ + \"static/media/icon-down-small.c32a162b.svg\";","export default __webpack_public_path__ + \"static/media/icon-market.9e95abb6.svg\";","export default __webpack_public_path__ + \"static/media/icon-put-active.d85cad03.svg\";","export default __webpack_public_path__ + \"static/media/icon-put.216aa799.svg\";","export default __webpack_public_path__ + \"static/media/icon-settings.269e4d1c.svg\";","export default __webpack_public_path__ + \"static/media/ic_btc_40.ec9214a7.svg\";","export default __webpack_public_path__ + \"static/media/ic_dai_40.eb3c180f.svg\";","export default __webpack_public_path__ + \"static/media/ic_frax_40.7e94b658.svg\";","export default __webpack_public_path__ + \"static/media/ic_link_40.9db627fc.svg\";","export default __webpack_public_path__ + \"static/media/ic_uni_40.02be34a3.svg\";","export default __webpack_public_path__ + \"static/media/ic_usdc_40.38f03c0f.svg\";","export default __webpack_public_path__ + \"static/media/ic_usdt_40.6edf6fb0.svg\";","export default __webpack_public_path__ + \"static/media/ic_weth_40.2dd52bee.svg\";","export default __webpack_public_path__ + \"static/media/ic_arbitrum_24.21ec7bfe.svg\";","export default __webpack_public_path__ + \"static/media/ic_avalanche_24.be4891c9.svg\";","export default __webpack_public_path__ + \"static/media/ic_avax_24.43583fc4.svg\";","export default __webpack_public_path__ + \"static/media/ic_btc.b_24.a8f56d16.svg\";","export default __webpack_public_path__ + \"static/media/ic_btc_24.f992927a.svg\";","export default __webpack_public_path__ + \"static/media/ic_busd_24.2432ce58.svg\";","export default __webpack_public_path__ + \"static/media/ic_dai_24.bafa9da6.svg\";","export default __webpack_public_path__ + \"static/media/ic_eth_24.6b1d8a1d.svg\";","export default __webpack_public_path__ + \"static/media/ic_frax_24.7349c478.svg\";","export default __webpack_public_path__ + \"static/media/ic_glp_24.eff381d9.svg\";","export default __webpack_public_path__ + \"static/media/ic_gmx_24.2b59d7e0.svg\";","export default __webpack_public_path__ + \"static/media/ic_link_24.0d641e52.svg\";","export default __webpack_public_path__ + \"static/media/ic_mim_24.b6a1708c.svg\";","export default __webpack_public_path__ + \"static/media/ic_settings_24.6f286878.svg\";","export default __webpack_public_path__ + \"static/media/ic_tether_24.a7c88dcd.svg\";","export default __webpack_public_path__ + \"static/media/ic_uni_24.47e903f7.svg\";","export default __webpack_public_path__ + \"static/media/ic_usdc.e_24.0952740b.svg\";","export default __webpack_public_path__ + \"static/media/ic_usdc_24.0952740b.svg\";","export default __webpack_public_path__ + \"static/media/ic_usdt_24.5ab8778d.svg\";","export default __webpack_public_path__ + \"static/media/ic_wallet_24.a19a6758.svg\";","export default __webpack_public_path__ + \"static/media/ic_wavax_24.43583fc4.svg\";","export default __webpack_public_path__ + \"static/media/ic_weth_24.bc395894.svg\";","export default __webpack_public_path__ + \"static/media/icon-GMX.195e3c0f.svg\";","export default __webpack_public_path__ + \"static/media/icon-GMX_full.1d0dc1c6.svg\";","export default __webpack_public_path__ + \"static/media/icon-GMX_sm.195e3c0f.svg\";","export default __webpack_public_path__ + \"static/media/icon-GNS.eb30a0a6.svg\";","export default __webpack_public_path__ + \"static/media/icon-GNS_full.cdfc4573.svg\";","export default __webpack_public_path__ + \"static/media/icon-GNS_sm.eb30a0a6.svg\";","export default __webpack_public_path__ + \"static/media/icon-Hegic_full.548cf977.svg\";","export default __webpack_public_path__ + \"static/media/icon-Hegic_sm.9457ef55.svg\";","export default __webpack_public_path__ + \"static/media/icon-Lyra_full.808bb11b.svg\";","export default __webpack_public_path__ + \"static/media/icon-Lyra_sm.56a6eb58.svg\";","export default __webpack_public_path__ + \"static/media/icon-aggregator.9381ed64.svg\";","export default __webpack_public_path__ + \"static/media/icon-date.c9987a20.svg\";","export default __webpack_public_path__ + \"static/media/icon-down-small-white.56e18ad5.svg\";","export default __webpack_public_path__ + \"static/media/ic_btc_40.1ebc220b.svg\";","export default __webpack_public_path__ + \"static/media/ic_dai_40.ff92bfa1.svg\";","export default __webpack_public_path__ + \"static/media/ic_frax_40.4728adab.svg\";","export default __webpack_public_path__ + \"static/media/ic_link_40.e61956ee.svg\";","export default __webpack_public_path__ + \"static/media/ic_uni_40.45c0523a.svg\";","export default __webpack_public_path__ + \"static/media/ic_usdc_40.8bf1ff5d.svg\";","export default __webpack_public_path__ + \"static/media/ic_usdt_40.d7851f5e.svg\";","export default __webpack_public_path__ + \"static/media/ic_weth_40.8dbce838.svg\";","var map = {\n\t\"./ic_btc_40.svg\": 353,\n\t\"./ic_dai_40.svg\": 354,\n\t\"./ic_eth_40.svg\": 237,\n\t\"./ic_frax_40.svg\": 355,\n\t\"./ic_link_40.svg\": 356,\n\t\"./ic_uni_40.svg\": 357,\n\t\"./ic_usdc_40.svg\": 358,\n\t\"./ic_usdt_40.svg\": 359,\n\t\"./ic_weth_40.svg\": 360\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 366;","var map = {\n\t\"./Anyswap.png\": 486,\n\t\"./Anyswap.svg\": 487,\n\t\"./Artwork.svg\": 488,\n\t\"./Artwork_gmx.svg\": 489,\n\t\"./Banxa.png\": 490,\n\t\"./DROP_DOWN.svg\": 244,\n\t\"./Hop.png\": 491,\n\t\"./Hop.svg\": 492,\n\t\"./Hop_dark.png\": 493,\n\t\"./Hop_dark.svg\": 494,\n\t\"./Synapse.png\": 495,\n\t\"./Synapse.svg\": 496,\n\t\"./binance.png\": 497,\n\t\"./bscscan.png\": 498,\n\t\"./btn_big_arbitrum.png\": 499,\n\t\"./btn_big_avalanche.png\": 500,\n\t\"./btn_big_bsc.png\": 501,\n\t\"./btn_big_purchasegmx.png\": 502,\n\t\"./btn_big_purchasegmx.svg\": 503,\n\t\"./buy_gmx.svg\": 504,\n\t\"./buy_gmx_bond.svg\": 505,\n\t\"./buy_transfer_eth.svg\": 506,\n\t\"./coinbaseWallet.png\": 507,\n\t\"./coingecko.png\": 508,\n\t\"./cross.svg\": 509,\n\t\"./ddl/chevron-down.svg\": 510,\n\t\"./ddl/chevron-down_sm.svg\": 511,\n\t\"./ddl/ic_btc_40.png\": 512,\n\t\"./ddl/ic_btc_40.svg\": 305,\n\t\"./ddl/ic_dai_40.png\": 513,\n\t\"./ddl/ic_dai_40.svg\": 306,\n\t\"./ddl/ic_eth_40.png\": 514,\n\t\"./ddl/ic_eth_40.svg\": 180,\n\t\"./ddl/ic_frax_40.png\": 515,\n\t\"./ddl/ic_frax_40.svg\": 307,\n\t\"./ddl/ic_link_40.png\": 516,\n\t\"./ddl/ic_link_40.svg\": 308,\n\t\"./ddl/ic_uni_40.png\": 517,\n\t\"./ddl/ic_uni_40.svg\": 309,\n\t\"./ddl/ic_usdc_40.png\": 518,\n\t\"./ddl/ic_usdc_40.svg\": 310,\n\t\"./ddl/ic_usdt_40.png\": 519,\n\t\"./ddl/ic_usdt_40.svg\": 311,\n\t\"./ddl/ic_weth_40.png\": 520,\n\t\"./ddl/ic_weth_40.svg\": 312,\n\t\"./ddl/icon_arrow.svg\": 521,\n\t\"./ddl/icon_check.svg\": 522,\n\t\"./ddl/icon_close.svg\": 523,\n\t\"./ddl/icon_close_sm.svg\": 524,\n\t\"./ddl/icon_close_toast.svg\": 525,\n\t\"./ddl/icon_dollar.svg\": 245,\n\t\"./ddl/icon_dollar_active.svg\": 246,\n\t\"./ddl/icon_market.svg\": 247,\n\t\"./ddl/icon_market_active.svg\": 248,\n\t\"./ddl/icon_trigger.svg\": 249,\n\t\"./ddl/icon_trigger_active.svg\": 250,\n\t\"./ddl/icon_withdraw.svg\": 251,\n\t\"./ddl/icon_withdraw_active.svg\": 252,\n\t\"./ddl/lock.svg\": 526,\n\t\"./ddl/long.svg\": 253,\n\t\"./ddl/long_active.svg\": 254,\n\t\"./ddl/short.svg\": 255,\n\t\"./ddl/short_active.svg\": 256,\n\t\"./flag_en.svg\": 527,\n\t\"./flag_es.svg\": 528,\n\t\"./flag_fr.svg\": 529,\n\t\"./flag_ja.svg\": 530,\n\t\"./flag_ko.svg\": 531,\n\t\"./flag_ru.svg\": 532,\n\t\"./flag_zh.svg\": 533,\n\t\"./glp_icon.svg\": 534,\n\t\"./gmx-logo-final-white-small.png\": 535,\n\t\"./gmx-logo-final-white.png\": 536,\n\t\"./gmx-logo-final.png\": 537,\n\t\"./gmx-logo-glow.png\": 538,\n\t\"./gmx-logo-with-name.svg\": 257,\n\t\"./gmx_logo.svg\": 539,\n\t\"./graphite-01.png\": 540,\n\t\"./ic-communityproject.svg\": 541,\n\t\"./ic_arbitrum_16.svg\": 542,\n\t\"./ic_arbitrum_24.svg\": 313,\n\t\"./ic_arbitrum_96.svg\": 543,\n\t\"./ic_arbitrum_hover_16.svg\": 544,\n\t\"./ic_arrowleft16.svg\": 545,\n\t\"./ic_arrowright16.svg\": 546,\n\t\"./ic_avalanche_16.svg\": 547,\n\t\"./ic_avalanche_24.svg\": 314,\n\t\"./ic_avalanche_96.svg\": 548,\n\t\"./ic_avax_24.svg\": 315,\n\t\"./ic_avax_30.svg\": 549,\n\t\"./ic_avax_40.svg\": 550,\n\t\"./ic_banxa.svg\": 551,\n\t\"./ic_binance_logo.svg\": 552,\n\t\"./ic_bsc.svg\": 553,\n\t\"./ic_bsc_96.svg\": 554,\n\t\"./ic_btc.b_24.svg\": 316,\n\t\"./ic_btc.b_40.svg\": 555,\n\t\"./ic_btc_24.svg\": 317,\n\t\"./ic_btc_40.svg\": 556,\n\t\"./ic_busd_24.svg\": 318,\n\t\"./ic_buy_glp.svg\": 557,\n\t\"./ic_cash.png\": 558,\n\t\"./ic_cash.svg\": 559,\n\t\"./ic_checked.svg\": 560,\n\t\"./ic_coingecko_16.svg\": 561,\n\t\"./ic_coingecko_hover_16.svg\": 562,\n\t\"./ic_convert_down.svg\": 563,\n\t\"./ic_copy_16.svg\": 564,\n\t\"./ic_cost.svg\": 565,\n\t\"./ic_dai_24.svg\": 319,\n\t\"./ic_dai_40.svg\": 566,\n\t\"./ic_discord.svg\": 567,\n\t\"./ic_eth_24.svg\": 320,\n\t\"./ic_eth_40.svg\": 568,\n\t\"./ic_frax_24.svg\": 321,\n\t\"./ic_frax_40.svg\": 569,\n\t\"./ic_github.svg\": 570,\n\t\"./ic_glp_24.svg\": 322,\n\t\"./ic_glp_40.svg\": 571,\n\t\"./ic_glp_custom.svg\": 572,\n\t\"./ic_gmx.svg\": 573,\n\t\"./ic_gmx_24.svg\": 323,\n\t\"./ic_gmx_30.svg\": 574,\n\t\"./ic_gmx_40.svg\": 575,\n\t\"./ic_gmx_64.svg\": 576,\n\t\"./ic_gmx_arbitrum.svg\": 577,\n\t\"./ic_gmx_avax.svg\": 578,\n\t\"./ic_gmx_big.svg\": 579,\n\t\"./ic_gmx_custom.svg\": 580,\n\t\"./ic_gmx_footer.svg\": 581,\n\t\"./ic_hop.svg\": 582,\n\t\"./ic_info.svg\": 583,\n\t\"./ic_language24.svg\": 584,\n\t\"./ic_link_24.svg\": 324,\n\t\"./ic_link_40.svg\": 585,\n\t\"./ic_liquidity.svg\": 586,\n\t\"./ic_medium.svg\": 587,\n\t\"./ic_menu_dots.svg\": 588,\n\t\"./ic_metamask_16.svg\": 589,\n\t\"./ic_metamask_hover_16.svg\": 590,\n\t\"./ic_mim_24.svg\": 325,\n\t\"./ic_mim_40.svg\": 591,\n\t\"./ic_multiswap.svg\": 592,\n\t\"./ic_new_link_16.svg\": 593,\n\t\"./ic_olympus.svg\": 594,\n\t\"./ic_olympus_arbitrum.svg\": 595,\n\t\"./ic_selector_dropdowns.svg\": 596,\n\t\"./ic_settings_16.svg\": 597,\n\t\"./ic_settings_24.svg\": 326,\n\t\"./ic_sign in_16.svg\": 598,\n\t\"./ic_sign_out_16.svg\": 599,\n\t\"./ic_simpleswaps.svg\": 600,\n\t\"./ic_stats.svg\": 601,\n\t\"./ic_stats_big.svg\": 602,\n\t\"./ic_synapse.svg\": 603,\n\t\"./ic_telegram.svg\": 604,\n\t\"./ic_tether_24.svg\": 327,\n\t\"./ic_tokens.svg\": 605,\n\t\"./ic_totaluser.svg\": 606,\n\t\"./ic_trading.svg\": 607,\n\t\"./ic_transfer_avax.svg\": 608,\n\t\"./ic_twitter.svg\": 609,\n\t\"./ic_uni_24.svg\": 328,\n\t\"./ic_uni_40.svg\": 610,\n\t\"./ic_usdc.e_24.svg\": 329,\n\t\"./ic_usdc.e_40.svg\": 611,\n\t\"./ic_usdc_24.svg\": 330,\n\t\"./ic_usdc_40.svg\": 612,\n\t\"./ic_usdt_24.svg\": 331,\n\t\"./ic_usdt_40.svg\": 613,\n\t\"./ic_wallet_24.svg\": 332,\n\t\"./ic_wavax_24.svg\": 333,\n\t\"./ic_wavax_40.svg\": 614,\n\t\"./ic_weth_24.svg\": 334,\n\t\"./ic_weth_40.svg\": 615,\n\t\"./lg_arbitrum.svg\": 616,\n\t\"./logo_GMX.svg\": 617,\n\t\"./logo_GMX_small.svg\": 618,\n\t\"./long.svg\": 619,\n\t\"./metamask-text.svg\": 620,\n\t\"./metamask.png\": 621,\n\t\"./page-not-found.svg\": 622,\n\t\"./position-share-bg.png\": 258,\n\t\"./short.svg\": 623,\n\t\"./swap.svg\": 259,\n\t\"./trading.jpg\": 624,\n\t\"./wallet-connect-text.svg\": 625,\n\t\"./walletconnect-circle-blue.svg\": 626,\n\t\"./wave-01.png\": 627,\n\t\"./wave-02.png\": 628\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 485;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQgAAAAsCAMAAACuYtZZAAAAZlBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+Vn2moAAAAInRSTlMABhQdEgsKKUeEstIZdbP/wlfRwTjgpJRm8fDhhaNlk3ZW+c569wAAAsRJREFUeAHs0AEBwEAMAjFaCv4lbz7+IiHSrJ+3I40vfVzOo72it3JaxHLxI4IIIogggggiiCDia9cMdx5FwSj8aw84Ug4qCoL96t7/Te68YL7GjrPpn0nsxCepLXrA8IQ3NoY/IULp5keLJ0YbHKM1/gfd3PQni7Ak6b6bXU9y8DigIz1+hx9JsvefKwITyfBsVCIOgrPkjlGp7WDiPJqPFWF6kvHpISgox6R+DXKyI35DpK6LJn6oCPEwW/rNw6bEZC4Hc+0iu/Irmttw7wDdKKB8bSKwaDRPF6bpANUM96/aTT2GR3dOEeLBY9p7ABY6vDJkGJakG1N24krVdp+h5qRRaceyNPptgfg0O8dBuiVKt/spRbTiAa8esP4qQjFIxABwnMq85GO2K3Hm+PBVogcCqWp8zAaIMrKTHAL1CUVE8sgDJk7YU+fXlYgrOiJVneBaxjBrS44d4LkC41SOFtClergALkPI7oQiJoYjD5HUeGFMzU/qGi9T0ZKZ+1IZFRMzY5mpZ2ctvLTMfWQaiogAwY4nFOG4HHuY8ILnhtqJCFSlMryvKnIv57DOWGlWKph+Dstii4h6r8BTiggvHnQ88iCBTv8kct2JUAylMtyIgsvirOstFKNrJdV9l4atkTOWRmRSOw9YORx5QHIo5HEnAjaVylhrf5WsZKy0WivSYkmtRQQ9RFM4oQiTmW76q3/WReChh/h8sPqdiI51Yi1/3L4eafZ1DFOOClBz/69+sIiQe93SbE4oAj5TmOOzWHj0pLc0KChOOxHI9EXpMpN0ul5pZWi2pZFl+LkHnJOMUyf9Z7m0bIP6blNY8D59xoZROETV88Wf/5T3Eb6dVm3wPp4r3sS5v/bFjL83KRtcIlRL6/EuYfkbRFzvLC8Rl4hLxCXiEnGJuET8A+HaTFa3F17bC68Np9uG02sL8rYF+T+idSlyqmiqtwAAAABJRU5ErkJggg==\"","export default __webpack_public_path__ + \"static/media/Anyswap.491d1f32.svg\";","export default __webpack_public_path__ + \"static/media/Artwork.a2d41b8c.svg\";","export default __webpack_public_path__ + \"static/media/Artwork_gmx.cc61d732.svg\";","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAAAoCAMAAABO8gGqAAABcVBMVEUAAAAoKDwnKTsnKTsnKTuGh5HJyc6urrWFhpA1Nkehoqrx8vO7vMF4eoVCRFRrbHhQUWARbooBqMcRcojKys////+vr7ZdX2zW19ry8vMUZIIBo8cBqMYBrMUUbYCTlJ0iN00BnsgAoscArMUDqbwiO0zl5ee8vcLX2NsNd50Bp8YBrcYAscQPgpHk5OYeRF8AmcgAo8cUaYEBssUAtsMdTl0Gh7gBmckPdpMPe5IBtsQIn6mgoalcXmtqa3gWVnoBlcoAmckDmMAlMUQiOUwDqr0Bu8MYYm4lL0QDicIBlMoAu8MDtrolM0MSYI0Bj8oFi7clMkQFpbMAv8EUd34iNU0Bi8sBkMsbTGgZXm8AwMIAxMEiPUwKb6gBi8wLeqcKl6EAv8IBxcEMl5YbRWkBhs0gPVYgRFUBwMIAycAdUlwGeLwBhswRY4wPh48Fuq8UVoQBgs0Azr8YaWwKbKkBzsAKqZ4ZS3IDfcQCxLcbXmRL8BeXAAAABHRSTlMAM7D2JaXEwgAAAp1JREFUeAHszjEBADAQArF7wL/myigDURA4OaWsg3OK+VCqCaeaSbkFF/xswQUfa2XRJa8OxNFNYF6gvUkz7u7u7u7u7m6f/1UqZArW/9wNhZ26kd+JZWvy/uMsjOPGQg8c247rOmHblrwm4a8UQ+K2HUswIp3JGhL0BOEmGRGHBzm6FYA29IXwUBCe5eMgUlAVQKUpLCouKTUvKFyaBO4KwCdBSSoqyMrgWV7wcUGK/VFeUZmpqq4xJej4SLIWSlpSIbGjgm6KBJE6eGgxVo/TSzRUFDU2NbeYEvRpUT39OCE7h9sKpJVHBblU8x0hh0a0tVd0dFZ1dfcYFrRCgp6sy6QRCeb0liNBligQwoXndSxEb19FPxtoHhwyJDg8goy6lAofNxyH7mUk6Ftqy5Eg1pJ6zoix8YnJKTY90z07ZzokQvepVa5xyg0mRs6hQ4KIpdJDzC8s9hXCtXRwaXnFtGDeX9MCHryNkaD6Oh4VrBcYFGJ1bXxdXjc2Z7e2jQjWlyk8lAC4q1v6+IgEVSjCgjmBJJlmZ3dvcR+rg6XDo2MzIaG6LGhaS/3zSTAIBaaJFrhePkuxgJPTtbOgPL+4vDIqWKYap1CGUhoPCbIUPBBaEM+SWu4Livv1ze7eLVPc3R89PBoQ1MvDW9UMetifpF1OgtKJBFPBCWIJPdHs6fn0hWleLx/eDAi6tgK6iYQ2COOQIBBHQT0iNb85HbD3j2fYg30VcBY3D8IefPj8MprieNAsikeC2sbTAXboRJG5+v54Pl0bn5BncVf37MXlw8/vPwrWkUdBXQrXrVZEKZDa8DDFyLAO92r0RCmA6/8rr0iFhKCWNjAEgWmwsmq0RY0XjDpw1IGjDhx14KAfwBz0Q8CDfhB90E9DAACtALoxSNWoNwAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQgAAAAsCAYAAACZvCZrAAAFLElEQVR4Ae3aBWwcRxTG8QjKQqsUEtOJpTJzw+U2zMmGmZlJVIYwYznMya0ZjslU58Jo2Nu43L7Os2ej7eiMMt+30s8ws+a7f2Zn044PIrpbeFDonPAA4EHhbnsceDBJeEC4P2EBwAOyBZ0rIiFrkWSdAAAgm/BgO1kKdeUAAFhJdJaBUCYBABAIAKhzIAAAEAgAQCAAAIEAAAQCABAIAEAg8tcEHIExrqhPc/ui26Pt78wBAAIRmRXs4h3pIe9wH3lGBLa30V80AAJx6aszT0dXHFt+bslxZ+H841Q49xTlzzpDeTOcFJmWHM2dlr4/PD1zBq8a7qwgluU7vMP95B4cINfAMLlGFfbm8QbmELoIVa1Q2qvzANCAgbjyyekuRYuPUNHCY1Q4/wQVzLHioFNkajKFJ6dRaEI6BcdlkX9MDvlHe5zBCcGR/LHuoSE9R8Qhu18eZfYuKIuuvdnQT9QVVHl0qWK+izoP0IAQiPOrTmpFC49TwTyOw2nKm3mW8qaLOExJqYhDcEKGiEO2CEMO+TQ3eYd7yTMsQK7BQZ9reO7MrL4ch0JKf7+I0j88vx+BgDYGlxiFi07PLFygr8ifp888tyKzS8ESV5eCha4ukRkuLTzR9YV/tMvvG+khD8dhqIjDoBDl9I9QVp98yvyI43CO0t45Tym9LlJG72saAgEJBpuUvOfg00IrcgaGjOz+uZRZEYdfKO09jsMFSu51iZJ7XKWzXa6VucbecrSAQIwU9gtOYXu8c+TYcuV8thz7GoBA1ENgftSR1a/gQMaHHIcopb4t4tDzEundOQ7X6czrt4SSA80YiPaCT46fF3T5mo/98T6/7Xxd4iMqPI0HGyR8IMx9W3sbO74pMw/+UOt/+dP7np+Z+vZFEYfLIg7X6OyblXE49UoJnXzJoAYOhE9wxuGLEwinHFPvqsyU4yvifH6/YP/ZOQyG/Fx4wAECEdvxDZk719bpCZH24TVN78ZxuEGnXyumUy+X0skXY3TipdsNvYLwC3ocfiUQDiUCqgNCWQ0rFHUOqwjAJYa5Y+15EQiK7V6/oi4fl/xOsXb6NV41lJKza7l2ppvZO7yC2jfTJUbvGs6fqczLz48N0LgAgeDLitjezSPN3eu/4FUEu/3Tzjo9KU6/VrrjxAsmnXih/EAz3+acWcP5vesRCA0POEjcQFgrB46DZefasl/376n10ppXDMeeLT9/9KnfKX3gH45mDEQXZf9B9YWcdyifv31NMQFIvEDk6O1tYVCVmfs2abVeRfT4q8vhx/887xxIzRkIdl6Iqk96+X6ZoKufv4o9C6dg4HYnJPQKIrZjrd+KgrqS4PfN3es+55DU5XM2cyB6225TjpRzM2QcDOFp9fPbboF+JDnl2Ew82CChA8GXEhyD6vAt0NiejTN4v6IVBMIa99P/D12Jg/r5z9vONay9BwDc5ty7cYUSBUNZSdjfdpp7NnzOG5vGd9u6sPLvxNt7NizncQ5JC/pFta8yLvE3KR3S/QAIhE1sp7zUkMx9WzTewJTv14m1wdmiKYEAQCBquNSwrxSMnet28DhvVJoyHvb5qt43dnxt8KVIGwoEAALBYns3zLQ/4dX/L1Exv3PdAXVlwe/zOM+3ojgwzbqrAYBA1IK5a50uVwa2SwUAQCDkSqFyRbDWj180AAIBAAgEACAQANDwEAgAQCAAAIEAAATiAdsgAMADViAeFJKsCQAA2YQHORB3cynkAFYSAFg5JMkm3N2ODxmJB3kQABLeg1Yc/gOptOvB5Z4VkgAAAABJRU5ErkJggg==\"","export default __webpack_public_path__ + \"static/media/Hop.4b77c9e3.svg\";","export default \"data:image/png;base64,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\"","export default __webpack_public_path__ + \"static/media/Hop_dark.423942af.svg\";","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQgAAAAsCAMAAACuYtZZAAABmFBMVEUAAAD///////////////////////+PcOZ/UON5R+KNT+iFQeWSYOi4hfWIP+aRP+iIP+WUP+ibPeqSPOiiauz///////////////95VON4U+O3N/C1LO9+WOL///////9yS+F4SeO/JvK+IvF4SOP///////////////9+WOWHVeXRQPbKHvTRO/b///////////+pOOyxKu6+KfG7JvCxKu+wRPH///////////////////////////////////+qL+21J+/CIvLTS/PCIPK2J++sMuz///////////+eT+2iOOu3QfG8MPDNQPbUH/beGff1Zv/gGPjVIfXNNvS+MvOiNuv///////96SOKHQeaZQ+noMvrvDfv3A/3vC/vmRPmHP+V6R+J7SOKIQuaXQefvDfz3Bf2ZQeehNuuzPu27MPDUHfbeG/fTIfWiNuurMuy2J/DBIPGtQO2wKu68KPGwKe7NKvXKHvR3SOJ4SOJ3UuK/SfG0Ku+7QfF7V+OUPuidPeqIQOaRPueQP+eQT+iFQOV6R+MNOs0rAAAAhnRSTlMABhQdEgsKKXb/V/84Gf+z/7OF4SkpZYRWdnVmwVeT////wv//lIU4s1dXOMI44MLSdv+U0v9H4dFHV6PBGbJ10v/gKf//o/DxZkekR3Y4lIUZk4VHZrN2pPHwdjiz/8Ip8fDS4Xaz4XazV3WUhYWkpP//V/+z/2bB//+FOMJHZrKF/8KzVzMrutwAAANDSURBVHgB7NDFAQRBCERRfHxa8091PYK9Ur8Fzo+IRdMnTMRqHslzUyaxQGFC6oHClfQ90f8QgAAEIACxAOLTuq2AeLcfOyDO67dcZ2qI8y6/rdQzM8TV+m/rYz65LYvt9nkgju7mDWSXp2Q5JdsfxkqscmunzMzMzPjqf4+isrv3iQq6yZzfQlf4W5gZZhkrYRHlFRoqqyo1VVckZGuQmlm6ImrrNNQ31GtqrP0ZtZDbYGeQl6yIpmYNLa1tmpqbfkYdV3WeU9JnxF9//6Pp3//+T45mfdUJDsJkRDkTmMlEPjClqhj59g4iYcqOIK8QmBnkDSiW24MalnoRnV3dPQp6evv6k6MW5mWRBFrUOdmY8ui6GMYF6ccUhQyAox+5HvoSwMYsEaiy50ZYSLeIgcGh4ZHRMYDxicmp6aGZgaSodBHbDUmYdYAGOQsCURBxGn4OgEUZIk+SrTmAjEcrhypBJADkHLIUi5hfWFT90vLK6pqixfWNpLCYi1AtiwINzUL2tjZcF8C2iTIOiWCEcxgXHEk5pqyRzGguxSI2t7aLInZ2d5YU7W1tQnKz52jJS5p4x6NpL7yJANNH9H0E4BFQy6GI/8J8hw1quwTUQjfdW2P/4HDq6Bhg/Phk6vDgNGlrSCFVP0urYQ6ZmmOB4k2EhXOcW1kSoU9VqjHuIgaStourWiblh+XZ+YU+LC/Oz5LXAs7q8c2qDxayLyL0JiERqI0x0EtjDgooFNss5SIur641Xd9cJkcjX1LH1ZA8h3bGFxE8BhYqEVxfKhBliHwXZBQULfIUi6hu1nB7d6upufpnNIehWWa2ozruCoizX0W4oSGMMFIisEYYvjpQYxI1WKBAYIiO0JNpfmLf/3hiP9QmZIWLiBGXxDJC9lWEpKrFkdFFmkXM5qjCI4ooj/F3OCfT/I54fNTw9Pyi6fXxl0vjnRwvwRT9K54R7H3EjL2T/WdDoRve0AhlNTbwEmGOJZ42opr8UB6YaWqGslqaCA7MqFuLuxuw4QmIkTJUJ2ruoYEns3vqD/XB29a2VjA9OpzfPjqcPzrBgxWMBsRoQIwGxGhAjAYEK4geXUwGXV44urwQuuB0dMEpdAny6BJkAMRHfxzYlb9eAAAAAElFTkSuQmCC\"","export default __webpack_public_path__ + \"static/media/Synapse.4974674c.svg\";","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQgAAAAsCAMAAACuYtZZAAAAn1BMVEUAAAD////////////////////////1vjzzuzPzui/yvDTyujD////////////////2xE3/////////////////1nrzuzH////////////////zvTb1wELzvDL0wEbyvDb////////////////////////0uzDzuzHzuy/////////////////////////////0vDLyujD////////1wD3k7xDPAAAANXRSTlMABhQdEgsKZqT/o/EpRzgZOIX/wcIZ0nbx4JSEScJFiVeEk6NlsvbR8vDS4dFmpLPB8FZ1ZcrSjpcAAAKDSURBVHgB7NABAcBQFAFAD/SPvPX4LsIBRz2PB5ycPi7Wge7UhNJpBHV+i1jEIr527aipUR8IAPjTP4KSpGxigaoK0P49AFDv7vt/ttvNmpnrVfrgE7TZmcBOlIf8Jlkk5hsQNwHCRRTfBgjnEKNEgCAHkrhyCHJgieuGYAeWuGYIdri7uTsjkUgKRamW6kIh2GEjNmckUnBh0ECCvUyI+y07CJbY3n8NkUkps7wQQtndRUKQBDuQxIwDQki67UBdao14eESJpw1ebpFg84SX55dZiJJulWtJbWopKGRtqoTqSJXIxlSaOxtTl8LF/mDqZOkQD/H/jzwtXuNXngzPP+KXOYhDroWAFNuh7WwONNQGOttTJqEBa6HVrrPHzgYzPbifj0uGIIeYJdAhZgl0iE8lUhiMMUWOHAxBF91bGv6EfbaljLQUpK6kYOdIwzf0jJ5ArgRiy3VyHqKz1vZQe4iee+nFqt2YE4RwVdSiTmEFxbRjF4z8bS1LY8sO55fG6BCoTR5ClAeAwoBEiPETQvPoKTIYDEVbrKFYvlOxjKhYvp8vlqKzBMGNIUqwaZp2DkIyhJ8GfipxLByC68PH5+vzg+vEPIQ9gbAdZdkRhOBFIpRCp9KnS4egOkkS5MAVcx5CwXQCMVA2HENMrXuftpPQueEH01X8iU0S7BBHMzOiqaqqafPkGIJaJX8aOIZI8vaX3Bf02yOYvdy3vV48hJf47R3mvzXyt0T8CyF2AGAzGP+GEMpSr1sOZY/ppFf2GR6Jb4T6cpRS+NBqdRszUdiq8w5h89Y7hO18cggQ4R88sxEgAkSACBABIkD855JwmCwcL+Tjhf7AaThwGo4g8xHkP7gaLtKObnJaAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,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\"","export default __webpack_public_path__ + \"static/media/btn_big_arbitrum.ff6ad480.png\";","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAf8AAAB/CAMAAADW6DvgAAABF1BMVEUbIDIeITUbHDAXGCwhGi2HLjhhJjNhJzNOIzJPIzI8HzBYJjNrKDRqKDRYJTM7Hy+QMDhGITGsNTwqHC51KjWaMTqPMDkzHi8eIDYbHDBFITB0KjYeITaiMzt+LDceITajMzt9LDdCIDCZMTo4HzA+IDBLKDmBMT15LzuuOD+TND05JjhRIzJyKjVwKjU2Hi+RMDgyHi8oIzdSIzJUKTp7LDYjGy5PJDKeMjuELThAIDBjJjSbMjqKLzg5HzBUJDJ5LDYlGy5hJzSSMDkfGSxqKDUpHC5EITEnGy5VJDMcGS02HS9DIDFAIDFFITFDIDAsHC4eITYcHzMaGy8TFiMeITUAAAASFiIcHzJlLDowJDduLjpCJjgHX8VeAAAAWXRSTlM4+O////////////////////////////+18P//+f/////////////////////////////////////////////////////////////////////6vvJR+SRTwHfs7R4AAA1sSURBVHgB7d2Hmuo6lgVgute2jKRNkLYoTcPgQ01NzjnnnKdzvO//HAOc2+jjkGRjwFT5vzmHtSwkWTaDwTe+iZOowJYqkY2GWhP2KIMvkLGsRuMJnf9Hm6lDiwq/UeBGRDOPBfUwGgh+bfZCuEY08ZvfGPzCt3Ca1vhMOCLL3DrCl5zBUWLUyRZYBVpMI54i/yRa5iHdOn+wnzmYqcGVvjX4xcx/OWszwldacIQxOCM6xVwOJ0gAWr6Uy4rQKpvyv6WoeDRHJoUrKEW4zuATTiOFrawhIFobT/4hJOdbELFFL36N0C6aeu9XEXdgFJcTXCYa1xB2N8zfCoCsISAq5doouXFKcTmfvPgNg5aRVZZwJ+SUGkecZwyuY4LcLH/GPlERR8hY6TYHOXKV31J4dqKVGgpOU4RrqZJuk390+JJTdBB+sNT6JCfl//zEspoTjmNcT8IQtChepeX8FQ4RGyQ0rlhuMMkhv7ESvBfR8miCI1SLE1tvkO+XLuZPFse4INiiYQjmJpPcuJxN1/E7vCtGqcMpYWhzZfvSav5acJRUJUDD10ITcIv8zcwCxuD9Icf7U8KocA2aTCbjclS8+c+Q7Zd/JeVfOzR+e5kpQdJq/noa8Y6R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\"","export default __webpack_public_path__ + \"static/media/btn_big_bsc.5e5ec82b.png\";","export default \"data:image/png;base64,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\"","export default __webpack_public_path__ + \"static/media/btn_big_purchasegmx.86c08dee.svg\";","export default __webpack_public_path__ + \"static/media/buy_gmx.618eb538.svg\";","export default __webpack_public_path__ + \"static/media/buy_gmx_bond.67f59201.svg\";","export default __webpack_public_path__ + \"static/media/buy_transfer_eth.fd9264bc.svg\";","export default __webpack_public_path__ + \"static/media/coinbaseWallet.ae86a337.png\";","export default \"data:image/png;base64,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\"","export default __webpack_public_path__ + \"static/media/cross.4f70d802.svg\";","export default __webpack_public_path__ + \"static/media/chevron-down.4485a8ac.svg\";","export default __webpack_public_path__ + \"static/media/chevron-down_sm.5c6065f6.svg\";","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHjSURBVHgBfVO/a1NRFP7Ova8NQYkZigSDJbqJQh4Ogk4NiqIuCiJuDZgOQhGKk1P9C1Tq4KJQR12yiRWkg4ODg3EQp7ahpTSUQtMftE2bvNN7zstLXtMfH7x3f5zznXO+c+8l9GB7IlsEYZgBn8BpBtUJqFjCZP/o4qe4L3VI7zM5apkyM3wcjyq8oJB8VqvKwkRENM10L9EMXEbfvY8w2ev6Oaif+kdk2VBDG/bSYySefEffrTe69q69iMfMUZPK6tfWWIxbeeUfTOYqzGAB2FoGDVyBHRwCNhbAqzOiNjN+P1U10pyjxFF/Sse9r0+x+/k2kDgD7+bbjr3FQdELu3oEOXsD3FiHzZd0pEQKvL7QrQ7kGzmOXqI0SpyDuW9K9PyRsIofY93gQNrIOcaJ9uIdWL8Ulvb/C1p/P2C3/Ci05UuxzKh7hKDi4gx1IrqsxpUskC5LqZQ6HxpdFd3MXLEv754mQ/Qg2gwWf2m3ldBYA5066wLMOwlTaP1+7cpptNn8Snu18+7cH2lcR7O7EKLZ5kew93Ncgx0AczX5fOmCp/Nm8BCWpkGUi7Kr5tkpHIIjunMqaBL5Jcdq4YYYToDoFD/1R+xhRNicyBQt0TAz+URIu/teJ3Ik4snkaO3Aq9oHE/y09owWmgYAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAPCAYAAADtc08vAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGoSURBVHgBpVM7SwNBEJ7ZXHwSH6CFlQG1sPMB5hAUrQQro8ZgpWCpkNhZCLn8ApPCTrC0CDGpUvpsYoQQLSysoq2CSKIhJHfj7pm73AmagB8szDc3s/PNzB7CD5QSsps0ChDBEqdu3UmQA0Y5xli43ZvOW+PRSopxTxAJDuAPaERhly+jGJwZxkdMVhol6wmIoUJsSrEpKMblTSQ6FrZjcBFY34S96ksW1OeUzaeq5O3yZ5LsWwaFzAoiuVIA9SllHkf/OLQtxAE7BswLJAl1tViIyXMM6dz44JzcB+01qydaIQ37wTEwA+XrnboyUufxM+EJkAoR4WidPeQKxqERSqfTRv9Bia+sx1hG+Wr7VwVGgcrDkckJqef/CtQq3vEZNFQgDa8B8gFX0numD5mWYy5f+oLbeWswOl36xMVh/RPgHN0CacgP1fuINSzfvnx7KQlLBdp1ACaELaqLVUrdI2ak9v4I1bMNoEqx3j+QUmuj1ldcDvFnqkAzQFI6VzJh2wXNXiIG17F6E7VwO95OZHeLU+MvE8c4Hau583zOyXIVo73r9r/xCzLjs4Txvi/RAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAPCAYAAADtc08vAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHoSURBVHgBfVPPaxNBFP7eTBI31Wr8RdpDYRURxUMCIogemoJnrUdva/QoWC9etN0kXgXJP6C5eRK8efHSkygICYq0IDR4MIm1ECGaNMnOczNpNrtT6INd9s1775vv+2aHYITjNmwB+RCMZT+195arIFQVvGKlOF8P91M4ybvNFbB4gYOCveLLZ/OFSSqC4dVWwRw+lZK4cTUZBSDp5lcbUYC8+8sBkWtu9uDOUVw8m0D6pNwH4jxtLU8ZMPYNX89aWJiL6e8rlyyzDCFIsxX33e0cpmYF1G8tHQ7yE8cEMucTJobtPGnkBAvOmJWbSzOQPuuNrQE+fumh+dvTUo7MRDz3e2Qmxh6lRhomkYgT4v5T2+zrvLfL2Nzpw0oQTh+X6PwbBr0MSsVIcpu9KWp/wPj2vQ9PAecW4nptOGT8/KPAKsqUwG3hKaqZEqxDhAt2HOufu9hpe0jNSixeTqLTjSIopqoWdXettUUgO1y8d3sW1/yT+FDb1azevO/gb5dD9Ln+qpQ+o4+RCY9MFq/fdfTuSYvw6WsvMrwnoKCNHL2q6883MouPR/91blIe+F79aI4NG7GIUAcXKqV0eexDKJy1bVf4RRwQCmqlUporBzzMBn0blXR9WVm/mB3rRZ0Yb5XwyuZt/A/V0KylFRZwagAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEHSURBVHgBjVMLEYQgEGUuAQ3EJNrACNLACEYwgjYwAhGwAZqAa8DxdsAB8Rx3Zt3Zx779gYyVIr0qr9arCxZ+zx5EeNWB8E9NiCuIhnP+RHThvEhARK21W9fVCSHcMAxumiay8JdlccaYmECnM1JmBNyJtZbsPM9pJ7QDFQFUQCAqNE1DGCx8yGUs8M6tOiklBXVdl83ati3hGCHB7cd/eOy/qiqy27Zl29z3nayvnMIc5G/0juMgW9d1RvaVsyRBvsXMcUF935OPljEzMPjXmWUElFLZdq+Cq0yWdr44DRAVcLc4xNLGcaQOcAYc56G6SfsXAC5tvX5hZwL2/Lb1HTEVyV7+VT9KbxPpO/XgrgAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAPCAYAAADtc08vAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFDSURBVHgBrZIxUoNQEIbfvkcVmxyBJmoSC3MDPIGWJmNBTgCeALhBPEGoJCVHwBNoJRgbvEGqjEXYdWHChHlA4Uz+hvfe/PuxO/uD6JH58D4cDC58Pt4jwjLbjJIuH3QXDlwA6RDRsGEMCyyCbDPOewE3T98WIq1LjugTUoACwxpUAa4fU1MpY81/tDSzz+YfCdITAE1oTnR4TqNJbJQ3KZXVLCYSCVGxbLQbThZfHgjpkqjGYpjh8DeWrQ4R/DS6vNNn/Xy9Cgo8zHR/C6AU5KJHOrQT8F+dHwBEZp+5zIj+ZugPKMifLrZmMzRauNoAxCJRSvHqhFXe2WLzau3pfLviHX8QoV9y6mIOz44Q4+P5JA6U3RGa03hVIa32v/uXPJ7tWoBa43nmggCnCeoIl+gFHLsxeQyPK2+RE5hFo7cu3x+G+J1ieOsLEAAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEuSURBVHgBlVO9UgJBDP6wszut7LxWG6mtHF9AHR8A3gB9Anpt7C3Aws5CZ9TKmbOhgzlooIKDBjoWKuhCQrif5ff4ZjJ7m82X5MvuAUsgojybx2ZIYRb7HDaBD102n7YjkLh1xIDSwU6wBzGEn9SYcPfTJsgJ2bNcZsKeDjf2rIlKVd63ubehnsXwDrh4dmV69QHgOsBoCvTGwN078PDD/n4yKitkxyKOJmo3ZyIKKF4DhUtN9Pirq8KRto3VdvGPWzR2m7LmP1jKE1HhOxIoletR1c8m8NXSyu6R+v47al0DnLIvk4nECfktIjuHGiQayzXgpcJJjoHbc6B0DzR4FhcnYXQ5vC7fuiqZ9tWrrnGb+h3MVQa7X5gkCvXHkDjXGjKle6L+CnEpSeq/agZ2kCMI5PSNywAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAPCAYAAADtc08vAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAI/SURBVHgBfVNNaFNBEJ7dF6sRUhJUqglK/KG8kEKF1tSCQiH1WEguHltvXgJG0iLtJcnFIFFsIR48xpteInpsAgpCTPRQpcHnXw1CA4KY0iCK5L11ZrfvNemhA8vb2flm9vtm9jHYY/qtatA0XTc4FzEQEKQzAbCGnzXOzaxxZ7LZi2e9Tmj+ddJi/D7sYwxE1shPZGyfOzcv1DJ2cuJKAGYvDTlJc5eHID5+FBQbliZsXwF9oX6NAgHfQSglR8BzSIPS25/4dclVXm9D5IwHY2EZI+xwqhZzCggGaXWzHyrrvyD3/Dt0/prSp7XZ/geLT75BpbEFD+bOKSkaSLZcT72ZomZFznrkLYVySwJyV0/DoFuTKzHtl2eF1U3MZBKHtwb1VHXKJbgYpSAdFl/9cHST5mjuPTLpwgVK2LEKyomGfVDf6IDg2igXgnkpQPoJbFthtSXpFq/rEDpx2DnfRgyxktIxlzMmtsghzdQwMgJ8aP2G2HIDEsXPOIXjToFBxGz/MVUfMJczy3xHTrnRhumwV92CgKWZU3Kc8fFj6O8yi474sJltuTfpcRn3Jl/gvln/2pENio+pec8+NFDWAIT8bslEvgd8GwHvgNSPAppf8pGXkrOwxE3GWWnx8QY8Qs2USNOgriu9TLEZOyILqxzISBk2teH5WpoxlqFkApPR7MmWZk6Cx+2C28/U+xBCZD7dncj2FegtAvualfyYv7hie2xvWE9Wg9YBLY2B86AWWdMS7KnW7a4Yy/1/43+jYdjzTW6D2QAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAPCAYAAADtc08vAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHYSURBVHgBlVM9SCNBFH4zu0rk7nSvuuO8g72zuas81MafQrEVRYuUatDeYONfkU0VtVDSC0HFysJYWigR/Cn9AdFGXDCYiEViUBR15jkz68ZNiIIfPN7bN+9973vDLIEimLGg8UQrghxIFyXElDmOaBOCiTLGo3ZgyvbWE+9H9cJEUCRCCGjAGyAMw8lAxHK/NTf4OT9mCbqICH3wHihprepsIbnVrUReQfXCeL9wMUX02YBfn76W7D2/zUDyJqtizp66U4HpuP5yFnKL/H/qYLi2vSTBzME6zBxuOEI0fVa4ODFj4/8fNdhzixq//VYmMfivWfm5423ldy/PlEH+PlibznRqAvJ88iiTUlZVXgH+mnqoLPfB3MkOVJb5IHmbLVDEdK1W58gN7/Tcw70ikF7i+uFOxdLkuSRcOz92FAAYupdRypNF/po61XiUuXBW+dukLlCSuM0SCJDVGWMJTdMKSNw9ww0doghhILEEpYCI+zQtX5Z4ZfBBiGY73RvZpM4uPAwfhNjfkl5pz61s2196mkWStHqL5GUun+7B1f1N0XRuXfRNRl+IXvFjcTREkFrvDM5yZFaqbyrqUVKI77ERk2h0iKJQQ8B0RoKNwOOc43y66G98Bj1CxfZyFDl9AAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAILSURBVHgBdVJNaBNBFP5msjFRobsVsRVtGEE9RVgFT0VIQS9ejBfFk6voRRA82aBoLkLoLacetZ4EDzYo2INCAtKDl2bxKBTWRDH4uyuIxmRnnDdN0iS07zLvvZnvvfd98xjG7NtMwYNilxljrlLK0WeoTz/BsTTZKD0efsv6zk8xL2SXLyvAxTbGGAKekHOTwUIwABtgzKtKQVAcyTaacajPv8gmp2Hz1JYFLEoMA5/8fodfqg3oxMfd/3D362uc3XkUtydOGTC9kx2+rN3jrMfxEV28/PMeGcvBK7eD04UryOVyBlCr1fD25iKuhYcHE2gNPIvE6SeacYTWyT14sDKiiykiXgg8PXcPF37MmFws4XFNwgi02v5gOp8p3dhSLCEE0ldnERGlDXN1Z+WQN8HSJhMEAcrlMlzXRaVSQT6fHynS7Eawk/vIdSzdOaQCGcs2VWnEMAzhOI7x+3EURajX6+YHehZSZ59o2TyNS7uOwfd9eJ5nbse7rr9Zw2wq04uUz6VSA3Wyepz712+Z0ceNik49W99MKLZkluT7wTt1BeWeaC2ioTmROMVi0fAmqz5fQerhGi7GR3pABHs/lQ4Z8OfpeZFM8KreN7Habox0tFkK2R1TQx0RdGI5t7+1EAx2e7gAtjG9XX43lucJSDEbf/DlQMHjDHpxuJ6ZvlH/BqRPHPWoI9vzH5xq3+2NFxVlAAAAAElFTkSuQmCC\"","export default __webpack_public_path__ + \"static/media/icon_arrow.5a2e0b83.svg\";","export default __webpack_public_path__ + \"static/media/icon_check.11b53f10.svg\";","export default __webpack_public_path__ + \"static/media/icon_close.0c82fb42.svg\";","export default __webpack_public_path__ + \"static/media/icon_close_sm.d5bc42f1.svg\";","export default __webpack_public_path__ + \"static/media/icon_close_toast.0a4cfb5c.svg\";","export default __webpack_public_path__ + \"static/media/lock.d4328791.svg\";","export default __webpack_public_path__ + \"static/media/flag_en.ad3aa4f8.svg\";","export default __webpack_public_path__ + \"static/media/flag_es.284fc0d7.svg\";","export default __webpack_public_path__ + \"static/media/flag_fr.d7acb86a.svg\";","export default __webpack_public_path__ + \"static/media/flag_ja.fdbc8bce.svg\";","export default __webpack_public_path__ + \"static/media/flag_ko.e814d54a.svg\";","export default __webpack_public_path__ + \"static/media/flag_ru.c789ea20.svg\";","export default __webpack_public_path__ + \"static/media/flag_zh.814b7a34.svg\";","export default __webpack_public_path__ + \"static/media/glp_icon.ef02d046.svg\";","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABPCAQAAAC3gKgqAAADyUlEQVR4Ae3BfWhVdQDH4e/Z3Uvb2lZukS5sOEI3UHS95xbBqg2iQmcvpCRZZClYkBoWaAvpD0ncHxVCFjE0iyE6eyFqK6K3RRTaiy1ptaXljDnL29h2t7v7iZGeTuuen9vd7r3nynke+Xw+n8/n800EWToXUMKrVCnVkcELwPsUKbWxlH5GbcZS6mI23/OPk9QqVZHNTv7VxiVKTawkhFMDAaUeKujkv4LUKdWQTzP/9zWlSi2sI0w0O8hU6qCSbqIbYLlSBYW04O4w5UoFWNQTwWQ3OfI+aujFbIhV8jqKaePsuqiQlxGggfHZT768iyX8xfiMsF5eRSnfMn7dVMmLyOJlJqaFafIe7mOQiYnwFJa8hXl0MHG91MhLyKWJ2LRRLO/gEYaJ1TYC8gau5iixC7JIXsAFvI1ZK3sxOcAsJR9PEMGki/mUcBCTF8lUcnEDv2MyxCpJoo4g7vpZqmTiIj7EbDc5kkSABkzaKVOykMYzmP1AuU6jmM8x2UW2koNb+AOTAe6VA7WcxN0QDysZmMkXmO0gUw5YbMakkwVKNNJ5DrODzNIYFPEBJs3kKbG4iz5MgixWFFzPcdyFeUyJxGV8h9lWAoqKxxnB3TEWKlE4j0bMPmOGbAQIyEYBb2DSQqESg/sZxKSXm+XAA6yWA1fQhbsIm5QIzOMnzOqxZKOCI3RzrRxYzRDuTnCj4o3z2YNZC4Wykc9+Rr3LNNnI4TVMPmGG4otHCWNyjIVyYB1hRkXYKAfKOYzJs6QpfriGXzEJs1YOVNLNGT1Uy4HlDODuFLcrXriQdzDbR55sFNKK00dcLBtZvITJV5QoPthIBJOfmS8bFk8z1hbSZKOUbzDZTqamHtX0YBLiQTlQQy9j/cmtcuAO+nDXzzJNNabzMWaNZMtGMW1E8yUzZSOdBkzaKdNUIo0tmB1itmwE2Iab58mQjWLaMNlJtqYOt3EKkyB3yoHFBHHTx91yoJZe3IV4SONi6awo0V5dLpNf1KiQLI1C6bpHZXJ3SIusDp2GpXo9qXS56VKddUCTRwbbmWqvkCUbRbRiso88TR7L6GeqDbJCDlRxHHdh1mqymEM78dDBXDmwgRHc/cZ1mgyy2UW8NJErGwW8icl7FCp2rCREvAyzRg5cyRHcRdikWLGATuLpKFfJgTUM4+4ENykW5NNMvL1FgWzk0oTJp0zXxLGeMPE2wgY5MJcfMdlKQBNDJT0kQi/VcmAFIdz1s0Qu0hVdjpoV0fhZik1Al2JZ6IzXVag5iii6dOXKq7Dk8/l8Pp/Pd676GwYUP6Kwt1/bAAAAAElFTkSuQmCC\"","export default __webpack_public_path__ + \"static/media/gmx-logo-final-white.b7833ed6.png\";","export default __webpack_public_path__ + \"static/media/gmx-logo-final.0b59e423.png\";","export default __webpack_public_path__ + \"static/media/gmx-logo-glow.83c5aea5.png\";","export default __webpack_public_path__ + \"static/media/gmx_logo.9b999610.svg\";","export default __webpack_public_path__ + \"static/media/graphite-01.6f3526cd.png\";","export default __webpack_public_path__ + \"static/media/ic-communityproject.d195d704.svg\";","export default __webpack_public_path__ + \"static/media/ic_arbitrum_16.f4c1a9fe.svg\";","export default __webpack_public_path__ + \"static/media/ic_arbitrum_96.4c6d42bf.svg\";","export default __webpack_public_path__ + \"static/media/ic_arbitrum_hover_16.d779b479.svg\";","export default __webpack_public_path__ + \"static/media/ic_arrowleft16.9d2319ed.svg\";","export default __webpack_public_path__ + \"static/media/ic_arrowright16.25e0dd13.svg\";","export default __webpack_public_path__ + \"static/media/ic_avalanche_16.90aca01d.svg\";","export default __webpack_public_path__ + \"static/media/ic_avalanche_96.b6255c50.svg\";","export default __webpack_public_path__ + \"static/media/ic_avax_30.403cd87e.svg\";","export default __webpack_public_path__ + \"static/media/ic_avax_40.ba220dde.svg\";","export default __webpack_public_path__ + \"static/media/ic_banxa.06412144.svg\";","export default __webpack_public_path__ + \"static/media/ic_binance_logo.46794a16.svg\";","export default __webpack_public_path__ + \"static/media/ic_bsc.8de996f1.svg\";","export default __webpack_public_path__ + \"static/media/ic_bsc_96.79853d5a.svg\";","export default __webpack_public_path__ + \"static/media/ic_btc.b_40.1560513c.svg\";","export default __webpack_public_path__ + \"static/media/ic_btc_40.1560513c.svg\";","export default __webpack_public_path__ + \"static/media/ic_buy_glp.b4c18be7.svg\";","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAAsCAYAAAAq/ZsdAAAFI0lEQVR4Ac1ZA5AsSRCd2FkMvm2cbdu2bdu2bdt3obN9X6tGrW3vxv6x509e5dwtukZdXYt5EW9ZNf1eZFZmVbVJL8yyfJpZlT2UYIw4VzrVlC3IJXINChNhriLXZJOh56gon4Ahbw5RHs8SO+JRwrmmbEMuIfuYiRzgNYNzcK4pG5Gryk9j+vCkGs7JGgOiqYdjj7MEzj/OErrfCHHuBBiS9slR5XpMpXTEMZtf037hcdYgiPAEe3gHU7bghBkw43hrsNWoGZw77iLNqnqWWVW+yVElNR1xDG2mZ51gCRxg1BDOHT8nkrQFFfgLpVvP+rmorRUe6ekJPtrTU3P6Lt7PDRh6Ydy85CjSlVRkxKxIusr2TrXVMBq3NnVtOGq2b5An1TBdxyfFiPwRFbmep/cc1FCvMfRgTzfY/yqLzP6iehJTTVEW5SqyRA3FU0zUEP7dUkRiW13W0X3EIu/Tx9kCDyTjsZbABWNvRi1ckUuUOr0phpxdTuDGzg742+MG4vdrDLWEQvG/v9DfB4c01ofiG9WysiWmCUF5+cxcVaniMYNrxhGNgl6scnpg578anbsfMHgKjcj+oznmfcesyKuoyCC/GT784vDBwnfqk66hY63Bv+g6WiFuRpVf5dyrwT8eD/DCR/3fWBeDZauaYaMHW1IVBwfl9SLV7HTeUylGJxnQ5Cq3B9a4fEA8G6CSeu4Pac2cQP7jrNXVsOPpPelK+Ff8JbyoaBoVOMBbzW6iRYAFVjhrURmsLGxFwRre0xiDy6q1fzuAeKGgSIVDNvKkK+Uq19rKJdKLQzsAHmI5ZmEpIbBVcReK1c0tV3fB8kebMvUnB5rS1W+ouBgl8PKk5iZg8fWAH0Vy07a6DPbbySFsCrc193JFh+k9qVDkBHixnUmxNNx6VTesvL8ZRYuZov2mnREqnHYsmv0A3/ZriwHLw0kILOuI3o2rioUi6WFtqLKJ8Pv1LtCLCk9qYzP/qYZdj+7Xu4H9KjHdiHIP00S5iUVgb+KCL3rjJVkXvNHkppaXtsCOp/bqPmIcawudwDRS5S9RMxutaxsWdHZFDN7tikGxEzKiLwQJhrYhPbDpg208Z6YWxpD0i4ihXMojSChB2JC5x1ti8OfgUFNNxEvt2jl7Egcs+LSexxBoduc0Ql4RQxsVtukuy9hUGWAkNWMOI0GYsqacwxATJbMitxk1YysqgwOJl6fX4BZIA/ydHTPr92o4YoEPhXKvJUy5P40amlZUmZBij7XEv6dMQW80s6Gt3u3kv1CxhT4wIUQu4Dcr7dCIbfYPVTAszYnEIsAAK6PGzFEkPNSLeOkYMvS3ETP2deWwB3GwZriPEGw0dyODsPDdeqNXXiv+v2OTndxbnj9rYC/iRBHxMs2PxAqHnLu6DnY5vk/sDo8K/I23uVpKCRxJwsNCvhvgiUxyM5uXdMKitxoMmUHiBYspDlWdkavIMs8WaObq6gRBuAnFNYELvYVJQexD+HeMJptmx5Eobc6tMPeLWjhyrk/IEHNiVd5BU3qiNefvGq6ewy7+Y6kJPNhtWdIFtnVlsNFDicdwYUOIPEJ2zFXjrx8bKMO5RC5KGqFfqwzdyyE3+bQN8ktVmPldNWxyeyvsv71T2AxS6D4PK0q6D79+d22N/vyRqIBYjionAvohf6d7wIuXReJGkGcuGF8zqMWYCzZKlqBTTIg4UcNQdISBR2GBF1rCxGejhjF/S4cVhj9aYlHBZ/Lf1/Gn4QFxc+PIdK9a/gVaRiAcqhHzNAAAAABJRU5ErkJggg==\"","export default __webpack_public_path__ + \"static/media/ic_cash.21569a1d.svg\";","export default __webpack_public_path__ + \"static/media/ic_checked.ef61d0e2.svg\";","export default __webpack_public_path__ + \"static/media/ic_coingecko_16.ef20d202.svg\";","export default __webpack_public_path__ + \"static/media/ic_coingecko_hover_16.ef20d202.svg\";","export default __webpack_public_path__ + \"static/media/ic_convert_down.74b7eb02.svg\";","export default __webpack_public_path__ + \"static/media/ic_copy_16.5b289ecc.svg\";","export default __webpack_public_path__ + \"static/media/ic_cost.b4a729d3.svg\";","export default __webpack_public_path__ + \"static/media/ic_dai_40.6f901476.svg\";","export default __webpack_public_path__ + \"static/media/ic_discord.be4d716c.svg\";","export default __webpack_public_path__ + \"static/media/ic_eth_40.5e255508.svg\";","export default __webpack_public_path__ + \"static/media/ic_frax_40.1e127166.svg\";","export default __webpack_public_path__ + \"static/media/ic_github.dbd4de8a.svg\";","export default __webpack_public_path__ + \"static/media/ic_glp_40.087335c1.svg\";","export default __webpack_public_path__ + \"static/media/ic_glp_custom.11dd75db.svg\";","export default __webpack_public_path__ + \"static/media/ic_gmx.bf8fb0b1.svg\";","export default __webpack_public_path__ + \"static/media/ic_gmx_30.375de394.svg\";","export default __webpack_public_path__ + \"static/media/ic_gmx_40.8cd483b1.svg\";","export default __webpack_public_path__ + \"static/media/ic_gmx_64.f4caeaad.svg\";","export default __webpack_public_path__ + \"static/media/ic_gmx_arbitrum.59f04e87.svg\";","export default __webpack_public_path__ + \"static/media/ic_gmx_avax.fb50658c.svg\";","export default __webpack_public_path__ + \"static/media/ic_gmx_big.a0a74216.svg\";","export default __webpack_public_path__ + \"static/media/ic_gmx_custom.fd35b66a.svg\";","export default __webpack_public_path__ + \"static/media/ic_gmx_footer.e7821eb2.svg\";","export default __webpack_public_path__ + \"static/media/ic_hop.0f4a98a0.svg\";","export default __webpack_public_path__ + \"static/media/ic_info.f334ee0a.svg\";","export default __webpack_public_path__ + \"static/media/ic_language24.ce951c62.svg\";","export default __webpack_public_path__ + \"static/media/ic_link_40.4bb3a048.svg\";","export default __webpack_public_path__ + \"static/media/ic_liquidity.505b3f30.svg\";","export default __webpack_public_path__ + \"static/media/ic_medium.f6051b2e.svg\";","export default __webpack_public_path__ + \"static/media/ic_menu_dots.ba19dad8.svg\";","export default __webpack_public_path__ + \"static/media/ic_metamask_16.aa3dce32.svg\";","export default __webpack_public_path__ + \"static/media/ic_metamask_hover_16.aa3dce32.svg\";","export default __webpack_public_path__ + \"static/media/ic_mim_40.42c8b575.svg\";","export default __webpack_public_path__ + \"static/media/ic_multiswap.e577f4fa.svg\";","export default __webpack_public_path__ + \"static/media/ic_new_link_16.33dcae6c.svg\";","export default __webpack_public_path__ + \"static/media/ic_olympus.0b15337e.svg\";","export default __webpack_public_path__ + \"static/media/ic_olympus_arbitrum.2d52c3f7.svg\";","export default __webpack_public_path__ + \"static/media/ic_selector_dropdowns.aaf0b8f0.svg\";","export default __webpack_public_path__ + \"static/media/ic_settings_16.e5edd079.svg\";","export default __webpack_public_path__ + \"static/media/ic_sign in_16.fa320a73.svg\";","export default __webpack_public_path__ + \"static/media/ic_sign_out_16.7516903b.svg\";","export default __webpack_public_path__ + \"static/media/ic_simpleswaps.2005009f.svg\";","export default __webpack_public_path__ + \"static/media/ic_stats.f0a18011.svg\";","export default __webpack_public_path__ + \"static/media/ic_stats_big.4a4ebfb7.svg\";","export default __webpack_public_path__ + \"static/media/ic_synapse.8b3e94cb.svg\";","export default __webpack_public_path__ + \"static/media/ic_telegram.af1a4a66.svg\";","export default __webpack_public_path__ + \"static/media/ic_tokens.42432da7.svg\";","export default __webpack_public_path__ + \"static/media/ic_totaluser.ae09b310.svg\";","export default __webpack_public_path__ + \"static/media/ic_trading.2c53815a.svg\";","export default __webpack_public_path__ + \"static/media/ic_transfer_avax.6d7a1ef1.svg\";","export default __webpack_public_path__ + \"static/media/ic_twitter.9f35b403.svg\";","export default __webpack_public_path__ + \"static/media/ic_uni_40.efe1f12f.svg\";","export default __webpack_public_path__ + \"static/media/ic_usdc.e_40.27f415ba.svg\";","export default __webpack_public_path__ + \"static/media/ic_usdc_40.27f415ba.svg\";","export default __webpack_public_path__ + \"static/media/ic_usdt_40.e357d24a.svg\";","export default __webpack_public_path__ + \"static/media/ic_wavax_40.ba36eda4.svg\";","export default __webpack_public_path__ + \"static/media/ic_weth_40.334ca16a.svg\";","export default __webpack_public_path__ + \"static/media/lg_arbitrum.bdf133fe.svg\";","export default __webpack_public_path__ + \"static/media/logo_GMX.b956aa96.svg\";","export default __webpack_public_path__ + \"static/media/logo_GMX_small.f593fa5c.svg\";","export default __webpack_public_path__ + \"static/media/long.0bc4a064.svg\";","export default __webpack_public_path__ + \"static/media/metamask-text.2f9c2df2.svg\";","export default __webpack_public_path__ + \"static/media/metamask.4b5d438a.png\";","export default __webpack_public_path__ + \"static/media/page-not-found.bb90d073.svg\";","export default __webpack_public_path__ + \"static/media/short.1f94a0c2.svg\";","export default __webpack_public_path__ + \"static/media/trading.7ea1604c.jpg\";","export default __webpack_public_path__ + \"static/media/wallet-connect-text.78166b41.svg\";","export default __webpack_public_path__ + \"static/media/walletconnect-circle-blue.31c29967.svg\";","export default __webpack_public_path__ + \"static/media/wave-01.3c9bce1e.png\";","export default __webpack_public_path__ + \"static/media/wave-02.4a56e8c7.png\";","var map = {\n\t\"./ic_arbitrum_24.svg\": 313,\n\t\"./ic_avalanche_24.svg\": 314,\n\t\"./ic_avax_24.svg\": 315,\n\t\"./ic_btc.b_24.svg\": 316,\n\t\"./ic_btc_24.svg\": 317,\n\t\"./ic_busd_24.svg\": 318,\n\t\"./ic_dai_24.svg\": 319,\n\t\"./ic_eth_24.svg\": 320,\n\t\"./ic_frax_24.svg\": 321,\n\t\"./ic_glp_24.svg\": 322,\n\t\"./ic_gmx_24.svg\": 323,\n\t\"./ic_link_24.svg\": 324,\n\t\"./ic_mim_24.svg\": 325,\n\t\"./ic_settings_24.svg\": 326,\n\t\"./ic_tether_24.svg\": 327,\n\t\"./ic_uni_24.svg\": 328,\n\t\"./ic_usdc.e_24.svg\": 329,\n\t\"./ic_usdc_24.svg\": 330,\n\t\"./ic_usdt_24.svg\": 331,\n\t\"./ic_wallet_24.svg\": 332,\n\t\"./ic_wavax_24.svg\": 333,\n\t\"./ic_weth_24.svg\": 334\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 645;","export default __webpack_public_path__ + \"static/media/icon-BTC.d1a85829.svg\";","export default __webpack_public_path__ + \"static/media/icon-ETH.11294773.svg\";","export default __webpack_public_path__ + \"static/media/icon-GNS_v2.43bcc479.svg\";","export default __webpack_public_path__ + \"static/media/icon-Hegic.e537c8cb.svg\";","export default __webpack_public_path__ + \"static/media/icon-Lyra.5cb62325.svg\";","export default __webpack_public_path__ + \"static/media/icon-Premia.54a2ca05.svg\";","export default __webpack_public_path__ + \"static/media/icon-WBTC.a98dae38.svg\";","export default __webpack_public_path__ + \"static/media/icon-dollar.c1bac52e.svg\";","export default __webpack_public_path__ + \"static/media/icon-down.5f041f55.svg\";","export default __webpack_public_path__ + \"static/media/icon-hint.1458d991.svg\";","export default __webpack_public_path__ + \"static/media/icon-repay.78acc3e0.svg\";","export default __webpack_public_path__ + \"static/media/icon-sort.ee46ea33.svg\";","export default __webpack_public_path__ + \"static/media/icon-usdc.f5128e2a.svg\";","export default __webpack_public_path__ + \"static/media/icon-user.346ff90d.svg\";","var map = {\n\t\"./Anyswap.png\": 667,\n\t\"./Anyswap.svg\": 668,\n\t\"./Artwork.svg\": 669,\n\t\"./Artwork_gmx.svg\": 670,\n\t\"./Banxa.png\": 671,\n\t\"./DROP_DOWN.svg\": 672,\n\t\"./Hop.png\": 673,\n\t\"./Hop.svg\": 674,\n\t\"./Hop_dark.png\": 675,\n\t\"./Hop_dark.svg\": 676,\n\t\"./Synapse.png\": 677,\n\t\"./Synapse.svg\": 678,\n\t\"./binance.png\": 679,\n\t\"./bscscan.png\": 680,\n\t\"./btn_big_arbitrum.png\": 681,\n\t\"./btn_big_avalanche.png\": 682,\n\t\"./btn_big_bsc.png\": 683,\n\t\"./btn_big_purchasegmx.png\": 684,\n\t\"./btn_big_purchasegmx.svg\": 685,\n\t\"./buy_gmx.svg\": 686,\n\t\"./buy_gmx_bond.svg\": 687,\n\t\"./buy_transfer_eth.svg\": 688,\n\t\"./coinbaseWallet.png\": 689,\n\t\"./coingecko.png\": 690,\n\t\"./cross.svg\": 691,\n\t\"./ddl/chevron-down.svg\": 692,\n\t\"./ddl/chevron-down_sm.svg\": 693,\n\t\"./ddl/ic_btc_40.png\": 694,\n\t\"./ddl/ic_btc_40.svg\": 353,\n\t\"./ddl/ic_dai_40.png\": 695,\n\t\"./ddl/ic_dai_40.svg\": 354,\n\t\"./ddl/ic_eth_40.png\": 696,\n\t\"./ddl/ic_eth_40.svg\": 237,\n\t\"./ddl/ic_frax_40.png\": 697,\n\t\"./ddl/ic_frax_40.svg\": 355,\n\t\"./ddl/ic_link_40.png\": 698,\n\t\"./ddl/ic_link_40.svg\": 356,\n\t\"./ddl/ic_uni_40.png\": 699,\n\t\"./ddl/ic_uni_40.svg\": 357,\n\t\"./ddl/ic_usdc_40.png\": 700,\n\t\"./ddl/ic_usdc_40.svg\": 358,\n\t\"./ddl/ic_usdt_40.png\": 701,\n\t\"./ddl/ic_usdt_40.svg\": 359,\n\t\"./ddl/ic_weth_40.png\": 702,\n\t\"./ddl/ic_weth_40.svg\": 360,\n\t\"./ddl/icon_arrow.svg\": 703,\n\t\"./ddl/icon_check.svg\": 704,\n\t\"./ddl/icon_close.svg\": 705,\n\t\"./ddl/icon_close_sm.svg\": 706,\n\t\"./ddl/icon_close_toast.svg\": 707,\n\t\"./ddl/icon_dollar.svg\": 708,\n\t\"./ddl/icon_dollar_active.svg\": 709,\n\t\"./ddl/icon_market.svg\": 710,\n\t\"./ddl/icon_market_active.svg\": 711,\n\t\"./ddl/icon_trigger.svg\": 712,\n\t\"./ddl/icon_trigger_active.svg\": 713,\n\t\"./ddl/icon_withdraw.svg\": 714,\n\t\"./ddl/icon_withdraw_active.svg\": 715,\n\t\"./ddl/lock.svg\": 716,\n\t\"./ddl/long.svg\": 717,\n\t\"./ddl/long_active.svg\": 718,\n\t\"./ddl/short.svg\": 719,\n\t\"./ddl/short_active.svg\": 720,\n\t\"./flag_en.svg\": 721,\n\t\"./flag_es.svg\": 722,\n\t\"./flag_fr.svg\": 723,\n\t\"./flag_ja.svg\": 724,\n\t\"./flag_ko.svg\": 725,\n\t\"./flag_ru.svg\": 726,\n\t\"./flag_zh.svg\": 727,\n\t\"./glp_icon.svg\": 728,\n\t\"./gmx-logo-final-white-small.png\": 729,\n\t\"./gmx-logo-final-white.png\": 730,\n\t\"./gmx-logo-final.png\": 731,\n\t\"./gmx-logo-glow.png\": 732,\n\t\"./gmx-logo-with-name.svg\": 733,\n\t\"./gmx_logo.svg\": 734,\n\t\"./graphite-01.png\": 735,\n\t\"./ic-communityproject.svg\": 736,\n\t\"./ic_arbitrum_16.svg\": 737,\n\t\"./ic_arbitrum_24.svg\": 738,\n\t\"./ic_arbitrum_96.svg\": 739,\n\t\"./ic_arbitrum_hover_16.svg\": 740,\n\t\"./ic_arrowleft16.svg\": 741,\n\t\"./ic_arrowright16.svg\": 742,\n\t\"./ic_avalanche_16.svg\": 743,\n\t\"./ic_avalanche_24.svg\": 744,\n\t\"./ic_avalanche_96.svg\": 745,\n\t\"./ic_avax_24.svg\": 746,\n\t\"./ic_avax_30.svg\": 747,\n\t\"./ic_avax_40.svg\": 748,\n\t\"./ic_banxa.svg\": 749,\n\t\"./ic_binance_logo.svg\": 750,\n\t\"./ic_bsc.svg\": 751,\n\t\"./ic_bsc_96.svg\": 752,\n\t\"./ic_btc.b_24.svg\": 753,\n\t\"./ic_btc.b_40.svg\": 754,\n\t\"./ic_btc_24.svg\": 755,\n\t\"./ic_btc_40.svg\": 756,\n\t\"./ic_busd_24.svg\": 757,\n\t\"./ic_buy_glp.svg\": 758,\n\t\"./ic_cash.png\": 759,\n\t\"./ic_cash.svg\": 760,\n\t\"./ic_checked.svg\": 761,\n\t\"./ic_coingecko_16.svg\": 762,\n\t\"./ic_coingecko_hover_16.svg\": 763,\n\t\"./ic_convert_down.svg\": 764,\n\t\"./ic_copy_16.svg\": 765,\n\t\"./ic_cost.svg\": 766,\n\t\"./ic_dai_24.svg\": 767,\n\t\"./ic_dai_40.svg\": 768,\n\t\"./ic_discord.svg\": 769,\n\t\"./ic_eth_24.svg\": 770,\n\t\"./ic_eth_40.svg\": 771,\n\t\"./ic_frax_24.svg\": 772,\n\t\"./ic_frax_40.svg\": 773,\n\t\"./ic_github.svg\": 774,\n\t\"./ic_glp_24.svg\": 775,\n\t\"./ic_glp_40.svg\": 776,\n\t\"./ic_glp_custom.svg\": 777,\n\t\"./ic_gmx.svg\": 778,\n\t\"./ic_gmx_24.svg\": 779,\n\t\"./ic_gmx_30.svg\": 780,\n\t\"./ic_gmx_40.svg\": 781,\n\t\"./ic_gmx_64.svg\": 782,\n\t\"./ic_gmx_arbitrum.svg\": 783,\n\t\"./ic_gmx_avax.svg\": 784,\n\t\"./ic_gmx_big.svg\": 785,\n\t\"./ic_gmx_custom.svg\": 786,\n\t\"./ic_gmx_footer.svg\": 787,\n\t\"./ic_hop.svg\": 788,\n\t\"./ic_info.svg\": 789,\n\t\"./ic_language24.svg\": 790,\n\t\"./ic_link_24.svg\": 791,\n\t\"./ic_link_40.svg\": 792,\n\t\"./ic_liquidity.svg\": 793,\n\t\"./ic_medium.svg\": 794,\n\t\"./ic_menu_dots.svg\": 795,\n\t\"./ic_metamask_16.svg\": 796,\n\t\"./ic_metamask_hover_16.svg\": 797,\n\t\"./ic_mim_24.svg\": 798,\n\t\"./ic_mim_40.svg\": 799,\n\t\"./ic_multiswap.svg\": 800,\n\t\"./ic_new_link_16.svg\": 801,\n\t\"./ic_olympus.svg\": 802,\n\t\"./ic_olympus_arbitrum.svg\": 803,\n\t\"./ic_selector_dropdowns.svg\": 804,\n\t\"./ic_settings_16.svg\": 805,\n\t\"./ic_settings_24.svg\": 806,\n\t\"./ic_sign in_16.svg\": 807,\n\t\"./ic_sign_out_16.svg\": 808,\n\t\"./ic_simpleswaps.svg\": 809,\n\t\"./ic_stats.svg\": 810,\n\t\"./ic_stats_big.svg\": 811,\n\t\"./ic_synapse.svg\": 812,\n\t\"./ic_telegram.svg\": 813,\n\t\"./ic_tether_24.svg\": 814,\n\t\"./ic_tokens.svg\": 815,\n\t\"./ic_totaluser.svg\": 816,\n\t\"./ic_trading.svg\": 817,\n\t\"./ic_transfer_avax.svg\": 818,\n\t\"./ic_twitter.svg\": 819,\n\t\"./ic_uni_24.svg\": 820,\n\t\"./ic_uni_40.svg\": 821,\n\t\"./ic_usdc.e_24.svg\": 822,\n\t\"./ic_usdc.e_40.svg\": 823,\n\t\"./ic_usdc_24.svg\": 824,\n\t\"./ic_usdc_40.svg\": 825,\n\t\"./ic_usdt_24.svg\": 826,\n\t\"./ic_usdt_40.svg\": 827,\n\t\"./ic_wallet_24.svg\": 828,\n\t\"./ic_wavax_24.svg\": 829,\n\t\"./ic_wavax_40.svg\": 830,\n\t\"./ic_weth_24.svg\": 831,\n\t\"./ic_weth_40.svg\": 832,\n\t\"./lg_arbitrum.svg\": 833,\n\t\"./logo_GMX.svg\": 834,\n\t\"./logo_GMX_small.svg\": 835,\n\t\"./long.svg\": 836,\n\t\"./metamask-text.svg\": 837,\n\t\"./metamask.png\": 838,\n\t\"./page-not-found.svg\": 839,\n\t\"./position-share-bg.png\": 840,\n\t\"./short.svg\": 841,\n\t\"./swap.svg\": 842,\n\t\"./trading.jpg\": 843,\n\t\"./wallet-connect-text.svg\": 844,\n\t\"./walletconnect-circle-blue.svg\": 845,\n\t\"./wave-01.png\": 846,\n\t\"./wave-02.png\": 847\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 666;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQgAAAAsCAMAAACuYtZZAAAAZlBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+Vn2moAAAAInRSTlMABhQdEgsKKUeEstIZdbP/wlfRwTjgpJRm8fDhhaNlk3ZW+c569wAAAsRJREFUeAHs0AEBwEAMAjFaCv4lbz7+IiHSrJ+3I40vfVzOo72it3JaxHLxI4IIIogggggiiCDia9cMdx5FwSj8aw84Ug4qCoL96t7/Te68YL7GjrPpn0nsxCepLXrA8IQ3NoY/IULp5keLJ0YbHKM1/gfd3PQni7Ak6b6bXU9y8DigIz1+hx9JsvefKwITyfBsVCIOgrPkjlGp7WDiPJqPFWF6kvHpISgox6R+DXKyI35DpK6LJn6oCPEwW/rNw6bEZC4Hc+0iu/Irmttw7wDdKKB8bSKwaDRPF6bpANUM96/aTT2GR3dOEeLBY9p7ABY6vDJkGJakG1N24krVdp+h5qRRaceyNPptgfg0O8dBuiVKt/spRbTiAa8esP4qQjFIxABwnMq85GO2K3Hm+PBVogcCqWp8zAaIMrKTHAL1CUVE8sgDJk7YU+fXlYgrOiJVneBaxjBrS44d4LkC41SOFtClergALkPI7oQiJoYjD5HUeGFMzU/qGi9T0ZKZ+1IZFRMzY5mpZ2ctvLTMfWQaiogAwY4nFOG4HHuY8ILnhtqJCFSlMryvKnIv57DOWGlWKph+Dstii4h6r8BTiggvHnQ88iCBTv8kct2JUAylMtyIgsvirOstFKNrJdV9l4atkTOWRmRSOw9YORx5QHIo5HEnAjaVylhrf5WsZKy0WivSYkmtRQQ9RFM4oQiTmW76q3/WReChh/h8sPqdiI51Yi1/3L4eafZ1DFOOClBz/69+sIiQe93SbE4oAj5TmOOzWHj0pLc0KChOOxHI9EXpMpN0ul5pZWi2pZFl+LkHnJOMUyf9Z7m0bIP6blNY8D59xoZROETV88Wf/5T3Eb6dVm3wPp4r3sS5v/bFjL83KRtcIlRL6/EuYfkbRFzvLC8Rl4hLxCXiEnGJuET8A+HaTFa3F17bC68Np9uG02sL8rYF+T+idSlyqmiqtwAAAABJRU5ErkJggg==\"","export default __webpack_public_path__ + \"static/media/Anyswap.491d1f32.svg\";","export default __webpack_public_path__ + \"static/media/Artwork.a2d41b8c.svg\";","export default __webpack_public_path__ + \"static/media/Artwork_gmx.cc61d732.svg\";","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAAAoCAMAAABO8gGqAAABcVBMVEUAAAAoKDwnKTsnKTsnKTuGh5HJyc6urrWFhpA1Nkehoqrx8vO7vMF4eoVCRFRrbHhQUWARbooBqMcRcojKys////+vr7ZdX2zW19ry8vMUZIIBo8cBqMYBrMUUbYCTlJ0iN00BnsgAoscArMUDqbwiO0zl5ee8vcLX2NsNd50Bp8YBrcYAscQPgpHk5OYeRF8AmcgAo8cUaYEBssUAtsMdTl0Gh7gBmckPdpMPe5IBtsQIn6mgoalcXmtqa3gWVnoBlcoAmckDmMAlMUQiOUwDqr0Bu8MYYm4lL0QDicIBlMoAu8MDtrolM0MSYI0Bj8oFi7clMkQFpbMAv8EUd34iNU0Bi8sBkMsbTGgZXm8AwMIAxMEiPUwKb6gBi8wLeqcKl6EAv8IBxcEMl5YbRWkBhs0gPVYgRFUBwMIAycAdUlwGeLwBhswRY4wPh48Fuq8UVoQBgs0Azr8YaWwKbKkBzsAKqZ4ZS3IDfcQCxLcbXmRL8BeXAAAABHRSTlMAM7D2JaXEwgAAAp1JREFUeAHszjEBADAQArF7wL/myigDURA4OaWsg3OK+VCqCaeaSbkFF/xswQUfa2XRJa8OxNFNYF6gvUkz7u7u7u7u7m6f/1UqZArW/9wNhZ26kd+JZWvy/uMsjOPGQg8c247rOmHblrwm4a8UQ+K2HUswIp3JGhL0BOEmGRGHBzm6FYA29IXwUBCe5eMgUlAVQKUpLCouKTUvKFyaBO4KwCdBSSoqyMrgWV7wcUGK/VFeUZmpqq4xJej4SLIWSlpSIbGjgm6KBJE6eGgxVo/TSzRUFDU2NbeYEvRpUT39OCE7h9sKpJVHBblU8x0hh0a0tVd0dFZ1dfcYFrRCgp6sy6QRCeb0liNBligQwoXndSxEb19FPxtoHhwyJDg8goy6lAofNxyH7mUk6Ftqy5Eg1pJ6zoix8YnJKTY90z07ZzokQvepVa5xyg0mRs6hQ4KIpdJDzC8s9hXCtXRwaXnFtGDeX9MCHryNkaD6Oh4VrBcYFGJ1bXxdXjc2Z7e2jQjWlyk8lAC4q1v6+IgEVSjCgjmBJJlmZ3dvcR+rg6XDo2MzIaG6LGhaS/3zSTAIBaaJFrhePkuxgJPTtbOgPL+4vDIqWKYap1CGUhoPCbIUPBBaEM+SWu4Livv1ze7eLVPc3R89PBoQ1MvDW9UMetifpF1OgtKJBFPBCWIJPdHs6fn0hWleLx/eDAi6tgK6iYQ2COOQIBBHQT0iNb85HbD3j2fYg30VcBY3D8IefPj8MprieNAsikeC2sbTAXboRJG5+v54Pl0bn5BncVf37MXlw8/vPwrWkUdBXQrXrVZEKZDa8DDFyLAO92r0RCmA6/8rr0iFhKCWNjAEgWmwsmq0RY0XjDpw1IGjDhx14KAfwBz0Q8CDfhB90E9DAACtALoxSNWoNwAAAABJRU5ErkJggg==\"","export default __webpack_public_path__ + \"static/media/DROP_DOWN.ef525fad.svg\";","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQgAAAAsCAYAAACZvCZrAAAFLElEQVR4Ae3aBWwcRxTG8QjKQqsUEtOJpTJzw+U2zMmGmZlJVIYwYznMya0ZjslU58Jo2Nu43L7Os2ej7eiMMt+30s8ws+a7f2Zn044PIrpbeFDonPAA4EHhbnsceDBJeEC4P2EBwAOyBZ0rIiFrkWSdAAAgm/BgO1kKdeUAAFhJdJaBUCYBABAIAKhzIAAAEAgAQCAAAIEAAAQCABAIAEAg8tcEHIExrqhPc/ui26Pt78wBAAIRmRXs4h3pIe9wH3lGBLa30V80AAJx6aszT0dXHFt+bslxZ+H841Q49xTlzzpDeTOcFJmWHM2dlr4/PD1zBq8a7qwgluU7vMP95B4cINfAMLlGFfbm8QbmELoIVa1Q2qvzANCAgbjyyekuRYuPUNHCY1Q4/wQVzLHioFNkajKFJ6dRaEI6BcdlkX9MDvlHe5zBCcGR/LHuoSE9R8Qhu18eZfYuKIuuvdnQT9QVVHl0qWK+izoP0IAQiPOrTmpFC49TwTyOw2nKm3mW8qaLOExJqYhDcEKGiEO2CEMO+TQ3eYd7yTMsQK7BQZ9reO7MrL4ch0JKf7+I0j88vx+BgDYGlxiFi07PLFygr8ifp888tyKzS8ESV5eCha4ukRkuLTzR9YV/tMvvG+khD8dhqIjDoBDl9I9QVp98yvyI43CO0t45Tym9LlJG72saAgEJBpuUvOfg00IrcgaGjOz+uZRZEYdfKO09jsMFSu51iZJ7XKWzXa6VucbecrSAQIwU9gtOYXu8c+TYcuV8thz7GoBA1ENgftSR1a/gQMaHHIcopb4t4tDzEundOQ7X6czrt4SSA80YiPaCT46fF3T5mo/98T6/7Xxd4iMqPI0HGyR8IMx9W3sbO74pMw/+UOt/+dP7np+Z+vZFEYfLIg7X6OyblXE49UoJnXzJoAYOhE9wxuGLEwinHFPvqsyU4yvifH6/YP/ZOQyG/Fx4wAECEdvxDZk719bpCZH24TVN78ZxuEGnXyumUy+X0skXY3TipdsNvYLwC3ocfiUQDiUCqgNCWQ0rFHUOqwjAJYa5Y+15EQiK7V6/oi4fl/xOsXb6NV41lJKza7l2ppvZO7yC2jfTJUbvGs6fqczLz48N0LgAgeDLitjezSPN3eu/4FUEu/3Tzjo9KU6/VrrjxAsmnXih/EAz3+acWcP5vesRCA0POEjcQFgrB46DZefasl/376n10ppXDMeeLT9/9KnfKX3gH45mDEQXZf9B9YWcdyifv31NMQFIvEDk6O1tYVCVmfs2abVeRfT4q8vhx/887xxIzRkIdl6Iqk96+X6ZoKufv4o9C6dg4HYnJPQKIrZjrd+KgrqS4PfN3es+55DU5XM2cyB6225TjpRzM2QcDOFp9fPbboF+JDnl2Ew82CChA8GXEhyD6vAt0NiejTN4v6IVBMIa99P/D12Jg/r5z9vONay9BwDc5ty7cYUSBUNZSdjfdpp7NnzOG5vGd9u6sPLvxNt7NizncQ5JC/pFta8yLvE3KR3S/QAIhE1sp7zUkMx9WzTewJTv14m1wdmiKYEAQCBquNSwrxSMnet28DhvVJoyHvb5qt43dnxt8KVIGwoEAALBYns3zLQ/4dX/L1Exv3PdAXVlwe/zOM+3ojgwzbqrAYBA1IK5a50uVwa2SwUAQCDkSqFyRbDWj180AAIBAAgEACAQANDwEAgAQCAAAIEAAATiAdsgAMADViAeFJKsCQAA2YQHORB3cynkAFYSAFg5JMkm3N2ODxmJB3kQABLeg1Yc/gOptOvB5Z4VkgAAAABJRU5ErkJggg==\"","export default __webpack_public_path__ + \"static/media/Hop.4b77c9e3.svg\";","export default \"data:image/png;base64,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\"","export default __webpack_public_path__ + \"static/media/Hop_dark.423942af.svg\";","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQgAAAAsCAMAAACuYtZZAAABmFBMVEUAAAD///////////////////////+PcOZ/UON5R+KNT+iFQeWSYOi4hfWIP+aRP+iIP+WUP+ibPeqSPOiiauz///////////////95VON4U+O3N/C1LO9+WOL///////9yS+F4SeO/JvK+IvF4SOP///////////////9+WOWHVeXRQPbKHvTRO/b///////////+pOOyxKu6+KfG7JvCxKu+wRPH///////////////////////////////////+qL+21J+/CIvLTS/PCIPK2J++sMuz///////////+eT+2iOOu3QfG8MPDNQPbUH/beGff1Zv/gGPjVIfXNNvS+MvOiNuv///////96SOKHQeaZQ+noMvrvDfv3A/3vC/vmRPmHP+V6R+J7SOKIQuaXQefvDfz3Bf2ZQeehNuuzPu27MPDUHfbeG/fTIfWiNuurMuy2J/DBIPGtQO2wKu68KPGwKe7NKvXKHvR3SOJ4SOJ3UuK/SfG0Ku+7QfF7V+OUPuidPeqIQOaRPueQP+eQT+iFQOV6R+MNOs0rAAAAhnRSTlMABhQdEgsKKXb/V/84Gf+z/7OF4SkpZYRWdnVmwVeT////wv//lIU4s1dXOMI44MLSdv+U0v9H4dFHV6PBGbJ10v/gKf//o/DxZkekR3Y4lIUZk4VHZrN2pPHwdjiz/8Ip8fDS4Xaz4XazV3WUhYWkpP//V/+z/2bB//+FOMJHZrKF/8KzVzMrutwAAANDSURBVHgB7NDFAQRBCERRfHxa8091PYK9Ur8Fzo+IRdMnTMRqHslzUyaxQGFC6oHClfQ90f8QgAAEIACxAOLTuq2AeLcfOyDO67dcZ2qI8y6/rdQzM8TV+m/rYz65LYvt9nkgju7mDWSXp2Q5JdsfxkqscmunzMzMzPjqf4+isrv3iQq6yZzfQlf4W5gZZhkrYRHlFRoqqyo1VVckZGuQmlm6ImrrNNQ31GtqrP0ZtZDbYGeQl6yIpmYNLa1tmpqbfkYdV3WeU9JnxF9//6Pp3//+T45mfdUJDsJkRDkTmMlEPjClqhj59g4iYcqOIK8QmBnkDSiW24MalnoRnV3dPQp6evv6k6MW5mWRBFrUOdmY8ui6GMYF6ccUhQyAox+5HvoSwMYsEaiy50ZYSLeIgcGh4ZHRMYDxicmp6aGZgaSodBHbDUmYdYAGOQsCURBxGn4OgEUZIk+SrTmAjEcrhypBJADkHLIUi5hfWFT90vLK6pqixfWNpLCYi1AtiwINzUL2tjZcF8C2iTIOiWCEcxgXHEk5pqyRzGguxSI2t7aLInZ2d5YU7W1tQnKz52jJS5p4x6NpL7yJANNH9H0E4BFQy6GI/8J8hw1quwTUQjfdW2P/4HDq6Bhg/Phk6vDgNGlrSCFVP0urYQ6ZmmOB4k2EhXOcW1kSoU9VqjHuIgaStourWiblh+XZ+YU+LC/Oz5LXAs7q8c2qDxayLyL0JiERqI0x0EtjDgooFNss5SIur641Xd9cJkcjX1LH1ZA8h3bGFxE8BhYqEVxfKhBliHwXZBQULfIUi6hu1nB7d6upufpnNIehWWa2ozruCoizX0W4oSGMMFIisEYYvjpQYxI1WKBAYIiO0JNpfmLf/3hiP9QmZIWLiBGXxDJC9lWEpKrFkdFFmkXM5qjCI4ooj/F3OCfT/I54fNTw9Pyi6fXxl0vjnRwvwRT9K54R7H3EjL2T/WdDoRve0AhlNTbwEmGOJZ42opr8UB6YaWqGslqaCA7MqFuLuxuw4QmIkTJUJ2ruoYEns3vqD/XB29a2VjA9OpzfPjqcPzrBgxWMBsRoQIwGxGhAjAYEK4geXUwGXV44urwQuuB0dMEpdAny6BJkAMRHfxzYlb9eAAAAAElFTkSuQmCC\"","export default __webpack_public_path__ + \"static/media/Synapse.3cfd1d07.svg\";","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQgAAAAsCAMAAACuYtZZAAAAn1BMVEUAAAD////////////////////////1vjzzuzPzui/yvDTyujD////////////////2xE3/////////////////1nrzuzH////////////////zvTb1wELzvDL0wEbyvDb////////////////////////0uzDzuzHzuy/////////////////////////////0vDLyujD////////1wD3k7xDPAAAANXRSTlMABhQdEgsKZqT/o/EpRzgZOIX/wcIZ0nbx4JSEScJFiVeEk6NlsvbR8vDS4dFmpLPB8FZ1ZcrSjpcAAAKDSURBVHgB7NABAcBQFAFAD/SPvPX4LsIBRz2PB5ycPi7Wge7UhNJpBHV+i1jEIr527aipUR8IAPjTP4KSpGxigaoK0P49AFDv7vt/ttvNmpnrVfrgE7TZmcBOlIf8Jlkk5hsQNwHCRRTfBgjnEKNEgCAHkrhyCHJgieuGYAeWuGYIdri7uTsjkUgKRamW6kIh2GEjNmckUnBh0ECCvUyI+y07CJbY3n8NkUkps7wQQtndRUKQBDuQxIwDQki67UBdao14eESJpw1ebpFg84SX55dZiJJulWtJbWopKGRtqoTqSJXIxlSaOxtTl8LF/mDqZOkQD/H/jzwtXuNXngzPP+KXOYhDroWAFNuh7WwONNQGOttTJqEBa6HVrrPHzgYzPbifj0uGIIeYJdAhZgl0iE8lUhiMMUWOHAxBF91bGv6EfbaljLQUpK6kYOdIwzf0jJ5ArgRiy3VyHqKz1vZQe4iee+nFqt2YE4RwVdSiTmEFxbRjF4z8bS1LY8sO55fG6BCoTR5ClAeAwoBEiPETQvPoKTIYDEVbrKFYvlOxjKhYvp8vlqKzBMGNIUqwaZp2DkIyhJ8GfipxLByC68PH5+vzg+vEPIQ9gbAdZdkRhOBFIpRCp9KnS4egOkkS5MAVcx5CwXQCMVA2HENMrXuftpPQueEH01X8iU0S7BBHMzOiqaqqafPkGIJaJX8aOIZI8vaX3Bf02yOYvdy3vV48hJf47R3mvzXyt0T8CyF2AGAzGP+GEMpSr1sOZY/ppFf2GR6Jb4T6cpRS+NBqdRszUdiq8w5h89Y7hO18cggQ4R88sxEgAkSACBABIkD855JwmCwcL+Tjhf7AaThwGo4g8xHkP7gaLtKObnJaAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHoAAAB6CAYAAABwWUfkAAAJYUlEQVR4Ae3dA5jz6NfH8bOcSbK2bdu2bdu2bdu2vTvJzKxt2/am7aN13+/pvvnvNd12Ju0kaZLev+v6nDWe/uZO0gaVvKRcLk+C5bAnLsHDeBHv4DP8gGEIMgRf4z28iC6cjV2wNCaG5IWOrFoax+BR+IgjP+I+HILlYJui4zcvDoGHEWhVnsLRWNgUHZ0pcRjeQRpTwBVYyBTdOAvb4glkKa9hB9im6P6Ng6PwE7KcAk7AeKbovibFmRiCPGUozsTE7V60hTPRDjkZTjsWvSQ+QzvlW2yPkduh6DFxOdo5r2O+PBe9Ir4FISbH57Hok2Dy37yD+fJQ9KR4Fib18xt2yXLRK+EXmITL7bCyVvRBMGk8b2HyLBQ9Cq6FSfP5DFOnuegx8AgGH5OvMF0ai54YbyK6mHyLWdJUtIM3EH1MvsZ0aSh6FPTAJL58gclaXfQ1MIk/72OiVhV9FEySyyvoSLrojWCSfG5MsuhZMAyticl+SRQ9Bj5Aa2OydNxFP4DWx+RTWJCwsvv5tcnpcRQ9A0z+GxdzQkIaC6cgqswfddGPoG9MNoM0aYaIjnVej7LoTdA3JodDBmlORJGdoyh6DHwDk38zHGNCIuBGdCPgWIMt+hz0jcnjkIjsn9SB2QA3uNWISS8kItsgqkzTbNEXwiTeordFVLmymaInxW/ITkzRf2DqRos+F9mKKVpzeSNFT4zsxeyjg0wRtujDkc2YFa05NmzRHyO7MUV/g5EHKno+5CUj8FhIT+Zo061ZfaCiz0IecnkTTxqYGW5Oir5voKK/Q9azBmQQjshB0RqrXtErIuu5BBKBV3NQ9GL1ij4bWc8s0R8kZbbojeoV/RaynL8gEZk3w0fdQdaBBPL2IYlEZNocrOg5ahW9mSm6j+kyXvTX9Y66rzRF52pF71+v6I+Rh5gVTZeQajo6kIf8kcGit43hMqf56hU9L7IfU/RfWA1Sr+hNkf2Yonca6AqTY5B0nsFjIZXMwdiAOQsyUNG3JHwF5dyQBoyHi03RdXM3JEzRLyGJnAAZhBVM0f/Js7DCFv1+Qg9KGwkySBeYffT/8jLGgIQhCT03e3tIBGY0K7qSlzA2JIwhnkwkCT1aeXFIRAptXvTLjZTsu/ZxhW5npeCFizuLQiLyVRtvut9opOSS27lkwXPKfpe1niT0ZWGLJFB03lf0aw19806PjF1w7W+16GK3tamUiSk69UX3NHoHp+/Z92vJqug6W+qf/N1sulO96b4Wo0DCKnrWnpWSA93WhvoXSqboVBb9Nw6DNMLvsecNCg4Ue5yV9S/+YIpOXdG/YT1II4Z125NR7HfVRZe6rcX1b/g8Vftos4/+AUtAGvKUjEmp76JcbWjP6HPq3/RKala0WdFPYxJIQx6VUX3PeVxLrcXv6pxG/8aHTNGpKPo0jAJpFGXegnI9RVfG07/xalN0S4suYFVIM3zPPqZ+yXDtXyG1v3zM7KOnSajoxTEtpBkUuEu/JcN3nddRKXonRBCzopNEedtqkQNynVtRKXqxbBVtii661mYFz/47TNF6UgOVosfISNGm6KBk1/5LSwyj6HVuDhFGBO+lzfvoJBRca/2g5PDs+SHC0H/JnYg2ZkUnv0+u4nv2cIhiVIo+IL1Fm6JZjCdocQ1znR6I0hEc5qetaFM0n3hR2M0oN+lQiGJUiu5EuJh99EOQ2D0kY/mu/WTTJaPoWgtBlA4V/pHCpuhzIXEa7llTsqV9fzAl+549FBLQEeynd8fAMZvuxeLdH3cuR1E/oTw49t2QQGWoyqMFB4pZ0QfHWzL7VNf+c9Alo+hZm0AClRHQS0lN0TVX9KtYIsaDrjFYbA9FUXCw2WYf3wEJMBAol/cxRVdMg59xPZaDxKXkjT4LJX+iBUXHvgxSc9Ot9BtNTdEVnZC4+d3ONrzuIyItGSXPWgwSUDr60LcP5mAsXnqLTLCpjp79CaSajupVvY5Z0fEpec7WBdf5RUuJyQGQajr60EcA45MMruiv23UVB3zXKemBHaQao4ZyedcMrug7IWlUdJ2tfM8paBnxsk+C1KKj1ubbws8ZK3ru1K3intFn9T376fgLhmv/VnpUJoDUwqhNvwovI0U/g1khqcHmk1V8JovmDy0hGfalkIZWdEA/KEhp0a/hTKwMSRO9c9F37W8SKzjwcMf0kHp01BPl6cupIBGZDJI2frczDy/4Iygnreg5Z0H6o6NfEXzf8aeQvNIzTb7n3BBcrJc41/42ONLuDyOEcvkmNJsVILnD+eKCZ52mF8gnXG4Va2PIQHSEwi/uQAxD2Hye15KL3fbuBdf5ubUFw3V6IWHoCE3vuscuuAweenETzsKh2BHrYUFInhSelHEp+Ehe4O9Rbj17RHAAFoYOox96z3HRc872PXtIGgoO6NE9JCwdRg16T7HvOddHWU70pyHD0wFDlV+S0fTKDN91nkhlwfA9543y2zI6pBEMY+ijziR6j1LwuKYUl1zQt3OQRuloW/oQF17A21DOBLdzBUgzdLSVotsxAyv3RFbwl5kpGHoGDNIsHXkXXHy3ve/ZT2Wp3OpbXwdDRy4Nc+1J/3kigP1gcF1WRt0CGSwd+dFtL6A//RT7UlaLrdINafui9drlkmevoedifc/+OhflBlz7Tn27B4kCI1v0KorK/ta178GwXJUb6LZOgURJR6qVejtmqlz/7NqX+67zdnA6MJe4HUefxAuJmo4UkfH0afEF1zmY1Xovv/0x8+WFv4KzqL92SBx0tEZv53S6fy169tG6GQ7e17Yl134h+MQrLjpip7eCVk7xuc5N/KJeCX6BMFznDEjcdMROP0tm3+qZYv/1/9d5rwhJgo7kuNZGFP9D25fsOtfpDz8kKToSVTng8uwr27Tkd/Qh6ZCk6WiNLmtRVvd77bKZLnrWXuXbZBRIKzBaSx/nEFymkz/2CL0MqdQr40NaidF6le9o8uzDc7P/du3ffNe+QO+ghKQBIz3Kz4hV+Sof1/4owyVfNaKncypImuhIpX8eVmqdxsr4LOXF/qWPYtQb3IM7JtKIkX564KZfKYCnU7T/fc53rf31vDck7XRkin7tjz7O2Pecc/WjwySvvtSb2Uquvbb+P0CyhJF9xR5rkaJr7a3XO+uluk0f1Ok/V/nhsW9nt3Gy3nqjFxAGR81ZxsgnXXX6GCa/q3OZavqDMbTLmUtvadFNr94wB8mz/wOzaYjghQ+bkQAAAABJRU5ErkJggg==\"","export default __webpack_public_path__ + \"static/media/btn_big_arbitrum.ff6ad480.png\";","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAf8AAAB/CAMAAADW6DvgAAABF1BMVEUbIDIeITUbHDAXGCwhGi2HLjhhJjNhJzNOIzJPIzI8HzBYJjNrKDRqKDRYJTM7Hy+QMDhGITGsNTwqHC51KjWaMTqPMDkzHi8eIDYbHDBFITB0KjYeITaiMzt+LDceITajMzt9LDdCIDCZMTo4HzA+IDBLKDmBMT15LzuuOD+TND05JjhRIzJyKjVwKjU2Hi+RMDgyHi8oIzdSIzJUKTp7LDYjGy5PJDKeMjuELThAIDBjJjSbMjqKLzg5HzBUJDJ5LDYlGy5hJzSSMDkfGSxqKDUpHC5EITEnGy5VJDMcGS02HS9DIDFAIDFFITFDIDAsHC4eITYcHzMaGy8TFiMeITUAAAASFiIcHzJlLDowJDduLjpCJjgHX8VeAAAAWXRSTlM4+O////////////////////////////+18P//+f/////////////////////////////////////////////////////////////////////6vvJR+SRTwHfs7R4AAA1sSURBVHgB7d2Hmuo6lgVgute2jKRNkLYoTcPgQ01NzjnnnKdzvO//HAOc2+jjkGRjwFT5vzmHtSwkWTaDwTe+iZOowJYqkY2GWhP2KIMvkLGsRuMJnf9Hm6lDiwq/UeBGRDOPBfUwGgh+bfZCuEY08ZvfGPzCt3Ca1vhMOCLL3DrCl5zBUWLUyRZYBVpMI54i/yRa5iHdOn+wnzmYqcGVvjX4xcx/OWszwldacIQxOCM6xVwOJ0gAWr6Uy4rQKpvyv6WoeDRHJoUrKEW4zuATTiOFrawhIFobT/4hJOdbELFFL36N0C6aeu9XEXdgFJcTXCYa1xB2N8zfCoCsISAq5doouXFKcTmfvPgNg5aRVZZwJ+SUGkecZwyuY4LcLH/GPlERR8hY6TYHOXKV31J4dqKVGgpOU4RrqZJuk390+JJTdBB+sNT6JCfl//zEspoTjmNcT8IQtChepeX8FQ4RGyQ0rlhuMMkhv7ESvBfR8miCI1SLE1tvkO+XLuZPFse4INiiYQjmJpPcuJxN1/E7vCtGqcMpYWhzZfvSav5acJRUJUDD10ITcIv8zcwCxuD9Icf7U8KocA2aTCbjclS8+c+Q7Zd/JeVfOzR+e5kpQdJq/noa8Y6R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\"","export default __webpack_public_path__ + \"static/media/btn_big_bsc.5e5ec82b.png\";","export default \"data:image/png;base64,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\"","export default __webpack_public_path__ + \"static/media/btn_big_purchasegmx.86c08dee.svg\";","export default __webpack_public_path__ + \"static/media/buy_gmx.01459500.svg\";","export default __webpack_public_path__ + \"static/media/buy_gmx_bond.ed3174dc.svg\";","export default __webpack_public_path__ + \"static/media/buy_transfer_eth.373e200e.svg\";","export default __webpack_public_path__ + \"static/media/coinbaseWallet.ae86a337.png\";","export default \"data:image/png;base64,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\"","export default __webpack_public_path__ + \"static/media/cross.2c9772ea.svg\";","export default __webpack_public_path__ + \"static/media/chevron-down.88670207.svg\";","export default __webpack_public_path__ + \"static/media/chevron-down_sm.697f08ea.svg\";","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHjSURBVHgBfVO/a1NRFP7Ova8NQYkZigSDJbqJQh4Ogk4NiqIuCiJuDZgOQhGKk1P9C1Tq4KJQR12yiRWkg4ODg3EQp7ahpTSUQtMftE2bvNN7zstLXtMfH7x3f5zznXO+c+8l9GB7IlsEYZgBn8BpBtUJqFjCZP/o4qe4L3VI7zM5apkyM3wcjyq8oJB8VqvKwkRENM10L9EMXEbfvY8w2ev6Oaif+kdk2VBDG/bSYySefEffrTe69q69iMfMUZPK6tfWWIxbeeUfTOYqzGAB2FoGDVyBHRwCNhbAqzOiNjN+P1U10pyjxFF/Sse9r0+x+/k2kDgD7+bbjr3FQdELu3oEOXsD3FiHzZd0pEQKvL7QrQ7kGzmOXqI0SpyDuW9K9PyRsIofY93gQNrIOcaJ9uIdWL8Ulvb/C1p/P2C3/Ci05UuxzKh7hKDi4gx1IrqsxpUskC5LqZQ6HxpdFd3MXLEv754mQ/Qg2gwWf2m3ldBYA5066wLMOwlTaP1+7cpptNn8Snu18+7cH2lcR7O7EKLZ5kew93Ncgx0AczX5fOmCp/Nm8BCWpkGUi7Kr5tkpHIIjunMqaBL5Jcdq4YYYToDoFD/1R+xhRNicyBQt0TAz+URIu/teJ3Ik4snkaO3Aq9oHE/y09owWmgYAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAPCAYAAADtc08vAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGoSURBVHgBpVM7SwNBEJ7ZXHwSH6CFlQG1sPMB5hAUrQQro8ZgpWCpkNhZCLn8ApPCTrC0CDGpUvpsYoQQLSysoq2CSKIhJHfj7pm73AmagB8szDc3s/PNzB7CD5QSsps0ChDBEqdu3UmQA0Y5xli43ZvOW+PRSopxTxAJDuAPaERhly+jGJwZxkdMVhol6wmIoUJsSrEpKMblTSQ6FrZjcBFY34S96ksW1OeUzaeq5O3yZ5LsWwaFzAoiuVIA9SllHkf/OLQtxAE7BswLJAl1tViIyXMM6dz44JzcB+01qydaIQ37wTEwA+XrnboyUufxM+EJkAoR4WidPeQKxqERSqfTRv9Bia+sx1hG+Wr7VwVGgcrDkckJqef/CtQq3vEZNFQgDa8B8gFX0numD5mWYy5f+oLbeWswOl36xMVh/RPgHN0CacgP1fuINSzfvnx7KQlLBdp1ACaELaqLVUrdI2ak9v4I1bMNoEqx3j+QUmuj1ldcDvFnqkAzQFI6VzJh2wXNXiIG17F6E7VwO95OZHeLU+MvE8c4Hau583zOyXIVo73r9r/xCzLjs4Txvi/RAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAPCAYAAADtc08vAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHoSURBVHgBfVPPaxNBFP7eTBI31Wr8RdpDYRURxUMCIogemoJnrUdva/QoWC9etN0kXgXJP6C5eRK8efHSkygICYq0IDR4MIm1ECGaNMnOczNpNrtT6INd9s1775vv+2aHYITjNmwB+RCMZT+195arIFQVvGKlOF8P91M4ybvNFbB4gYOCveLLZ/OFSSqC4dVWwRw+lZK4cTUZBSDp5lcbUYC8+8sBkWtu9uDOUVw8m0D6pNwH4jxtLU8ZMPYNX89aWJiL6e8rlyyzDCFIsxX33e0cpmYF1G8tHQ7yE8cEMucTJobtPGnkBAvOmJWbSzOQPuuNrQE+fumh+dvTUo7MRDz3e2Qmxh6lRhomkYgT4v5T2+zrvLfL2Nzpw0oQTh+X6PwbBr0MSsVIcpu9KWp/wPj2vQ9PAecW4nptOGT8/KPAKsqUwG3hKaqZEqxDhAt2HOufu9hpe0jNSixeTqLTjSIopqoWdXettUUgO1y8d3sW1/yT+FDb1azevO/gb5dD9Ln+qpQ+o4+RCY9MFq/fdfTuSYvw6WsvMrwnoKCNHL2q6883MouPR/91blIe+F79aI4NG7GIUAcXKqV0eexDKJy1bVf4RRwQCmqlUporBzzMBn0blXR9WVm/mB3rRZ0Yb5XwyuZt/A/V0KylFRZwagAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEHSURBVHgBjVMLEYQgEGUuAQ3EJNrACNLACEYwgjYwAhGwAZqAa8DxdsAB8Rx3Zt3Zx779gYyVIr0qr9arCxZ+zx5EeNWB8E9NiCuIhnP+RHThvEhARK21W9fVCSHcMAxumiay8JdlccaYmECnM1JmBNyJtZbsPM9pJ7QDFQFUQCAqNE1DGCx8yGUs8M6tOiklBXVdl83ati3hGCHB7cd/eOy/qiqy27Zl29z3nayvnMIc5G/0juMgW9d1RvaVsyRBvsXMcUF935OPljEzMPjXmWUElFLZdq+Cq0yWdr44DRAVcLc4xNLGcaQOcAYc56G6SfsXAC5tvX5hZwL2/Lb1HTEVyV7+VT9KbxPpO/XgrgAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAPCAYAAADtc08vAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFDSURBVHgBrZIxUoNQEIbfvkcVmxyBJmoSC3MDPIGWJmNBTgCeALhBPEGoJCVHwBNoJRgbvEGqjEXYdWHChHlA4Uz+hvfe/PuxO/uD6JH58D4cDC58Pt4jwjLbjJIuH3QXDlwA6RDRsGEMCyyCbDPOewE3T98WIq1LjugTUoACwxpUAa4fU1MpY81/tDSzz+YfCdITAE1oTnR4TqNJbJQ3KZXVLCYSCVGxbLQbThZfHgjpkqjGYpjh8DeWrQ4R/DS6vNNn/Xy9Cgo8zHR/C6AU5KJHOrQT8F+dHwBEZp+5zIj+ZugPKMifLrZmMzRauNoAxCJRSvHqhFXe2WLzau3pfLviHX8QoV9y6mIOz44Q4+P5JA6U3RGa03hVIa32v/uXPJ7tWoBa43nmggCnCeoIl+gFHLsxeQyPK2+RE5hFo7cu3x+G+J1ieOsLEAAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEuSURBVHgBlVO9UgJBDP6wszut7LxWG6mtHF9AHR8A3gB9Anpt7C3Aws5CZ9TKmbOhgzlooIKDBjoWKuhCQrif5ff4ZjJ7m82X5MvuAUsgojybx2ZIYRb7HDaBD102n7YjkLh1xIDSwU6wBzGEn9SYcPfTJsgJ2bNcZsKeDjf2rIlKVd63ubehnsXwDrh4dmV69QHgOsBoCvTGwN078PDD/n4yKitkxyKOJmo3ZyIKKF4DhUtN9Pirq8KRto3VdvGPWzR2m7LmP1jKE1HhOxIoletR1c8m8NXSyu6R+v47al0DnLIvk4nECfktIjuHGiQayzXgpcJJjoHbc6B0DzR4FhcnYXQ5vC7fuiqZ9tWrrnGb+h3MVQa7X5gkCvXHkDjXGjKle6L+CnEpSeq/agZ2kCMI5PSNywAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAPCAYAAADtc08vAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAI/SURBVHgBfVNNaFNBEJ7dF6sRUhJUqglK/KG8kEKF1tSCQiH1WEguHltvXgJG0iLtJcnFIFFsIR48xpteInpsAgpCTPRQpcHnXw1CA4KY0iCK5L11ZrfvNemhA8vb2flm9vtm9jHYY/qtatA0XTc4FzEQEKQzAbCGnzXOzaxxZ7LZi2e9Tmj+ddJi/D7sYwxE1shPZGyfOzcv1DJ2cuJKAGYvDTlJc5eHID5+FBQbliZsXwF9oX6NAgHfQSglR8BzSIPS25/4dclVXm9D5IwHY2EZI+xwqhZzCggGaXWzHyrrvyD3/Dt0/prSp7XZ/geLT75BpbEFD+bOKSkaSLZcT72ZomZFznrkLYVySwJyV0/DoFuTKzHtl2eF1U3MZBKHtwb1VHXKJbgYpSAdFl/9cHST5mjuPTLpwgVK2LEKyomGfVDf6IDg2igXgnkpQPoJbFthtSXpFq/rEDpx2DnfRgyxktIxlzMmtsghzdQwMgJ8aP2G2HIDEsXPOIXjToFBxGz/MVUfMJczy3xHTrnRhumwV92CgKWZU3Kc8fFj6O8yi474sJltuTfpcRn3Jl/gvln/2pENio+pec8+NFDWAIT8bslEvgd8GwHvgNSPAppf8pGXkrOwxE3GWWnx8QY8Qs2USNOgriu9TLEZOyILqxzISBk2teH5WpoxlqFkApPR7MmWZk6Cx+2C28/U+xBCZD7dncj2FegtAvualfyYv7hie2xvWE9Wg9YBLY2B86AWWdMS7KnW7a4Yy/1/43+jYdjzTW6D2QAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAPCAYAAADtc08vAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHYSURBVHgBlVM9SCNBFH4zu0rk7nSvuuO8g72zuas81MafQrEVRYuUatDeYONfkU0VtVDSC0HFysJYWigR/Cn9AdFGXDCYiEViUBR15jkz68ZNiIIfPN7bN+9973vDLIEimLGg8UQrghxIFyXElDmOaBOCiTLGo3ZgyvbWE+9H9cJEUCRCCGjAGyAMw8lAxHK/NTf4OT9mCbqICH3wHihprepsIbnVrUReQfXCeL9wMUX02YBfn76W7D2/zUDyJqtizp66U4HpuP5yFnKL/H/qYLi2vSTBzME6zBxuOEI0fVa4ODFj4/8fNdhzixq//VYmMfivWfm5423ldy/PlEH+PlibznRqAvJ88iiTUlZVXgH+mnqoLPfB3MkOVJb5IHmbLVDEdK1W58gN7/Tcw70ikF7i+uFOxdLkuSRcOz92FAAYupdRypNF/po61XiUuXBW+dukLlCSuM0SCJDVGWMJTdMKSNw9ww0doghhILEEpYCI+zQtX5Z4ZfBBiGY73RvZpM4uPAwfhNjfkl5pz61s2196mkWStHqL5GUun+7B1f1N0XRuXfRNRl+IXvFjcTREkFrvDM5yZFaqbyrqUVKI77ERk2h0iKJQQ8B0RoKNwOOc43y66G98Bj1CxfZyFDl9AAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAILSURBVHgBdVJNaBNBFP5msjFRobsVsRVtGEE9RVgFT0VIQS9ejBfFk6voRRA82aBoLkLoLacetZ4EDzYo2INCAtKDl2bxKBTWRDH4uyuIxmRnnDdN0iS07zLvvZnvvfd98xjG7NtMwYNilxljrlLK0WeoTz/BsTTZKD0efsv6zk8xL2SXLyvAxTbGGAKekHOTwUIwABtgzKtKQVAcyTaacajPv8gmp2Hz1JYFLEoMA5/8fodfqg3oxMfd/3D362uc3XkUtydOGTC9kx2+rN3jrMfxEV28/PMeGcvBK7eD04UryOVyBlCr1fD25iKuhYcHE2gNPIvE6SeacYTWyT14sDKiiykiXgg8PXcPF37MmFws4XFNwgi02v5gOp8p3dhSLCEE0ldnERGlDXN1Z+WQN8HSJhMEAcrlMlzXRaVSQT6fHynS7Eawk/vIdSzdOaQCGcs2VWnEMAzhOI7x+3EURajX6+YHehZSZ59o2TyNS7uOwfd9eJ5nbse7rr9Zw2wq04uUz6VSA3Wyepz712+Z0ceNik49W99MKLZkluT7wTt1BeWeaC2ioTmROMVi0fAmqz5fQerhGi7GR3pABHs/lQ4Z8OfpeZFM8KreN7Habox0tFkK2R1TQx0RdGI5t7+1EAx2e7gAtjG9XX43lucJSDEbf/DlQMHjDHpxuJ6ZvlH/BqRPHPWoI9vzH5xq3+2NFxVlAAAAAElFTkSuQmCC\"","export default __webpack_public_path__ + \"static/media/icon_arrow.59b289c0.svg\";","export default __webpack_public_path__ + \"static/media/icon_check.a37b7ce5.svg\";","export default __webpack_public_path__ + \"static/media/icon_close.9972202b.svg\";","export default __webpack_public_path__ + \"static/media/icon_close_sm.be2b83ff.svg\";","export default __webpack_public_path__ + \"static/media/icon_close_toast.d527cc94.svg\";","export default __webpack_public_path__ + \"static/media/icon_dollar.f46a93fe.svg\";","export default __webpack_public_path__ + \"static/media/icon_dollar_active.3a2a7bba.svg\";","export default __webpack_public_path__ + \"static/media/icon_market.05f6ef86.svg\";","export default __webpack_public_path__ + \"static/media/icon_market_active.af684a3e.svg\";","export default __webpack_public_path__ + \"static/media/icon_trigger.c4291240.svg\";","export default __webpack_public_path__ + \"static/media/icon_trigger_active.a6e3f64a.svg\";","export default __webpack_public_path__ + \"static/media/icon_withdraw.29572b6d.svg\";","export default __webpack_public_path__ + \"static/media/icon_withdraw_active.7210cab7.svg\";","export default __webpack_public_path__ + \"static/media/lock.3a55a760.svg\";","export default __webpack_public_path__ + \"static/media/long.0f8a81b9.svg\";","export default __webpack_public_path__ + \"static/media/long_active.8a037ed6.svg\";","export default __webpack_public_path__ + \"static/media/short.c75b3ee9.svg\";","export default __webpack_public_path__ + \"static/media/short_active.d3098d1c.svg\";","export default __webpack_public_path__ + \"static/media/flag_en.c92a8361.svg\";","export default __webpack_public_path__ + \"static/media/flag_es.4ba7dfef.svg\";","export default __webpack_public_path__ + \"static/media/flag_fr.589da1a2.svg\";","export default __webpack_public_path__ + \"static/media/flag_ja.81aa61af.svg\";","export default __webpack_public_path__ + \"static/media/flag_ko.97c8fe63.svg\";","export default __webpack_public_path__ + \"static/media/flag_ru.0c71e16b.svg\";","export default __webpack_public_path__ + \"static/media/flag_zh.fd0e8daf.svg\";","export default __webpack_public_path__ + \"static/media/glp_icon.ef02d046.svg\";","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABPCAQAAAC3gKgqAAADyUlEQVR4Ae3BfWhVdQDH4e/Z3Uvb2lZukS5sOEI3UHS95xbBqg2iQmcvpCRZZClYkBoWaAvpD0ncHxVCFjE0iyE6eyFqK6K3RRTaiy1ptaXljDnL29h2t7v7iZGeTuuen9vd7r3nynke+Xw+n8/n800EWToXUMKrVCnVkcELwPsUKbWxlH5GbcZS6mI23/OPk9QqVZHNTv7VxiVKTawkhFMDAaUeKujkv4LUKdWQTzP/9zWlSi2sI0w0O8hU6qCSbqIbYLlSBYW04O4w5UoFWNQTwWQ3OfI+aujFbIhV8jqKaePsuqiQlxGggfHZT768iyX8xfiMsF5eRSnfMn7dVMmLyOJlJqaFafIe7mOQiYnwFJa8hXl0MHG91MhLyKWJ2LRRLO/gEYaJ1TYC8gau5iixC7JIXsAFvI1ZK3sxOcAsJR9PEMGki/mUcBCTF8lUcnEDv2MyxCpJoo4g7vpZqmTiIj7EbDc5kkSABkzaKVOykMYzmP1AuU6jmM8x2UW2koNb+AOTAe6VA7WcxN0QDysZmMkXmO0gUw5YbMakkwVKNNJ5DrODzNIYFPEBJs3kKbG4iz5MgixWFFzPcdyFeUyJxGV8h9lWAoqKxxnB3TEWKlE4j0bMPmOGbAQIyEYBb2DSQqESg/sZxKSXm+XAA6yWA1fQhbsIm5QIzOMnzOqxZKOCI3RzrRxYzRDuTnCj4o3z2YNZC4Wykc9+Rr3LNNnI4TVMPmGG4otHCWNyjIVyYB1hRkXYKAfKOYzJs6QpfriGXzEJs1YOVNLNGT1Uy4HlDODuFLcrXriQdzDbR55sFNKK00dcLBtZvITJV5QoPthIBJOfmS8bFk8z1hbSZKOUbzDZTqamHtX0YBLiQTlQQy9j/cmtcuAO+nDXzzJNNabzMWaNZMtGMW1E8yUzZSOdBkzaKdNUIo0tmB1itmwE2Iab58mQjWLaMNlJtqYOt3EKkyB3yoHFBHHTx91yoJZe3IV4SONi6awo0V5dLpNf1KiQLI1C6bpHZXJ3SIusDp2GpXo9qXS56VKddUCTRwbbmWqvkCUbRbRiso88TR7L6GeqDbJCDlRxHHdh1mqymEM78dDBXDmwgRHc/cZ1mgyy2UW8NJErGwW8icl7FCp2rCREvAyzRg5cyRHcRdikWLGATuLpKFfJgTUM4+4ENykW5NNMvL1FgWzk0oTJp0zXxLGeMPE2wgY5MJcfMdlKQBNDJT0kQi/VcmAFIdz1s0Qu0hVdjpoV0fhZik1Al2JZ6IzXVag5iii6dOXKq7Dk8/l8Pp/Pd676GwYUP6Kwt1/bAAAAAElFTkSuQmCC\"","export default __webpack_public_path__ + \"static/media/gmx-logo-final-white.b7833ed6.png\";","export default __webpack_public_path__ + \"static/media/gmx-logo-final.0b59e423.png\";","export default __webpack_public_path__ + \"static/media/gmx-logo-glow.83c5aea5.png\";","export default __webpack_public_path__ + \"static/media/gmx-logo-with-name.03a4464f.svg\";","export default __webpack_public_path__ + \"static/media/gmx_logo.2b33868e.svg\";","export default __webpack_public_path__ + \"static/media/graphite-01.6f3526cd.png\";","export default __webpack_public_path__ + \"static/media/ic-communityproject.9b5f97dd.svg\";","export default __webpack_public_path__ + \"static/media/ic_arbitrum_16.f4c1a9fe.svg\";","export default __webpack_public_path__ + \"static/media/ic_arbitrum_24.21ec7bfe.svg\";","export default __webpack_public_path__ + \"static/media/ic_arbitrum_96.b12913b6.svg\";","export default __webpack_public_path__ + \"static/media/ic_arbitrum_hover_16.d779b479.svg\";","export default __webpack_public_path__ + \"static/media/ic_arrowleft16.21502a04.svg\";","export default __webpack_public_path__ + \"static/media/ic_arrowright16.b425521a.svg\";","export default __webpack_public_path__ + \"static/media/ic_avalanche_16.90aca01d.svg\";","export default __webpack_public_path__ + \"static/media/ic_avalanche_24.be4891c9.svg\";","export default __webpack_public_path__ + \"static/media/ic_avalanche_96.b6255c50.svg\";","export default __webpack_public_path__ + \"static/media/ic_avax_24.43583fc4.svg\";","export default __webpack_public_path__ + \"static/media/ic_avax_30.403cd87e.svg\";","export default __webpack_public_path__ + \"static/media/ic_avax_40.ba220dde.svg\";","export default __webpack_public_path__ + \"static/media/ic_banxa.06412144.svg\";","export default __webpack_public_path__ + \"static/media/ic_binance_logo.46794a16.svg\";","export default __webpack_public_path__ + \"static/media/ic_bsc.8de996f1.svg\";","export default __webpack_public_path__ + \"static/media/ic_bsc_96.369f1d28.svg\";","export default __webpack_public_path__ + \"static/media/ic_btc.b_24.bab8cadc.svg\";","export default __webpack_public_path__ + \"static/media/ic_btc.b_40.1560513c.svg\";","export default __webpack_public_path__ + \"static/media/ic_btc_24.f992927a.svg\";","export default __webpack_public_path__ + \"static/media/ic_btc_40.1560513c.svg\";","export default __webpack_public_path__ + \"static/media/ic_busd_24.2432ce58.svg\";","export default __webpack_public_path__ + \"static/media/ic_buy_glp.8eb00e6a.svg\";","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAAsCAYAAAAq/ZsdAAAFI0lEQVR4Ac1ZA5AsSRCd2FkMvm2cbdu2bdu2bdt3obN9X6tGrW3vxv6x509e5dwtukZdXYt5EW9ZNf1eZFZmVbVJL8yyfJpZlT2UYIw4VzrVlC3IJXINChNhriLXZJOh56gon4Ahbw5RHs8SO+JRwrmmbEMuIfuYiRzgNYNzcK4pG5Gryk9j+vCkGs7JGgOiqYdjj7MEzj/OErrfCHHuBBiS9slR5XpMpXTEMZtf037hcdYgiPAEe3gHU7bghBkw43hrsNWoGZw77iLNqnqWWVW+yVElNR1xDG2mZ51gCRxg1BDOHT8nkrQFFfgLpVvP+rmorRUe6ekJPtrTU3P6Lt7PDRh6Ydy85CjSlVRkxKxIusr2TrXVMBq3NnVtOGq2b5An1TBdxyfFiPwRFbmep/cc1FCvMfRgTzfY/yqLzP6iehJTTVEW5SqyRA3FU0zUEP7dUkRiW13W0X3EIu/Tx9kCDyTjsZbABWNvRi1ckUuUOr0phpxdTuDGzg742+MG4vdrDLWEQvG/v9DfB4c01ofiG9WysiWmCUF5+cxcVaniMYNrxhGNgl6scnpg578anbsfMHgKjcj+oznmfcesyKuoyCC/GT784vDBwnfqk66hY63Bv+g6WiFuRpVf5dyrwT8eD/DCR/3fWBeDZauaYaMHW1IVBwfl9SLV7HTeUylGJxnQ5Cq3B9a4fEA8G6CSeu4Pac2cQP7jrNXVsOPpPelK+Ff8JbyoaBoVOMBbzW6iRYAFVjhrURmsLGxFwRre0xiDy6q1fzuAeKGgSIVDNvKkK+Uq19rKJdKLQzsAHmI5ZmEpIbBVcReK1c0tV3fB8kebMvUnB5rS1W+ouBgl8PKk5iZg8fWAH0Vy07a6DPbbySFsCrc193JFh+k9qVDkBHixnUmxNNx6VTesvL8ZRYuZov2mnREqnHYsmv0A3/ZriwHLw0kILOuI3o2rioUi6WFtqLKJ8Pv1LtCLCk9qYzP/qYZdj+7Xu4H9KjHdiHIP00S5iUVgb+KCL3rjJVkXvNHkppaXtsCOp/bqPmIcawudwDRS5S9RMxutaxsWdHZFDN7tikGxEzKiLwQJhrYhPbDpg208Z6YWxpD0i4ihXMojSChB2JC5x1ti8OfgUFNNxEvt2jl7Egcs+LSexxBoduc0Ql4RQxsVtukuy9hUGWAkNWMOI0GYsqacwxATJbMitxk1YysqgwOJl6fX4BZIA/ydHTPr92o4YoEPhXKvJUy5P40amlZUmZBij7XEv6dMQW80s6Gt3u3kv1CxhT4wIUQu4Dcr7dCIbfYPVTAszYnEIsAAK6PGzFEkPNSLeOkYMvS3ETP2deWwB3GwZriPEGw0dyODsPDdeqNXXiv+v2OTndxbnj9rYC/iRBHxMs2PxAqHnLu6DnY5vk/sDo8K/I23uVpKCRxJwsNCvhvgiUxyM5uXdMKitxoMmUHiBYspDlWdkavIMs8WaObq6gRBuAnFNYELvYVJQexD+HeMJptmx5Eobc6tMPeLWjhyrk/IEHNiVd5BU3qiNefvGq6ewy7+Y6kJPNhtWdIFtnVlsNFDicdwYUOIPEJ2zFXjrx8bKMO5RC5KGqFfqwzdyyE3+bQN8ktVmPldNWxyeyvsv71T2AxS6D4PK0q6D79+d22N/vyRqIBYjionAvohf6d7wIuXReJGkGcuGF8zqMWYCzZKlqBTTIg4UcNQdISBR2GBF1rCxGejhjF/S4cVhj9aYlHBZ/Lf1/Gn4QFxc+PIdK9a/gVaRiAcqhHzNAAAAABJRU5ErkJggg==\"","export default __webpack_public_path__ + \"static/media/ic_cash.21569a1d.svg\";","export default __webpack_public_path__ + \"static/media/ic_checked.b4f2217c.svg\";","export default __webpack_public_path__ + \"static/media/ic_coingecko_16.ef20d202.svg\";","export default __webpack_public_path__ + \"static/media/ic_coingecko_hover_16.ef20d202.svg\";","export default __webpack_public_path__ + \"static/media/ic_convert_down.74b7eb02.svg\";","export default __webpack_public_path__ + \"static/media/ic_copy_16.fafdf331.svg\";","export default __webpack_public_path__ + \"static/media/ic_cost.56371371.svg\";","export default __webpack_public_path__ + \"static/media/ic_dai_24.bafa9da6.svg\";","export default __webpack_public_path__ + \"static/media/ic_dai_40.6f901476.svg\";","export default __webpack_public_path__ + \"static/media/ic_discord.be4d716c.svg\";","export default __webpack_public_path__ + \"static/media/ic_eth_24.6b1d8a1d.svg\";","export default __webpack_public_path__ + \"static/media/ic_eth_40.5e255508.svg\";","export default __webpack_public_path__ + \"static/media/ic_frax_24.7349c478.svg\";","export default __webpack_public_path__ + \"static/media/ic_frax_40.1e127166.svg\";","export default __webpack_public_path__ + \"static/media/ic_github.dbd4de8a.svg\";","export default __webpack_public_path__ + \"static/media/ic_glp_24.eff381d9.svg\";","export default __webpack_public_path__ + \"static/media/ic_glp_40.087335c1.svg\";","export default __webpack_public_path__ + \"static/media/ic_glp_custom.11dd75db.svg\";","export default __webpack_public_path__ + \"static/media/ic_gmx.bf8fb0b1.svg\";","export default __webpack_public_path__ + \"static/media/ic_gmx_24.2b59d7e0.svg\";","export default __webpack_public_path__ + \"static/media/ic_gmx_30.375de394.svg\";","export default __webpack_public_path__ + \"static/media/ic_gmx_40.8cd483b1.svg\";","export default __webpack_public_path__ + \"static/media/ic_gmx_64.f4caeaad.svg\";","export default __webpack_public_path__ + \"static/media/ic_gmx_arbitrum.59f04e87.svg\";","export default __webpack_public_path__ + \"static/media/ic_gmx_avax.fb50658c.svg\";","export default __webpack_public_path__ + \"static/media/ic_gmx_big.a0a74216.svg\";","export default __webpack_public_path__ + \"static/media/ic_gmx_custom.fd35b66a.svg\";","export default __webpack_public_path__ + \"static/media/ic_gmx_footer.e7821eb2.svg\";","export default __webpack_public_path__ + \"static/media/ic_hop.0f4a98a0.svg\";","export default __webpack_public_path__ + \"static/media/ic_info.f334ee0a.svg\";","export default __webpack_public_path__ + \"static/media/ic_language24.ceaebef6.svg\";","export default __webpack_public_path__ + \"static/media/ic_link_24.0d641e52.svg\";","export default __webpack_public_path__ + \"static/media/ic_link_40.4bb3a048.svg\";","export default __webpack_public_path__ + \"static/media/ic_liquidity.f00d35e4.svg\";","export default __webpack_public_path__ + \"static/media/ic_medium.f6051b2e.svg\";","export default __webpack_public_path__ + \"static/media/ic_menu_dots.87c2cfaa.svg\";","export default __webpack_public_path__ + \"static/media/ic_metamask_16.aa3dce32.svg\";","export default __webpack_public_path__ + \"static/media/ic_metamask_hover_16.aa3dce32.svg\";","export default __webpack_public_path__ + \"static/media/ic_mim_24.b6a1708c.svg\";","export default __webpack_public_path__ + \"static/media/ic_mim_40.42c8b575.svg\";","export default __webpack_public_path__ + \"static/media/ic_multiswap.e577f4fa.svg\";","export default __webpack_public_path__ + \"static/media/ic_new_link_16.5b7cb7bf.svg\";","export default __webpack_public_path__ + \"static/media/ic_olympus.70b17676.svg\";","export default __webpack_public_path__ + \"static/media/ic_olympus_arbitrum.b358dc93.svg\";","export default __webpack_public_path__ + \"static/media/ic_selector_dropdowns.aaf0b8f0.svg\";","export default __webpack_public_path__ + \"static/media/ic_settings_16.9d97766b.svg\";","export default __webpack_public_path__ + \"static/media/ic_settings_24.25d2f4a7.svg\";","export default __webpack_public_path__ + \"static/media/ic_sign in_16.b6f5b1d9.svg\";","export default __webpack_public_path__ + \"static/media/ic_sign_out_16.1b0564f3.svg\";","export default __webpack_public_path__ + \"static/media/ic_simpleswaps.4cd51f2a.svg\";","export default __webpack_public_path__ + \"static/media/ic_stats.f0a18011.svg\";","export default __webpack_public_path__ + \"static/media/ic_stats_big.4a4ebfb7.svg\";","export default __webpack_public_path__ + \"static/media/ic_synapse.b100121a.svg\";","export default __webpack_public_path__ + \"static/media/ic_telegram.af1a4a66.svg\";","export default __webpack_public_path__ + \"static/media/ic_tether_24.a7c88dcd.svg\";","export default __webpack_public_path__ + \"static/media/ic_tokens.6a27251b.svg\";","export default __webpack_public_path__ + \"static/media/ic_totaluser.e274ef10.svg\";","export default __webpack_public_path__ + \"static/media/ic_trading.2c53815a.svg\";","export default __webpack_public_path__ + \"static/media/ic_transfer_avax.53893264.svg\";","export default __webpack_public_path__ + \"static/media/ic_twitter.9f35b403.svg\";","export default __webpack_public_path__ + \"static/media/ic_uni_24.47e903f7.svg\";","export default __webpack_public_path__ + \"static/media/ic_uni_40.efe1f12f.svg\";","export default __webpack_public_path__ + \"static/media/ic_usdc.e_24.0952740b.svg\";","export default __webpack_public_path__ + \"static/media/ic_usdc.e_40.27f415ba.svg\";","export default __webpack_public_path__ + \"static/media/ic_usdc_24.0952740b.svg\";","export default __webpack_public_path__ + \"static/media/ic_usdc_40.27f415ba.svg\";","export default __webpack_public_path__ + \"static/media/ic_usdt_24.5ab8778d.svg\";","export default __webpack_public_path__ + \"static/media/ic_usdt_40.e357d24a.svg\";","export default __webpack_public_path__ + \"static/media/ic_wallet_24.4be97369.svg\";","export default __webpack_public_path__ + \"static/media/ic_wavax_24.43583fc4.svg\";","export default __webpack_public_path__ + \"static/media/ic_wavax_40.ba36eda4.svg\";","export default __webpack_public_path__ + \"static/media/ic_weth_24.bc395894.svg\";","export default __webpack_public_path__ + \"static/media/ic_weth_40.334ca16a.svg\";","export default __webpack_public_path__ + \"static/media/lg_arbitrum.bdf133fe.svg\";","export default __webpack_public_path__ + \"static/media/logo_GMX.b956aa96.svg\";","export default __webpack_public_path__ + \"static/media/logo_GMX_small.f593fa5c.svg\";","export default __webpack_public_path__ + \"static/media/long.0bc4a064.svg\";","export default __webpack_public_path__ + \"static/media/metamask-text.2f9c2df2.svg\";","export default __webpack_public_path__ + \"static/media/metamask.4b5d438a.png\";","export default __webpack_public_path__ + \"static/media/page-not-found.bb90d073.svg\";","export default __webpack_public_path__ + \"static/media/position-share-bg.900fbfaa.png\";","export default __webpack_public_path__ + \"static/media/short.1f94a0c2.svg\";","export default __webpack_public_path__ + \"static/media/swap.40fb8e49.svg\";","export default __webpack_public_path__ + \"static/media/trading.7ea1604c.jpg\";","export default __webpack_public_path__ + \"static/media/wallet-connect-text.78166b41.svg\";","export default __webpack_public_path__ + \"static/media/walletconnect-circle-blue.31c29967.svg\";","export default __webpack_public_path__ + \"static/media/wave-01.3c9bce1e.png\";","export default __webpack_public_path__ + \"static/media/wave-02.4a56e8c7.png\";","var map = {\n\t\"./icon-GMX_full.svg\": 341,\n\t\"./icon-GNS_full.svg\": 344,\n\t\"./icon-Hegic_full.svg\": 346,\n\t\"./icon-Lyra_full.svg\": 348\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 892;","var map = {\n\t\"./Call.svg\": 950,\n\t\"./Put.svg\": 951,\n\t\"./Straddle.svg\": 952,\n\t\"./Strangle.svg\": 953\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 949;","export default __webpack_public_path__ + \"static/media/Call.167da481.svg\";","export default __webpack_public_path__ + \"static/media/Put.578935f1.svg\";","export default __webpack_public_path__ + \"static/media/Straddle.23467053.svg\";","export default __webpack_public_path__ + \"static/media/Strangle.35f0bcb5.svg\";","import React from 'react';\r\n\r\nconst Logo = () => {\r\n\treturn (\r\n\t\t<div className=\"logo-wrapper\">\r\n\t\t\t<a className='logo' href=\"/index.html\">DeDeLend</a>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Logo;","import React from 'react';\r\nimport cx from 'classnames';\r\n\r\nconst Button = ({children, className, clickHandler, disabled, isMain, ...props}) => {\r\n\tconst classes = cx('btn', className, (isMain && 'btn_main'), (props.btnActive && 'btn_hlight'));\r\n\t\r\n\tconst childProps = { ...props };\r\n\tdelete childProps.btnActive;\r\n\t\r\n\treturn (\r\n\t\t<button {...childProps} disabled={disabled} className={classes} data-text={children}>\r\n\t\t\t{\r\n\t\t\t\tisMain ? \r\n\t\t\t\t\t<span>{children.toString()}</span> :\r\n\t\t\t\t\tchildren\r\n\t\t\t}\r\n\t\t</button>\r\n\t);\r\n};\r\n\r\nexport default Button;","import { useState } from 'react';\r\n\r\nexport const useTogglePopup = () => {\r\n\tconst [isOpen, setIsOpen] = useState(false);\r\n\r\n\tfunction openPopup(e) {\r\n\t\tif (isOpen) {\r\n\t\t\tclosePopup();\r\n\t\t\treturn\r\n\t\t}\r\n\t\t\r\n\t\te.stopPropagation();\r\n\t\tdocument.addEventListener('click', closePopup);\r\n\t\tsetIsOpen(true);\r\n\t}\r\n\tfunction closePopup() {\r\n\t\tdocument.removeEventListener('click', closePopup);\r\n\t\tsetIsOpen(false);\r\n\t}\r\n\r\n\treturn {\r\n\t\tisOpen,\r\n\t\topenPopup,\r\n\t\tclosePopup,\r\n\t};\r\n}","import React, { useState } from 'react';\r\nimport icon_wallet from '../img/icon-wallet.svg';\r\nimport icon_link from '../img/icon-link.svg';\r\nimport Button from './UI/button/Button';\r\nimport { useTogglePopup } from './../hooks/useTogglePopup';\r\n\r\nconst Wallet = ({ address, setAddress }) => {\r\n\tconst {\r\n\t\tisOpen,\r\n\t\topenPopup: openWallet,\r\n\t\tclosePopup: closeWallet,\r\n\t} = useTogglePopup();\r\n\r\n\tfunction cutAddress(addr) {\r\n\t\tif (!addr) {\r\n\t\t\treturn '';\r\n\t\t}\r\n\t\treturn addr.slice(0, 9) + '...' + addr.slice(-15);\r\n\t}\r\n\t\r\n\treturn (\r\n\t\t<div className={\"wallet\" + (isOpen ? \" active\" : \"\")}>\r\n\t\t\t<button className=\"wallet__header\" onClick={openWallet}>\r\n\t\t\t\t<div className=\"wallet__address\">\r\n\t\t\t\t\t<img src={icon_wallet} alt=\"ETH\" />\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t{cutAddress(address)}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t</button>\r\n\t\t\t<div className=\"wallet__body\" onClick={(e) => e.stopPropagation()}>\r\n\t\t\t\t<button className=\"close-btn\" onClick={closeWallet}>\r\n\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"10\" height=\"10\" viewBox=\"0 0 10 10\" fill=\"none\">\r\n\t\t\t\t\t\t<g clipPath=\"url(#clip0_1830_494)\">\r\n\t\t\t\t\t\t\t<path d=\"M10 0.875L9.125 0L5 4.125L0.875 0L0 0.875L4.125 5L0 9.125L0.875 10L5 5.875L9.125 10L10 9.125L5.875 5L10 0.875Z\" fill=\"white\"/>\r\n\t\t\t\t\t\t</g>\r\n\t\t\t\t\t\t<defs>\r\n\t\t\t\t\t\t\t<clipPath id=\"clip0_1830_494\">\r\n\t\t\t\t\t\t\t\t<rect width=\"10\" height=\"10\" fill=\"white\"/>\r\n\t\t\t\t\t\t\t</clipPath>\r\n\t\t\t\t\t\t</defs>\r\n\t\t\t\t\t</svg>\r\n\t\t\t\t</button>\r\n\t\t\t\t<a className=\"wallet__link\" href={`https://arbiscan.io/address/${address}`} rel='noreferrer' target='_blank'>\r\n\t\t\t\t\t<img src={icon_link} alt=\"external link\" />\r\n\t\t\t\t\t<span>View on Arbiscan</span>\r\n\t\t\t\t</a>\r\n\t\t\t\t<Button className=\"wallet__button\" btnActive={true} onClick={() => {\r\n\t\t\t\t\tsetAddress('');\r\n\t\t\t\t}}>\r\n\t\t\t\t\tDisconnect wallet\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Wallet;","import { ethers } from 'ethers';\r\n\r\nconst ARBITRUM = 42161;\r\n\r\nexport const requestAccount = async (setWalletAddress) => {\r\n\tif (window.ethereum) {\r\n\t\ttry {\r\n\t\t\tif (window.ethereum.networkVersion && Number(window.ethereum.networkVersion) !== ARBITRUM) {\r\n\t\t\t\talert('Change your network (Arbitrum) and reload the page')\r\n\t\t\t\t\r\n\t\t\t\ttry {\r\n\t\t\t\t\tawait window.ethereum.request({\r\n\t\t\t\t\t\tmethod: \"wallet_switchEthereumChain\",\r\n\t\t\t\t\t\tparams: [{\r\n\t\t\t\t\t\t\tchainId: ethers.utils.hexlify(ARBITRUM)\r\n\t\t\t\t\t\t}]\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\twindow.location.reload()\r\n\t\t\t\t} catch(err) {\r\n\t\t\t\t\tconsole.log(err);\r\n\r\n\t\t\t\t\tif (err.code === 4902) {\r\n\t\t\t\t\t\tawait window.ethereum.request({\r\n\t\t\t\t\t\t\tmethod: \"wallet_addEthereumChain\",\r\n\t\t\t\t\t\t\tparams: [{\r\n\t\t\t\t\t\t\t\tchainId: ethers.utils.hexlify(ARBITRUM),\r\n\t\t\t\t\t\t\t\tchainName: 'Arbitrum One',\r\n\t\t\t\t\t\t\t\tnativeCurrency: {\r\n\t\t\t\t\t\t\t\t\tsymbol: 'ETH',\r\n\t\t\t\t\t\t\t\t\tdecimals: 18\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\trpcUrls: ['https://arb1.arbitrum.io/rpc'],\r\n\t\t\t\t\t\t\t\tblockExplorerUrls: ['https://arbiscan.io/']\r\n\t\t\t\t\t\t\t}]\r\n\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\twindow.location.reload()\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst accounts = await window.ethereum.request({\r\n\t\t\t\tmethod: 'eth_requestAccounts',\r\n\t\t\t})\r\n\t\t\tsetWalletAddress(accounts[0].toLowerCase())\r\n\t\t\twindow.ethereum.on('accountsChanged', (accounts) => {\r\n\t\t\t\tsetWalletAddress(accounts[0].toLowerCase())\r\n\t\t\t})\r\n\t\t} catch(e) {\r\n\t\t\tconsole.log(e);\r\n\t\t}\r\n\t\t\r\n\t} else {\r\n\t\talert('Please, install MetaMask extension to use this application.');\r\n\t}\r\n}\r\n\r\nexport const connectWallet = async (setWalletAddress) => {\r\n\tawait requestAccount(setWalletAddress);\r\n}\r\n\r\n\r\nexport const cutAddress = (addr, isAdaptive = true) => {\r\n\tif (!addr) {\r\n\t\treturn '';\r\n\t}\r\n\r\n\tif (isAdaptive && window.outerWidth <= 480) {\r\n\t\treturn addr.slice(0, 3) + '...' + addr.slice(-3);\r\n\t}\r\n\t\r\n\treturn addr.slice(0, 10) + '...' + addr.slice(-5);\r\n}","import React from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport cx from 'classnames';\r\nimport './Tabs.scss';\r\n\r\nconst Tabs = (props) => {\r\n\tconst {\r\n\t\tclassName,\r\n\t\tlinks,\r\n\t\tisBtnType,\r\n\t} = props;\r\n\tconst cls = cx(className, 'Tabs');\r\n\t\r\n\treturn (\r\n\t\t<div className={cls}>\r\n\t\t\t{links.map((link) => {\r\n\t\t\t\tif (link.isHidden) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tconst linkCls = cx('Tabs__item', isBtnType && 'btn btn_tab', link.isActive && 'active');\r\n\t\t\t\tconst linkEl = link.isExternal ?\r\n\t\t\t\t\t<a className={linkCls} target=\"_blank\" rel=\"noreferrer\" href={link.to}  key={link.to}>{link.name}</a>\r\n\t\t\t\t\t: <Link to={link.to} className={linkCls} key={link.to}>{link.name}</Link>\r\n\t\t\t\treturn (\r\n\t\t\t\t\tlinkEl\r\n\t\t\t\t)\r\n\t\t\t})}\r\n\t\t\t\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Tabs;","import React, { useEffect } from 'react';\r\nimport Logo from './components/UI/logo/Logo'\r\nimport Button from './components/UI/button/Button';\r\nimport Wallet from './components/Wallet';\r\nimport { connectWallet } from './components/utils/wallet';\r\nimport { useLocation } from 'react-router-dom';\r\nimport Tabs from './components/Tabs';\r\nimport './Header.scss';\r\n\r\n\r\n\r\nconst Header = (props) => {\r\n\tconst {\r\n\t\twalletAddress, \r\n\t\tsetWalletAddress,\r\n\t} = props;\r\n\r\n\tuseEffect(() => {\r\n\t\tconnectWallet(setWalletAddress);\r\n\t}, [window.ethereum?.networkVersion])\r\n\r\n\tconst loc = useLocation();\r\n\tconst headerLinks = [\r\n\t\t{\r\n\t\t\tname: \"Unified Trading Terminal\",\r\n\t\t\tto: '/terminal'\r\n\t\t},\r\n\t]\r\n\tconst activeLink = headerLinks.find(link => {\r\n\t\treturn loc.pathname.startsWith(link.to);\r\n\t})\r\n\tif (activeLink) {\r\n\t\tactiveLink.isActive = true;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<header className='header'>\r\n\t\t\t<div className=\"header__content _container\">\r\n\t\t\t\t<div className=\"header__nav\">\r\n\t\t\t\t\t<Logo />\r\n\t\t\t\t\t<Tabs \r\n\t\t\t\t\t\tclassName='header__links' \r\n\t\t\t\t\t\tlinks={headerLinks} \r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t{walletAddress ?\r\n\t\t\t\t\t<Wallet address={walletAddress} \r\n\t\t\t\t\t\tsetAddress={setWalletAddress}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t:\r\n\t\t\t\t\t<Button isMain={true} onClick={(e) => {\r\n\t\t\t\t\t\tconnectWallet(setWalletAddress)\r\n\t\t\t\t\t}}>Connect wallet</Button>}\r\n\t\t\t</div>\r\n\t\t</header>\r\n\t);\r\n};\r\n\r\nexport default Header;","import React from 'react';\r\nimport Logo from './components/UI/logo/Logo';\r\n\r\nconst Footer = () => {\r\n\treturn (\r\n\t\t<footer className=\"footer\">\r\n\t\t\t<div className=\"footer__content _container\">\r\n\t\t\t\t<Logo></Logo>\r\n\t\t\t\t<div className=\"footer__smedia-items\">\r\n\t\t\t\t\t<a className=\"footer__smedia-item\" target=\"_blank\" rel=\"noreferrer\" href=\"https://mirror.xyz/0x0641bc55DDAb3b9636e82CbF87EDE3c3c533039d\">\r\n\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"30\" height=\"30\" viewBox=\"0 0 30 30\" fill=\"none\">\r\n\t\t\t\t\t\t\t<g clipPath=\"url(#clip0_58_113)\">\r\n\t\t\t\t\t\t\t\t<rect width=\"30\" height=\"30\" rx=\"5\" fill=\"#181A3C\"/>\r\n\t\t\t\t\t\t\t\t<path d=\"M9 14C9 10.6863 11.6863 8 15 8C18.3137 8 21 10.6863 21 14V21.3929C21 22.2805 20.2805 23 19.3929 23H10.6071C9.71954 23 9 22.2805 9 21.3929V14Z\" fill=\"#6988FF\"/>\r\n\t\t\t\t\t\t\t</g>\r\n\t\t\t\t\t\t\t<defs>\r\n\t\t\t\t\t\t\t\t<clipPath id=\"clip0_58_113\">\r\n\t\t\t\t\t\t\t\t\t<rect width=\"30\" height=\"30\" rx=\"3\" fill=\"white\"/>\r\n\t\t\t\t\t\t\t\t</clipPath>\r\n\t\t\t\t\t\t\t</defs>\r\n\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t</a>\r\n\t\t\t\t\t<a className=\"footer__smedia-item\" target=\"_blank\" rel=\"noreferrer\" href=\"https://github.com/DeDeLend\">\r\n\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"30\" height=\"30\" viewBox=\"0 0 30 30\" fill=\"none\">\r\n\t\t\t\t\t\t\t<rect width=\"30\" height=\"30\" rx=\"5\" fill=\"#181A3C\"/>\r\n\t\t\t\t\t\t\t<path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M15.5 8C11.3562 8 8 11.4411 8 15.6897C8 19.0924 10.1469 21.9664 13.1281 22.9853C13.5031 23.0526 13.6437 22.8219 13.6437 22.62C13.6437 22.4374 13.6344 21.8319 13.6344 21.1878C11.75 21.5435 11.2625 20.7168 11.1125 20.2843C11.0281 20.0632 10.6625 19.3808 10.3438 19.1981C10.0812 19.0539 9.70625 18.6983 10.3344 18.6887C10.925 18.6791 11.3469 19.2462 11.4875 19.4769C12.1625 20.64 13.2406 20.3131 13.6719 20.1113C13.7375 19.6115 13.9344 19.275 14.15 19.0828C12.4812 18.8905 10.7375 18.2273 10.7375 15.286C10.7375 14.4497 11.0281 13.7577 11.5063 13.2194C11.4313 13.0271 11.1688 12.2389 11.5812 11.1816C11.5812 11.1816 12.2094 10.9798 13.6437 11.9698C14.2437 11.7968 14.8812 11.7103 15.5187 11.7103C16.1562 11.7103 16.7937 11.7968 17.3938 11.9698C18.8281 10.9701 19.4563 11.1816 19.4563 11.1816C19.8687 12.2389 19.6063 13.0271 19.5312 13.2194C20.0094 13.7577 20.3 14.4401 20.3 15.286C20.3 18.2369 18.5469 18.8905 16.8781 19.0828C17.15 19.3231 17.3844 19.7845 17.3844 20.5054C17.3844 21.5339 17.375 22.3605 17.375 22.62C17.375 22.8219 17.5156 23.0622 17.8906 22.9853C19.3795 22.4699 20.6732 21.4888 21.5898 20.1801C22.5063 18.8714 22.9996 17.3009 23 15.6897C23 11.4411 19.6438 8 15.5 8Z\" fill=\"#6988FF\"/>\r\n\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t</a>\r\n\t\t\t\t\t<a className=\"footer__smedia-item\" target=\"_blank\" rel=\"noreferrer\" href=\"https://twitter.com/DeDeLend\">\r\n\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"30\" height=\"30\" viewBox=\"0 0 30 30\" fill=\"none\">\r\n\t\t\t\t\t\t\t<rect width=\"30\" height=\"30\" rx=\"5\" fill=\"#181A3C\"/>\r\n\t\t\t\t\t\t\t<path d=\"M23 10.4234C22.4484 10.664 21.8558 10.8265 21.2328 10.8999C21.8756 10.5215 22.3565 9.92574 22.5858 9.22397C21.9819 9.57697 21.3209 9.82545 20.6317 9.95859C20.1682 9.47158 19.5543 9.14877 18.8852 9.0403C18.2162 8.93183 17.5295 9.04376 16.9317 9.35871C16.334 9.67366 15.8586 10.174 15.5794 10.7821C15.3002 11.3902 15.2328 12.0719 15.3877 12.7215C14.164 12.6611 12.9669 12.3481 11.8741 11.8029C10.7813 11.2577 9.81726 10.4924 9.04444 9.55683C8.78019 10.0054 8.62825 10.5255 8.62825 11.0794C8.62795 11.578 8.75273 12.069 8.99151 12.5088C9.23029 12.9486 9.57568 13.3236 9.99705 13.6005C9.50837 13.5852 9.03048 13.4552 8.60314 13.2215V13.2605C8.6031 13.9598 8.84892 14.6377 9.2989 15.1789C9.74888 15.7202 10.3753 16.0916 11.0719 16.2302C10.6185 16.3509 10.1433 16.3687 9.68193 16.2822C9.87847 16.8839 10.2613 17.4101 10.7768 17.7871C11.2923 18.1641 11.9148 18.373 12.5569 18.3846C11.4668 19.2268 10.1205 19.6836 8.73461 19.6816C8.48911 19.6816 8.24382 19.6675 8 19.6393C9.40677 20.5294 11.0444 21.0018 12.7168 21C18.3783 21 21.4733 16.3855 21.4733 12.3835C21.4733 12.2535 21.47 12.1221 21.4641 11.9921C22.0661 11.5637 22.5857 11.0332 22.9987 10.4254L23 10.4234Z\" fill=\"#6988FF\"/>\r\n\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t</a>\r\n\t\t\t\t\t<a className=\"footer__smedia-item\" target=\"_blank\" rel=\"noreferrer\" href=\"https://discord.gg/5DGZ7rzSfS\">\r\n\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"30\" height=\"30\" viewBox=\"0 0 30 30\" fill=\"none\">\r\n\t\t\t\t\t\t\t<rect width=\"30\" height=\"30\" rx=\"5\" fill=\"#181A3C\"/>\r\n\t\t\t\t\t\t\t<path d=\"M20.6981 10.9123C19.7418 10.4907 18.7169 10.179 17.645 10.0018C17.6355 10 17.6256 10.0012 17.6167 10.0051C17.6079 10.009 17.6005 10.0156 17.5956 10.0238C17.4644 10.2493 17.3182 10.5432 17.2157 10.7754C16.0789 10.6094 14.9232 10.6094 13.7864 10.7754C13.6722 10.5181 13.5435 10.2671 13.4008 10.0238C13.3959 10.0155 13.3886 10.0088 13.3798 10.0047C13.371 10.0005 13.3611 9.99908 13.3514 10.0006C12.2802 10.1778 11.2552 10.4894 10.2984 10.9117C10.2901 10.9151 10.2831 10.9208 10.2784 10.9282C8.33342 13.7238 7.80031 16.4504 8.06217 19.1428C8.0629 19.1494 8.065 19.1558 8.06833 19.1616C8.07166 19.1673 8.07616 19.1724 8.08155 19.1764C9.21676 19.9845 10.4829 20.6001 11.8271 20.9974C11.8364 21.0002 11.8465 21.0002 11.8558 20.9974C11.8652 20.9946 11.8735 20.989 11.8796 20.9815C12.1688 20.6033 12.4251 20.2021 12.6458 19.782C12.6489 19.7762 12.6506 19.7699 12.651 19.7635C12.6513 19.757 12.6502 19.7505 12.6478 19.7445C12.6454 19.7385 12.6417 19.733 12.6369 19.7285C12.6321 19.724 12.6264 19.7206 12.6202 19.7184C12.2164 19.5698 11.8252 19.3904 11.4502 19.1819C11.4435 19.1782 11.4378 19.1728 11.4337 19.1664C11.4296 19.16 11.4272 19.1526 11.4267 19.145C11.4262 19.1375 11.4276 19.1299 11.4308 19.123C11.4341 19.1161 11.439 19.1101 11.4452 19.1055C11.5239 19.0487 11.6027 18.9894 11.6777 18.9302C11.6844 18.9248 11.6926 18.9214 11.7012 18.9204C11.7098 18.9193 11.7185 18.9206 11.7264 18.9241C14.1807 20.002 16.8388 20.002 19.2643 18.9241C19.2723 18.9204 19.2811 18.9189 19.2898 18.9199C19.2986 18.9208 19.3068 18.9242 19.3137 18.9295C19.3887 18.9894 19.4668 19.0487 19.5462 19.1055C19.5525 19.11 19.5575 19.1159 19.5608 19.1228C19.5642 19.1296 19.5657 19.1371 19.5653 19.1447C19.565 19.1523 19.5627 19.1596 19.5587 19.1661C19.5547 19.1726 19.5491 19.1781 19.5425 19.1819C19.1687 19.3921 18.78 19.57 18.3719 19.7178C18.3656 19.7201 18.3599 19.7236 18.3551 19.7281C18.3504 19.7327 18.3466 19.7382 18.3442 19.7442C18.3418 19.7503 18.3407 19.7568 18.3411 19.7633C18.3414 19.7698 18.3432 19.7762 18.3463 19.782C18.5712 20.2018 18.8287 20.6014 19.1119 20.9809C19.1177 20.9887 19.1259 20.9945 19.1353 20.9976C19.1447 21.0006 19.1549 21.0008 19.1644 20.998C20.5108 20.6018 21.779 19.986 22.9155 19.1764C22.921 19.1726 22.9257 19.1677 22.9291 19.162C22.9326 19.1563 22.9348 19.15 22.9355 19.1434C23.248 16.0306 22.4118 13.326 20.7174 10.9294C20.7133 10.9216 20.7064 10.9155 20.6981 10.9123ZM13.0127 17.5033C12.2739 17.5033 11.6646 16.8501 11.6646 16.049C11.6646 15.2472 12.2621 14.5946 13.0127 14.5946C13.7689 14.5946 14.3726 15.2527 14.3607 16.049C14.3607 16.8507 13.7633 17.5033 13.0127 17.5033ZM17.9969 17.5033C17.2575 17.5033 16.6488 16.8501 16.6488 16.049C16.6488 15.2472 17.2457 14.5946 17.9969 14.5946C18.7531 14.5946 19.3568 15.2527 19.345 16.049C19.345 16.8507 18.7537 17.5033 17.9969 17.5033Z\" fill=\"#6988FF\"/>\r\n\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t</a>\r\n\t\t\t\t\t<a className=\"footer__smedia-item\" target=\"_blank\" rel=\"noreferrer\" href=\"https://t.me/DeDeLend\">\r\n\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"30\" height=\"30\" viewBox=\"0 0 30 30\" fill=\"none\">\r\n\t\t\t\t\t\t\t<rect width=\"30\" height=\"30\" rx=\"5\" fill=\"#181A3C\"/>\r\n\t\t\t\t\t\t\t<path d=\"M21.9875 9.0789L8.70041 13.9664C7.79362 14.3138 7.79886 14.7964 8.53404 15.0115L11.9454 16.0267L19.8382 11.2764C20.2114 11.0598 20.5524 11.1763 20.2721 11.4136L13.8774 16.9188H13.8759L13.8774 16.9195L13.642 20.2737C13.9868 20.2737 14.1389 20.1228 14.3323 19.9448L15.9892 18.4079L19.4358 20.8363C20.0713 21.1701 20.5277 20.9985 20.6858 20.2751L22.9483 10.104C23.1798 9.2183 22.5938 8.81726 21.9875 9.0789Z\" fill=\"#6988FF\"/>\r\n\t\t\t\t\t</svg>\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</footer>\r\n\t);\r\n};\r\n\r\nexport default Footer;","const CONTRACTS = {\n  56: {\n    // bsc mainnet\n    Treasury: \"0xa44E7252a0C137748F523F112644042E5987FfC7\",\n    BUSD: \"0xe9e7cea3dedca5984780bafc599bd69add087d56\",\n    GMT: \"0x99e92123eB77Bc8f999316f622e5222498438784\",\n    Vault: \"0xc73A8DcAc88498FD4b4B1b2AaA37b0a2614Ff67B\",\n    Router: \"0xD46B23D042E976F8666F554E928e0Dc7478a8E1f\",\n    Reader: \"0x087A618fD25c92B61254DBe37b09E5E8065FeaE7\",\n    AmmFactory: \"0xBCfCcbde45cE874adCB698cC183deBcF17952812\",\n    AmmFactoryV2: \"0xcA143Ce32Fe78f1f7019d7d551a6402fC5350c73\",\n    OrderBook: \"0x1111111111111111111111111111111111111111\",\n    OrderBookReader: \"0x1111111111111111111111111111111111111111\",\n    GmxMigrator: \"0xDEF2af818514c1Ca1A9bBe2a4D45E28f260063f9\",\n    USDG: \"0x85E76cbf4893c1fbcB34dCF1239A91CE2A4CF5a7\",\n    NATIVE_TOKEN: \"0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c\",\n    XGMT: \"0xe304ff0983922787Fd84BC9170CD21bF78B16B10\",\n    GMT_USDG_PAIR: \"0xa41e57459f09a126F358E118b693789d088eA8A0\",\n    XGMT_USDG_PAIR: \"0x0b622208fc0691C2486A3AE6B7C875b4A174b317\",\n    GMT_USDG_FARM: \"0x3E8B08876c791dC880ADC8f965A02e53Bb9C0422\",\n    XGMT_USDG_FARM: \"0x68D7ee2A16AB7c0Ee1D670BECd144166d2Ae0759\",\n    USDG_YIELD_TRACKER: \"0x0EF0Cf825B8e9F89A43FfD392664131cFB4cfA89\",\n    XGMT_YIELD_TRACKER: \"0x82A012A9b3003b18B6bCd6052cbbef7Fa4892e80\",\n    GMT_USDG_FARM_TRACKER_XGMT: \"0x08FAb024BEfcb6068847726b2eccEAd18b6c23Cd\",\n    GMT_USDG_FARM_TRACKER_NATIVE: \"0xd8E26637B34B2487Cad1f91808878a391134C5c2\",\n    XGMT_USDG_FARM_TRACKER_XGMT: \"0x026A02F7F26C1AFccb9Cba7C4df3Dc810F4e92e8\",\n    XGMT_USDG_FARM_TRACKER_NATIVE: \"0x22458CEbD14a9679b2880147d08CA1ce5aa40E84\",\n    AUTO: \"0xa184088a740c695E156F91f5cC086a06bb78b827\",\n    AUTO_USDG_PAIR: \"0x0523FD5C53ea5419B4DAF656BC1b157dDFE3ce50\",\n    AUTO_USDG_FARM: \"0xE6958298328D02051769282628a3b4178D0F3A47\",\n    AUTO_USDG_FARM_TRACKER_XGMT: \"0x093b8be41c1A30704De84a9521632f9a139c08bd\",\n    AUTO_USDG_FARM_TRACKER_NATIVE: \"0x23ed48E5dce3acC7704d0ce275B7b9a0e346b63A\",\n    GMT_GMX_IOU: \"0x47052469970C2484729875CC9E2dd2683fcE71fb\",\n    XGMT_GMX_IOU: \"0xeB3733DFe3b68C9d26898De2493A3Bb59FDb4A7B\",\n    GMT_USDG_GMX_IOU: \"0x481312655F81b5e249780A6a49735335BF6Ca7f4\",\n    XGMT_USDG_GMX_IOU: \"0x8095F1A92526C304623483018aA28cC6E62EB1e1\",\n  },\n  97: {\n    // bsc testnet\n    Vault: \"0x1B183979a5cd95FAF392c8002dbF0D5A1C687D9a\",\n    Router: \"0x10800f683aa564534497a5b67F45bE3556a955AB\",\n    Reader: \"0x98D4742F1B6a821bae672Cd8721283b91996E454\",\n    AmmFactory: \"0x6725f303b657a9451d8ba641348b6761a6cc7a17\",\n    AmmFactoryV2: \"0x1111111111111111111111111111111111111111\",\n    OrderBook: \"0x9afD7B4f0b58d65F6b2978D3581383a06b2ac4e9\",\n    OrderBookReader: \"0x0713562970D1A802Fa3FeB1D15F9809943982Ea9\",\n    GmxMigrator: \"0xDEF2af818514c1Ca1A9bBe2a4D45E28f260063f9\",\n    USDG: \"0x2D549bdBf810523fe9cd660cC35fE05f0FcAa028\",\n    GMT: \"0xedba0360a44f885ed390fad01aa34d00d2532817\",\n    NATIVE_TOKEN: \"0x612777Eea37a44F7a95E3B101C39e1E2695fa6C2\",\n    XGMT: \"0x28cba798eca1a3128ffd1b734afb93870f22e613\",\n    GMT_USDG_PAIR: \"0xe0b0a315746f51932de033ab27223d85114c6b85\",\n    XGMT_USDG_PAIR: \"0x0108de1eea192ce8448080c3d90a1560cf643fa0\",\n    GMT_USDG_FARM: \"0xbe3cB06CE03cA692b77902040479572Ba8D01b0B\",\n    XGMT_USDG_FARM: \"0x138E92195D4B99CE3618092D3F9FA830d9A69B4b\",\n    USDG_YIELD_TRACKER: \"0x62B49Bc3bF252a5DB26D88ccc7E61119e3179B4f\",\n    XGMT_YIELD_TRACKER: \"0x5F235A582e0993eE9466FeEb8F7B4682993a57d0\",\n    GMT_USDG_FARM_TRACKER_XGMT: \"0x4f8EE3aE1152422cbCaFACd4e3041ba2D859913C\",\n    GMT_USDG_FARM_TRACKER_NATIVE: \"0xd691B26E544Fe370f39A776964c991363aF72e56\",\n    XGMT_USDG_FARM_TRACKER_XGMT: \"0xfd5617CFB082Ba9bcD62d654603972AE312bC695\",\n    XGMT_USDG_FARM_TRACKER_NATIVE: \"0x0354387DD85b7D8aaD1611B3D167A384d6AE0c28\",\n    GMT_GMX_IOU: \"0x47052469970C2484729875CC9E2dd2683fcE71fb\",\n    XGMT_GMX_IOU: \"0xeB3733DFe3b68C9d26898De2493A3Bb59FDb4A7B\",\n    GMT_USDG_GMX_IOU: \"0x481312655F81b5e249780A6a49735335BF6Ca7f4\",\n    XGMT_USDG_GMX_IOU: \"0x8095F1A92526C304623483018aA28cC6E62EB1e1\",\n  },\n  421611: {\n    // arbitrum testnet\n    Vault: \"0xBc9BC47A7aB63db1E0030dC7B60DDcDe29CF4Ffb\",\n    Router: \"0xe0d4662cdfa2d71477A7DF367d5541421FAC2547\",\n    VaultReader: \"0xFc371E380262536c819D12B9569106bf032cC41c\",\n    Reader: \"0x2E093c70E3A7E4919611d2555dFd8D697d2fC0a1\",\n    GlpManager: \"0xD875d99E09118d2Be80579b9d23E83469077b498\",\n    RewardRouter: \"0x0000000000000000000000000000000000000000\",\n    RewardReader: \"0x0000000000000000000000000000000000000000\",\n    NATIVE_TOKEN: \"0xB47e6A5f8b33b3F17603C83a0535A9dcD7E32681\",\n    GLP: \"0xb4f81Fa74e06b5f762A104e47276BA9b2929cb27\",\n    GMX: \"0x0000000000000000000000000000000000000000\",\n    ES_GMX: \"0x0000000000000000000000000000000000000000\",\n    BN_GMX: \"0x0000000000000000000000000000000000000000\",\n    USDG: \"0xBCDCaF67193Bf5C57be08623278fCB69f4cA9e68\",\n    ES_GMX_IOU: \"0x0000000000000000000000000000000000000000\",\n    StakedGmxTracker: \"0x0000000000000000000000000000000000000000\",\n    BonusGmxTracker: \"0x0000000000000000000000000000000000000000\",\n    FeeGmxTracker: \"0x0000000000000000000000000000000000000000\",\n    StakedGlpTracker: \"0x0000000000000000000000000000000000000000\",\n    FeeGlpTracker: \"0x0000000000000000000000000000000000000000\",\n\n    StakedGmxDistributor: \"0x0000000000000000000000000000000000000000\",\n    StakedGlpDistributor: \"0x0000000000000000000000000000000000000000\",\n\n    GmxVester: \"0x0000000000000000000000000000000000000000\",\n    GlpVester: \"0x0000000000000000000000000000000000000000\",\n\n    OrderBook: \"0xebD147E5136879520dDaDf1cA8FBa48050EFf016\",\n    OrderBookReader: \"0xC492c8d82DC576Ad870707bb40EDb63E2026111E\",\n\n    PositionRouter: \"0xB4bB78cd12B097603e2b55D2556c09C17a5815F8\",\n    PositionManager: \"0x168aDa266c2f10C1F37973B213d6178551030e44\",\n\n    // UniswapGmxEthPool: \"0x80A9ae39310abf666A87C743d6ebBD0E8C42158E\",\n    ReferralStorage: \"0x0000000000000000000000000000000000000000\",\n    ReferralReader: \"0x0000000000000000000000000000000000000000\",\n  },\n  42161: {\n    // arbitrum mainnet\n    Vault: \"0x489ee077994B6658eAfA855C308275EAd8097C4A\",\n    Router: \"0xaBBc5F99639c9B6bCb58544ddf04EFA6802F4064\",\n    VaultReader: \"0xfebB9f4CAC4cD523598fE1C5771181440143F24A\",\n    Reader: \"0x2b43c90D1B727cEe1Df34925bcd5Ace52Ec37694\",\n    GlpManager: \"0x3963FfC9dff443c2A94f21b129D429891E32ec18\",\n    RewardRouter: \"0xA906F338CB21815cBc4Bc87ace9e68c87eF8d8F1\",\n    GlpRewardRouter: \"0xB95DB5B167D75e6d04227CfFFA61069348d271F5\",\n    RewardReader: \"0x8BFb8e82Ee4569aee78D03235ff465Bd436D40E0\",\n    NATIVE_TOKEN: \"0x82aF49447D8a07e3bd95BD0d56f35241523fBab1\",\n    GLP: \"0x4277f8F2c384827B5273592FF7CeBd9f2C1ac258\",\n    GMX: \"0xfc5A1A6EB076a2C7aD06eD22C90d7E710E35ad0a\",\n    ES_GMX: \"0xf42Ae1D54fd613C9bb14810b0588FaAa09a426cA\",\n    BN_GMX: \"0x35247165119B69A40edD5304969560D0ef486921\",\n    USDG: \"0x45096e7aA921f27590f8F19e457794EB09678141\",\n    ES_GMX_IOU: \"0x6260101218eC4cCfFF1b778936C6f2400f95A954\",\n    StakedGmxTracker: \"0x908C4D94D34924765f1eDc22A1DD098397c59dD4\",\n    BonusGmxTracker: \"0x4d268a7d4C16ceB5a606c173Bd974984343fea13\",\n    FeeGmxTracker: \"0xd2D1162512F927a7e282Ef43a362659E4F2a728F\",\n    StakedGlpTracker: \"0x1aDDD80E6039594eE970E5872D247bf0414C8903\",\n    FeeGlpTracker: \"0x4e971a87900b931fF39d1Aad67697F49835400b6\",\n\n    StakedGmxDistributor: \"0x23208B91A98c7C1CD9FE63085BFf68311494F193\",\n    StakedGlpDistributor: \"0x60519b48ec4183a61ca2B8e37869E675FD203b34\",\n\n    GmxVester: \"0x199070DDfd1CFb69173aa2F7e20906F26B363004\",\n    GlpVester: \"0xA75287d2f8b217273E7FCD7E86eF07D33972042E\",\n\n    OrderBook: \"0x09f77E8A13De9a35a7231028187e9fD5DB8a2ACB\",\n    OrderExecutor: \"0x7257ac5D0a0aaC04AA7bA2AC0A6Eb742E332c3fB\",\n    OrderBookReader: \"0xa27C20A7CF0e1C68C0460706bB674f98F362Bc21\",\n\n    PositionRouter: \"0xb87a436B93fFE9D75c5cFA7bAcFff96430b09868\",\n    PositionManager: \"0x75E42e6f01baf1D6022bEa862A28774a9f8a4A0C\",\n\n    UniswapGmxEthPool: \"0x80A9ae39310abf666A87C743d6ebBD0E8C42158E\",\n    ReferralStorage: \"0xe6fab3f0c7199b0d34d7fbe83394fc0e0d06e99d\",\n    ReferralReader: \"0x8Aa382760BCdCe8644C33e6C2D52f6304A76F5c8\",\n\n    Multicall: \"0xcA11bde05977b3631167028862bE2a173976CA11\",\n  },\n  43114: {\n    // avalanche\n    Vault: \"0x9ab2De34A33fB459b538c43f251eB825645e8595\",\n    Router: \"0x5F719c2F1095F7B9fc68a68e35B51194f4b6abe8\",\n    VaultReader: \"0x66eC8fc33A26feAEAe156afA3Cb46923651F6f0D\",\n    Reader: \"0x2eFEE1950ededC65De687b40Fd30a7B5f4544aBd\",\n    GlpManager: \"0xe1ae4d4b06A5Fe1fc288f6B4CD72f9F8323B107F\",\n    RewardRouter: \"0x82147C5A7E850eA4E28155DF107F2590fD4ba327\",\n    RewardReader: \"0x04Fc11Bd28763872d143637a7c768bD96E44c1b6\",\n    NATIVE_TOKEN: \"0xB31f66AA3C1e785363F0875A1B74E27b85FD66c7\",\n    GLP: \"0x01234181085565ed162a948b6a5e88758CD7c7b8\",\n    GMX: \"0x62edc0692BD897D2295872a9FFCac5425011c661\",\n    ES_GMX: \"0xFf1489227BbAAC61a9209A08929E4c2a526DdD17\",\n    BN_GMX: \"0x8087a341D32D445d9aC8aCc9c14F5781E04A26d2\",\n    USDG: \"0xc0253c3cC6aa5Ab407b5795a04c28fB063273894\",\n    ES_GMX_IOU: \"0x6260101218eC4cCfFF1b778936C6f2400f95A954\", // placeholder address\n\n    StakedGmxTracker: \"0x2bD10f8E93B3669b6d42E74eEedC65dd1B0a1342\",\n    BonusGmxTracker: \"0x908C4D94D34924765f1eDc22A1DD098397c59dD4\",\n    FeeGmxTracker: \"0x4d268a7d4C16ceB5a606c173Bd974984343fea13\",\n    StakedGlpTracker: \"0x9e295B5B976a184B14aD8cd72413aD846C299660\",\n    FeeGlpTracker: \"0xd2D1162512F927a7e282Ef43a362659E4F2a728F\",\n\n    StakedGmxDistributor: \"0xfc5A1A6EB076a2C7aD06eD22C90d7E710E35ad0a\",\n    StakedGlpDistributor: \"0xDd593Cf40734199afc9207eBe9ffF23dA4Bf7720\",\n\n    GmxVester: \"0x472361d3cA5F49c8E633FB50385BfaD1e018b445\",\n    GlpVester: \"0x62331A7Bd1dfB3A7642B7db50B5509E57CA3154A\",\n\n    OrderBook: \"0x4296e307f108B2f583FF2F7B7270ee7831574Ae5\",\n    OrderExecutor: \"0x4296e307f108B2f583FF2F7B7270ee7831574Ae5\",\n    OrderBookReader: \"0xccFE3E576f8145403d3ce8f3c2f6519Dae40683B\",\n\n    PositionRouter: \"0xffF6D276Bc37c61A23f06410Dce4A400f66420f8\",\n    PositionManager: \"0xA21B83E579f4315951bA658654c371520BDcB866\",\n\n    TraderJoeGmxAvaxPool: \"0x0c91a070f862666bbcce281346be45766d874d98\",\n    ReferralStorage: \"0x827ed045002ecdabeb6e2b0d1604cf5fc3d322f8\",\n    ReferralReader: \"0x505Ce16D3017be7D76a7C2631C0590E71A975083\",\n  },\n};\n\nexport function getContract(chainId, name, market) {\n  if (!CONTRACTS[chainId]) {\n    throw new Error(`Unknown chainId ${chainId}`);\n  }\n  if (!CONTRACTS[chainId][name]) {\n    throw new Error(`Unknown contract \"${name}\" for chainId ${chainId}`);\n  }\n  return CONTRACTS[chainId][name];\n}\n\nexport const XGMT_EXCLUDED_ACCOUNTS = [\n  \"0x330eef6b9b1ea6edd620c825c9919dc8b611d5d5\",\n  \"0xd9b1c23411adbb984b1c4be515fafc47a12898b2\",\n  \"0xa633158288520807f91ccc98aa58e0ea43acb400\",\n  \"0xffd0a93b4362052a336a7b22494f1b77018dd34b\",\n];\n","import { ethers } from \"ethers\";\nimport { getContract } from \"./Addresses\";\n\nconst TOKENS = {\n  56: [\n    {\n      name: \"Bitcoin (BTCB)\",\n      symbol: \"BTC\",\n      decimals: 18,\n      address: \"0x7130d2A12B9BCbFAe4f2634d864A1Ee1Ce3Ead9c\",\n      coingeckoUrl: \"https://www.coingecko.com/en/coins/binance-bitcoin\",\n      imageUrl: \"https://assets.coingecko.com/coins/images/14108/small/Binance-bitcoin.png\",\n    },\n    {\n      name: \"Ethereum\",\n      symbol: \"ETH\",\n      decimals: 18,\n      address: \"0x2170Ed0880ac9A755fd29B2688956BD959F933F8\",\n      coingeckoUrl: \"https://www.coingecko.com/en/coins/ethereum\",\n      imageUrl: \"https://assets.coingecko.com/coins/images/279/small/ethereum.png\",\n    },\n    {\n      name: \"Binance Coin\",\n      symbol: \"BNB\",\n      decimals: 18,\n      address: ethers.constants.AddressZero,\n      coingeckoUrl: \"https://www.coingecko.com/en/coins/binance-coin\",\n      imageUrl: \"https://assets.coingecko.com/coins/images/825/small/binance-coin-logo.png\",\n      isNative: true,\n    },\n    {\n      name: \"Wrapped Binance Coin\",\n      symbol: \"WBNB\",\n      decimals: 18,\n      address: getContract(56, \"NATIVE_TOKEN\"),\n      isWrapped: true,\n      coingeckoUrl: \"https://www.coingecko.com/en/coins/binance-coin\",\n      imageUrl: \"https://assets.coingecko.com/coins/images/825/small/binance-coin-logo.png\",\n      baseSymbol: \"BNB\",\n    },\n    {\n      name: \"USD Gambit\",\n      symbol: \"USDG\",\n      decimals: 18,\n      address: getContract(56, \"USDG\"),\n      isUsdg: true,\n      coingeckoUrl: \"https://www.coingecko.com/en/coins/usd-gambit\",\n      imageUrl: \"https://assets.coingecko.com/coins/images/15886/small/usdg-02.png\",\n    },\n    {\n      name: \"Binance USD\",\n      symbol: \"BUSD\",\n      decimals: 18,\n      address: \"0xe9e7CEA3DedcA5984780Bafc599bD69ADd087D56\",\n      isStable: true,\n      coingeckoUrl: \"https://www.coingecko.com/en/coins/binance-usd\",\n      imageUrl: \"https://assets.coingecko.com/coins/images/9576/small/BUSD.png\",\n    },\n    {\n      name: \"USD Coin\",\n      symbol: \"USDC\",\n      decimals: 18,\n      address: \"0x8AC76a51cc950d9822D68b83fE1Ad97B32Cd580d\",\n      isStable: true,\n      coingeckoUrl: \"https://www.coingecko.com/en/coins/usd-coin\",\n      imageUrl: \"https://assets.coingecko.com/coins/images/6319/small/USD_Coin_icon.png\",\n    },\n    {\n      name: \"Tether\",\n      symbol: \"USDT\",\n      decimals: 18,\n      address: \"0x55d398326f99059fF775485246999027B3197955\",\n      isStable: true,\n      coingeckoUrl: \"https://www.coingecko.com/en/coins/tether\",\n      imageUrl: \"https://assets.coingecko.com/coins/images/325/small/Tether-logo.png\",\n    },\n  ],\n  97: [\n    {\n      name: \"Bitcoin (BTCB)\",\n      symbol: \"BTC\",\n      decimals: 8,\n      address: \"0xb19C12715134bee7c4b1Ca593ee9E430dABe7b56\",\n    },\n    {\n      name: \"Ethereum\",\n      symbol: \"ETH\",\n      decimals: 18,\n      address: \"0x1958f7C067226c7C8Ac310Dc994D0cebAbfb2B02\",\n    },\n    {\n      name: \"Binance Coin\",\n      symbol: \"BNB\",\n      decimals: 18,\n      address: ethers.constants.AddressZero,\n      isNative: true,\n    },\n    {\n      name: \"Wrapped Binance Coin\",\n      symbol: \"WBNB\",\n      decimals: 18,\n      address: \"0x612777Eea37a44F7a95E3B101C39e1E2695fa6C2\",\n      isWrapped: true,\n      baseSymbol: \"BNB\",\n    },\n    {\n      name: \"USD Gambit\",\n      symbol: \"USDG\",\n      decimals: 18,\n      address: getContract(97, \"USDG\"),\n      isUsdg: true,\n    },\n    {\n      name: \"Binance USD\",\n      symbol: \"BUSD\",\n      decimals: 18,\n      address: \"0x3F223C4E5ac67099CB695834b20cCd5E5D5AA9Ef\",\n      isStable: true,\n    },\n  ],\n  421611: [\n    {\n      name: \"Bitcoin\",\n      symbol: \"BTC\",\n      decimals: 8,\n      address: \"0x27960f9A322BE96A1535E6c19B3958e80E6a2670\",\n      isShortable: true,\n    },\n    {\n      name: \"Ethereum\",\n      symbol: \"ETH\",\n      decimals: 18,\n      address: ethers.constants.AddressZero,\n      isNative: true,\n      isShortable: true,\n    },\n    // https://github.com/OffchainLabs/arbitrum/blob/950c2f91b2e951cd3764394e0a73eac3797aecf3/packages/arb-ts/src/lib/networks.ts#L65\n    {\n      name: \"Wrapped Ethereum\",\n      symbol: \"WETH\",\n      decimals: 18,\n      address: \"0xB47e6A5f8b33b3F17603C83a0535A9dcD7E32681\",\n      isWrapped: true,\n      baseSymbol: \"ETH\",\n    },\n    {\n      name: \"USD Coin\",\n      symbol: \"USDC\",\n      decimals: 6,\n      address: \"0xf0DCd4737A20ED33481A49De94C599944a3Ca737\",\n      isStable: true,\n    },\n    {\n      name: \"Tether\",\n      symbol: \"USDT\",\n      decimals: 6,\n      address: \"0x818ED84bA1927945b631016e0d402Db50cE8865f\",\n      isStable: true,\n    },\n  ],\n  42161: [\n    {\n      name: \"Ethereum\",\n      symbol: \"ETH\",\n      decimals: 18,\n      address: ethers.constants.AddressZero,\n      isNative: true,\n      isShortable: true,\n      imageUrl: \"https://assets.coingecko.com/coins/images/279/small/ethereum.png?1595348880\",\n    },\n    {\n      name: \"Wrapped Ethereum\",\n      symbol: \"WETH\",\n      decimals: 18,\n      address: \"0x82aF49447D8a07e3bd95BD0d56f35241523fBab1\",\n      isWrapped: true,\n      baseSymbol: \"ETH\",\n      imageUrl: \"https://assets.coingecko.com/coins/images/2518/thumb/weth.png?1628852295\",\n    },\n    {\n      name: \"Bitcoin (WBTC)\",\n      symbol: \"BTC\",\n      decimals: 8,\n      address: \"0x2f2a2543B76A4166549F7aaB2e75Bef0aefC5B0f\",\n      isShortable: true,\n      imageUrl: \"https://assets.coingecko.com/coins/images/7598/thumb/wrapped_bitcoin_wbtc.png?1548822744\",\n    },\n    {\n      name: \"Chainlink\",\n      symbol: \"LINK\",\n      decimals: 18,\n      address: \"0xf97f4df75117a78c1A5a0DBb814Af92458539FB4\",\n      isStable: false,\n      isShortable: true,\n      imageUrl: \"https://assets.coingecko.com/coins/images/877/thumb/chainlink-new-logo.png?1547034700\",\n    },\n    {\n      name: \"Uniswap\",\n      symbol: \"UNI\",\n      decimals: 18,\n      address: \"0xFa7F8980b0f1E64A2062791cc3b0871572f1F7f0\",\n      isStable: false,\n      isShortable: true,\n      imageUrl: \"https://assets.coingecko.com/coins/images/12504/thumb/uniswap-uni.png?1600306604\",\n    },\n    {\n      name: \"USD Coin\",\n      symbol: \"USDC\",\n      decimals: 6,\n      address: \"0xFF970A61A04b1cA14834A43f5dE4533eBDDB5CC8\",\n      isStable: true,\n      imageUrl: \"https://assets.coingecko.com/coins/images/6319/thumb/USD_Coin_icon.png?1547042389\",\n    },\n    {\n      name: \"Tether\",\n      symbol: \"USDT\",\n      decimals: 6,\n      address: \"0xFd086bC7CD5C481DCC9C85ebE478A1C0b69FCbb9\",\n      isStable: true,\n      imageUrl: \"https://assets.coingecko.com/coins/images/325/thumb/Tether-logo.png?1598003707\",\n    },\n    {\n      name: \"Dai\",\n      symbol: \"DAI\",\n      decimals: 18,\n      address: \"0xDA10009cBd5D07dd0CeCc66161FC93D7c9000da1\",\n      isStable: true,\n      imageUrl: \"https://assets.coingecko.com/coins/images/9956/thumb/4943.png?1636636734\",\n    },\n    {\n      name: \"Frax\",\n      symbol: \"FRAX\",\n      decimals: 18,\n      address: \"0x17FC002b466eEc40DaE837Fc4bE5c67993ddBd6F\",\n      isStable: true,\n      imageUrl: \"https://assets.coingecko.com/coins/images/13422/small/frax_logo.png?1608476506\",\n    },\n    {\n      name: \"Magic Internet Money\",\n      symbol: \"MIM\",\n      decimals: 18,\n      address: \"0xFEa7a6a0B346362BF88A9e4A88416B77a57D6c2A\",\n      isStable: true,\n      isTempHidden: true,\n      imageUrl: \"https://assets.coingecko.com/coins/images/16786/small/mimlogopng.png\",\n    },\n  ],\n  43114: [\n    {\n      name: \"Avalanche\",\n      symbol: \"AVAX\",\n      decimals: 18,\n      address: ethers.constants.AddressZero,\n      isNative: true,\n      isShortable: true,\n      imageUrl: \"https://assets.coingecko.com/coins/images/12559/small/coin-round-red.png?1604021818\",\n    },\n    {\n      name: \"Wrapped AVAX\",\n      symbol: \"WAVAX\",\n      decimals: 18,\n      address: \"0xB31f66AA3C1e785363F0875A1B74E27b85FD66c7\",\n      isWrapped: true,\n      baseSymbol: \"AVAX\",\n      imageUrl: \"https://assets.coingecko.com/coins/images/12559/small/coin-round-red.png?1604021818\",\n    },\n    {\n      name: \"Ethereum (WETH.e)\",\n      symbol: \"ETH\",\n      address: \"0x49D5c2BdFfac6CE2BFdB6640F4F80f226bc10bAB\",\n      decimals: 18,\n      isShortable: true,\n      imageUrl: \"https://assets.coingecko.com/coins/images/279/small/ethereum.png?1595348880\",\n    },\n    {\n      name: \"Bitcoin (WBTC.e)\",\n      symbol: \"BTC\",\n      address: \"0x50b7545627a5162F82A992c33b87aDc75187B218\",\n      decimals: 8,\n      isShortable: true,\n      imageUrl: \"https://assets.coingecko.com/coins/images/7598/thumb/wrapped_bitcoin_wbtc.png?1548822744\",\n    },\n    {\n      name: \"Bitcoin (BTC.b)\",\n      symbol: \"BTC.b\",\n      address: \"0x152b9d0FdC40C096757F570A51E494bd4b943E50\",\n      decimals: 8,\n      isShortable: false,\n      imageUrl: \"https://assets.coingecko.com/coins/images/26115/thumb/btcb.png?1655921693\",\n    },\n    {\n      name: \"USD Coin (USDC.e)\",\n      symbol: \"USDC.e\",\n      address: \"0xA7D7079b0FEaD91F3e65f86E8915Cb59c1a4C664\",\n      decimals: 6,\n      isStable: true,\n      imageUrl: \"https://assets.coingecko.com/coins/images/6319/thumb/USD_Coin_icon.png?1547042389\",\n    },\n    {\n      name: \"USD Coin\",\n      symbol: \"USDC\",\n      address: \"0xB97EF9Ef8734C71904D8002F8b6Bc66Dd9c48a6E\",\n      decimals: 6,\n      isStable: true,\n      imageUrl: \"https://assets.coingecko.com/coins/images/6319/thumb/USD_Coin_icon.png?1547042389\",\n    },\n    {\n      name: \"Magic Internet Money\",\n      symbol: \"MIM\",\n      address: \"0x130966628846BFd36ff31a822705796e8cb8C18D\",\n      decimals: 18,\n      isStable: true,\n      isTempHidden: true,\n      imageUrl: \"https://assets.coingecko.com/coins/images/16786/small/mimlogopng.png\",\n    },\n  ],\n};\n\nconst ADDITIONAL_TOKENS = {\n  42161: [\n    {\n      name: \"GMX\",\n      symbol: \"GMX\",\n      address: getContract(42161, \"GMX\"),\n      decimals: 18,\n    },\n    {\n      name: \"Escrowed GMX\",\n      symbol: \"esGMX\",\n      address: getContract(42161, \"ES_GMX\"),\n      decimals: 18,\n    },\n    {\n      name: \"GMX LP\",\n      symbol: \"GLP\",\n      address: getContract(42161, \"GLP\"),\n      decimals: 18,\n    },\n  ],\n  43114: [\n    {\n      name: \"GMX\",\n      symbol: \"GMX\",\n      address: getContract(43114, \"GMX\"),\n      decimals: 18,\n    },\n    {\n      name: \"Escrowed GMX\",\n      symbol: \"esGMX\",\n      address: getContract(43114, \"ES_GMX\"),\n      decimals: 18,\n    },\n    {\n      name: \"GMX LP\",\n      symbol: \"GLP\",\n      address: getContract(42161, \"GLP\"),\n      decimals: 18,\n    },\n  ],\n};\n\nconst CHAIN_IDS = [56, 97, 42161, 421611, 43114];\n\nconst TOKENS_MAP = {};\nconst TOKENS_BY_SYMBOL_MAP = {};\n\nfor (let j = 0; j < CHAIN_IDS.length; j++) {\n  const chainId = CHAIN_IDS[j];\n  TOKENS_MAP[chainId] = {};\n  TOKENS_BY_SYMBOL_MAP[chainId] = {};\n  let tokens = TOKENS[chainId];\n  if (ADDITIONAL_TOKENS[chainId]) {\n    tokens = tokens.concat(ADDITIONAL_TOKENS[chainId]);\n  }\n\n  for (let i = 0; i < tokens.length; i++) {\n    const token = tokens[i];\n    TOKENS_MAP[chainId][token.address] = token;\n    TOKENS_BY_SYMBOL_MAP[chainId][token.symbol] = token;\n  }\n}\n\nconst WRAPPED_TOKENS_MAP = {};\nconst NATIVE_TOKENS_MAP = {};\nfor (const chainId of CHAIN_IDS) {\n  for (const token of TOKENS[chainId]) {\n    if (token.isWrapped) {\n      WRAPPED_TOKENS_MAP[chainId] = token;\n    } else if (token.isNative) {\n      NATIVE_TOKENS_MAP[chainId] = token;\n    }\n  }\n}\n\nexport function getWrappedToken(chainId) {\n  return WRAPPED_TOKENS_MAP[chainId];\n}\n\nexport function getNativeToken(chainId) {\n  return NATIVE_TOKENS_MAP[chainId];\n}\n\nexport function getTokens(chainId) {\n  return TOKENS[chainId];\n}\n\nexport function isValidToken(chainId, address) {\n  if (!TOKENS_MAP[chainId]) {\n    throw new Error(`Incorrect chainId ${chainId}`);\n  }\n  return address in TOKENS_MAP[chainId];\n}\n\nexport function getToken(chainId, address) {\n  if (!TOKENS_MAP[chainId]) {\n    throw new Error(`Incorrect chainId ${chainId}`);\n  }\n  if (!TOKENS_MAP[chainId][address]) {\n    throw new Error(`Incorrect address \"${address}\" for chainId ${chainId}`);\n  }\n  return TOKENS_MAP[chainId][address];\n}\n\nexport function getTokenBySymbol(chainId, symbol) {\n  const token = TOKENS_BY_SYMBOL_MAP[chainId][symbol];\n  if (!token) {\n    throw new Error(`Incorrect symbol \"${symbol}\" for chainId ${chainId}`);\n  }\n  return token;\n}\n\nexport function getWhitelistedTokens(chainId) {\n  return TOKENS[chainId].filter((token) => token.symbol !== \"USDG\");\n}\n\nexport function getVisibleTokens(chainId) {\n  return getWhitelistedTokens(chainId).filter((token) => !token.isWrapped && !token.isTempHidden);\n}\n","import React, { useCallback, useEffect, useRef, useState } from \"react\";\nimport { InjectedConnector } from \"@web3-react/injected-connector\";\nimport {\n  UserRejectedRequestError as UserRejectedRequestErrorWalletConnect,\n  WalletConnectConnector,\n} from \"@web3-react/walletconnect-connector\";\nimport { toast } from \"react-toastify\";\nimport { UnsupportedChainIdError, useWeb3React } from \"@web3-react/core\";\nimport { useLocalStorage } from \"react-use\";\nimport { BigNumber, ethers } from \"ethers\";\nimport { format as formatDateFn } from \"date-fns\";\nimport Token from \"../abis/Token.json\";\nimport _ from \"lodash\";\nimport { getContract } from \"../config/Addresses\";\nimport useSWR from \"swr\";\n\nimport OrderBookReader from \"../abis/OrderBookReader.json\";\nimport OrderBook from \"../abis/OrderBook.json\";\n\nimport { getWhitelistedTokens, isValidToken } from \"../config/Tokens\";\n\nconst { AddressZero } = ethers.constants;\n\nexport const UI_VERSION = \"1.3\";\n\n// use a random placeholder account instead of the zero address as the zero address might have tokens\nexport const PLACEHOLDER_ACCOUNT = ethers.Wallet.createRandom().address;\n\nexport const MAINNET = 56;\nexport const AVALANCHE = 43114;\nexport const TESTNET = 97;\nexport const ARBITRUM_TESTNET = 421611;\nexport const ARBITRUM = 42161;\n// TODO take it from web3\nexport const DEFAULT_CHAIN_ID = ARBITRUM;\nexport const CHAIN_ID = DEFAULT_CHAIN_ID;\n\nexport const MIN_PROFIT_TIME = 0;\n\nconst SELECTED_NETWORK_LOCAL_STORAGE_KEY = \"SELECTED_NETWORK\";\n\nexport const IS_NETWORK_DISABLED = {\n  [ARBITRUM]: false,\n  [AVALANCHE]: false,\n};\n\nconst CHAIN_NAMES_MAP = {\n  [MAINNET]: \"BSC\",\n  [TESTNET]: \"BSC Testnet\",\n  [ARBITRUM_TESTNET]: \"ArbRinkeby\",\n  [ARBITRUM]: \"Arbitrum\",\n  [AVALANCHE]: \"Avalanche\",\n};\n\nconst alchemyWhitelistedDomains = [\"gmx.io\", \"app.gmx.io\"];\n\nexport function getDefaultArbitrumRpcUrl() {\n  return \"https://arb1.arbitrum.io/rpc\";\n}\n\nexport function getAlchemyHttpUrl() {\n  if (alchemyWhitelistedDomains.includes(window.location.host)) {\n    return \"https://arb-mainnet.g.alchemy.com/v2/ha7CFsr1bx5ZItuR6VZBbhKozcKDY4LZ\";\n  }\n  return \"https://arb-mainnet.g.alchemy.com/v2/EmVYwUw0N2tXOuG0SZfe5Z04rzBsCbr2\";\n}\n\nexport function getAlchemyWsUrl() {\n  if (alchemyWhitelistedDomains.includes(window.location.host)) {\n    return \"wss://arb-mainnet.g.alchemy.com/v2/ha7CFsr1bx5ZItuR6VZBbhKozcKDY4LZ\";\n  }\n  return \"wss://arb-mainnet.g.alchemy.com/v2/EmVYwUw0N2tXOuG0SZfe5Z04rzBsCbr2\";\n}\n\nconst ARBITRUM_RPC_PROVIDERS = [getDefaultArbitrumRpcUrl()];\nconst AVALANCHE_RPC_PROVIDERS = [\"https://api.avax.network/ext/bc/C/rpc\"];\nexport const WALLET_CONNECT_LOCALSTORAGE_KEY = \"walletconnect\";\nexport const WALLET_LINK_LOCALSTORAGE_PREFIX = \"-walletlink\";\nexport const SHOULD_EAGER_CONNECT_LOCALSTORAGE_KEY = \"eagerconnect\";\nexport const CURRENT_PROVIDER_LOCALSTORAGE_KEY = \"currentprovider\";\nexport const LANGUAGE_LOCALSTORAGE_KEY = \"LANGUAGE_KEY\";\n\nexport function getChainName(chainId) {\n  return CHAIN_NAMES_MAP[chainId];\n}\n\nexport const USDG_ADDRESS = getContract(CHAIN_ID, \"USDG\");\n\nexport const BASIS_POINTS_DIVISOR = 10000;\nexport const MAX_LEVERAGE = 100 * BASIS_POINTS_DIVISOR;\nexport const MAX_ALLOWED_LEVERAGE = 50 * BASIS_POINTS_DIVISOR;\n\nexport const MAX_PRICE_DEVIATION_BASIS_POINTS = 750;\nexport const DEFAULT_GAS_LIMIT = 1 * 1000 * 1000;\nexport const SECONDS_PER_YEAR = 31536000;\nexport const USDG_DECIMALS = 18;\nexport const USD_DECIMALS = 30;\nexport const DEPOSIT_FEE = 30;\nexport const DUST_BNB = \"2000000000000000\";\nexport const DUST_USD = expandDecimals(1, USD_DECIMALS);\nexport const PRECISION = expandDecimals(1, 30);\nexport const GLP_DECIMALS = 18;\nexport const GMX_DECIMALS = 18;\nexport const DEFAULT_MAX_USDG_AMOUNT = expandDecimals(200 * 1000 * 1000, 18);\n\nexport const TAX_BASIS_POINTS = 50;\nexport const STABLE_TAX_BASIS_POINTS = 5;\nexport const MINT_BURN_FEE_BASIS_POINTS = 25;\nexport const SWAP_FEE_BASIS_POINTS = 30;\nexport const STABLE_SWAP_FEE_BASIS_POINTS = 1;\nexport const MARGIN_FEE_BASIS_POINTS = 10;\n\nexport const LIQUIDATION_FEE = expandDecimals(5, USD_DECIMALS);\n\nexport const TRADES_PAGE_SIZE = 100;\n\nexport const GLP_COOLDOWN_DURATION = 15 * 60;\nexport const THRESHOLD_REDEMPTION_VALUE = expandDecimals(993, 27); // 0.993\nexport const FUNDING_RATE_PRECISION = 1000000;\n\nexport const SWAP = \"Swap\";\nexport const INCREASE = \"Increase\";\nexport const DECREASE = \"Decrease\";\nexport const LONG = \"Long\";\nexport const SHORT = \"Short\";\n\nexport const MARKET = \"Market\";\nexport const LIMIT = \"Limit\";\nexport const STOP = \"Stop\";\nexport const BORROW = \"Borrow\";\n\n// Market/limit orders disabling\n// export const LEVERAGE_ORDER_OPTIONS = [MARKET, LIMIT, STOP];\nexport const LEVERAGE_ORDER_OPTIONS = [MARKET, LIMIT];\n\nexport const SWAP_ORDER_OPTIONS = [MARKET, LIMIT];\n\n// Swap disabling\n// export const SWAP_OPTIONS = [LONG, SHORT, SWAP];\nexport const SWAP_OPTIONS = [LONG, SHORT];\n\n\n// Default Slippage\nexport const DEFAULT_SLIPPAGE_AMOUNT = 30;\n// export const DEFAULT_SLIPPAGE_AMOUNT = 100;\n\nexport const DEFAULT_HIGHER_SLIPPAGE_AMOUNT = 100;\n\nexport const SLIPPAGE_BPS_KEY = \"Exchange-swap-slippage-basis-points-v3\";\nexport const CLOSE_POSITION_RECEIVE_TOKEN_KEY = \"Close-position-receive-token\";\nexport const IS_PNL_IN_LEVERAGE_KEY = \"Exchange-swap-is-pnl-in-leverage\";\nexport const SHOW_PNL_AFTER_FEES_KEY = \"Exchange-swap-show-pnl-after-fees\";\nexport const DISABLE_ORDER_VALIDATION_KEY = \"disable-order-validation\";\nexport const SHOULD_SHOW_POSITION_LINES_KEY = \"Exchange-swap-should-show-position-lines\";\nexport const REFERRAL_CODE_KEY = \"GMX-referralCode\";\nexport const REFERRAL_CODE_QUERY_PARAM = \"ref\";\nexport const REFERRALS_SELECTED_TAB_KEY = \"Referrals-selected-tab\";\nexport const MAX_REFERRAL_CODE_LENGTH = 20;\n\nexport const TRIGGER_PREFIX_ABOVE = \">\";\nexport const TRIGGER_PREFIX_BELOW = \"<\";\n\nexport const MIN_PROFIT_BIPS = 0;\n\nexport const GLPPOOLCOLORS = {\n  ETH: \"#6062a6\",\n  BTC: \"#F7931A\",\n  \"BTC.b\": \"#F7931A\",\n  USDC: \"#2775CA\",\n  \"USDC.e\": \"#2A5ADA\",\n  USDT: \"#67B18A\",\n  MIM: \"#9695F8\",\n  FRAX: \"#000\",\n  DAI: \"#FAC044\",\n  UNI: \"#E9167C\",\n  AVAX: \"#E84142\",\n  LINK: \"#3256D6\",\n};\n\nexport const HIGH_EXECUTION_FEES_MAP = {\n  [ARBITRUM]: 3, // 3 USD\n  [AVALANCHE]: 3, // 3 USD\n};\n\nexport function getHighExecutionFee(chainId) {\n  return HIGH_EXECUTION_FEES_MAP[chainId] || 3;\n}\n\nexport const ICONLINKS = {\n  [ARBITRUM_TESTNET]: {\n    GMX: {\n      coingecko: \"https://www.coingecko.com/en/coins/gmx\",\n      arbitrum: \"https://arbiscan.io/address/0xfc5a1a6eb076a2c7ad06ed22c90d7e710e35ad0a\",\n    },\n    GLP: {\n      arbitrum: \"https://testnet.arbiscan.io/token/0xb4f81Fa74e06b5f762A104e47276BA9b2929cb27\",\n    },\n  },\n  [ARBITRUM]: {\n    GMX: {\n      coingecko: \"https://www.coingecko.com/en/coins/gmx\",\n      arbitrum: \"https://arbiscan.io/address/0xfc5a1a6eb076a2c7ad06ed22c90d7e710e35ad0a\",\n    },\n    GLP: {\n      arbitrum: \"https://arbiscan.io/token/0x1aDDD80E6039594eE970E5872D247bf0414C8903\",\n    },\n    ETH: {\n      coingecko: \"https://www.coingecko.com/en/coins/ethereum\",\n    },\n    BTC: {\n      coingecko: \"https://www.coingecko.com/en/coins/wrapped-bitcoin\",\n      arbitrum: \"https://arbiscan.io/address/0x2f2a2543b76a4166549f7aab2e75bef0aefc5b0f\",\n    },\n    LINK: {\n      coingecko: \"https://www.coingecko.com/en/coins/chainlink\",\n      arbitrum: \"https://arbiscan.io/address/0xf97f4df75117a78c1a5a0dbb814af92458539fb4\",\n    },\n    UNI: {\n      coingecko: \"https://www.coingecko.com/en/coins/uniswap\",\n      arbitrum: \"https://arbiscan.io/address/0xfa7f8980b0f1e64a2062791cc3b0871572f1f7f0\",\n    },\n    USDC: {\n      coingecko: \"https://www.coingecko.com/en/coins/usd-coin\",\n      arbitrum: \"https://arbiscan.io/address/0xff970a61a04b1ca14834a43f5de4533ebddb5cc8\",\n    },\n    USDT: {\n      coingecko: \"https://www.coingecko.com/en/coins/tether\",\n      arbitrum: \"https://arbiscan.io/address/0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9\",\n    },\n    DAI: {\n      coingecko: \"https://www.coingecko.com/en/coins/dai\",\n      arbitrum: \"https://arbiscan.io/address/0xda10009cbd5d07dd0cecc66161fc93d7c9000da1\",\n    },\n    MIM: {\n      coingecko: \"https://www.coingecko.com/en/coins/magic-internet-money\",\n      arbitrum: \"https://arbiscan.io/address/0xfea7a6a0b346362bf88a9e4a88416b77a57d6c2a\",\n    },\n    FRAX: {\n      coingecko: \"https://www.coingecko.com/en/coins/frax\",\n      arbitrum: \"https://arbiscan.io/address/0x17fc002b466eec40dae837fc4be5c67993ddbd6f\",\n    },\n  },\n  [AVALANCHE]: {\n    GMX: {\n      coingecko: \"https://www.coingecko.com/en/coins/gmx\",\n      avalanche: \"https://snowtrace.io/address/0x62edc0692bd897d2295872a9ffcac5425011c661\",\n    },\n    GLP: {\n      avalanche: \"https://snowtrace.io/address/0x9e295B5B976a184B14aD8cd72413aD846C299660\",\n    },\n    AVAX: {\n      coingecko: \"https://www.coingecko.com/en/coins/avalanche\",\n    },\n    ETH: {\n      coingecko: \"https://www.coingecko.com/en/coins/weth\",\n      avalanche: \"https://snowtrace.io/address/0x49d5c2bdffac6ce2bfdb6640f4f80f226bc10bab\",\n    },\n    BTC: {\n      coingecko: \"https://www.coingecko.com/en/coins/wrapped-bitcoin\",\n      avalanche: \"https://snowtrace.io/address/0x50b7545627a5162f82a992c33b87adc75187b218\",\n    },\n    \"BTC.b\": {\n      coingecko: \"https://www.coingecko.com/en/coins/wrapped-bitcoin\",\n      avalanche: \"https://snowtrace.io/address/0x152b9d0FdC40C096757F570A51E494bd4b943E50\",\n    },\n    MIM: {\n      coingecko: \"https://www.coingecko.com/en/coins/magic-internet-money\",\n      avalanche: \"https://snowtrace.io/address/0x130966628846bfd36ff31a822705796e8cb8c18d\",\n    },\n    \"USDC.e\": {\n      coingecko: \"https://www.coingecko.com/en/coins/usd-coin-avalanche-bridged-usdc-e\",\n      avalanche: \"https://snowtrace.io/address/0xa7d7079b0fead91f3e65f86e8915cb59c1a4c664\",\n    },\n    USDC: {\n      coingecko: \"https://www.coingecko.com/en/coins/usd-coin\",\n      avalanche: \"https://snowtrace.io/address/0xb97ef9ef8734c71904d8002f8b6bc66dd9c48a6e\",\n    },\n  },\n};\n\nexport const platformTokens = {\n  42161: {\n    // arbitrum\n    GMX: {\n      name: \"GMX\",\n      symbol: \"GMX\",\n      decimals: 18,\n      address: getContract(ARBITRUM, \"GMX\"),\n      imageUrl: \"https://assets.coingecko.com/coins/images/18323/small/arbit.png?1631532468\",\n    },\n    GLP: {\n      name: \"GMX LP\",\n      symbol: \"GLP\",\n      decimals: 18,\n      address: getContract(ARBITRUM, \"StakedGlpTracker\"), // address of fsGLP token because user only holds fsGLP\n      imageUrl: \"https://github.com/gmx-io/gmx-assets/blob/main/GMX-Assets/PNG/GLP_LOGO%20ONLY.png?raw=true\",\n    },\n  },\n  43114: {\n    // avalanche\n    GMX: {\n      name: \"GMX\",\n      symbol: \"GMX\",\n      decimals: 18,\n      address: getContract(AVALANCHE, \"GMX\"),\n      imageUrl: \"https://assets.coingecko.com/coins/images/18323/small/arbit.png?1631532468\",\n    },\n    GLP: {\n      name: \"GMX LP\",\n      symbol: \"GLP\",\n      decimals: 18,\n      address: getContract(AVALANCHE, \"StakedGlpTracker\"), // address of fsGLP token because user only holds fsGLP\n      imageUrl: \"https://github.com/gmx-io/gmx-assets/blob/main/GMX-Assets/PNG/GLP_LOGO%20ONLY.png?raw=true\",\n    },\n  },\n};\n\nconst supportedChainIds = [ARBITRUM, AVALANCHE];\nif (isDevelopment()) {\n  supportedChainIds.push(ARBITRUM_TESTNET);\n}\nconst injectedConnector = new InjectedConnector({\n  supportedChainIds,\n});\n\nconst getWalletConnectConnector = () => {\n  const chainId = localStorage.getItem(SELECTED_NETWORK_LOCAL_STORAGE_KEY) || DEFAULT_CHAIN_ID;\n  return new WalletConnectConnector({\n    rpc: {\n      [AVALANCHE]: AVALANCHE_RPC_PROVIDERS[0],\n      [ARBITRUM]: ARBITRUM_RPC_PROVIDERS[0],\n      [ARBITRUM_TESTNET]: \"https://rinkeby.arbitrum.io/rpc\",\n    },\n    qrcode: true,\n    chainId,\n  });\n};\n\nexport function isSupportedChain(chainId) {\n  return supportedChainIds.includes(chainId);\n}\n\nexport function deserialize(data) {\n  for (const [key, value] of Object.entries(data)) {\n    if (value._type === \"BigNumber\") {\n      data[key] = bigNumberify(value.value);\n    }\n  }\n  return data;\n}\n\nexport function isHomeSite() {\n  return process.env.REACT_APP_IS_HOME_SITE === \"true\";\n}\n\nexport const helperToast = {\n  success: (content, opts) => {\n    toast.dismiss();\n    toast.success(content, opts);\n  },\n  error: (content, opts) => {\n    toast.dismiss();\n    toast.error(content, opts);\n  },\n};\n\nexport function useLocalStorageByChainId(chainId, key, defaultValue) {\n  const [internalValue, setInternalValue] = useLocalStorage(key, {});\n\n  const setValue = useCallback(\n    (value) => {\n      setInternalValue((internalValue) => {\n        if (typeof value === \"function\") {\n          value = value(internalValue[chainId] || defaultValue);\n        }\n        const newInternalValue = {\n          ...internalValue,\n          [chainId]: value,\n        };\n        return newInternalValue;\n      });\n    },\n    [chainId, setInternalValue, defaultValue]\n  );\n\n  let value;\n  if (chainId in internalValue) {\n    value = internalValue[chainId];\n  } else {\n    value = defaultValue;\n  }\n\n  return [value, setValue];\n}\n\nexport function useLocalStorageSerializeKey(key, value, opts) {\n  key = JSON.stringify(key);\n  return useLocalStorage(key, value, opts);\n}\n\nfunction getTriggerPrice(tokenAddress, max, info, orderOption, triggerPriceUsd) {\n  // Limit/stop orders are executed with price specified by user\n  if (orderOption && orderOption !== MARKET && triggerPriceUsd) {\n    return triggerPriceUsd;\n  }\n\n  // Market orders are executed with current market price\n  if (!info) {\n    return;\n  }\n  if (max && !info.maxPrice) {\n    return;\n  }\n  if (!max && !info.minPrice) {\n    return;\n  }\n  return max ? info.maxPrice : info.minPrice;\n}\n\nexport function getLiquidationPriceFromDelta({ liquidationAmount, size, collateral, averagePrice, isLong }) {\n  if (!size || size.eq(0)) {\n    return;\n  }\n\n  if (liquidationAmount.gt(collateral)) {\n    const liquidationDelta = liquidationAmount.sub(collateral);\n    const priceDelta = liquidationDelta.mul(averagePrice).div(size);\n    return isLong ? averagePrice.add(priceDelta) : averagePrice.sub(priceDelta);\n  }\n\n  const liquidationDelta = collateral.sub(liquidationAmount);\n  const priceDelta = liquidationDelta.mul(averagePrice).div(size);\n\n  return isLong ? averagePrice.sub(priceDelta) : averagePrice.add(priceDelta);\n}\n\nexport const replaceNativeTokenAddress = (path, nativeTokenAddress) => {\n  if (!path) {\n    return;\n  }\n\n  let updatedPath = [];\n  for (let i = 0; i < path.length; i++) {\n    let address = path[i];\n    if (address === AddressZero) {\n      address = nativeTokenAddress;\n    }\n    updatedPath.push(address);\n  }\n\n  return updatedPath;\n};\n\nexport function getMarginFee(sizeDelta) {\n  if (!sizeDelta) {\n    return bigNumberify(0);\n  }\n  const afterFeeUsd = sizeDelta.mul(BASIS_POINTS_DIVISOR - MARGIN_FEE_BASIS_POINTS).div(BASIS_POINTS_DIVISOR);\n  return sizeDelta.sub(afterFeeUsd);\n}\n\nexport function getServerBaseUrl(chainId) {\n  if (!chainId) {\n    throw new Error(\"chainId is not provided\");\n  }\n  if (document.location.hostname.includes(\"deploy-preview\")) {\n    const fromLocalStorage = localStorage.getItem(\"SERVER_BASE_URL\");\n    if (fromLocalStorage) {\n      return fromLocalStorage;\n    }\n  }\n  if (chainId === MAINNET) {\n    return \"https://gambit-server-staging.uc.r.appspot.com\";\n  } else if (chainId === ARBITRUM_TESTNET) {\n    return \"https://gambit-server-devnet.uc.r.appspot.com\";\n  } else if (chainId === ARBITRUM) {\n    return \"https://gmx-server-mainnet.uw.r.appspot.com\";\n  } else if (chainId === AVALANCHE) {\n    return \"https://gmx-avax-server.uc.r.appspot.com\";\n  }\n  return \"https://gmx-server-mainnet.uw.r.appspot.com\";\n}\n\nexport function getServerUrl(chainId, path) {\n  return `${getServerBaseUrl(chainId)}${path}`;\n}\n\nexport function isTriggerRatioInverted(fromTokenInfo, toTokenInfo) {\n  if (!toTokenInfo || !fromTokenInfo) return false;\n  if (toTokenInfo.isStable || toTokenInfo.isUsdg) return true;\n  if (toTokenInfo.maxPrice) return toTokenInfo.maxPrice.lt(fromTokenInfo.maxPrice);\n  return false;\n}\n\nexport function getExchangeRate(tokenAInfo, tokenBInfo, inverted) {\n  if (!tokenAInfo || !tokenAInfo.minPrice || !tokenBInfo || !tokenBInfo.maxPrice) {\n    return;\n  }\n  if (inverted) {\n    return tokenAInfo.minPrice.mul(PRECISION).div(tokenBInfo.maxPrice);\n  }\n  return tokenBInfo.maxPrice.mul(PRECISION).div(tokenAInfo.minPrice);\n}\n\nexport function getMostAbundantStableToken(chainId, infoTokens) {\n  const whitelistedTokens = getWhitelistedTokens(chainId);\n  let availableAmount;\n  let stableToken = whitelistedTokens.find((t) => t.isStable);\n  for (let i = 0; i < whitelistedTokens.length; i++) {\n    const info = getTokenInfo(infoTokens, whitelistedTokens[i].address);\n    if (!info.isStable || !info.availableAmount) {\n      continue;\n    }\n\n    const adjustedAvailableAmount = adjustForDecimals(info.availableAmount, info.decimals, USD_DECIMALS);\n    if (!availableAmount || adjustedAvailableAmount.gt(availableAmount)) {\n      availableAmount = adjustedAvailableAmount;\n      stableToken = info;\n    }\n  }\n  return stableToken;\n}\n\nexport function shouldInvertTriggerRatio(tokenA, tokenB) {\n  if (tokenB.isStable || tokenB.isUsdg) return true;\n  if (tokenB.maxPrice && tokenA.maxPrice && tokenB.maxPrice.lt(tokenA.maxPrice)) return true;\n  return false;\n}\n\nexport function getExchangeRateDisplay(rate, tokenA, tokenB, opts = {}) {\n  if (!rate || !tokenA || !tokenB) return \"...\";\n  if (shouldInvertTriggerRatio(tokenA, tokenB)) {\n    [tokenA, tokenB] = [tokenB, tokenA];\n    rate = PRECISION.mul(PRECISION).div(rate);\n  }\n  const rateValue = formatAmount(rate, USD_DECIMALS, tokenA.isStable || tokenA.isUsdg ? 2 : 4, true);\n  if (opts.omitSymbols) {\n    return rateValue;\n  }\n  return `${rateValue} ${tokenA.symbol} / ${tokenB.symbol}`;\n}\n\nconst adjustForDecimalsFactory = (n) => (number) => {\n  if (n === 0) {\n    return number;\n  }\n  if (n > 0) {\n    return number.mul(expandDecimals(1, n));\n  }\n  return number.div(expandDecimals(1, -n));\n};\n\nexport function adjustForDecimals(amount, divDecimals, mulDecimals) {\n  return amount.mul(expandDecimals(1, mulDecimals)).div(expandDecimals(1, divDecimals));\n}\n\nexport function getTargetUsdgAmount(token, usdgSupply, totalTokenWeights) {\n  if (!token || !token.weight || !usdgSupply) {\n    return;\n  }\n\n  if (usdgSupply.eq(0)) {\n    return bigNumberify(0);\n  }\n\n  return token.weight.mul(usdgSupply).div(totalTokenWeights);\n}\n\nexport function getFeeBasisPoints(\n  token,\n  usdgDelta,\n  feeBasisPoints,\n  taxBasisPoints,\n  increment,\n  usdgSupply,\n  totalTokenWeights\n) {\n  if (!token || !token.usdgAmount || !usdgSupply || !totalTokenWeights) {\n    return 0;\n  }\n\n  feeBasisPoints = bigNumberify(feeBasisPoints);\n  taxBasisPoints = bigNumberify(taxBasisPoints);\n\n  const initialAmount = token.usdgAmount;\n  let nextAmount = initialAmount.add(usdgDelta);\n  if (!increment) {\n    nextAmount = usdgDelta.gt(initialAmount) ? bigNumberify(0) : initialAmount.sub(usdgDelta);\n  }\n\n  const targetAmount = getTargetUsdgAmount(token, usdgSupply, totalTokenWeights);\n  if (!targetAmount || targetAmount.eq(0)) {\n    return feeBasisPoints.toNumber();\n  }\n\n  const initialDiff = initialAmount.gt(targetAmount)\n    ? initialAmount.sub(targetAmount)\n    : targetAmount.sub(initialAmount);\n  const nextDiff = nextAmount.gt(targetAmount) ? nextAmount.sub(targetAmount) : targetAmount.sub(nextAmount);\n\n  if (nextDiff.lt(initialDiff)) {\n    const rebateBps = taxBasisPoints.mul(initialDiff).div(targetAmount);\n    return rebateBps.gt(feeBasisPoints) ? 0 : feeBasisPoints.sub(rebateBps).toNumber();\n  }\n\n  let averageDiff = initialDiff.add(nextDiff).div(2);\n  if (averageDiff.gt(targetAmount)) {\n    averageDiff = targetAmount;\n  }\n  const taxBps = taxBasisPoints.mul(averageDiff).div(targetAmount);\n  return feeBasisPoints.add(taxBps).toNumber();\n}\n\nexport function getBuyGlpToAmount(fromAmount, swapTokenAddress, infoTokens, glpPrice, usdgSupply, totalTokenWeights) {\n  const defaultValue = { amount: bigNumberify(0), feeBasisPoints: 0 };\n  if (!fromAmount || !swapTokenAddress || !infoTokens || !glpPrice || !usdgSupply || !totalTokenWeights) {\n    return defaultValue;\n  }\n\n  const swapToken = getTokenInfo(infoTokens, swapTokenAddress);\n  if (!swapToken || !swapToken.minPrice) {\n    return defaultValue;\n  }\n\n  let glpAmount = fromAmount.mul(swapToken.minPrice).div(glpPrice);\n  glpAmount = adjustForDecimals(glpAmount, swapToken.decimals, USDG_DECIMALS);\n\n  let usdgAmount = fromAmount.mul(swapToken.minPrice).div(PRECISION);\n  usdgAmount = adjustForDecimals(usdgAmount, swapToken.decimals, USDG_DECIMALS);\n  const feeBasisPoints = getFeeBasisPoints(\n    swapToken,\n    usdgAmount,\n    MINT_BURN_FEE_BASIS_POINTS,\n    TAX_BASIS_POINTS,\n    true,\n    usdgSupply,\n    totalTokenWeights\n  );\n\n  glpAmount = glpAmount.mul(BASIS_POINTS_DIVISOR - feeBasisPoints).div(BASIS_POINTS_DIVISOR);\n\n  return { amount: glpAmount, feeBasisPoints };\n}\n\nexport function getSellGlpFromAmount(toAmount, swapTokenAddress, infoTokens, glpPrice, usdgSupply, totalTokenWeights) {\n  const defaultValue = { amount: bigNumberify(0), feeBasisPoints: 0 };\n  if (!toAmount || !swapTokenAddress || !infoTokens || !glpPrice || !usdgSupply || !totalTokenWeights) {\n    return defaultValue;\n  }\n\n  const swapToken = getTokenInfo(infoTokens, swapTokenAddress);\n  if (!swapToken || !swapToken.maxPrice) {\n    return defaultValue;\n  }\n\n  let glpAmount = toAmount.mul(swapToken.maxPrice).div(glpPrice);\n  glpAmount = adjustForDecimals(glpAmount, swapToken.decimals, USDG_DECIMALS);\n\n  let usdgAmount = toAmount.mul(swapToken.maxPrice).div(PRECISION);\n  usdgAmount = adjustForDecimals(usdgAmount, swapToken.decimals, USDG_DECIMALS);\n  const feeBasisPoints = getFeeBasisPoints(\n    swapToken,\n    usdgAmount,\n    MINT_BURN_FEE_BASIS_POINTS,\n    TAX_BASIS_POINTS,\n    false,\n    usdgSupply,\n    totalTokenWeights\n  );\n\n  glpAmount = glpAmount.mul(BASIS_POINTS_DIVISOR).div(BASIS_POINTS_DIVISOR - feeBasisPoints);\n\n  return { amount: glpAmount, feeBasisPoints };\n}\n\nexport function getBuyGlpFromAmount(toAmount, fromTokenAddress, infoTokens, glpPrice, usdgSupply, totalTokenWeights) {\n  const defaultValue = { amount: bigNumberify(0) };\n  if (!toAmount || !fromTokenAddress || !infoTokens || !glpPrice || !usdgSupply || !totalTokenWeights) {\n    return defaultValue;\n  }\n\n  const fromToken = getTokenInfo(infoTokens, fromTokenAddress);\n  if (!fromToken || !fromToken.minPrice) {\n    return defaultValue;\n  }\n\n  let fromAmount = toAmount.mul(glpPrice).div(fromToken.minPrice);\n  fromAmount = adjustForDecimals(fromAmount, GLP_DECIMALS, fromToken.decimals);\n\n  const usdgAmount = toAmount.mul(glpPrice).div(PRECISION);\n  const feeBasisPoints = getFeeBasisPoints(\n    fromToken,\n    usdgAmount,\n    MINT_BURN_FEE_BASIS_POINTS,\n    TAX_BASIS_POINTS,\n    true,\n    usdgSupply,\n    totalTokenWeights\n  );\n\n  fromAmount = fromAmount.mul(BASIS_POINTS_DIVISOR).div(BASIS_POINTS_DIVISOR - feeBasisPoints);\n\n  return { amount: fromAmount, feeBasisPoints };\n}\n\nexport function getSellGlpToAmount(toAmount, fromTokenAddress, infoTokens, glpPrice, usdgSupply, totalTokenWeights) {\n  const defaultValue = { amount: bigNumberify(0) };\n  if (!toAmount || !fromTokenAddress || !infoTokens || !glpPrice || !usdgSupply || !totalTokenWeights) {\n    return defaultValue;\n  }\n\n  const fromToken = getTokenInfo(infoTokens, fromTokenAddress);\n  if (!fromToken || !fromToken.maxPrice) {\n    return defaultValue;\n  }\n\n  let fromAmount = toAmount.mul(glpPrice).div(fromToken.maxPrice);\n  fromAmount = adjustForDecimals(fromAmount, GLP_DECIMALS, fromToken.decimals);\n\n  const usdgAmount = toAmount.mul(glpPrice).div(PRECISION);\n  const feeBasisPoints = getFeeBasisPoints(\n    fromToken,\n    usdgAmount,\n    MINT_BURN_FEE_BASIS_POINTS,\n    TAX_BASIS_POINTS,\n    false,\n    usdgSupply,\n    totalTokenWeights\n  );\n\n  fromAmount = fromAmount.mul(BASIS_POINTS_DIVISOR - feeBasisPoints).div(BASIS_POINTS_DIVISOR);\n\n  return { amount: fromAmount, feeBasisPoints };\n}\n\nexport function getNextFromAmount(\n  chainId,\n  toAmount,\n  fromTokenAddress,\n  toTokenAddress,\n  infoTokens,\n  toTokenPriceUsd,\n  ratio,\n  usdgSupply,\n  totalTokenWeights,\n  forSwap\n) {\n  const defaultValue = { amount: bigNumberify(0) };\n\n  if (!toAmount || !fromTokenAddress || !toTokenAddress || !infoTokens) {\n    return defaultValue;\n  }\n\n  if (fromTokenAddress === toTokenAddress) {\n    return { amount: toAmount };\n  }\n\n  const fromToken = getTokenInfo(infoTokens, fromTokenAddress);\n  const toToken = getTokenInfo(infoTokens, toTokenAddress);\n\n  if (fromToken.isNative && toToken.isWrapped) {\n    return { amount: toAmount };\n  }\n\n  if (fromToken.isWrapped && toToken.isNative) {\n    return { amount: toAmount };\n  }\n\n  // the realtime price should be used if it is for a transaction to open / close a position\n  // or if the transaction involves doing a swap and opening / closing a position\n  // otherwise use the contract price instead of realtime price for swaps\n\n  let fromTokenMinPrice;\n  if (fromToken) {\n    fromTokenMinPrice = forSwap ? fromToken.contractMinPrice : fromToken.minPrice;\n  }\n\n  let toTokenMaxPrice;\n  if (toToken) {\n    toTokenMaxPrice = forSwap ? toToken.contractMaxPrice : toToken.maxPrice;\n  }\n\n  if (!fromToken || !fromTokenMinPrice || !toToken || !toTokenMaxPrice) {\n    return defaultValue;\n  }\n\n  const adjustDecimals = adjustForDecimalsFactory(fromToken.decimals - toToken.decimals);\n\n  let fromAmountBasedOnRatio;\n  if (ratio && !ratio.isZero()) {\n    fromAmountBasedOnRatio = toAmount.mul(ratio).div(PRECISION);\n  }\n\n  const fromAmount =\n    ratio && !ratio.isZero() ? fromAmountBasedOnRatio : toAmount.mul(toTokenMaxPrice).div(fromTokenMinPrice);\n\n  let usdgAmount = fromAmount.mul(fromTokenMinPrice).div(PRECISION);\n  usdgAmount = adjustForDecimals(usdgAmount, toToken.decimals, USDG_DECIMALS);\n  const swapFeeBasisPoints =\n    fromToken.isStable && toToken.isStable ? STABLE_SWAP_FEE_BASIS_POINTS : SWAP_FEE_BASIS_POINTS;\n  const taxBasisPoints = fromToken.isStable && toToken.isStable ? STABLE_TAX_BASIS_POINTS : TAX_BASIS_POINTS;\n  const feeBasisPoints0 = getFeeBasisPoints(\n    fromToken,\n    usdgAmount,\n    swapFeeBasisPoints,\n    taxBasisPoints,\n    true,\n    usdgSupply,\n    totalTokenWeights\n  );\n  const feeBasisPoints1 = getFeeBasisPoints(\n    toToken,\n    usdgAmount,\n    swapFeeBasisPoints,\n    taxBasisPoints,\n    false,\n    usdgSupply,\n    totalTokenWeights\n  );\n  const feeBasisPoints = feeBasisPoints0 > feeBasisPoints1 ? feeBasisPoints0 : feeBasisPoints1;\n\n  return {\n    amount: adjustDecimals(fromAmount.mul(BASIS_POINTS_DIVISOR).div(BASIS_POINTS_DIVISOR - feeBasisPoints)),\n    feeBasisPoints,\n  };\n}\n\nexport function getNextToAmount(\n  chainId,\n  fromAmount,\n  fromTokenAddress,\n  toTokenAddress,\n  infoTokens,\n  toTokenPriceUsd,\n  ratio,\n  usdgSupply,\n  totalTokenWeights,\n  forSwap\n) {\n  const defaultValue = { amount: bigNumberify(0) };\n  if (!fromAmount || !fromTokenAddress || !toTokenAddress || !infoTokens) {\n    return defaultValue;\n  }\n\n  if (fromTokenAddress === toTokenAddress) {\n    return { amount: fromAmount };\n  }\n\n  const fromToken = getTokenInfo(infoTokens, fromTokenAddress);\n  const toToken = getTokenInfo(infoTokens, toTokenAddress);\n\n  if (fromToken.isNative && toToken.isWrapped) {\n    return { amount: fromAmount };\n  }\n\n  if (fromToken.isWrapped && toToken.isNative) {\n    return { amount: fromAmount };\n  }\n\n  // the realtime price should be used if it is for a transaction to open / close a position\n  // or if the transaction involves doing a swap and opening / closing a position\n  // otherwise use the contract price instead of realtime price for swaps\n\n  let fromTokenMinPrice;\n  if (fromToken) {\n    fromTokenMinPrice = forSwap ? fromToken.contractMinPrice : fromToken.minPrice;\n  }\n\n  let toTokenMaxPrice;\n  if (toToken) {\n    toTokenMaxPrice = forSwap ? toToken.contractMaxPrice : toToken.maxPrice;\n  }\n\n  if (!fromTokenMinPrice || !toTokenMaxPrice) {\n    return defaultValue;\n  }\n\n  const adjustDecimals = adjustForDecimalsFactory(toToken.decimals - fromToken.decimals);\n\n  let toAmountBasedOnRatio = bigNumberify(0);\n  if (ratio && !ratio.isZero()) {\n    toAmountBasedOnRatio = fromAmount.mul(PRECISION).div(ratio);\n  }\n\n  if (toTokenAddress === USDG_ADDRESS) {\n    const feeBasisPoints = getSwapFeeBasisPoints(fromToken.isStable);\n\n    if (ratio && !ratio.isZero()) {\n      const toAmount = toAmountBasedOnRatio;\n      return {\n        amount: adjustDecimals(toAmount.mul(BASIS_POINTS_DIVISOR - feeBasisPoints).div(BASIS_POINTS_DIVISOR)),\n        feeBasisPoints,\n      };\n    }\n\n    const toAmount = fromAmount.mul(fromTokenMinPrice).div(PRECISION);\n    return {\n      amount: adjustDecimals(toAmount.mul(BASIS_POINTS_DIVISOR - feeBasisPoints).div(BASIS_POINTS_DIVISOR)),\n      feeBasisPoints,\n    };\n  }\n\n  if (fromTokenAddress === USDG_ADDRESS) {\n    const redemptionValue = toToken.redemptionAmount\n      .mul(toTokenPriceUsd || toTokenMaxPrice)\n      .div(expandDecimals(1, toToken.decimals));\n\n    if (redemptionValue.gt(THRESHOLD_REDEMPTION_VALUE)) {\n      const feeBasisPoints = getSwapFeeBasisPoints(toToken.isStable);\n\n      const toAmount =\n        ratio && !ratio.isZero()\n          ? toAmountBasedOnRatio\n          : fromAmount.mul(toToken.redemptionAmount).div(expandDecimals(1, toToken.decimals));\n\n      return {\n        amount: adjustDecimals(toAmount.mul(BASIS_POINTS_DIVISOR - feeBasisPoints).div(BASIS_POINTS_DIVISOR)),\n        feeBasisPoints,\n      };\n    }\n\n    const expectedAmount = fromAmount;\n\n    const stableToken = getMostAbundantStableToken(chainId, infoTokens);\n    if (!stableToken || stableToken.availableAmount.lt(expectedAmount)) {\n      const toAmount =\n        ratio && !ratio.isZero()\n          ? toAmountBasedOnRatio\n          : fromAmount.mul(toToken.redemptionAmount).div(expandDecimals(1, toToken.decimals));\n      const feeBasisPoints = getSwapFeeBasisPoints(toToken.isStable);\n      return {\n        amount: adjustDecimals(toAmount.mul(BASIS_POINTS_DIVISOR - feeBasisPoints).div(BASIS_POINTS_DIVISOR)),\n        feeBasisPoints,\n      };\n    }\n\n    const feeBasisPoints0 = getSwapFeeBasisPoints(true);\n    const feeBasisPoints1 = getSwapFeeBasisPoints(false);\n\n    if (ratio && !ratio.isZero()) {\n      const toAmount = toAmountBasedOnRatio\n        .mul(BASIS_POINTS_DIVISOR - feeBasisPoints0 - feeBasisPoints1)\n        .div(BASIS_POINTS_DIVISOR);\n      return {\n        amount: adjustDecimals(toAmount),\n        path: [USDG_ADDRESS, stableToken.address, toToken.address],\n        feeBasisPoints: feeBasisPoints0 + feeBasisPoints1,\n      };\n    }\n\n    // get toAmount for USDG => stableToken\n    let toAmount = fromAmount.mul(PRECISION).div(stableToken.maxPrice);\n    // apply USDG => stableToken fees\n    toAmount = toAmount.mul(BASIS_POINTS_DIVISOR - feeBasisPoints0).div(BASIS_POINTS_DIVISOR);\n\n    // get toAmount for stableToken => toToken\n    toAmount = toAmount.mul(stableToken.minPrice).div(toTokenPriceUsd || toTokenMaxPrice);\n    // apply stableToken => toToken fees\n    toAmount = toAmount.mul(BASIS_POINTS_DIVISOR - feeBasisPoints1).div(BASIS_POINTS_DIVISOR);\n\n    return {\n      amount: adjustDecimals(toAmount),\n      path: [USDG_ADDRESS, stableToken.address, toToken.address],\n      feeBasisPoints: feeBasisPoints0 + feeBasisPoints1,\n    };\n  }\n\n  const toAmount =\n    ratio && !ratio.isZero()\n      ? toAmountBasedOnRatio\n      : fromAmount.mul(fromTokenMinPrice).div(toTokenPriceUsd || toTokenMaxPrice);\n\n  let usdgAmount = fromAmount.mul(fromTokenMinPrice).div(PRECISION);\n  usdgAmount = adjustForDecimals(usdgAmount, fromToken.decimals, USDG_DECIMALS);\n  const swapFeeBasisPoints =\n    fromToken.isStable && toToken.isStable ? STABLE_SWAP_FEE_BASIS_POINTS : SWAP_FEE_BASIS_POINTS;\n  const taxBasisPoints = fromToken.isStable && toToken.isStable ? STABLE_TAX_BASIS_POINTS : TAX_BASIS_POINTS;\n  const feeBasisPoints0 = getFeeBasisPoints(\n    fromToken,\n    usdgAmount,\n    swapFeeBasisPoints,\n    taxBasisPoints,\n    true,\n    usdgSupply,\n    totalTokenWeights\n  );\n  const feeBasisPoints1 = getFeeBasisPoints(\n    toToken,\n    usdgAmount,\n    swapFeeBasisPoints,\n    taxBasisPoints,\n    false,\n    usdgSupply,\n    totalTokenWeights\n  );\n  const feeBasisPoints = feeBasisPoints0 > feeBasisPoints1 ? feeBasisPoints0 : feeBasisPoints1;\n\n  return {\n    amount: adjustDecimals(toAmount.mul(BASIS_POINTS_DIVISOR - feeBasisPoints).div(BASIS_POINTS_DIVISOR)),\n    feeBasisPoints,\n  };\n}\n\nexport function getProfitPrice(closePrice, position) {\n  let profitPrice;\n  if (position && position.averagePrice && closePrice) {\n    profitPrice = position.isLong\n      ? position.averagePrice.mul(BASIS_POINTS_DIVISOR + MIN_PROFIT_BIPS).div(BASIS_POINTS_DIVISOR)\n      : position.averagePrice.mul(BASIS_POINTS_DIVISOR - MIN_PROFIT_BIPS).div(BASIS_POINTS_DIVISOR);\n  }\n  return profitPrice;\n}\n\nexport function calculatePositionDelta(\n  price,\n  { size, collateral, isLong, averagePrice, lastIncreasedTime },\n  sizeDelta\n) {\n  if (!sizeDelta) {\n    sizeDelta = size;\n  }\n  const priceDelta = averagePrice.gt(price) ? averagePrice.sub(price) : price.sub(averagePrice);\n  let delta = sizeDelta.mul(priceDelta).div(averagePrice);\n  const pendingDelta = delta;\n\n  const minProfitExpired = lastIncreasedTime + MIN_PROFIT_TIME < Date.now() / 1000;\n  const hasProfit = isLong ? price.gt(averagePrice) : price.lt(averagePrice);\n  if (!minProfitExpired && hasProfit && delta.mul(BASIS_POINTS_DIVISOR).lte(size.mul(MIN_PROFIT_BIPS))) {\n    delta = bigNumberify(0);\n  }\n\n  const deltaPercentage = delta.mul(BASIS_POINTS_DIVISOR).div(collateral);\n  const pendingDeltaPercentage = pendingDelta.mul(BASIS_POINTS_DIVISOR).div(collateral);\n\n  return {\n    delta,\n    pendingDelta,\n    pendingDeltaPercentage,\n    hasProfit,\n    deltaPercentage,\n  };\n}\n\nexport function getDeltaStr({ delta, deltaPercentage, hasProfit }) {\n  let deltaStr;\n  let deltaPercentageStr;\n\n  if (delta.gt(0)) {\n    deltaStr = hasProfit ? \"+\" : \"-\";\n    deltaPercentageStr = hasProfit ? \"+\" : \"-\";\n  } else {\n    deltaStr = \"\";\n    deltaPercentageStr = \"\";\n  }\n  deltaStr += `$${formatAmount(delta, USD_DECIMALS, 2, true)}`;\n  deltaPercentageStr += `${formatAmount(deltaPercentage, 2, 2)}%`;\n\n  return { deltaStr, deltaPercentageStr };\n}\n\nexport function getLeverage({\n  size,\n  sizeDelta,\n  increaseSize,\n  collateral,\n  collateralDelta,\n  increaseCollateral,\n  entryFundingRate,\n  cumulativeFundingRate,\n  hasProfit,\n  delta,\n  includeDelta,\n}) {\n  if (!size && !sizeDelta) {\n    return;\n  }\n  if (!collateral && !collateralDelta) {\n    return;\n  }\n\n  let nextSize = size ? size : bigNumberify(0);\n  if (sizeDelta) {\n    if (increaseSize) {\n      nextSize = size.add(sizeDelta);\n    } else {\n      if (sizeDelta.gte(size)) {\n        return;\n      }\n      nextSize = size.sub(sizeDelta);\n    }\n  }\n\n  let remainingCollateral = collateral ? collateral : bigNumberify(0);\n  if (collateralDelta) {\n    if (increaseCollateral) {\n      remainingCollateral = collateral.add(collateralDelta);\n    } else {\n      if (collateralDelta.gte(collateral)) {\n        return;\n      }\n      remainingCollateral = collateral.sub(collateralDelta);\n    }\n  }\n\n  if (delta && includeDelta) {\n    if (hasProfit) {\n      remainingCollateral = remainingCollateral.add(delta);\n    } else {\n      if (delta.gt(remainingCollateral)) {\n        return;\n      }\n\n      remainingCollateral = remainingCollateral.sub(delta);\n    }\n  }\n\n  if (remainingCollateral.eq(0)) {\n    return;\n  }\n\n  remainingCollateral = sizeDelta\n    ? remainingCollateral.mul(BASIS_POINTS_DIVISOR - MARGIN_FEE_BASIS_POINTS).div(BASIS_POINTS_DIVISOR)\n    : remainingCollateral;\n  if (entryFundingRate && cumulativeFundingRate) {\n    const fundingFee = size.mul(cumulativeFundingRate.sub(entryFundingRate)).div(FUNDING_RATE_PRECISION);\n    remainingCollateral = remainingCollateral.sub(fundingFee);\n  }\n\n  return nextSize.mul(BASIS_POINTS_DIVISOR).div(remainingCollateral);\n}\n\nexport function getLiquidationPrice(data) {\n  let {\n    isLong,\n    size,\n    collateral,\n    averagePrice,\n    entryFundingRate,\n    cumulativeFundingRate,\n    sizeDelta,\n    collateralDelta,\n    increaseCollateral,\n    increaseSize,\n    delta,\n    hasProfit,\n    includeDelta,\n  } = data;\n  if (!size || !collateral || !averagePrice) {\n    return;\n  }\n\n  let nextSize = size ? size : bigNumberify(0);\n  let remainingCollateral = collateral;\n\n  if (sizeDelta) {\n    if (increaseSize) {\n      nextSize = size.add(sizeDelta);\n    } else {\n      if (sizeDelta.gte(size)) {\n        return;\n      }\n      nextSize = size.sub(sizeDelta);\n    }\n\n    if (includeDelta && !hasProfit) {\n      const adjustedDelta = sizeDelta.mul(delta).div(size);\n      remainingCollateral = remainingCollateral.sub(adjustedDelta);\n    }\n  }\n\n  if (collateralDelta) {\n    if (increaseCollateral) {\n      remainingCollateral = remainingCollateral.add(collateralDelta);\n    } else {\n      if (collateralDelta.gte(remainingCollateral)) {\n        return;\n      }\n      remainingCollateral = remainingCollateral.sub(collateralDelta);\n    }\n  }\n\n  let positionFee = getMarginFee(size).add(LIQUIDATION_FEE);\n  if (entryFundingRate && cumulativeFundingRate) {\n    const fundingFee = size.mul(cumulativeFundingRate.sub(entryFundingRate)).div(FUNDING_RATE_PRECISION);\n    positionFee = positionFee.add(fundingFee);\n  }\n\n  const liquidationPriceForFees = getLiquidationPriceFromDelta({\n    liquidationAmount: positionFee,\n    size: nextSize,\n    collateral: remainingCollateral,\n    averagePrice,\n    isLong,\n  });\n\n  const liquidationPriceForMaxLeverage = getLiquidationPriceFromDelta({\n    liquidationAmount: nextSize.mul(BASIS_POINTS_DIVISOR).div(MAX_LEVERAGE),\n    size: nextSize,\n    collateral: remainingCollateral,\n    averagePrice,\n    isLong,\n  });\n\n  if (!liquidationPriceForFees) {\n    return liquidationPriceForMaxLeverage;\n  }\n  if (!liquidationPriceForMaxLeverage) {\n    return liquidationPriceForFees;\n  }\n\n  if (isLong) {\n    // return the higher price\n    return liquidationPriceForFees.gt(liquidationPriceForMaxLeverage)\n      ? liquidationPriceForFees\n      : liquidationPriceForMaxLeverage;\n  }\n\n  // return the lower price\n  return liquidationPriceForFees.lt(liquidationPriceForMaxLeverage)\n    ? liquidationPriceForFees\n    : liquidationPriceForMaxLeverage;\n}\n\nexport function getUsd(amount, tokenAddress, max, infoTokens, orderOption, triggerPriceUsd) {\n  if (!amount) {\n    return;\n  }\n  if (tokenAddress === USDG_ADDRESS) {\n    return amount.mul(PRECISION).div(expandDecimals(1, 18));\n  }\n  const info = getTokenInfo(infoTokens, tokenAddress);\n  const price = getTriggerPrice(tokenAddress, max, info, orderOption, triggerPriceUsd);\n  if (!price) {\n    return;\n  }\n\n  return amount.mul(price).div(expandDecimals(1, info.decimals));\n}\n\nexport function getPositionKey(account, collateralTokenAddress, indexTokenAddress, isLong, nativeTokenAddress) {\n  const tokenAddress0 = collateralTokenAddress === AddressZero ? nativeTokenAddress : collateralTokenAddress;\n  const tokenAddress1 = indexTokenAddress === AddressZero ? nativeTokenAddress : indexTokenAddress;\n  return account + \":\" + tokenAddress0 + \":\" + tokenAddress1 + \":\" + isLong;\n}\n\nexport function getPositionContractKey(account, collateralToken, indexToken, isLong) {\n  return ethers.utils.solidityKeccak256(\n    [\"address\", \"address\", \"address\", \"bool\"],\n    [account, collateralToken, indexToken, isLong]\n  );\n}\n\nexport function getSwapFeeBasisPoints(isStable) {\n  return isStable ? STABLE_SWAP_FEE_BASIS_POINTS : SWAP_FEE_BASIS_POINTS;\n}\n\n// BSC TESTNET\n// const RPC_PROVIDERS = [\n//   \"https://data-seed-prebsc-1-s1.binance.org:8545\",\n//   \"https://data-seed-prebsc-2-s1.binance.org:8545\",\n//   \"https://data-seed-prebsc-1-s2.binance.org:8545\",\n//   \"https://data-seed-prebsc-2-s2.binance.org:8545\",\n//   \"https://data-seed-prebsc-1-s3.binance.org:8545\",\n//   \"https://data-seed-prebsc-2-s3.binance.org:8545\"\n// ]\n\n// BSC MAINNET\nexport const BSC_RPC_PROVIDERS = [\n  \"https://bsc-dataseed.binance.org\",\n  \"https://bsc-dataseed1.defibit.io\",\n  \"https://bsc-dataseed1.ninicoin.io\",\n  \"https://bsc-dataseed2.defibit.io\",\n  \"https://bsc-dataseed3.defibit.io\",\n  \"https://bsc-dataseed4.defibit.io\",\n  \"https://bsc-dataseed2.ninicoin.io\",\n  \"https://bsc-dataseed3.ninicoin.io\",\n  \"https://bsc-dataseed4.ninicoin.io\",\n  \"https://bsc-dataseed1.binance.org\",\n  \"https://bsc-dataseed2.binance.org\",\n  \"https://bsc-dataseed3.binance.org\",\n  \"https://bsc-dataseed4.binance.org\",\n];\n\nconst RPC_PROVIDERS = {\n  [MAINNET]: BSC_RPC_PROVIDERS,\n  [ARBITRUM]: ARBITRUM_RPC_PROVIDERS,\n  [AVALANCHE]: AVALANCHE_RPC_PROVIDERS,\n};\n\nconst FALLBACK_PROVIDERS = {\n  [ARBITRUM]: [getAlchemyHttpUrl()],\n  [AVALANCHE]: [\"https://avax-mainnet.gateway.pokt.network/v1/lb/626f37766c499d003aada23b\"],\n};\n\nexport function shortenAddress(address, length) {\n  if (!length) {\n    return \"\";\n  }\n  if (!address) {\n    return address;\n  }\n  if (address.length < 10) {\n    return address;\n  }\n  let left = Math.floor((length - 3) / 2) + 1;\n  return address.substring(0, left) + \"...\" + address.substring(address.length - (length - (left + 3)), address.length);\n}\n\nexport function formatDateTime(time) {\n  return formatDateFn(time * 1000, \"dd MMM yyyy, h:mm a\");\n}\n\nexport function getTimeRemaining(time) {\n  const now = parseInt(Date.now() / 1000);\n  if (time < now) {\n    return \"0h 0m\";\n  }\n  const diff = time - now;\n  const hours = parseInt(diff / (60 * 60));\n  const minutes = parseInt((diff - hours * 60 * 60) / 60);\n  return `${hours}h ${minutes}m`;\n}\n\nexport function formatDate(time) {\n  return formatDateFn(time * 1000, \"dd MMM yyyy\");\n}\n\nexport function hasMetaMaskWalletExtension() {\n  return window.ethereum;\n}\n\nexport function hasCoinBaseWalletExtension() {\n  const { ethereum } = window;\n\n  if (!ethereum?.providers && !ethereum?.isCoinbaseWallet) {\n    return false;\n  }\n  return window.ethereum.isCoinbaseWallet || ethereum.providers.find(({ isCoinbaseWallet }) => isCoinbaseWallet);\n}\n\nexport function activateInjectedProvider(providerName) {\n  const { ethereum } = window;\n\n  if (!ethereum?.providers && !ethereum?.isCoinbaseWallet && !ethereum?.isMetaMask) {\n    return undefined;\n  }\n\n  let provider;\n  if (ethereum?.providers) {\n    switch (providerName) {\n      case \"CoinBase\":\n        provider = ethereum.providers.find(({ isCoinbaseWallet }) => isCoinbaseWallet);\n        break;\n      case \"MetaMask\":\n      default:\n        provider = ethereum.providers.find(({ isMetaMask }) => isMetaMask);\n        break;\n    }\n  }\n\n  if (provider) {\n    ethereum.setSelectedProvider(provider);\n  }\n}\n\nexport function getInjectedConnector() {\n  return injectedConnector;\n}\n\nexport function useChainId() {\n  let { chainId } = useWeb3React();\n\n  if (!chainId) {\n    const chainIdFromLocalStorage = localStorage.getItem(SELECTED_NETWORK_LOCAL_STORAGE_KEY);\n    if (chainIdFromLocalStorage) {\n      chainId = parseInt(chainIdFromLocalStorage);\n      if (!chainId) {\n        // localstorage value is invalid\n        localStorage.removeItem(SELECTED_NETWORK_LOCAL_STORAGE_KEY);\n      }\n    }\n  }\n\n  if (!chainId || !supportedChainIds.includes(chainId)) {\n    chainId = DEFAULT_CHAIN_ID;\n  }\n  return { chainId };\n}\n\nexport function useENS(address) {\n  const [ensName, setENSName] = useState();\n\n  useEffect(() => {\n    async function resolveENS() {\n      if (address) {\n        const provider = new ethers.providers.JsonRpcProvider(\"https://rpc.ankr.com/eth\");\n        const name = await provider.lookupAddress(address.toLowerCase());\n        if (name) setENSName(name);\n      }\n    }\n    resolveENS();\n  }, [address]);\n\n  return { ensName };\n}\n\nexport function clearWalletConnectData() {\n  localStorage.removeItem(WALLET_CONNECT_LOCALSTORAGE_KEY);\n}\n\nexport function clearWalletLinkData() {\n  Object.entries(localStorage)\n    .map((x) => x[0])\n    .filter((x) => x.startsWith(WALLET_LINK_LOCALSTORAGE_PREFIX))\n    .map((x) => localStorage.removeItem(x));\n}\n\nexport function useEagerConnect(setActivatingConnector) {\n  const { activate, active } = useWeb3React();\n  const [tried, setTried] = useState(false);\n\n  useEffect(() => {\n    (async function () {\n      if (Boolean(localStorage.getItem(SHOULD_EAGER_CONNECT_LOCALSTORAGE_KEY)) !== true) {\n        // only works with WalletConnect\n        clearWalletConnectData();\n        // force clear localStorage connection for MM/CB Wallet (Brave legacy)\n        clearWalletLinkData();\n        return;\n      }\n\n      let shouldTryWalletConnect = false;\n      try {\n        // naive validation to not trigger Wallet Connect if data is corrupted\n        const rawData = localStorage.getItem(WALLET_CONNECT_LOCALSTORAGE_KEY);\n        if (rawData) {\n          const data = JSON.parse(rawData);\n          if (data && data.connected) {\n            shouldTryWalletConnect = true;\n          }\n        }\n      } catch (ex) {\n        if (ex instanceof SyntaxError) {\n          // rawData is not a valid json\n          clearWalletConnectData();\n        }\n      }\n\n      if (shouldTryWalletConnect) {\n        try {\n          const connector = getWalletConnectConnector();\n          setActivatingConnector(connector);\n          await activate(connector, undefined, true);\n          // in case Wallet Connect is activated no need to check injected wallet\n          return;\n        } catch (ex) {\n          // assume data in localstorage is corrupted and delete it to not retry on next page load\n          clearWalletConnectData();\n        }\n      }\n\n      try {\n        const connector = getInjectedConnector();\n        const currentProviderName = localStorage.getItem(CURRENT_PROVIDER_LOCALSTORAGE_KEY) ?? false;\n        if (currentProviderName !== false) {\n          activateInjectedProvider(currentProviderName);\n        }\n        const authorized = await connector.isAuthorized();\n        if (authorized) {\n          setActivatingConnector(connector);\n          await activate(connector, undefined, true);\n        }\n      } catch (ex) {}\n\n      setTried(true);\n    })();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []); // intentionally only running on mount (make sure it's only mounted once :))\n\n  // if the connection worked, wait until we get confirmation of that to flip the flag\n  useEffect(() => {\n    if (!tried && active) {\n      setTried(true);\n    }\n  }, [tried, active]);\n\n  return tried;\n}\n\nexport function useInactiveListener(suppress = false) {\n  const injected = getInjectedConnector();\n  const { active, error, activate } = useWeb3React();\n\n  useEffect(() => {\n    const { ethereum } = window;\n    if (ethereum && ethereum.on && !active && !error && !suppress) {\n      const handleConnect = () => {\n        activate(injected);\n      };\n      const handleChainChanged = (chainId) => {\n        activate(injected);\n      };\n      const handleAccountsChanged = (accounts) => {\n        if (accounts.length > 0) {\n          activate(injected);\n        }\n      };\n      const handleNetworkChanged = (networkId) => {\n        activate(injected);\n      };\n\n      ethereum.on(\"connect\", handleConnect);\n      ethereum.on(\"chainChanged\", handleChainChanged);\n      ethereum.on(\"accountsChanged\", handleAccountsChanged);\n      ethereum.on(\"networkChanged\", handleNetworkChanged);\n\n      return () => {\n        if (ethereum.removeListener) {\n          ethereum.removeListener(\"connect\", handleConnect);\n          ethereum.removeListener(\"chainChanged\", handleChainChanged);\n          ethereum.removeListener(\"accountsChanged\", handleAccountsChanged);\n          ethereum.removeListener(\"networkChanged\", handleNetworkChanged);\n        }\n      };\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [active, error, suppress, activate]);\n}\n\nexport function getProvider(library, chainId) {\n  let provider;\n  if (library) {\n    return library.getSigner();\n  }\n  provider = _.sample(RPC_PROVIDERS[chainId]);\n  return new ethers.providers.StaticJsonRpcProvider(provider, { chainId });\n}\n\nexport function getFallbackProvider(chainId) {\n  if (!FALLBACK_PROVIDERS[chainId]) {\n    return;\n  }\n\n  const provider = _.sample(FALLBACK_PROVIDERS[chainId]);\n  return new ethers.providers.StaticJsonRpcProvider(provider, { chainId });\n}\n\nexport function bigNumberify(n) {\n  try {\n    return ethers.BigNumber.from(n);\n  } catch (e) {\n    console.error(\"bigNumberify error\", e);\n    return undefined;\n  }\n}\n\nexport function expandDecimals(n, decimals) {\n  return bigNumberify(n).mul(bigNumberify(10).pow(decimals));\n}\n\nexport const trimZeroDecimals = (amount) => {\n  if (parseFloat(amount) === parseInt(amount)) {\n    return parseInt(amount).toString();\n  }\n  return amount;\n};\n\nexport const limitDecimals = (amount, maxDecimals) => {\n  let amountStr = amount.toString();\n  \n  if (maxDecimals === undefined) {\n    return amountStr;\n  }\n  if (maxDecimals === 0) {\n    return amountStr.split(\".\")[0];\n  }\n  const dotIndex = amountStr.indexOf(\".\");\n  if (dotIndex !== -1) {\n    let decimals = amountStr.length - dotIndex - 1;\n    if (decimals > maxDecimals) {\n      amountStr = amountStr.substr(0, amountStr.length - (decimals - maxDecimals));\n    }\n  }\n  return amountStr;\n};\n\nexport const padDecimals = (amount, minDecimals) => {\n  let amountStr = amount.toString();\n  const dotIndex = amountStr.indexOf(\".\");\n  if (dotIndex !== -1) {\n    const decimals = amountStr.length - dotIndex - 1;\n    if (decimals < minDecimals) {\n      amountStr = amountStr.padEnd(amountStr.length + (minDecimals - decimals), \"0\");\n    }\n  } else {\n    amountStr = amountStr + \".0000\";\n  }\n  return amountStr;\n};\n\nexport const formatKeyAmount = (map, key, tokenDecimals, displayDecimals, useCommas) => {\n  if (!map || !map[key]) {\n    return \"...\";\n  }\n\n  return formatAmount(map[key], tokenDecimals, displayDecimals, useCommas);\n};\n\nexport const formatArrayAmount = (arr, index, tokenDecimals, displayDecimals, useCommas) => {\n  if (!arr || !arr[index]) {\n    return \"...\";\n  }\n\n  return formatAmount(arr[index], tokenDecimals, displayDecimals, useCommas);\n};\n\nfunction _parseOrdersData(ordersData, account, indexes, extractor, uintPropsLength, addressPropsLength) {\n  if (!ordersData || ordersData.length === 0) {\n    return [];\n  }\n  const [uintProps, addressProps] = ordersData;\n  const count = uintProps.length / uintPropsLength;\n\n  const orders = [];\n  for (let i = 0; i < count; i++) {\n    const sliced = addressProps\n      .slice(addressPropsLength * i, addressPropsLength * (i + 1))\n      .concat(uintProps.slice(uintPropsLength * i, uintPropsLength * (i + 1)));\n\n    if (sliced[0] === AddressZero && sliced[1] === AddressZero) {\n      continue;\n    }\n\n    const order = extractor(sliced);\n    order.index = indexes[i];\n    order.account = account;\n    orders.push(order);\n  }\n\n  return orders;\n}\n\nfunction parseDecreaseOrdersData(chainId, decreaseOrdersData, account, indexes) {\n  const extractor = (sliced) => {\n    const isLong = sliced[4].toString() === \"1\";\n    return {\n      collateralToken: sliced[0],\n      indexToken: sliced[1],\n      collateralDelta: sliced[2],\n      sizeDelta: sliced[3],\n      isLong,\n      triggerPrice: sliced[5],\n      triggerAboveThreshold: sliced[6].toString() === \"1\",\n      type: DECREASE,\n    };\n  };\n  return _parseOrdersData(decreaseOrdersData, account, indexes, extractor, 5, 2).filter((order) => {\n    return isValidToken(chainId, order.collateralToken) && isValidToken(chainId, order.indexToken);\n  });\n}\n\nfunction parseIncreaseOrdersData(chainId, increaseOrdersData, account, indexes) {\n  const extractor = (sliced) => {\n    const isLong = sliced[5].toString() === \"1\";\n    return {\n      purchaseToken: sliced[0],\n      collateralToken: sliced[1],\n      indexToken: sliced[2],\n      purchaseTokenAmount: sliced[3],\n      sizeDelta: sliced[4],\n      isLong,\n      triggerPrice: sliced[6],\n      triggerAboveThreshold: sliced[7].toString() === \"1\",\n      type: INCREASE,\n    };\n  };\n  return _parseOrdersData(increaseOrdersData, account, indexes, extractor, 5, 3).filter((order) => {\n    return (\n      isValidToken(chainId, order.purchaseToken) &&\n      isValidToken(chainId, order.collateralToken) &&\n      isValidToken(chainId, order.indexToken)\n    );\n  });\n}\n\nfunction parseSwapOrdersData(chainId, swapOrdersData, account, indexes) {\n  if (!swapOrdersData || !swapOrdersData.length) {\n    return [];\n  }\n\n  const extractor = (sliced) => {\n    const triggerAboveThreshold = sliced[6].toString() === \"1\";\n    const shouldUnwrap = sliced[7].toString() === \"1\";\n\n    return {\n      path: [sliced[0], sliced[1], sliced[2]].filter((address) => address !== AddressZero),\n      amountIn: sliced[3],\n      minOut: sliced[4],\n      triggerRatio: sliced[5],\n      triggerAboveThreshold,\n      type: SWAP,\n      shouldUnwrap,\n    };\n  };\n  return _parseOrdersData(swapOrdersData, account, indexes, extractor, 5, 3).filter((order) => {\n    return order.path.every((token) => isValidToken(chainId, token));\n  });\n}\n\nexport function getOrderKey(order) {\n  return `${order.type}-${order.account}-${order.index}`;\n}\n\nexport function useAccountOrders(flagOrdersEnabled, overrideAccount) {\n  const { library, account: connectedAccount } = useWeb3React();\n  const active = true; // this is used in Actions.js so set active to always be true\n  const account = overrideAccount || connectedAccount;\n\n  const { chainId } = useChainId();\n  const shouldRequest = active && account && flagOrdersEnabled;\n\n  const orderBookAddress = getContract(chainId, \"OrderBook\");\n  const orderBookReaderAddress = getContract(chainId, \"OrderBookReader\");\n  const key = shouldRequest ? [active, chainId, orderBookAddress, account] : false;\n  const {\n    data: orders = [],\n    mutate: updateOrders,\n    error: ordersError,\n  } = useSWR(key, {\n    dedupingInterval: 5000,\n    fetcher: async (active, chainId, orderBookAddress, account) => {\n      const provider = getProvider(library, chainId);\n      const orderBookContract = new ethers.Contract(orderBookAddress, OrderBook.abi, provider);\n      const orderBookReaderContract = new ethers.Contract(orderBookReaderAddress, OrderBookReader.abi, provider);\n\n      const fetchIndexesFromServer = () => {\n        const ordersIndexesUrl = `${getServerBaseUrl(chainId)}/orders_indices?account=${account}`;\n        return fetch(ordersIndexesUrl)\n          .then(async (res) => {\n            const json = await res.json();\n            const ret = {};\n            for (const key of Object.keys(json)) {\n              ret[key.toLowerCase()] = json[key].map((val) => parseInt(val.value)).sort((a, b) => a - b);\n            }\n\n            return ret;\n          })\n          .catch(() => ({ swap: [], increase: [], decrease: [] }));\n      };\n\n      const fetchLastIndex = async (type) => {\n        const method = type.toLowerCase() + \"OrdersIndex\";\n        return await orderBookContract[method](account).then((res) => bigNumberify(res._hex).toNumber());\n      };\n\n      const fetchLastIndexes = async () => {\n        const [swap, increase, decrease] = await Promise.all([\n          fetchLastIndex(\"swap\"),\n          fetchLastIndex(\"increase\"),\n          fetchLastIndex(\"decrease\"),\n        ]);\n\n        return { swap, increase, decrease };\n      };\n\n      const getRange = (to, from) => {\n        const LIMIT = 10;\n        const _indexes = [];\n        from = from || Math.max(to - LIMIT, 0);\n        for (let i = to - 1; i >= from; i--) {\n          _indexes.push(i);\n        }\n        return _indexes;\n      };\n\n      const getIndexes = (knownIndexes, lastIndex) => {\n        if (knownIndexes.length === 0) {\n          return getRange(lastIndex);\n        }\n        return [\n          ...knownIndexes,\n          ...getRange(lastIndex, knownIndexes[knownIndexes.length - 1] + 1).sort((a, b) => b - a),\n        ];\n      };\n\n      const getOrders = async (method, knownIndexes, lastIndex, parseFunc) => {\n        const indexes = getIndexes(knownIndexes, lastIndex);\n        const ordersData = await orderBookReaderContract[method](orderBookAddress, account, indexes);\n        const orders = parseFunc(chainId, ordersData, account, indexes);\n\n        return orders;\n      };\n\n      try {\n        const [serverIndexes, lastIndexes] = await Promise.all([fetchIndexesFromServer(), fetchLastIndexes()]);\n        const [swapOrders = [], increaseOrders = [], decreaseOrders = []] = await Promise.all([\n          getOrders(\"getSwapOrders\", serverIndexes.swap, lastIndexes.swap, parseSwapOrdersData),\n          getOrders(\"getIncreaseOrders\", serverIndexes.increase, lastIndexes.increase, parseIncreaseOrdersData),\n          getOrders(\"getDecreaseOrders\", serverIndexes.decrease, lastIndexes.decrease, parseDecreaseOrdersData),\n        ]);\n        return [...swapOrders, ...increaseOrders, ...decreaseOrders];\n      } catch (ex) {\n        console.error(ex);\n      }\n    },\n  });\n\n  return [orders, updateOrders, ordersError];\n}\n\nexport const formatAmount = (amount, tokenDecimals, displayDecimals, useCommas, defaultValue) => {\n  if (amount === null) {\n    return;\n  }\n  \n  if (!defaultValue) {\n    defaultValue = \"...\";\n  }\n  if (amount === undefined || amount.toString().length === 0) {\n    return defaultValue;\n  }\n  if (displayDecimals === undefined) {\n    displayDecimals = 4;\n  }\n  let amountStr = ethers.utils.formatUnits(amount, tokenDecimals);\n  amountStr = limitDecimals(amountStr, displayDecimals);\n  if (displayDecimals !== 0) {\n    amountStr = padDecimals(amountStr, displayDecimals);\n  }\n  if (useCommas) {\n    return numberWithCommas(amountStr);\n  }\n  return amountStr;\n};\n\nexport const formatAmountFree = (amount, tokenDecimals, displayDecimals) => {\n  if (!amount) {\n    return \"...\";\n  }\n  let amountStr = ethers.utils.formatUnits(amount, tokenDecimals);\n  amountStr = limitDecimals(amountStr, displayDecimals);\n  return trimZeroDecimals(amountStr);\n};\n\nexport const parseValue = (value, tokenDecimals) => {\n  const pValue = parseFloat(value);\n  if (isNaN(pValue)) {\n    return undefined;\n  }\n  value = limitDecimals(value, tokenDecimals);\n  const amount = ethers.utils.parseUnits(value, tokenDecimals);\n  return bigNumberify(amount);\n};\n\nexport function numberWithCommas(x) {\n  if (!x) {\n    return \"...\";\n  }\n  var parts = x.toString().split(\".\");\n  parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n  return parts.join(\".\");\n}\n\nexport function getExplorerUrl(chainId) {\n  if (chainId === 3) {\n    return \"https://ropsten.etherscan.io/\";\n  } else if (chainId === 42) {\n    return \"https://kovan.etherscan.io/\";\n  } else if (chainId === MAINNET) {\n    return \"https://bscscan.com/\";\n  } else if (chainId === TESTNET) {\n    return \"https://testnet.bscscan.com/\";\n  } else if (chainId === ARBITRUM_TESTNET) {\n    return \"https://testnet.arbiscan.io/\";\n  } else if (chainId === ARBITRUM) {\n    return \"https://arbiscan.io/\";\n  } else if (chainId === AVALANCHE) {\n    return \"https://snowtrace.io/\";\n  }\n  return \"https://etherscan.io/\";\n}\n\nexport function getAccountUrl(chainId, account) {\n  if (!account) {\n    return getExplorerUrl(chainId);\n  }\n  return getExplorerUrl(chainId) + \"address/\" + account;\n}\n\nexport function getTokenUrl(chainId, address) {\n  if (!address) {\n    return getExplorerUrl(chainId);\n  }\n  return getExplorerUrl(chainId) + \"token/\" + address;\n}\n\nexport function usePrevious(value) {\n  const ref = useRef();\n  useEffect(() => {\n    ref.current = value;\n  });\n  return ref.current;\n}\n\nexport function approveTokens({\n  setIsApproving,\n  library,\n  tokenAddress,\n  spender,\n  chainId,\n  onApproveSubmitted,\n  getTokenInfo,\n  infoTokens,\n  pendingTxns,\n  setPendingTxns,\n  includeMessage,\n}) {\n  setIsApproving(true);\n  const contract = new ethers.Contract(tokenAddress, Token.abi, library.getSigner());\n  contract\n    .approve(spender, ethers.constants.MaxUint256)\n    .then(async (res) => {\n      const txUrl = getExplorerUrl(chainId) + \"tx/\" + res.hash;\n      helperToast.success(\n        <div>\n          Approval submitted!{\" \"}\n          <a href={txUrl} target=\"_blank\" rel=\"noopener noreferrer\">\n            View status.\n          </a>\n          <br />\n        </div>\n      );\n      if (onApproveSubmitted) {\n        onApproveSubmitted();\n      }\n      if (getTokenInfo && infoTokens && pendingTxns && setPendingTxns) {\n        const token = getTokenInfo(infoTokens, tokenAddress);\n        const pendingTxn = {\n          hash: res.hash,\n          message: includeMessage ? `${token.symbol} Approved!` : false,\n        };\n        setPendingTxns([...pendingTxns, pendingTxn]);\n      }\n    })\n    .catch((e) => {\n      console.error(e);\n      let failMsg;\n      if (\n        [\"not enough funds for gas\", \"failed to execute call with revert code InsufficientGasFunds\"].includes(\n          e.data?.message\n        )\n      ) {\n        failMsg = (\n          <div>\n            There is not enough ETH in your account on Arbitrum to send this transaction.\n            <br />\n            <br />\n            <a href={\"https://arbitrum.io/bridge-tutorial/\"} target=\"_blank\" rel=\"noopener noreferrer\">\n              Bridge ETH to Arbitrum\n            </a>\n          </div>\n        );\n      } else if (e.message?.includes(\"User denied transaction signature\")) {\n        failMsg = \"Approval was cancelled\";\n      } else {\n        failMsg = \"Approval failed\";\n      }\n      helperToast.error(failMsg);\n    })\n    .finally(() => {\n      setIsApproving(false);\n    });\n}\n\nexport const shouldRaiseGasError = (token, amount) => {\n  if (!amount) {\n    return false;\n  }\n  if (token.address !== AddressZero) {\n    return false;\n  }\n  if (!token.balance) {\n    return false;\n  }\n  if (amount.gte(token.balance)) {\n    return true;\n  }\n  if (token.balance.sub(amount).lt(DUST_BNB)) {\n    return true;\n  }\n  return false;\n};\n\nexport const getTokenInfo = (infoTokens, tokenAddress, replaceNative, nativeTokenAddress) => {\n  if (replaceNative && tokenAddress === nativeTokenAddress) {\n    return infoTokens[AddressZero];\n  }\n  return infoTokens[tokenAddress];\n};\n\nconst NETWORK_METADATA = {\n  [MAINNET]: {\n    chainId: \"0x\" + MAINNET.toString(16),\n    chainName: \"BSC\",\n    nativeCurrency: {\n      name: \"BNB\",\n      symbol: \"BNB\",\n      decimals: 18,\n    },\n    rpcUrls: BSC_RPC_PROVIDERS,\n    blockExplorerUrls: [\"https://bscscan.com\"],\n  },\n  [TESTNET]: {\n    chainId: \"0x\" + TESTNET.toString(16),\n    chainName: \"BSC Testnet\",\n    nativeCurrency: {\n      name: \"BNB\",\n      symbol: \"BNB\",\n      decimals: 18,\n    },\n    rpcUrls: [\"https://data-seed-prebsc-1-s1.binance.org:8545/\"],\n    blockExplorerUrls: [\"https://testnet.bscscan.com/\"],\n  },\n  [ARBITRUM_TESTNET]: {\n    chainId: \"0x\" + ARBITRUM_TESTNET.toString(16),\n    chainName: \"Arbitrum Testnet\",\n    nativeCurrency: {\n      name: \"ETH\",\n      symbol: \"ETH\",\n      decimals: 18,\n    },\n    rpcUrls: [\"https://rinkeby.arbitrum.io/rpc\"],\n    blockExplorerUrls: [\"https://rinkeby-explorer.arbitrum.io/\"],\n  },\n  [ARBITRUM]: {\n    chainId: \"0x\" + ARBITRUM.toString(16),\n    chainName: \"Arbitrum\",\n    nativeCurrency: {\n      name: \"ETH\",\n      symbol: \"ETH\",\n      decimals: 18,\n    },\n    rpcUrls: ARBITRUM_RPC_PROVIDERS,\n    blockExplorerUrls: [getExplorerUrl(ARBITRUM)],\n  },\n  [AVALANCHE]: {\n    chainId: \"0x\" + AVALANCHE.toString(16),\n    chainName: \"Avalanche\",\n    nativeCurrency: {\n      name: \"AVAX\",\n      symbol: \"AVAX\",\n      decimals: 18,\n    },\n    rpcUrls: AVALANCHE_RPC_PROVIDERS,\n    blockExplorerUrls: [getExplorerUrl(AVALANCHE)],\n  },\n};\n\nexport const addBscNetwork = async () => {\n  return addNetwork(NETWORK_METADATA[MAINNET]);\n};\n\nexport const addNetwork = async (metadata) => {\n  await window.ethereum.request({ method: \"wallet_addEthereumChain\", params: [metadata] }).catch();\n};\n\nexport const switchNetwork = async (chainId, active) => {\n  if (!active) {\n    // chainId in localStorage allows to switch network even if wallet is not connected\n    // or there is no wallet at all\n    localStorage.setItem(SELECTED_NETWORK_LOCAL_STORAGE_KEY, chainId);\n    document.location.reload();\n    return;\n  }\n\n  try {\n    const chainIdHex = \"0x\" + chainId.toString(16);\n    await window.ethereum.request({\n      method: \"wallet_switchEthereumChain\",\n      params: [{ chainId: chainIdHex }],\n    });\n    helperToast.success(\"Connected to \" + getChainName(chainId));\n    return getChainName(chainId);\n  } catch (ex) {\n    // https://docs.metamask.io/guide/rpc-api.html#other-rpc-methods\n    // This error code indicates that the chain has not been added to MetaMask.\n    // 4001 error means user has denied the request\n    // If the error code is not 4001, then we need to add the network\n    if (ex.code !== 4001) {\n      return await addNetwork(NETWORK_METADATA[chainId]);\n    }\n\n    console.error(\"error\", ex);\n  }\n};\n\nexport const getWalletConnectHandler = (activate, deactivate, setActivatingConnector) => {\n  const fn = async () => {\n    const walletConnect = getWalletConnectConnector();\n    setActivatingConnector(walletConnect);\n    activate(walletConnect, (ex) => {\n      if (ex instanceof UnsupportedChainIdError) {\n        helperToast.error(\"Unsupported chain. Switch to Arbitrum network on your wallet and try again\");\n        console.warn(ex);\n      } else if (!(ex instanceof UserRejectedRequestErrorWalletConnect)) {\n        helperToast.error(ex.message);\n        console.warn(ex);\n      }\n      clearWalletConnectData();\n      deactivate();\n    });\n  };\n  return fn;\n};\n\nexport const getInjectedHandler = (activate) => {\n  const fn = async () => {\n    activate(getInjectedConnector(), (e) => {\n      const chainId = localStorage.getItem(SELECTED_NETWORK_LOCAL_STORAGE_KEY) || DEFAULT_CHAIN_ID;\n\n      if (e instanceof UnsupportedChainIdError) {\n        helperToast.error(\n          <div>\n            <div>Your wallet is not connected to {getChainName(chainId)}.</div>\n            <br />\n            <div className=\"clickable underline margin-bottom\" onClick={() => switchNetwork(chainId, true)}>\n              Switch to {getChainName(chainId)}\n            </div>\n            <div className=\"clickable underline\" onClick={() => switchNetwork(chainId, true)}>\n              Add {getChainName(chainId)}\n            </div>\n          </div>\n        );\n        return;\n      }\n      const errString = e.message ?? e.toString();\n      helperToast.error(errString);\n    });\n  };\n  return fn;\n};\n\nexport function isMobileDevice(navigator) {\n  return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n}\n\nexport function setTokenUsingIndexPrices(token, indexPrices, nativeTokenAddress) {\n  if (!indexPrices) {\n    // console.log('return');\n    return;\n  }\n\n  // console.log('-------------------WENT THROUGH')\n\n  const tokenAddress = token.isNative ? nativeTokenAddress : token.address;\n\n  const indexPrice = indexPrices[tokenAddress];\n  if (!indexPrice) {\n    return;\n  }\n\n  const indexPriceBn = bigNumberify(indexPrice);\n  if (indexPriceBn.eq(0)) {\n    return;\n  }\n\n  const spread = token.maxPrice.sub(token.minPrice);\n  const spreadBps = spread.mul(BASIS_POINTS_DIVISOR).div(token.maxPrice.add(token.minPrice).div(2));\n\n  if (spreadBps.gt(MAX_PRICE_DEVIATION_BASIS_POINTS - 50)) {\n    // only set one of the values as there will be a spread between the index price and the Chainlink price\n    if (indexPriceBn.gt(token.minPrimaryPrice)) {\n      token.maxPrice = indexPriceBn;\n    } else {\n      token.minPrice = indexPriceBn;\n    }\n    return;\n  }\n\n  const halfSpreadBps = spreadBps.div(2).toNumber();\n  token.maxPrice = indexPriceBn.mul(BASIS_POINTS_DIVISOR + halfSpreadBps).div(BASIS_POINTS_DIVISOR);\n  token.minPrice = indexPriceBn.mul(BASIS_POINTS_DIVISOR - halfSpreadBps).div(BASIS_POINTS_DIVISOR);\n}\n\nexport function getInfoTokens(\n  tokens,\n  tokenBalances,\n  whitelistedTokens,\n  vaultTokenInfo,\n  fundingRateInfo,\n  vaultPropsLength,\n  indexPrices,\n  nativeTokenAddress\n) {\n  if (!vaultPropsLength) {\n    vaultPropsLength = 15;\n  }\n  const fundingRatePropsLength = 2;\n  const infoTokens = {};\n\n  for (let i = 0; i < tokens.length; i++) {\n    const token = JSON.parse(JSON.stringify(tokens[i]));\n    if (tokenBalances) {\n      token.balance = tokenBalances[i];\n    }\n    if (token.address === USDG_ADDRESS) {\n      token.minPrice = expandDecimals(1, USD_DECIMALS);\n      token.maxPrice = expandDecimals(1, USD_DECIMALS);\n    }\n    infoTokens[token.address] = token;\n  }\n\n  for (let i = 0; i < whitelistedTokens.length; i++) {\n    const token = JSON.parse(JSON.stringify(whitelistedTokens[i]));\n    if (vaultTokenInfo) {\n      token.poolAmount = vaultTokenInfo[i * vaultPropsLength];\n      token.reservedAmount = vaultTokenInfo[i * vaultPropsLength + 1];\n      token.availableAmount = token.poolAmount.sub(token.reservedAmount);\n      token.usdgAmount = vaultTokenInfo[i * vaultPropsLength + 2];\n      token.redemptionAmount = vaultTokenInfo[i * vaultPropsLength + 3];\n      token.weight = vaultTokenInfo[i * vaultPropsLength + 4];\n      token.bufferAmount = vaultTokenInfo[i * vaultPropsLength + 5];\n      token.maxUsdgAmount = vaultTokenInfo[i * vaultPropsLength + 6];\n      token.globalShortSize = vaultTokenInfo[i * vaultPropsLength + 7];\n      token.maxGlobalShortSize = vaultTokenInfo[i * vaultPropsLength + 8];\n      token.maxGlobalLongSize = vaultTokenInfo[i * vaultPropsLength + 9];\n      token.minPrice = vaultTokenInfo[i * vaultPropsLength + 10];\n      token.maxPrice = vaultTokenInfo[i * vaultPropsLength + 11];\n      token.guaranteedUsd = vaultTokenInfo[i * vaultPropsLength + 12];\n      token.maxPrimaryPrice = vaultTokenInfo[i * vaultPropsLength + 13];\n      token.minPrimaryPrice = vaultTokenInfo[i * vaultPropsLength + 14];\n\n      // save minPrice and maxPrice as setTokenUsingIndexPrices may override it\n      token.contractMinPrice = token.minPrice;\n      token.contractMaxPrice = token.maxPrice;\n\n      token.maxAvailableShort = bigNumberify(0);\n      token.hasMaxAvailableShort = false;\n      if (token.maxGlobalShortSize.gt(0)) {\n        token.hasMaxAvailableShort = true;\n        if (token.maxGlobalShortSize.gt(token.globalShortSize)) {\n          token.maxAvailableShort = token.maxGlobalShortSize.sub(token.globalShortSize);\n        }\n      }\n\n      if (token.maxUsdgAmount.eq(0)) {\n        token.maxUsdgAmount = DEFAULT_MAX_USDG_AMOUNT;\n      }\n\n      token.availableUsd = token.isStable\n        ? token.poolAmount.mul(token.minPrice).div(expandDecimals(1, token.decimals))\n        : token.availableAmount.mul(token.minPrice).div(expandDecimals(1, token.decimals));\n\n      token.maxAvailableLong = bigNumberify(0);\n      token.hasMaxAvailableLong = false;\n      if (token.maxGlobalLongSize.gt(0)) {\n        token.hasMaxAvailableLong = true;\n\n        if (token.maxGlobalLongSize.gt(token.guaranteedUsd)) {\n          const remainingLongSize = token.maxGlobalLongSize.sub(token.guaranteedUsd);\n          token.maxAvailableLong = remainingLongSize.lt(token.availableUsd) ? remainingLongSize : token.availableUsd;\n        }\n      } else {\n        token.maxAvailableLong = token.availableUsd;\n      }\n\n      token.maxLongCapacity =\n        token.maxGlobalLongSize.gt(0) && token.maxGlobalLongSize.lt(token.availableUsd.add(token.guaranteedUsd))\n          ? token.maxGlobalLongSize\n          : token.availableUsd.add(token.guaranteedUsd);\n\n      token.managedUsd = token.availableUsd.add(token.guaranteedUsd);\n      token.managedAmount = token.managedUsd.mul(expandDecimals(1, token.decimals)).div(token.minPrice);\n\n      setTokenUsingIndexPrices(token, indexPrices, nativeTokenAddress);\n    }\n\n    if (fundingRateInfo) {\n      token.fundingRate = fundingRateInfo[i * fundingRatePropsLength];\n      token.cumulativeFundingRate = fundingRateInfo[i * fundingRatePropsLength + 1];\n    }\n\n    if (infoTokens[token.address]) {\n      token.balance = infoTokens[token.address].balance;\n    }\n\n    infoTokens[token.address] = token;\n  }\n\n  return infoTokens;\n}\n\nexport const CHART_PERIODS = {\n  \"5m\": 60 * 5,\n  \"15m\": 60 * 15,\n  \"1h\": 60 * 60,\n  \"4h\": 60 * 60 * 4,\n  \"1d\": 60 * 60 * 24,\n};\n\nexport function getTotalVolumeSum(volumes) {\n  if (!volumes || volumes.length === 0) {\n    return;\n  }\n\n  let volume = bigNumberify(0);\n  for (let i = 0; i < volumes.length; i++) {\n    volume = volume.add(volumes[i].data.volume);\n  }\n\n  return volume;\n}\n\nexport function getBalanceAndSupplyData(balances) {\n  if (!balances || balances.length === 0) {\n    return {};\n  }\n\n  const keys = [\"gmx\", \"esGmx\", \"glp\", \"stakedGmxTracker\"];\n  const balanceData = {};\n  const supplyData = {};\n  const propsLength = 2;\n\n  for (let i = 0; i < keys.length; i++) {\n    const key = keys[i];\n    balanceData[key] = balances[i * propsLength];\n    supplyData[key] = balances[i * propsLength + 1];\n  }\n\n  return { balanceData, supplyData };\n}\n\nexport function getDepositBalanceData(depositBalances) {\n  if (!depositBalances || depositBalances.length === 0) {\n    return;\n  }\n\n  const keys = [\n    \"gmxInStakedGmx\",\n    \"esGmxInStakedGmx\",\n    \"stakedGmxInBonusGmx\",\n    \"bonusGmxInFeeGmx\",\n    \"bnGmxInFeeGmx\",\n    \"glpInStakedGlp\",\n  ];\n  const data = {};\n\n  for (let i = 0; i < keys.length; i++) {\n    const key = keys[i];\n    data[key] = depositBalances[i];\n  }\n\n  return data;\n}\n\nexport function getVestingData(vestingInfo) {\n  if (!vestingInfo || vestingInfo.length === 0) {\n    return;\n  }\n\n  const keys = [\"gmxVester\", \"glpVester\"];\n  const data = {};\n  const propsLength = 7;\n\n  for (let i = 0; i < keys.length; i++) {\n    const key = keys[i];\n    data[key] = {\n      pairAmount: vestingInfo[i * propsLength],\n      vestedAmount: vestingInfo[i * propsLength + 1],\n      escrowedBalance: vestingInfo[i * propsLength + 2],\n      claimedAmounts: vestingInfo[i * propsLength + 3],\n      claimable: vestingInfo[i * propsLength + 4],\n      maxVestableAmount: vestingInfo[i * propsLength + 5],\n      averageStakedAmount: vestingInfo[i * propsLength + 6],\n    };\n\n    data[key + \"PairAmount\"] = data[key].pairAmount;\n    data[key + \"VestedAmount\"] = data[key].vestedAmount;\n    data[key + \"EscrowedBalance\"] = data[key].escrowedBalance;\n    data[key + \"ClaimSum\"] = data[key].claimedAmounts.add(data[key].claimable);\n    data[key + \"Claimable\"] = data[key].claimable;\n    data[key + \"MaxVestableAmount\"] = data[key].maxVestableAmount;\n    data[key + \"AverageStakedAmount\"] = data[key].averageStakedAmount;\n  }\n\n  return data;\n}\n\nexport function getStakingData(stakingInfo) {\n  if (!stakingInfo || stakingInfo.length === 0) {\n    return;\n  }\n\n  const keys = [\"stakedGmxTracker\", \"bonusGmxTracker\", \"feeGmxTracker\", \"stakedGlpTracker\", \"feeGlpTracker\"];\n  const data = {};\n  const propsLength = 5;\n\n  for (let i = 0; i < keys.length; i++) {\n    const key = keys[i];\n    data[key] = {\n      claimable: stakingInfo[i * propsLength],\n      tokensPerInterval: stakingInfo[i * propsLength + 1],\n      averageStakedAmounts: stakingInfo[i * propsLength + 2],\n      cumulativeRewards: stakingInfo[i * propsLength + 3],\n      totalSupply: stakingInfo[i * propsLength + 4],\n    };\n  }\n\n  return data;\n}\n\nexport function getProcessedData(\n  balanceData,\n  supplyData,\n  depositBalanceData,\n  stakingData,\n  vestingData,\n  aum,\n  nativeTokenPrice,\n  stakedGmxSupply,\n  gmxPrice,\n  gmxSupply\n) {\n  if (\n    !balanceData ||\n    !supplyData ||\n    !depositBalanceData ||\n    !stakingData ||\n    !vestingData ||\n    !aum ||\n    !nativeTokenPrice ||\n    !stakedGmxSupply ||\n    !gmxPrice ||\n    !gmxSupply\n  ) {\n    return {};\n  }\n\n  const data = {};\n\n  data.gmxBalance = balanceData.gmx;\n  data.gmxBalanceUsd = balanceData.gmx.mul(gmxPrice).div(expandDecimals(1, 18));\n\n  data.gmxSupply = bigNumberify(gmxSupply);\n\n  data.gmxSupplyUsd = data.gmxSupply.mul(gmxPrice).div(expandDecimals(1, 18));\n  data.stakedGmxSupply = stakedGmxSupply;\n  data.stakedGmxSupplyUsd = stakedGmxSupply.mul(gmxPrice).div(expandDecimals(1, 18));\n  data.gmxInStakedGmx = depositBalanceData.gmxInStakedGmx;\n  data.gmxInStakedGmxUsd = depositBalanceData.gmxInStakedGmx.mul(gmxPrice).div(expandDecimals(1, 18));\n\n  data.esGmxBalance = balanceData.esGmx;\n  data.esGmxBalanceUsd = balanceData.esGmx.mul(gmxPrice).div(expandDecimals(1, 18));\n\n  data.stakedGmxTrackerSupply = supplyData.stakedGmxTracker;\n  data.stakedGmxTrackerSupplyUsd = supplyData.stakedGmxTracker.mul(gmxPrice).div(expandDecimals(1, 18));\n  data.stakedEsGmxSupply = data.stakedGmxTrackerSupply.sub(data.stakedGmxSupply);\n  data.stakedEsGmxSupplyUsd = data.stakedEsGmxSupply.mul(gmxPrice).div(expandDecimals(1, 18));\n\n  data.esGmxInStakedGmx = depositBalanceData.esGmxInStakedGmx;\n  data.esGmxInStakedGmxUsd = depositBalanceData.esGmxInStakedGmx.mul(gmxPrice).div(expandDecimals(1, 18));\n\n  data.bnGmxInFeeGmx = depositBalanceData.bnGmxInFeeGmx;\n  data.bonusGmxInFeeGmx = depositBalanceData.bonusGmxInFeeGmx;\n  data.feeGmxSupply = stakingData.feeGmxTracker.totalSupply;\n  data.feeGmxSupplyUsd = data.feeGmxSupply.mul(gmxPrice).div(expandDecimals(1, 18));\n\n  data.stakedGmxTrackerRewards = stakingData.stakedGmxTracker.claimable;\n  data.stakedGmxTrackerRewardsUsd = stakingData.stakedGmxTracker.claimable.mul(gmxPrice).div(expandDecimals(1, 18));\n\n  data.bonusGmxTrackerRewards = stakingData.bonusGmxTracker.claimable;\n\n  data.feeGmxTrackerRewards = stakingData.feeGmxTracker.claimable;\n  data.feeGmxTrackerRewardsUsd = stakingData.feeGmxTracker.claimable.mul(nativeTokenPrice).div(expandDecimals(1, 18));\n\n  data.boostBasisPoints = bigNumberify(0);\n  if (data && data.bnGmxInFeeGmx && data.bonusGmxInFeeGmx && data.bonusGmxInFeeGmx.gt(0)) {\n    data.boostBasisPoints = data.bnGmxInFeeGmx.mul(BASIS_POINTS_DIVISOR).div(data.bonusGmxInFeeGmx);\n  }\n\n  data.stakedGmxTrackerAnnualRewardsUsd = stakingData.stakedGmxTracker.tokensPerInterval\n    .mul(SECONDS_PER_YEAR)\n    .mul(gmxPrice)\n    .div(expandDecimals(1, 18));\n  data.gmxAprForEsGmx =\n    data.stakedGmxTrackerSupplyUsd && data.stakedGmxTrackerSupplyUsd.gt(0)\n      ? data.stakedGmxTrackerAnnualRewardsUsd.mul(BASIS_POINTS_DIVISOR).div(data.stakedGmxTrackerSupplyUsd)\n      : bigNumberify(0);\n  data.feeGmxTrackerAnnualRewardsUsd = stakingData.feeGmxTracker.tokensPerInterval\n    .mul(SECONDS_PER_YEAR)\n    .mul(nativeTokenPrice)\n    .div(expandDecimals(1, 18));\n  data.gmxAprForNativeToken =\n    data.feeGmxSupplyUsd && data.feeGmxSupplyUsd.gt(0)\n      ? data.feeGmxTrackerAnnualRewardsUsd.mul(BASIS_POINTS_DIVISOR).div(data.feeGmxSupplyUsd)\n      : bigNumberify(0);\n  data.gmxBoostAprForNativeToken = data.gmxAprForNativeToken.mul(data.boostBasisPoints).div(BASIS_POINTS_DIVISOR);\n  data.gmxAprTotal = data.gmxAprForNativeToken.add(data.gmxAprForEsGmx);\n  data.gmxAprTotalWithBoost = data.gmxAprForNativeToken.add(data.gmxBoostAprForNativeToken).add(data.gmxAprForEsGmx);\n  data.gmxAprForNativeTokenWithBoost = data.gmxAprForNativeToken.add(data.gmxBoostAprForNativeToken);\n\n  data.totalGmxRewardsUsd = data.stakedGmxTrackerRewardsUsd.add(data.feeGmxTrackerRewardsUsd);\n\n  data.glpSupply = supplyData.glp;\n  data.glpPrice =\n    data.glpSupply && data.glpSupply.gt(0)\n      ? aum.mul(expandDecimals(1, GLP_DECIMALS)).div(data.glpSupply)\n      : bigNumberify(0);\n\n  data.glpSupplyUsd = supplyData.glp.mul(data.glpPrice).div(expandDecimals(1, 18));\n\n  data.glpBalance = depositBalanceData.glpInStakedGlp;\n  data.glpBalanceUsd = depositBalanceData.glpInStakedGlp.mul(data.glpPrice).div(expandDecimals(1, GLP_DECIMALS));\n\n  data.stakedGlpTrackerRewards = stakingData.stakedGlpTracker.claimable;\n  data.stakedGlpTrackerRewardsUsd = stakingData.stakedGlpTracker.claimable.mul(gmxPrice).div(expandDecimals(1, 18));\n\n  data.feeGlpTrackerRewards = stakingData.feeGlpTracker.claimable;\n  data.feeGlpTrackerRewardsUsd = stakingData.feeGlpTracker.claimable.mul(nativeTokenPrice).div(expandDecimals(1, 18));\n\n  data.stakedGlpTrackerAnnualRewardsUsd = stakingData.stakedGlpTracker.tokensPerInterval\n    .mul(SECONDS_PER_YEAR)\n    .mul(gmxPrice)\n    .div(expandDecimals(1, 18));\n  data.glpAprForEsGmx =\n    data.glpSupplyUsd && data.glpSupplyUsd.gt(0)\n      ? data.stakedGlpTrackerAnnualRewardsUsd.mul(BASIS_POINTS_DIVISOR).div(data.glpSupplyUsd)\n      : bigNumberify(0);\n  data.feeGlpTrackerAnnualRewardsUsd = stakingData.feeGlpTracker.tokensPerInterval\n    .mul(SECONDS_PER_YEAR)\n    .mul(nativeTokenPrice)\n    .div(expandDecimals(1, 18));\n  data.glpAprForNativeToken =\n    data.glpSupplyUsd && data.glpSupplyUsd.gt(0)\n      ? data.feeGlpTrackerAnnualRewardsUsd.mul(BASIS_POINTS_DIVISOR).div(data.glpSupplyUsd)\n      : bigNumberify(0);\n  data.glpAprTotal = data.glpAprForNativeToken.add(data.glpAprForEsGmx);\n\n  data.totalGlpRewardsUsd = data.stakedGlpTrackerRewardsUsd.add(data.feeGlpTrackerRewardsUsd);\n\n  data.totalEsGmxRewards = data.stakedGmxTrackerRewards.add(data.stakedGlpTrackerRewards);\n  data.totalEsGmxRewardsUsd = data.stakedGmxTrackerRewardsUsd.add(data.stakedGlpTrackerRewardsUsd);\n\n  data.gmxVesterRewards = vestingData.gmxVester.claimable;\n  data.glpVesterRewards = vestingData.glpVester.claimable;\n  data.totalVesterRewards = data.gmxVesterRewards.add(data.glpVesterRewards);\n  data.totalVesterRewardsUsd = data.totalVesterRewards.mul(gmxPrice).div(expandDecimals(1, 18));\n\n  data.totalNativeTokenRewards = data.feeGmxTrackerRewards.add(data.feeGlpTrackerRewards);\n  data.totalNativeTokenRewardsUsd = data.feeGmxTrackerRewardsUsd.add(data.feeGlpTrackerRewardsUsd);\n\n  data.totalRewardsUsd = data.totalEsGmxRewardsUsd.add(data.totalNativeTokenRewardsUsd).add(data.totalVesterRewardsUsd);\n\n  return data;\n}\n\nexport async function addTokenToMetamask(token) {\n  try {\n    const wasAdded = await window.ethereum.request({\n      method: \"wallet_watchAsset\",\n      params: {\n        type: \"ERC20\",\n        options: {\n          address: token.address,\n          symbol: token.symbol,\n          decimals: token.decimals,\n          image: token.imageUrl,\n        },\n      },\n    });\n    if (wasAdded) {\n      // https://github.com/MetaMask/metamask-extension/issues/11377\n      // We can show a toast message when the token is added to metamask but because of the bug we can't. Once the bug is fixed we can show a toast message.\n    }\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nexport function sleep(ms) {\n  return new Promise((resolve) => resolve(), ms);\n}\n\nexport function getPageTitle(data) {\n  return `${data} | DeDeLend`;\n}\n\nexport function isHashZero(value) {\n  return value === ethers.constants.HashZero;\n}\nexport function isAddressZero(value) {\n  return value === ethers.constants.AddressZero;\n}\n\nexport function useDebounce(value, delay) {\n  // State and setters for debounced value\n  const [debouncedValue, setDebouncedValue] = useState(value);\n  useEffect(\n    () => {\n      // Update debounced value after delay\n      const handler = setTimeout(() => {\n        setDebouncedValue(value);\n      }, delay);\n      // Cancel the timeout if value changes (also on delay change or unmount)\n      // This is how we prevent debounced value from updating if value is changed ...\n      // .. within the delay period. Timeout gets cleared and restarted.\n      return () => {\n        clearTimeout(handler);\n      };\n    },\n    [value, delay] // Only re-call effect if value or delay changes\n  );\n  return debouncedValue;\n}\n\nexport function isDevelopment() {\n  return !window.location.host?.includes(\"gmx.io\") && !window.location.host?.includes(\"ipfs.io\");\n}\n\nexport function isLocal() {\n  return window.location.host?.includes(\"localhost\");\n}\n\nexport function getHomeUrl() {\n  if (isLocal()) {\n    return \"http://localhost:3010\";\n  }\n\n  return \"https://gmx.io\";\n}\n\nexport function getAppBaseUrl() {\n  if (isLocal()) {\n    return \"http://localhost:3011/#\";\n  }\n\n  return \"https://app.gmx.io/#\";\n}\n\nexport function getRootShareApiUrl() {\n  if (isLocal()) {\n    return \"https://gmxs.vercel.app\";\n  }\n\n  return \"https://share.gmx.io\";\n}\n\nexport function getTradePageUrl() {\n  if (isLocal()) {\n    return \"http://localhost:3011/#/trade\";\n  }\n\n  return \"https://app.gmx.io/#/trade\";\n}\n\nexport function importImage(name) {\n  let tokenImage = null;\n  try {\n    tokenImage = require(\"../img/\" + name);\n  } catch (error) {\n    console.error(error);\n  }\n  return tokenImage && tokenImage.default;\n}\n\nexport function getTwitterIntentURL(text, url = \"\", hashtag = \"\") {\n  let finalURL = \"https://twitter.com/intent/tweet?text=\";\n  if (text.length > 0) {\n    finalURL += encodeURIComponent(text.replace(/[\\r\\n]+/g, \" \"))\n      .replace(/\\*%7C/g, \"*|URL:\")\n      .replace(/%7C\\*/g, \"|*\");\n\n    if (hashtag.length > 0) {\n      finalURL += \"&hashtags=\" + encodeURIComponent(hashtag.replace(/#/g, \"\"));\n    }\n    if (url.length > 0) {\n      finalURL += \"&url=\" + encodeURIComponent(url);\n    }\n  }\n  return finalURL;\n}\n\nexport function isValidTimestamp(timestamp) {\n  return new Date(timestamp).getTime() > 0;\n}\n\nexport function getPositionForOrder(account, order, positionsMap) {\n  const key = getPositionKey(account, order.collateralToken, order.indexToken, order.isLong);\n  const position = positionsMap[key];\n  return position && position.size && position.size.gt(0) ? position : null;\n}\n\nexport function getOrderError(account, order, positionsMap, position) {\n  if (order.type !== DECREASE) {\n    return;\n  }\n\n  const positionForOrder = position ? position : getPositionForOrder(account, order, positionsMap);\n\n  if (!positionForOrder) {\n    return \"No open position, order cannot be executed unless a position is opened\";\n  }\n  if (positionForOrder.size.lt(order.sizeDelta)) {\n    return \"Order size is bigger than position, will only be executable if position increases\";\n  }\n\n  if (positionForOrder.size.gt(order.sizeDelta)) {\n    if (positionForOrder.size.sub(order.sizeDelta).lt(positionForOrder.collateral.sub(order.collateralDelta))) {\n      return \"Order cannot be executed as it would reduce the position's leverage below 1\";\n    }\n    if (positionForOrder.size.sub(order.sizeDelta).lt(expandDecimals(5, USD_DECIMALS))) {\n      return \"Order cannot be executed as the remaining position would be smaller than $5.00\";\n    }\n  }\n}\n\nexport function arrayURLFetcher(...urlArr) {\n  const fetcher = (url) => fetch(url).then((res) => res.json());\n  return Promise.all(urlArr.map(fetcher));\n}\n\nexport function shouldShowRedirectModal(timestamp) {\n  const thirtyDays = 1000 * 60 * 60 * 24 * 30;\n  const expiryTime = timestamp + thirtyDays;\n  return !isValidTimestamp(timestamp) || Date.now() > expiryTime;\n}\n","import { ethers } from \"ethers\";\n\nimport { MAINNET, TESTNET, ARBITRUM_TESTNET, ARBITRUM, AVALANCHE } from \"../lib/legacy\";\n\nconst { parseEther } = ethers.utils;\n\nconst constants = {\n  [MAINNET]: {\n    nativeTokenSymbol: \"BNB\",\n    defaultCollateralSymbol: \"BUSD\",\n    defaultFlagOrdersEnabled: false,\n    positionReaderPropsLength: 8,\n    v2: false,\n  },\n\n  [TESTNET]: {\n    nativeTokenSymbol: \"BNB\",\n    defaultCollateralSymbol: \"BUSD\",\n    defaultFlagOrdersEnabled: true,\n    positionReaderPropsLength: 8,\n    v2: false,\n  },\n\n  [ARBITRUM_TESTNET]: {\n    nativeTokenSymbol: \"ETH\",\n    defaultCollateralSymbol: \"USDC\",\n    defaultFlagOrdersEnabled: false,\n    positionReaderPropsLength: 9,\n    v2: true,\n\n    SWAP_ORDER_EXECUTION_GAS_FEE: parseEther(\"0.0003\"),\n    INCREASE_ORDER_EXECUTION_GAS_FEE: parseEther(\"0.0003\"),\n    // contract requires that execution fee be strictly greater than instead of gte\n    DECREASE_ORDER_EXECUTION_GAS_FEE: parseEther(\"0.000300001\"),\n  },\n\n  [ARBITRUM]: {\n    nativeTokenSymbol: \"ETH\",\n    wrappedTokenSymbol: \"WETH\",\n    defaultCollateralSymbol: \"USDC\",\n    defaultFlagOrdersEnabled: false,\n    positionReaderPropsLength: 9,\n    v2: true,\n\n    SWAP_ORDER_EXECUTION_GAS_FEE: parseEther(\"0.0003\"),\n    INCREASE_ORDER_EXECUTION_GAS_FEE: parseEther(\"0.0003\"),\n    // contract requires that execution fee be strictly greater than instead of gte\n    DECREASE_ORDER_EXECUTION_GAS_FEE: parseEther(\"0.000300001\"),\n  },\n\n  [AVALANCHE]: {\n    nativeTokenSymbol: \"AVAX\",\n    wrappedTokenSymbol: \"WAVAX\",\n    defaultCollateralSymbol: \"MIM\",\n    defaultFlagOrdersEnabled: true,\n    positionReaderPropsLength: 9,\n    v2: true,\n\n    SWAP_ORDER_EXECUTION_GAS_FEE: parseEther(\"0.01\"),\n    INCREASE_ORDER_EXECUTION_GAS_FEE: parseEther(\"0.01\"),\n    // contract requires that execution fee be strictly greater than instead of gte\n    DECREASE_ORDER_EXECUTION_GAS_FEE: parseEther(\"0.0100001\"),\n  },\n};\n\nexport const getConstant = (chainId, key) => {\n  if (!constants[chainId]) {\n    throw new Error(`Unsupported chainId ${chainId}`);\n  }\n  if (!(key in constants[chainId])) {\n    throw new Error(`Key ${key} does not exist for chainId ${chainId}`);\n  }\n  return constants[chainId][key];\n};\n","import { ApolloClient, InMemoryCache } from \"@apollo/client\";\n\nexport const chainlinkClient = createClient(\"https://api.thegraph.com/subgraphs/name/deividask/chainlink\");\nexport const arbitrumGraphClient = createClient(\"https://api.thegraph.com/subgraphs/name/gmx-io/gmx-stats\");\nexport const avalancheGraphClient = createClient(\"https://api.thegraph.com/subgraphs/name/gmx-io/gmx-avalanche-stats\");\nexport const nissohGraphClient = createClient(\"https://api.thegraph.com/subgraphs/name/nissoh/gmx-vault\");\nexport const arbitrumReferralsGraphClient = createClient(\n  \"https://api.thegraph.com/subgraphs/name/gmx-io/gmx-arbitrum-referrals\"\n);\nexport const avalancheReferralsGraphClient = createClient(\n  \"https://api.thegraph.com/subgraphs/name/gmx-io/gmx-avalanche-referrals\"\n);\n\nfunction createClient(uri) {\n  return new ApolloClient({\n    uri,\n    cache: new InMemoryCache(),\n  });\n}\n\nexport function get1InchSwapUrl(chainId, from, to) {\n  const rootUrl = `https://app.1inch.io/#/${chainId}/unified/swap`;\n  if (!from && !to) return rootUrl;\n  return `${rootUrl}/${from}/${to}`;\n}\n","// prettier-ignore\nimport {ethers} from \"ethers\";\nimport { Web3Provider } from \"@ethersproject/providers\";\nimport { getFallbackProvider, getProvider } from \"../legacy\";\n\nexport const fetcher =\n  (library: Web3Provider, contractInfo: any, additionalArgs: any[]) =>\n  (...args: any) => {\n    // eslint-disable-next-line\n    const [id, chainId, arg0, arg1, ...params] = args;\n    const provider = getProvider(library, chainId);\n\n    const method = ethers.utils.isAddress(arg0) ? arg1 : arg0;\n\n    const contractCall = getContractCall({\n      provider,\n      contractInfo,\n      arg0,\n      arg1,\n      method,\n      params,\n      additionalArgs,\n    });\n\n    let shouldCallFallback = true;\n\n    const handleFallback = async (resolve, reject, error) => {\n      if (!shouldCallFallback) {\n        return;\n      }\n      // prevent fallback from being called twice\n      shouldCallFallback = false;\n\n      const fallbackProvider = getFallbackProvider(chainId);\n      if (!fallbackProvider) {\n        reject(error);\n        return;\n      }\n\n      console.info(\"using fallbackProvider for\", method);\n      const fallbackContractCall = getContractCall({\n        provider: fallbackProvider,\n        contractInfo,\n        arg0,\n        arg1,\n        method,\n        params,\n        additionalArgs,\n      });\n\n      fallbackContractCall\n        .then((result) => resolve(result))\n        .catch((e) => {\n          console.error(\"fallback fetcher error\", id, contractInfo.contractName, method, e);\n          reject(e);\n        });\n    };\n\n    return new Promise(async (resolve, reject) => {\n      contractCall\n        .then((result) => {\n          shouldCallFallback = false;\n          resolve(result);\n        })\n        .catch((e) => {\n          console.error(\"fetcher error\", id, contractInfo.contractName, method, e);\n          handleFallback(resolve, reject, e);\n        });\n\n      setTimeout(() => {\n        handleFallback(resolve, reject, \"contractCall timeout\");\n      }, 2000);\n    });\n  };\n\nfunction getContractCall({ provider, contractInfo, arg0, arg1, method, params, additionalArgs }) {\n  if (ethers.utils.isAddress(arg0)) {\n    const address = arg0;\n    const contract = new ethers.Contract(address, contractInfo.abi, provider);\n\n    if (additionalArgs) {\n      return contract[method](...params.concat(additionalArgs));\n    }\n    return contract[method](...params);\n  }\n\n  if (!provider) {\n    return;\n  }\n\n  return provider[method](arg1, ...params);\n}\n","import { toast, ToastContent, ToastOptions } from \"react-toastify\";\n\nexport const helperToast = {\n  success: (content: ToastContent, opts?: ToastOptions) => {\n    toast.dismiss();\n    toast.success(content, opts);\n  },\n  error: (content: ToastContent, opts?: ToastOptions) => {\n    toast.dismiss();\n    toast.error(content, opts);\n  },\n};\n","import { useState } from \"react\";\n\nexport function ToastifyDebug(props) {\n  const [open, setOpen] = useState(false);\n  return (\n    <div className=\"Toastify-debug\">\n      <span className=\"Toastify-debug-button\" onClick={() => setOpen((old) => !old)}>\n        {open ? \"Hide error\" : \"Show error\"}\n      </span>\n      {open && <div className=\"Toastify-debug-content\">{props.children}</div>}\n    </div>\n  );\n}\n","export const NOT_ENOUGH_FUNDS = \"NOT_ENOUGH_FUNDS\";\nexport const USER_DENIED = \"USER_DENIED\";\nexport const SLIPPAGE = \"SLIPPAGE\";\nexport const RPC_ERROR = \"RPC_ERROR\";\n\ntype ErrorPattern = { msg?: string; code?: number };\n\nconst TX_ERROR_PATTERNS: { [key: string]: ErrorPattern[] } = {\n  [NOT_ENOUGH_FUNDS]: [\n    { msg: \"not enough funds for gas\" },\n    { msg: \"failed to execute call with revert code InsufficientGasFunds\" },\n  ],\n  [USER_DENIED]: [{ msg: \"User denied transaction signature\" }],\n  [SLIPPAGE]: [{ msg: \"Router: mark price lower than limit\" }, { msg: \"Router: mark price higher than limit\" }],\n  [RPC_ERROR]: [\n    // @see https://eips.ethereum.org/EIPS/eip-1474#error-codes\n    { code: -32005 },\n    { msg: \"Non-200 status code\" },\n    { msg: \"Request limit exceeded\" },\n    { msg: \"Internal JSON-RPC error\" },\n    { msg: \"Response has no error or result\" },\n    { msg: \"couldn't connect to the network\" },\n  ],\n};\n\ntype TxError = {\n  message?: string;\n  code?: number;\n  data?: any;\n};\n\nexport function extractError(ex: TxError) {\n  if (!ex) {\n    return [];\n  }\n\n  const message = ex.data?.message || ex.message;\n  const code = ex.code;\n\n  if (!message && !code) {\n    return [];\n  }\n\n  for (const [type, patterns] of Object.entries(TX_ERROR_PATTERNS)) {\n    for (const pattern of patterns) {\n      const matchCode = pattern.code && code === pattern.code;\n      const matchMessage = pattern.msg && message && message.includes(pattern.msg);\n\n      if (matchCode || matchMessage) {\n        return [message, type, ex.data];\n      }\n    }\n  }\n\n  return [message, null, ex.data];\n}\n","import { ARBITRUM, AVALANCHE } from \"../legacy\";\n\nexport const GAS_PRICE_ADJUSTMENT_MAP = {\n  [ARBITRUM]: \"0\",\n  [AVALANCHE]: \"3000000000\", // 3 gwei\n};\n\nexport const MAX_GAS_PRICE_MAP = {\n  [AVALANCHE]: \"200000000000\", // 200 gwei\n};","import { bigNumberify } from \"../legacy\";\nimport { GAS_PRICE_ADJUSTMENT_MAP, MAX_GAS_PRICE_MAP } from \"./constants\";\nimport { Provider } from \"@ethersproject/providers\";\nimport { Contract } from \"ethers\";\n\nexport async function setGasPrice(txnOpts: any, provider: Provider, chainId: number) {\n  let maxGasPrice = MAX_GAS_PRICE_MAP[chainId];\n  const premium = GAS_PRICE_ADJUSTMENT_MAP[chainId] || bigNumberify(0);\n\n  const gasPrice = await provider.getGasPrice();\n\n  if (maxGasPrice) {\n    if (gasPrice.gt(maxGasPrice)) {\n      maxGasPrice = gasPrice;\n    }\n\n    const feeData = await provider.getFeeData();\n\n    // the wallet provider might not return maxPriorityFeePerGas in feeData\n    // in which case we should fallback to the usual getGasPrice flow handled below\n    if (feeData && feeData.maxPriorityFeePerGas) {\n      txnOpts.maxFeePerGas = maxGasPrice;\n      txnOpts.maxPriorityFeePerGas = feeData.maxPriorityFeePerGas.add(premium);\n      return;\n    }\n  }\n\n  txnOpts.gasPrice = gasPrice.add(premium);\n  return;\n}\n\nexport async function getGasLimit(contract: Contract, method, params = [], value) {\n  const defaultValue = bigNumberify(0);\n\n  if (!value) {\n    value = defaultValue;\n  }\n  \n  let gasLimit = await contract.estimateGas[method](...params, { value });\n\n  if (gasLimit.lt(22000)) {\n    gasLimit = bigNumberify(22000)!;\n  }\n\n  return gasLimit.mul(11000).div(10000); // add a 10% buffer\n}\n","import { BigNumber, Contract } from \"ethers\";\nimport { helperToast } from \"../helperToast\";\nimport { ToastifyDebug } from \"../../components/ToastifyDebug/ToastifyDebug\";\nimport { extractError, NOT_ENOUGH_FUNDS, RPC_ERROR, SLIPPAGE, USER_DENIED } from \"./transactionErrors\";\nimport { getExplorerUrl } from \"../legacy\";\nimport { getGasLimit, setGasPrice } from \"./utils\";\n\nexport async function callContract(\n  chainId: number,\n  contract: Contract,\n  method: string,\n  params: any,\n  opts: {\n    value?: BigNumber | number;\n    gasLimit?: BigNumber | number;\n    sentMsg?: string;\n    successMsg?: string;\n    hideSuccessMsg?: boolean;\n    failMsg?: string;\n    setPendingTxns?: (txns: any) => void;\n  }\n) {\n  try {\n    if (!Array.isArray(params) && typeof params === \"object\" && opts === undefined) {\n      opts = params;\n      params = [];\n    }\n    \n    if (!opts) {\n      opts = {};\n    }\n    \n    const txnOpts: any = {};\n    \n    if (opts.value) {\n      txnOpts.value = opts.value;\n    }\n    \n    txnOpts.gasLimit = opts.gasLimit ? opts.gasLimit : await getGasLimit(contract, method, params, opts.value);\n    \n    await setGasPrice(txnOpts, contract.provider, chainId);\n\n    const res = await contract[method](...params, txnOpts);\n    \n    const txUrl = getExplorerUrl(chainId) + \"tx/\" + res.hash;\n    const sentMsg = opts.sentMsg || \"Transaction sent.\";\n\n    helperToast.success(\n      <div>\n        {sentMsg}{\" \"}\n        <a href={txUrl} target=\"_blank\" rel=\"noopener noreferrer\">\n          View status.\n        </a>\n        <br />\n      </div>\n    );\n\n    if (opts.setPendingTxns) {\n      const message = opts.hideSuccessMsg ? undefined : opts.successMsg || \"Transaction completed!\";\n      const pendingTxn = {\n        hash: res.hash,\n        message,\n      };\n      opts.setPendingTxns((pendingTxns) => [...pendingTxns, pendingTxn]);\n    }\n    return res;\n  } catch (e) {\n    let failMsg;\n\n    let autoCloseToast: number | boolean = 5000;\n\n    const [message, type, errorData] = extractError(e);\n    switch (type) {\n      case NOT_ENOUGH_FUNDS:\n        failMsg = (\n          <div>\n            There is not enough ETH in your account on Arbitrum to send this transaction.\n            <br />\n            <br />\n            <a href={\"https://arbitrum.io/bridge-tutorial/\"} target=\"_blank\" rel=\"noopener noreferrer\">\n              Bridge ETH to Arbitrum\n            </a>\n          </div>\n        );\n        break;\n      case USER_DENIED:\n        failMsg = \"Transaction was cancelled.\";\n        break;\n      case SLIPPAGE:\n        failMsg =\n          'The mark price has changed, consider increasing your Allowed Slippage by clicking on the \"...\" icon next to your address.';\n        break;\n      case RPC_ERROR:\n        autoCloseToast = false;\n\n        const originalError = errorData?.error?.message || errorData?.message || message;\n\n        failMsg = (\n          <div>\n            Transaction failed due to RPC error.\n            <br />\n            <br />\n            Please try changing the RPC url in your wallet settings.{\" \"}\n            <a href=\"https://gmxio.gitbook.io/gmx/trading#backup-rpc-urls\" target=\"_blank\" rel=\"noopener noreferrer\">\n              More info\n            </a>\n            <br />\n            {originalError && <ToastifyDebug>{originalError}</ToastifyDebug>}\n          </div>\n        );\n        break;\n      default:\n        autoCloseToast = false;\n\n        failMsg = (\n          <div>\n            {opts.failMsg || \"Transaction failed\"}\n            <br />\n            {message && <ToastifyDebug>{message}</ToastifyDebug>}\n          </div>\n        );\n    }\n\n    helperToast.error(failMsg, { autoClose: autoCloseToast });\n    throw e;\n  }\n}\n","import { useMemo } from \"react\";\nimport { gql } from \"@apollo/client\";\nimport useSWR from \"swr\";\nimport { ethers } from \"ethers\";\n\nimport { USD_DECIMALS, CHART_PERIODS, formatAmount, sleep } from \"../lib/legacy\";\nimport { chainlinkClient } from \"./common\";\n\nconst BigNumber = ethers.BigNumber;\n\n// Ethereum network, Chainlink Aggregator contracts\nconst FEED_ID_MAP = {\n  BTC_USD: \"0xae74faa92cb67a95ebcab07358bc222e33a34da7\",\n  ETH_USD: \"0x37bc7498f4ff12c19678ee8fe19d713b87f6a9e6\",\n  BNB_USD: \"0xc45ebd0f901ba6b2b8c7e70b717778f055ef5e6d\",\n  LINK_USD: \"0xdfd03bfc3465107ce570a0397b247f546a42d0fa\",\n  UNI_USD: \"0x68577f915131087199fe48913d8b416b3984fd38\",\n  SUSHI_USD: \"0x7213536a36094cd8a768a5e45203ec286cba2d74\",\n  AVAX_USD: \"0x0fc3657899693648bba4dbd2d8b33b82e875105d\",\n  AAVE_USD: \"0xe3f0dede4b499c07e12475087ab1a084b5f93bc0\",\n  YFI_USD: \"0x8a4d74003870064d41d4f84940550911fbfccf04\",\n  SPELL_USD: \"0x8640b23468815902e011948f3ab173e1e83f9879\",\n};\nconst timezoneOffset = -new Date().getTimezoneOffset() * 60;\n\nfunction fillGaps(prices, periodSeconds) {\n  if (prices.length < 2) {\n    return prices;\n  }\n\n  const newPrices = [prices[0]];\n  let prevTime = prices[0].time;\n  for (let i = 1; i < prices.length; i++) {\n    const { time, open } = prices[i];\n    if (prevTime) {\n      let j = (time - prevTime) / periodSeconds - 1;\n      while (j > 0) {\n        newPrices.push({\n          time: time - j * periodSeconds,\n          open,\n          close: open,\n          high: open * 1.0003,\n          low: open * 0.9996,\n        });\n        j--;\n      }\n    }\n\n    prevTime = time;\n    newPrices.push(prices[i]);\n  }\n\n  return newPrices;\n}\n\nasync function getChartPricesFromStats(chainId, symbol, period) {\n  if ([\"WBTC\", \"WETH\", \"WAVAX\"].includes(symbol)) {\n    symbol = symbol.substr(1);\n  } else if (symbol === \"BTC.b\") {\n    symbol = \"BTC\";\n  }\n  const hostname = \"https://stats.gmx.io/\";\n  // const hostname = 'http://localhost:3113/'\n  const timeDiff = CHART_PERIODS[period] * 3000;\n  const from = Math.floor(Date.now() / 1000 - timeDiff);\n  const url = `${hostname}api/candles/${symbol}?preferableChainId=${chainId}&period=${period}&from=${from}&preferableSource=fast`;\n  const TIMEOUT = 5000;\n  const res = await new Promise(async (resolve, reject) => {\n    let done = false;\n    setTimeout(() => {\n      done = true;\n      reject(new Error(`request timeout ${url}`));\n    }, TIMEOUT);\n\n    let lastEx;\n    for (let i = 0; i < 3; i++) {\n      if (done) return;\n      try {\n        const res = await fetch(url);\n        resolve(res);\n        return;\n      } catch (ex) {\n        await sleep(300);\n        lastEx = ex;\n      }\n    }\n    reject(lastEx);\n  });\n  if (!res.ok) {\n    throw new Error(`request failed ${res.status} ${res.statusText}`);\n  }\n  const json = await res.json();\n  let prices = json?.prices;\n  if (!prices || prices.length < 10) {\n    throw new Error(`not enough prices data: ${prices?.length}`);\n  }\n\n  const OBSOLETE_THRESHOLD = Date.now() / 1000 - 60 * 30; // 30 min ago\n  const updatedAt = json?.updatedAt || 0;\n  if (updatedAt < OBSOLETE_THRESHOLD) {\n    throw new Error(\n      \"chart data is obsolete, last price record at \" +\n        new Date(updatedAt * 1000).toISOString() +\n        \" now: \" +\n        new Date().toISOString()\n    );\n  }\n\n  prices = prices.map(({ t, o: open, c: close, h: high, l: low }) => ({\n    time: t + timezoneOffset,\n    open,\n    close,\n    high,\n    low,\n  }));\n  return prices;\n}\n\nfunction getCandlesFromPrices(prices, period) {\n  const periodTime = CHART_PERIODS[period];\n\n  if (prices.length < 2) {\n    return [];\n  }\n\n  const candles = [];\n  const first = prices[0];\n  let prevTsGroup = Math.floor(first[0] / periodTime) * periodTime;\n  let prevPrice = first[1];\n  let o = prevPrice;\n  let h = prevPrice;\n  let l = prevPrice;\n  let c = prevPrice;\n  for (let i = 1; i < prices.length; i++) {\n    const [ts, price] = prices[i];\n    const tsGroup = Math.floor(ts / periodTime) * periodTime;\n    if (prevTsGroup !== tsGroup) {\n      candles.push({ t: prevTsGroup + timezoneOffset, o, h, l, c });\n      o = c;\n      h = Math.max(o, c);\n      l = Math.min(o, c);\n    }\n    c = price;\n    h = Math.max(h, price);\n    l = Math.min(l, price);\n    prevTsGroup = tsGroup;\n  }\n\n  return candles.map(({ t: time, o: open, c: close, h: high, l: low }) => ({\n    time,\n    open,\n    close,\n    high,\n    low,\n  }));\n}\n\nfunction getChainlinkChartPricesFromGraph(tokenSymbol, period) {\n  if ([\"WBTC\", \"WETH\", \"WAVAX\"].includes(tokenSymbol)) {\n    tokenSymbol = tokenSymbol.substr(1);\n  }\n  const marketName = tokenSymbol + \"_USD\";\n  const feedId = FEED_ID_MAP[marketName];\n  if (!feedId) {\n    throw new Error(`undefined marketName ${marketName}`);\n  }\n\n  const PER_CHUNK = 1000;\n  const CHUNKS_TOTAL = 6;\n  const requests = [];\n  for (let i = 0; i < CHUNKS_TOTAL; i++) {\n    const query = gql(`{\n      rounds(\n        first: ${PER_CHUNK},\n        skip: ${i * PER_CHUNK},\n        orderBy: unixTimestamp,\n        orderDirection: desc,\n        where: {feed: \"${feedId}\"}\n      ) {\n        unixTimestamp,\n        value\n      }\n    }`);\n    requests.push(chainlinkClient.query({ query }));\n  }\n\n  return Promise.all(requests)\n    .then((chunks) => {\n      let prices = [];\n      const uniqTs = new Set();\n      chunks.forEach((chunk) => {\n        chunk.data.rounds.forEach((item) => {\n          if (uniqTs.has(item.unixTimestamp)) {\n            return;\n          }\n\n          uniqTs.add(item.unixTimestamp);\n          prices.push([item.unixTimestamp, Number(item.value) / 1e8]);\n        });\n      });\n\n      prices.sort(([timeA], [timeB]) => timeA - timeB);\n      prices = getCandlesFromPrices(prices, period);\n      return prices;\n    })\n    .catch((err) => {\n      console.error(err);\n    });\n}\n\nexport function useChartPrices(chainId, symbol, isStable, period, currentAveragePrice) {\n  const swrKey = !isStable && symbol ? [\"getChartCandles\", chainId, symbol, period] : null;\n  let { data: prices, mutate: updatePrices } = useSWR(swrKey, {\n    fetcher: async (...args) => {\n      try {\n        return await getChartPricesFromStats(chainId, symbol, period);\n      } catch (ex) {\n        console.warn(ex);\n        console.warn(\"Switching to graph chainlink data\");\n        try {\n          return await getChainlinkChartPricesFromGraph(symbol, period);\n        } catch (ex2) {\n          console.warn(\"getChainlinkChartPricesFromGraph failed\");\n          console.warn(ex2);\n          return [];\n        }\n      }\n    },\n    dedupingInterval: 60000,\n    focusThrottleInterval: 60000 * 10,\n  });\n\n  const currentAveragePriceString = currentAveragePrice && currentAveragePrice.toString();\n  const retPrices = useMemo(() => {\n    if (isStable) {\n      return getStablePriceData(period);\n    }\n\n    if (!prices) {\n      return [];\n    }\n\n    let _prices = [...prices];\n    if (currentAveragePriceString && prices.length) {\n      _prices = appendCurrentAveragePrice(_prices, BigNumber.from(currentAveragePriceString), period);\n    }\n\n    return fillGaps(_prices, CHART_PERIODS[period]);\n  }, [prices, isStable, currentAveragePriceString, period]);\n\n  return [retPrices, updatePrices];\n}\n\nfunction appendCurrentAveragePrice(prices, currentAveragePrice, period) {\n  const periodSeconds = CHART_PERIODS[period];\n  const currentCandleTime = Math.floor(Date.now() / 1000 / periodSeconds) * periodSeconds + timezoneOffset;\n  const last = prices[prices.length - 1];\n  const averagePriceValue = parseFloat(formatAmount(currentAveragePrice, USD_DECIMALS, 2));\n  if (currentCandleTime === last.time) {\n    last.close = averagePriceValue;\n    last.high = Math.max(last.high, averagePriceValue);\n    last.low = Math.max(last.low, averagePriceValue);\n    return prices;\n  } else {\n    const newCandle = {\n      time: currentCandleTime,\n      open: last.close,\n      close: averagePriceValue,\n      high: averagePriceValue,\n      low: averagePriceValue,\n    };\n    return [...prices, newCandle];\n  }\n}\n\nfunction getStablePriceData(period) {\n  const periodSeconds = CHART_PERIODS[period];\n  const now = Math.floor(Date.now() / 1000 / periodSeconds) * periodSeconds;\n  let priceData = [];\n  for (let i = 100; i > 0; i--) {\n    priceData.push({\n      time: now - i * periodSeconds,\n      open: 1,\n      close: 1,\n      high: 1,\n      low: 1,\n    });\n  }\n  return priceData;\n}\n","import { ethers } from \"ethers\";\nimport { gql } from \"@apollo/client\";\nimport { useCallback, useEffect, useMemo, useRef, useState } from \"react\";\nimport { Token as UniToken } from \"@uniswap/sdk-core\";\nimport { Pool } from \"@uniswap/v3-sdk\";\nimport useSWR from \"swr\";\n\nimport OrderBook from \"../abis/OrderBook.json\";\nimport PositionManager from \"../abis/PositionManager.json\";\nimport Vault from \"../abis/Vault.json\";\nimport Router from \"../abis/Router.json\";\nimport UniPool from \"../abis/UniPool.json\";\nimport UniswapV2 from \"../abis/UniswapV2.json\";\nimport Token from \"../abis/Token.json\";\nimport VaultReader from \"../abis/VaultReader.json\";\nimport PositionRouter from \"../abis/PositionRouter.json\";\n\nimport { getContract } from \"../config/Addresses\";\nimport { getConstant } from \"../config/chains\";\nimport {\n  ARBITRUM,\n  ARBITRUM_TESTNET,\n  AVALANCHE,\n  bigNumberify,\n  DECREASE,\n  expandDecimals,\n  getHighExecutionFee,\n  getInfoTokens,\n  getOrderKey,\n  getProvider,\n  getServerBaseUrl,\n  getServerUrl,\n  getUsd,\n  INCREASE,\n  parseValue,\n  replaceNativeTokenAddress,\n  SWAP,\n  UI_VERSION,\n  USD_DECIMALS,\n} from \"../lib/legacy\";\nimport { getTokenBySymbol, getTokens, getWhitelistedTokens } from \"../config/Tokens\";\n\nimport { arbitrumGraphClient, avalancheGraphClient, nissohGraphClient } from \"./common\";\nimport { groupBy } from \"lodash\";\nimport { fetcher } from \"../lib/contracts/fetcher\";\nimport { callContract } from \"../lib/contracts/callContract\";\n\nexport * from \"./prices\";\n\nconst { AddressZero } = ethers.constants;\n\nfunction getGmxGraphClient(chainId) {\n  if (chainId === ARBITRUM) {\n    return arbitrumGraphClient;\n  } else if (chainId === AVALANCHE) {\n    return avalancheGraphClient;\n  } else if (chainId === ARBITRUM_TESTNET) {\n    return null;\n  }\n  throw new Error(`Unsupported chain ${chainId}`);\n}\n\nexport function useAllOrdersStats(chainId) {\n  const query = gql(`{\n    orderStat(id: \"total\") {\n      openSwap\n      openIncrease\n      openDecrease\n      executedSwap\n      executedIncrease\n      executedDecrease\n      cancelledSwap\n      cancelledIncrease\n      cancelledDecrease\n    }\n  }`);\n\n  const [res, setRes] = useState();\n\n  useEffect(() => {\n    const graphClient = getGmxGraphClient(chainId);\n    if (graphClient) {\n      graphClient.query({ query }).then(setRes).catch(console.warn);\n    }\n  }, [setRes, query, chainId]);\n\n  return res ? res.data.orderStat : null;\n}\n\nexport function useInfoTokens(library, chainId, active, tokenBalances, fundingRateInfo, vaultPropsLength) {\n  const tokens = getTokens(chainId);\n  const vaultReaderAddress = getContract(chainId, \"VaultReader\");\n  const vaultAddress = getContract(chainId, \"Vault\");\n  const positionRouterAddress = getContract(chainId, \"PositionRouter\");\n  const nativeTokenAddress = getContract(chainId, \"NATIVE_TOKEN\");\n\n  const whitelistedTokens = getWhitelistedTokens(chainId);\n  const whitelistedTokenAddresses = whitelistedTokens.map((token) => token.address);\n  \n  const { data: vaultTokenInfo } = useSWR(\n    [`useInfoTokens:${active}`, chainId, vaultReaderAddress, \"getVaultTokenInfoV4\"],\n    {\n      fetcher: fetcher(library, VaultReader, [\n        vaultAddress,\n        positionRouterAddress,\n        nativeTokenAddress,\n        expandDecimals(1, 18),\n        whitelistedTokenAddresses,\n      ]),\n      refreshInterval: 5000\n    }\n  );\n\n  const indexPricesUrl = getServerUrl(chainId, \"/prices\");\n  const { data: indexPrices } = useSWR([indexPricesUrl], {\n    fetcher: (...args) => fetch(...args).then((res) => res.json()),\n    refreshInterval: 1000,\n    refreshWhenHidden: true,\n  });\n\n  return {\n    infoTokens: getInfoTokens(\n      tokens,\n      tokenBalances,\n      whitelistedTokens,\n      vaultTokenInfo,\n      fundingRateInfo,\n      vaultPropsLength,\n      indexPrices,\n      nativeTokenAddress\n    ),\n  };\n}\n\nexport function useUserStat(chainId) {\n  const query = gql(`{\n    userStat(id: \"total\") {\n      id\n      uniqueCount\n    }\n  }`);\n\n  const [res, setRes] = useState();\n\n  useEffect(() => {\n    getGmxGraphClient(chainId).query({ query }).then(setRes).catch(console.warn);\n  }, [setRes, query, chainId]);\n\n  return res ? res.data.userStat : null;\n}\n\nexport function useLiquidationsData(chainId, account) {\n  const [data, setData] = useState(null);\n  useEffect(() => {\n    if (account) {\n      const query = gql(`{\n         liquidatedPositions(\n           where: {account: \"${account.toLowerCase()}\"}\n           first: 100\n           orderBy: timestamp\n           orderDirection: desc\n         ) {\n           key\n           timestamp\n           borrowFee\n           loss\n           collateral\n           size\n           markPrice\n           type\n         }\n      }`);\n      const graphClient = getGmxGraphClient(chainId);\n      if (!graphClient) {\n        return;\n      }\n\n      graphClient\n        .query({ query })\n        .then((res) => {\n          const _data = res.data.liquidatedPositions.map((item) => {\n            return {\n              ...item,\n              size: bigNumberify(item.size),\n              collateral: bigNumberify(item.collateral),\n              markPrice: bigNumberify(item.markPrice),\n            };\n          });\n          setData(_data);\n        })\n        .catch(console.warn);\n    }\n  }, [setData, chainId, account]);\n\n  return data;\n}\n\nexport function useAllPositions(chainId, library) {\n  const count = 1000;\n  const query = gql(`{\n    aggregatedTradeOpens(\n      first: ${count}\n    ) {\n      account\n      initialPosition{\n        indexToken\n        collateralToken\n        isLong\n        sizeDelta\n      }\n      increaseList {\n        sizeDelta\n      }\n      decreaseList {\n        sizeDelta\n      }\n    }\n  }`);\n\n  const [res, setRes] = useState();\n\n  useEffect(() => {\n    nissohGraphClient.query({ query }).then(setRes).catch(console.warn);\n  }, [setRes, query]);\n\n  const key = res ? `allPositions${count}__` : false;\n  const { data: positions = [] } = useSWR(key, async () => {\n    const provider = getProvider(library, chainId);\n    const vaultAddress = getContract(chainId, \"Vault\");\n    const contract = new ethers.Contract(vaultAddress, Vault.abi, provider);\n    const ret = await Promise.all(\n      res.data.aggregatedTradeOpens.map(async (dataItem) => {\n        try {\n          const { indexToken, collateralToken, isLong } = dataItem.initialPosition;\n          const positionData = await contract.getPosition(dataItem.account, collateralToken, indexToken, isLong);\n          const position = {\n            size: bigNumberify(positionData[0]),\n            collateral: bigNumberify(positionData[1]),\n            entryFundingRate: bigNumberify(positionData[3]),\n            account: dataItem.account,\n          };\n          position.fundingFee = await contract.getFundingFee(collateralToken, position.size, position.entryFundingRate);\n          position.marginFee = position.size.div(1000);\n          position.fee = position.fundingFee.add(position.marginFee);\n\n          const THRESHOLD = 5000;\n          const collateralDiffPercent = position.fee.mul(10000).div(position.collateral);\n          position.danger = collateralDiffPercent.gt(THRESHOLD);\n\n          return position;\n        } catch (ex) {\n          console.error(ex);\n        }\n      })\n    );\n\n    return ret.filter(Boolean);\n  });\n\n  return positions;\n}\n\nexport function useAllOrders(chainId, library) {\n  const query = gql(`{\n    orders(\n      first: 1000,\n      orderBy: createdTimestamp,\n      orderDirection: desc,\n      where: {status: \"open\"}\n    ) {\n      type\n      account\n      index\n      status\n      createdTimestamp\n    }\n  }`);\n\n  const [res, setRes] = useState();\n\n  useEffect(() => {\n    getGmxGraphClient(chainId).query({ query }).then(setRes);\n  }, [setRes, query, chainId]);\n\n  const key = res ? res.data.orders.map((order) => `${order.type}-${order.account}-${order.index}`) : null;\n  const { data: orders = [] } = useSWR(key, () => {\n    const provider = getProvider(library, chainId);\n    const orderBookAddress = getContract(chainId, \"OrderBook\");\n    const contract = new ethers.Contract(orderBookAddress, OrderBook.abi, provider);\n    return Promise.all(\n      res.data.orders.map(async (order) => {\n        try {\n          const type = order.type.charAt(0).toUpperCase() + order.type.substring(1);\n          const method = `get${type}Order`;\n          const orderFromChain = await contract[method](order.account, order.index);\n          const ret = {};\n          for (const [key, val] of Object.entries(orderFromChain)) {\n            ret[key] = val;\n          }\n          if (order.type === \"swap\") {\n            ret.path = [ret.path0, ret.path1, ret.path2].filter((address) => address !== AddressZero);\n          }\n          ret.type = type;\n          ret.index = order.index;\n          ret.account = order.account;\n          ret.createdTimestamp = order.createdTimestamp;\n          return ret;\n        } catch (ex) {\n          console.error(ex);\n        }\n      })\n    );\n  });\n\n  return orders.filter(Boolean);\n}\n\nexport function usePositionsForOrders(chainId, library, orders) {\n  const key = orders ? orders.map((order) => getOrderKey(order) + \"____\") : null;\n  const { data: positions = {} } = useSWR(key, async () => {\n    const provider = getProvider(library, chainId);\n    const vaultAddress = getContract(chainId, \"Vault\");\n    const contract = new ethers.Contract(vaultAddress, Vault.abi, provider);\n    const data = await Promise.all(\n      orders.map(async (order) => {\n        try {\n          const position = await contract.getPosition(\n            order.account,\n            order.collateralToken,\n            order.indexToken,\n            order.isLong\n          );\n          if (position[0].eq(0)) {\n            return [null, order];\n          }\n          return [position, order];\n        } catch (ex) {\n          console.error(ex);\n        }\n      })\n    );\n    return data.reduce((memo, [position, order]) => {\n      memo[getOrderKey(order)] = position;\n      return memo;\n    }, {});\n  });\n\n  return positions;\n}\n\nfunction invariant(condition, errorMsg) {\n  if (!condition) {\n    throw new Error(errorMsg);\n  }\n}\n\nexport function useTrades(chainId, account, forSingleAccount, afterId) {\n  let url =\n    account && account.length > 0\n      ? `${getServerBaseUrl(chainId)}/actions?account=${account}`\n      : !forSingleAccount && `${getServerBaseUrl(chainId)}/actions`;\n\n  if (afterId && afterId.length > 0) {\n    const urlItem = new URL(url);\n    urlItem.searchParams.append(\"after\", afterId);\n    url = urlItem.toString();\n  }\n\n  const { data: trades, mutate: updateTrades } = useSWR(url && url, {\n    dedupingInterval: 10000,\n    fetcher: (...args) => fetch(...args).then((res) => res.json()),\n  });\n\n  if (trades) {\n    trades.sort((item0, item1) => {\n      const data0 = item0.data;\n      const data1 = item1.data;\n      const time0 = parseInt(data0.timestamp);\n      const time1 = parseInt(data1.timestamp);\n      if (time1 > time0) {\n        return 1;\n      }\n      if (time1 < time0) {\n        return -1;\n      }\n\n      const block0 = parseInt(data0.blockNumber);\n      const block1 = parseInt(data1.blockNumber);\n\n      if (isNaN(block0) && isNaN(block1)) {\n        return 0;\n      }\n\n      if (isNaN(block0)) {\n        return 1;\n      }\n\n      if (isNaN(block1)) {\n        return -1;\n      }\n\n      if (block1 > block0) {\n        return 1;\n      }\n\n      if (block1 < block0) {\n        return -1;\n      }\n\n      return 0;\n    });\n  }\n\n  return { trades, updateTrades };\n}\n\nexport function useMinExecutionFee(library, active, chainId, infoTokens) {\n  const positionRouterAddress = getContract(chainId, \"PositionRouter\");\n  const nativeTokenAddress = getContract(chainId, \"NATIVE_TOKEN\");\n\n  const { data: minExecutionFee } = useSWR([active, chainId, positionRouterAddress, \"minExecutionFee\"], {\n    fetcher: fetcher(library, PositionRouter),\n  });\n\n  const { data: gasPrice } = useSWR([\"gasPrice\", chainId], {\n    fetcher: () => {\n      return new Promise(async (resolve, reject) => {\n        const provider = getProvider(library, chainId);\n        if (!provider) {\n          resolve(undefined);\n          return;\n        }\n\n        try {\n          const gasPrice = await provider.getGasPrice();\n          resolve(gasPrice);\n        } catch (e) {\n          console.error(e);\n        }\n      });\n    },\n  });\n\n  let multiplier;\n\n  // if gas prices on Arbitrum are high, the main transaction costs would come from the L2 gas usage\n  // for executing positions this is around 65,000 gas\n  // if gas prices on Ethereum are high, than the gas usage might be higher, this calculation doesn't deal with that\n  // case yet\n  if (chainId === ARBITRUM || chainId === ARBITRUM_TESTNET) {\n    multiplier = 65000;\n  }\n\n  // multiplier for Avalanche is just the average gas usage\n  if (chainId === AVALANCHE) {\n    multiplier = 700000;\n  }\n\n  let finalExecutionFee = minExecutionFee;\n\n  if (gasPrice && minExecutionFee) {\n    const estimatedExecutionFee = gasPrice.mul(multiplier);\n    if (estimatedExecutionFee.gt(minExecutionFee)) {\n      finalExecutionFee = estimatedExecutionFee;\n    }\n  }\n\n  const finalExecutionFeeUSD = getUsd(finalExecutionFee, nativeTokenAddress, false, infoTokens);\n  const isFeeHigh = finalExecutionFeeUSD?.gt(expandDecimals(getHighExecutionFee(chainId), USD_DECIMALS));\n  const errorMessage =\n    isFeeHigh &&\n    `The network cost to send transactions is high at the moment, please check the \"Execution Fee\" value before proceeding.`;\n\n  return {\n    minExecutionFee: finalExecutionFee,\n    minExecutionFeeUSD: finalExecutionFeeUSD,\n    minExecutionFeeErrorMessage: errorMessage,\n  };\n}\n\nexport function useStakedGmxSupply(library, active) {\n  const gmxAddressArb = getContract(ARBITRUM, \"GMX\");\n  const stakedGmxTrackerAddressArb = getContract(ARBITRUM, \"StakedGmxTracker\");\n\n  const { data: arbData, mutate: arbMutate } = useSWR(\n    [`StakeV2:stakedGmxSupply:${active}`, ARBITRUM, gmxAddressArb, \"balanceOf\", stakedGmxTrackerAddressArb],\n    {\n      fetcher: fetcher(library, Token),\n    }\n  );\n\n  const gmxAddressAvax = getContract(AVALANCHE, \"GMX\");\n  const stakedGmxTrackerAddressAvax = getContract(AVALANCHE, \"StakedGmxTracker\");\n\n  const { data: avaxData, mutate: avaxMutate } = useSWR(\n    [`StakeV2:stakedGmxSupply:${active}`, AVALANCHE, gmxAddressAvax, \"balanceOf\", stakedGmxTrackerAddressAvax],\n    {\n      fetcher: fetcher(undefined, Token),\n    }\n  );\n\n  let data;\n  if (arbData && avaxData) {\n    data = arbData.add(avaxData);\n  }\n\n  const mutate = () => {\n    arbMutate();\n    avaxMutate();\n  };\n\n  return { data, mutate };\n}\n\nexport function useHasOutdatedUi() {\n  const url = getServerUrl(ARBITRUM, \"/ui_version\");\n  const { data, mutate } = useSWR([url], {\n    fetcher: (...args) => fetch(...args).then((res) => res.text()),\n  });\n\n  let hasOutdatedUi = false;\n\n  if (data && parseFloat(data) > parseFloat(UI_VERSION)) {\n    // hasOutdatedUi = true;\n    hasOutdatedUi = false;\n  }\n\n  return { data: hasOutdatedUi, mutate };\n}\n\nexport function useGmxPrice(chainId, libraries, active) {\n  const arbitrumLibrary = libraries && libraries.arbitrum ? libraries.arbitrum : undefined;\n  const { data: gmxPriceFromArbitrum, mutate: mutateFromArbitrum } = useGmxPriceFromArbitrum(arbitrumLibrary, active);\n  const { data: gmxPriceFromAvalanche, mutate: mutateFromAvalanche } = useGmxPriceFromAvalanche();\n\n  const gmxPrice = chainId === ARBITRUM ? gmxPriceFromArbitrum : gmxPriceFromAvalanche;\n  const mutate = useCallback(() => {\n    mutateFromAvalanche();\n    mutateFromArbitrum();\n  }, [mutateFromAvalanche, mutateFromArbitrum]);\n\n  return {\n    gmxPrice,\n    gmxPriceFromArbitrum,\n    gmxPriceFromAvalanche,\n    mutate,\n  };\n}\n\n// use only the supply endpoint on arbitrum, it includes the supply on avalanche\nexport function useTotalGmxSupply() {\n  const gmxSupplyUrlArbitrum = getServerUrl(ARBITRUM, \"/gmx_supply\");\n\n  const { data: gmxSupply, mutate: updateGmxSupply } = useSWR([gmxSupplyUrlArbitrum], {\n    fetcher: (...args) => fetch(...args).then((res) => res.text()),\n  });\n\n  return {\n    total: gmxSupply ? bigNumberify(gmxSupply) : undefined,\n    mutate: updateGmxSupply,\n  };\n}\n\nexport function useTotalGmxStaked() {\n  const stakedGmxTrackerAddressArbitrum = getContract(ARBITRUM, \"StakedGmxTracker\");\n  const stakedGmxTrackerAddressAvax = getContract(AVALANCHE, \"StakedGmxTracker\");\n  let totalStakedGmx = useRef(bigNumberify(0));\n  const { data: stakedGmxSupplyArbitrum, mutate: updateStakedGmxSupplyArbitrum } = useSWR(\n    [\n      `StakeV2:stakedGmxSupply:${ARBITRUM}`,\n      ARBITRUM,\n      getContract(ARBITRUM, \"GMX\"),\n      \"balanceOf\",\n      stakedGmxTrackerAddressArbitrum,\n    ],\n    {\n      fetcher: fetcher(undefined, Token),\n    }\n  );\n  const { data: stakedGmxSupplyAvax, mutate: updateStakedGmxSupplyAvax } = useSWR(\n    [\n      `StakeV2:stakedGmxSupply:${AVALANCHE}`,\n      AVALANCHE,\n      getContract(AVALANCHE, \"GMX\"),\n      \"balanceOf\",\n      stakedGmxTrackerAddressAvax,\n    ],\n    {\n      fetcher: fetcher(undefined, Token),\n    }\n  );\n\n  const mutate = useCallback(() => {\n    updateStakedGmxSupplyArbitrum();\n    updateStakedGmxSupplyAvax();\n  }, [updateStakedGmxSupplyArbitrum, updateStakedGmxSupplyAvax]);\n\n  if (stakedGmxSupplyArbitrum && stakedGmxSupplyAvax) {\n    let total = bigNumberify(stakedGmxSupplyArbitrum).add(stakedGmxSupplyAvax);\n    totalStakedGmx.current = total;\n  }\n\n  return {\n    avax: stakedGmxSupplyAvax,\n    arbitrum: stakedGmxSupplyArbitrum,\n    total: totalStakedGmx.current,\n    mutate,\n  };\n}\n\nexport function useTotalGmxInLiquidity() {\n  let poolAddressArbitrum = getContract(ARBITRUM, \"UniswapGmxEthPool\");\n  let poolAddressAvax = getContract(AVALANCHE, \"TraderJoeGmxAvaxPool\");\n  let totalGMX = useRef(bigNumberify(0));\n\n  const { data: gmxInLiquidityOnArbitrum, mutate: mutateGMXInLiquidityOnArbitrum } = useSWR(\n    [`StakeV2:gmxInLiquidity:${ARBITRUM}`, ARBITRUM, getContract(ARBITRUM, \"GMX\"), \"balanceOf\", poolAddressArbitrum],\n    {\n      fetcher: fetcher(undefined, Token),\n    }\n  );\n  const { data: gmxInLiquidityOnAvax, mutate: mutateGMXInLiquidityOnAvax } = useSWR(\n    [`StakeV2:gmxInLiquidity:${AVALANCHE}`, AVALANCHE, getContract(AVALANCHE, \"GMX\"), \"balanceOf\", poolAddressAvax],\n    {\n      fetcher: fetcher(undefined, Token),\n    }\n  );\n  const mutate = useCallback(() => {\n    mutateGMXInLiquidityOnArbitrum();\n    mutateGMXInLiquidityOnAvax();\n  }, [mutateGMXInLiquidityOnArbitrum, mutateGMXInLiquidityOnAvax]);\n\n  if (gmxInLiquidityOnAvax && gmxInLiquidityOnArbitrum) {\n    let total = bigNumberify(gmxInLiquidityOnArbitrum).add(gmxInLiquidityOnAvax);\n    totalGMX.current = total;\n  }\n  return {\n    avax: gmxInLiquidityOnAvax,\n    arbitrum: gmxInLiquidityOnArbitrum,\n    total: totalGMX.current,\n    mutate,\n  };\n}\n\nfunction useGmxPriceFromAvalanche() {\n  const poolAddress = getContract(AVALANCHE, \"TraderJoeGmxAvaxPool\");\n\n  const { data, mutate: updateReserves } = useSWR([\"TraderJoeGmxAvaxReserves\", AVALANCHE, poolAddress, \"getReserves\"], {\n    fetcher: fetcher(undefined, UniswapV2),\n  });\n  const { _reserve0: gmxReserve, _reserve1: avaxReserve } = data || {};\n\n  const vaultAddress = getContract(AVALANCHE, \"Vault\");\n  const avaxAddress = getTokenBySymbol(AVALANCHE, \"WAVAX\").address;\n  const { data: avaxPrice, mutate: updateAvaxPrice } = useSWR(\n    [`StakeV2:avaxPrice`, AVALANCHE, vaultAddress, \"getMinPrice\", avaxAddress],\n    {\n      fetcher: fetcher(undefined, Vault),\n    }\n  );\n\n  const PRECISION = bigNumberify(10).pow(18);\n  let gmxPrice;\n  if (avaxReserve && gmxReserve && avaxPrice) {\n    gmxPrice = avaxReserve.mul(PRECISION).div(gmxReserve).mul(avaxPrice).div(PRECISION);\n  }\n\n  const mutate = useCallback(() => {\n    updateReserves(undefined, true);\n    updateAvaxPrice(undefined, true);\n  }, [updateReserves, updateAvaxPrice]);\n\n  return { data: gmxPrice, mutate };\n}\n\nfunction useGmxPriceFromArbitrum(library, active) {\n  const poolAddress = getContract(ARBITRUM, \"UniswapGmxEthPool\");\n  const { data: uniPoolSlot0, mutate: updateUniPoolSlot0 } = useSWR(\n    [`StakeV2:uniPoolSlot0:${active}`, ARBITRUM, poolAddress, \"slot0\"],\n    {\n      fetcher: fetcher(library, UniPool),\n    }\n  );\n\n  const vaultAddress = getContract(ARBITRUM, \"Vault\");\n  const ethAddress = getTokenBySymbol(ARBITRUM, \"WETH\").address;\n  const { data: ethPrice, mutate: updateEthPrice } = useSWR(\n    [`StakeV2:ethPrice:${active}`, ARBITRUM, vaultAddress, \"getMinPrice\", ethAddress],\n    {\n      fetcher: fetcher(library, Vault),\n    }\n  );\n\n  const gmxPrice = useMemo(() => {\n    if (uniPoolSlot0 && ethPrice) {\n      const tokenA = new UniToken(ARBITRUM, ethAddress, 18, \"SYMBOL\", \"NAME\");\n\n      const gmxAddress = getContract(ARBITRUM, \"GMX\");\n      const tokenB = new UniToken(ARBITRUM, gmxAddress, 18, \"SYMBOL\", \"NAME\");\n\n      const pool = new Pool(\n        tokenA, // tokenA\n        tokenB, // tokenB\n        10000, // fee\n        uniPoolSlot0.sqrtPriceX96, // sqrtRatioX96\n        1, // liquidity\n        uniPoolSlot0.tick, // tickCurrent\n        []\n      );\n\n      const poolTokenPrice = pool.priceOf(tokenB).toSignificant(6);\n      const poolTokenPriceAmount = parseValue(poolTokenPrice, 18);\n      return poolTokenPriceAmount.mul(ethPrice).div(expandDecimals(1, 18));\n    }\n  }, [ethPrice, uniPoolSlot0, ethAddress]);\n\n  const mutate = useCallback(() => {\n    updateUniPoolSlot0(undefined, true);\n    updateEthPrice(undefined, true);\n  }, [updateEthPrice, updateUniPoolSlot0]);\n\n  return { data: gmxPrice, mutate };\n}\n\nexport async function approvePlugin(\n  chainId,\n  pluginAddress,\n  { library, pendingTxns, setPendingTxns, sentMsg, failMsg }\n) {\n  const routerAddress = getContract(chainId, \"Router\");\n  const contract = new ethers.Contract(routerAddress, Router.abi, library.getSigner());\n  return callContract(chainId, contract, \"approvePlugin\", [pluginAddress], {\n    sentMsg,\n    failMsg,\n    pendingTxns,\n    setPendingTxns,\n  });\n}\n\nexport async function createSwapOrder(\n  chainId,\n  library,\n  path,\n  amountIn,\n  minOut,\n  triggerRatio,\n  nativeTokenAddress,\n  opts = {}\n) {\n  const executionFee = getConstant(chainId, \"SWAP_ORDER_EXECUTION_GAS_FEE\");\n  const triggerAboveThreshold = false;\n  let shouldWrap = false;\n  let shouldUnwrap = false;\n  opts.value = executionFee;\n\n  if (path[0] === AddressZero) {\n    shouldWrap = true;\n    opts.value = opts.value.add(amountIn);\n  }\n  if (path[path.length - 1] === AddressZero) {\n    shouldUnwrap = true;\n  }\n  path = replaceNativeTokenAddress(path, nativeTokenAddress);\n\n  const params = [path, amountIn, minOut, triggerRatio, triggerAboveThreshold, executionFee, shouldWrap, shouldUnwrap];\n\n  const orderBookAddress = getContract(chainId, \"OrderBook\");\n  const contract = new ethers.Contract(orderBookAddress, OrderBook.abi, library.getSigner());\n\n  return callContract(chainId, contract, \"createSwapOrder\", params, opts);\n}\n\nexport async function createIncreaseOrder(\n  chainId,\n  library,\n  nativeTokenAddress,\n  path,\n  amountIn,\n  indexTokenAddress,\n  minOut,\n  sizeDelta,\n  collateralTokenAddress,\n  isLong,\n  triggerPrice,\n  opts = {}\n) {\n  invariant(!isLong || indexTokenAddress === collateralTokenAddress, \"invalid token addresses\");\n  invariant(indexTokenAddress !== AddressZero, \"indexToken is 0\");\n  invariant(collateralTokenAddress !== AddressZero, \"collateralToken is 0\");\n\n  const fromETH = path[0] === AddressZero;\n\n  path = replaceNativeTokenAddress(path, nativeTokenAddress);\n  const shouldWrap = fromETH;\n  const triggerAboveThreshold = !isLong;\n  const executionFee = getConstant(chainId, \"INCREASE_ORDER_EXECUTION_GAS_FEE\");\n\n  const params = [\n    path,\n    amountIn,\n    indexTokenAddress,\n    minOut,\n    sizeDelta,\n    collateralTokenAddress,\n    isLong,\n    triggerPrice,\n    triggerAboveThreshold,\n    executionFee,\n    shouldWrap,\n  ];\n\n  if (!opts.value) {\n    opts.value = fromETH ? amountIn.add(executionFee) : executionFee;\n  }\n\n  const orderBookAddress = getContract(chainId, \"OrderBook\");\n  const contract = new ethers.Contract(orderBookAddress, OrderBook.abi, library.getSigner());\n\n  return callContract(chainId, contract, \"createIncreaseOrder\", params, opts);\n}\n\nexport async function createDecreaseOrder(\n  chainId,\n  library,\n  indexTokenAddress,\n  sizeDelta,\n  collateralTokenAddress,\n  collateralDelta,\n  isLong,\n  triggerPrice,\n  triggerAboveThreshold,\n  opts = {}\n) {\n  invariant(!isLong || indexTokenAddress === collateralTokenAddress, \"invalid token addresses\");\n  invariant(indexTokenAddress !== AddressZero, \"indexToken is 0\");\n  invariant(collateralTokenAddress !== AddressZero, \"collateralToken is 0\");\n\n  const executionFee = getConstant(chainId, \"DECREASE_ORDER_EXECUTION_GAS_FEE\");\n\n  const params = [\n    indexTokenAddress,\n    sizeDelta,\n    collateralTokenAddress,\n    collateralDelta,\n    isLong,\n    triggerPrice,\n    triggerAboveThreshold,\n  ];\n  opts.value = executionFee;\n  const orderBookAddress = getContract(chainId, \"OrderBook\");\n  const contract = new ethers.Contract(orderBookAddress, OrderBook.abi, library.getSigner());\n\n  return callContract(chainId, contract, \"createDecreaseOrder\", params, opts);\n}\n\nexport async function cancelSwapOrder(chainId, library, index, opts) {\n  const params = [index];\n  const method = \"cancelSwapOrder\";\n  const orderBookAddress = getContract(chainId, \"OrderBook\");\n  const contract = new ethers.Contract(orderBookAddress, OrderBook.abi, library.getSigner());\n\n  return callContract(chainId, contract, method, params, opts);\n}\n\nexport async function cancelDecreaseOrder(chainId, library, index, opts) {\n  const params = [index];\n  const method = \"cancelDecreaseOrder\";\n  const orderBookAddress = getContract(chainId, \"OrderBook\");\n  const contract = new ethers.Contract(orderBookAddress, OrderBook.abi, library.getSigner());\n\n  return callContract(chainId, contract, method, params, opts);\n}\n\nexport async function cancelIncreaseOrder(chainId, library, index, opts) {\n  const params = [index];\n  const method = \"cancelIncreaseOrder\";\n  const orderBookAddress = getContract(chainId, \"OrderBook\");\n  const contract = new ethers.Contract(orderBookAddress, OrderBook.abi, library.getSigner());\n\n  return callContract(chainId, contract, method, params, opts);\n}\n\nexport function handleCancelOrder(chainId, library, order, opts) {\n  let func;\n  if (order.type === SWAP) {\n    func = cancelSwapOrder;\n  } else if (order.type === INCREASE) {\n    func = cancelIncreaseOrder;\n  } else if (order.type === DECREASE) {\n    func = cancelDecreaseOrder;\n  }\n\n  return func(chainId, library, order.index, {\n    successMsg: \"Order cancelled.\",\n    failMsg: \"Cancel failed.\",\n    sentMsg: \"Cancel submitted.\",\n    pendingTxns: opts.pendingTxns,\n    setPendingTxns: opts.setPendingTxns,\n  });\n}\n\nexport async function cancelMultipleOrders(chainId, library, allIndexes = [], opts) {\n  const ordersWithTypes = groupBy(allIndexes, (v) => v.split(\"-\")[0]);\n  function getIndexes(key) {\n    if (!ordersWithTypes[key]) return;\n    return ordersWithTypes[key].map((d) => d.split(\"-\")[1]);\n  }\n  // params order => swap, increase, decrease\n  const params = [\"Swap\", \"Increase\", \"Decrease\"].map((key) => getIndexes(key) || []);\n  const method = \"cancelMultiple\";\n  const orderBookAddress = getContract(chainId, \"OrderBook\");\n  const contract = new ethers.Contract(orderBookAddress, OrderBook.abi, library.getSigner());\n  return callContract(chainId, contract, method, params, opts);\n}\n\nexport async function updateDecreaseOrder(\n  chainId,\n  library,\n  index,\n  collateralDelta,\n  sizeDelta,\n  triggerPrice,\n  triggerAboveThreshold,\n  opts\n) {\n  const params = [index, collateralDelta, sizeDelta, triggerPrice, triggerAboveThreshold];\n  const method = \"updateDecreaseOrder\";\n  const orderBookAddress = getContract(chainId, \"OrderBook\");\n  const contract = new ethers.Contract(orderBookAddress, OrderBook.abi, library.getSigner());\n\n  return callContract(chainId, contract, method, params, opts);\n}\n\nexport async function updateIncreaseOrder(\n  chainId,\n  library,\n  index,\n  sizeDelta,\n  triggerPrice,\n  triggerAboveThreshold,\n  opts\n) {\n  const params = [index, sizeDelta, triggerPrice, triggerAboveThreshold];\n  const method = \"updateIncreaseOrder\";\n  const orderBookAddress = getContract(chainId, \"OrderBook\");\n  const contract = new ethers.Contract(orderBookAddress, OrderBook.abi, library.getSigner());\n\n  return callContract(chainId, contract, method, params, opts);\n}\n\nexport async function updateSwapOrder(chainId, library, index, minOut, triggerRatio, triggerAboveThreshold, opts) {\n  const params = [index, minOut, triggerRatio, triggerAboveThreshold];\n  const method = \"updateSwapOrder\";\n  const orderBookAddress = getContract(chainId, \"OrderBook\");\n  const contract = new ethers.Contract(orderBookAddress, OrderBook.abi, library.getSigner());\n\n  return callContract(chainId, contract, method, params, opts);\n}\n\nexport async function _executeOrder(chainId, library, method, account, index, feeReceiver, opts) {\n  const params = [account, index, feeReceiver];\n  const positionManagerAddress = getContract(chainId, \"PositionManager\");\n  const contract = new ethers.Contract(positionManagerAddress, PositionManager.abi, library.getSigner());\n  return callContract(chainId, contract, method, params, opts);\n}\n\nexport function executeSwapOrder(chainId, library, account, index, feeReceiver, opts) {\n  return _executeOrder(chainId, library, \"executeSwapOrder\", account, index, feeReceiver, opts);\n}\n\nexport function executeIncreaseOrder(chainId, library, account, index, feeReceiver, opts) {\n  return _executeOrder(chainId, library, \"executeIncreaseOrder\", account, index, feeReceiver, opts);\n}\n\nexport function executeDecreaseOrder(chainId, library, account, index, feeReceiver, opts) {\n  return _executeOrder(chainId, library, \"executeDecreaseOrder\", account, index, feeReceiver, opts);\n}","export const REDIRECT_POPUP_TIMESTAMP_KEY = \"redirect-popup-timestamp\";\n\nexport const IS_TOUCH = \"ontouchstart\" in window;\n","import cx from \"classnames\";\nimport { useCallback, useState, useRef } from \"react\";\nimport { IS_TOUCH } from \"../../config/ui\";\n\nconst OPEN_DELAY = 0;\nconst CLOSE_DELAY = 100;\n\nexport default function Tooltip(props) {\n  const { enabled } = props;\n  const [visible, setVisible] = useState(false);\n  const intervalCloseRef = useRef(null);\n  const intervalOpenRef = useRef(null);\n\n  const position = props.position ?? \"left-bottom\";\n  const trigger = props.trigger ?? \"hover\";\n\n  const onMouseEnter = useCallback(() => {\n    if (trigger !== \"hover\" || IS_TOUCH) return;\n\n    if (intervalCloseRef.current) {\n      clearInterval(intervalCloseRef.current);\n      intervalCloseRef.current = null;\n    }\n    if (!intervalOpenRef.current) {\n      intervalOpenRef.current = setTimeout(() => {\n        if (enabled) {\n          setVisible(true)\n        }\n        intervalOpenRef.current = null;\n      }, OPEN_DELAY);\n    }\n  }, [setVisible, intervalCloseRef, intervalOpenRef, trigger, enabled]);\n\n  const onMouseClick = useCallback(() => {\n    if (trigger !== \"click\" && !IS_TOUCH) return;\n    if (intervalCloseRef.current) {\n      clearInterval(intervalCloseRef.current);\n      intervalCloseRef.current = null;\n    }\n    if (intervalOpenRef.current) {\n      clearInterval(intervalOpenRef.current);\n      intervalOpenRef.current = null;\n    }\n\n    if (enabled) {\n      setVisible(true)\n    }\n  }, [setVisible, intervalCloseRef, trigger]);\n\n  const onMouseLeave = useCallback(() => {\n    intervalCloseRef.current = setTimeout(() => {\n      setVisible(false);\n      intervalCloseRef.current = null;\n    }, CLOSE_DELAY);\n    if (intervalOpenRef.current) {\n      clearInterval(intervalOpenRef.current);\n      intervalOpenRef.current = null;\n    }\n  }, [setVisible, intervalCloseRef]);\n\n  const className = cx(\"Tooltip\", props.className);\n\n  return (\n    <span className={className} style={props.style} onMouseEnter={onMouseEnter} onMouseLeave={onMouseLeave} onClick={onMouseClick} id={props.id}>\n      <span\n        className={cx({ \"Tooltip-handle\": !props.disableHandleStyle }, [props.handleClassName], { active: visible })}\n      >\n        {props.handle}\n      </span>\n      {visible && <div className={cx([\"Tooltip-popup\", position])}>{props.renderContent()}</div>}\n    </span>\n  );\n}\n","import { getExplorerUrl, helperToast } from './../../views/gmx-test/lib/legacy';\r\n\r\n\r\nexport const notifySuccess = (text, hash) => {\r\n\tconst url = getExplorerUrl(42161) + \"tx/\" + hash;\r\n\t\r\n\thelperToast.success(\r\n\t\t<div>\r\n\t\t\t{text}\r\n\t\t\t<br />\r\n\t\t\t{hash &&\r\n\t\t\t\t<a href={url} target=\"_blank\" rel=\"noopener noreferrer\">\r\n\t\t\t\t\tView on Arbiscan\r\n\t\t\t\t</a>}\r\n\t\t\t<br />\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport const errAlert = (err, setIsLoading) => {\r\n\tlet msg = err.reason ?? err.message;\r\n\tif (err.message === 'Internal JSON-RPC error.') {\r\n\t\tmsg = err.data.message;\r\n\t}\r\n\t\r\n\tconsole.log(err);\r\n\t// alert(`Error code: ${err.code}\\nError message: ${msg}\\n\\nCheck the console for details.`)\r\n\thelperToast.error(\r\n\t\t<div>\r\n\t\t\tError: {err.code}\r\n\t\t\t<br />\r\n\t\t\t{msg}\r\n\t\t\t<br /><br />\r\n\t\t\tCheck the console for details.\r\n\t\t</div>\r\n\t)\r\n\r\n\tif (setIsLoading) {\r\n\t\tsetIsLoading(false);\r\n\t}\r\n}","import React, { useState, useEffect } from \"react\";\n\nimport cx from \"classnames\";\n\nimport \"./Tab.css\";\n\nexport default function Tab(props) {\n  const { options, option, setOption, onChange, type = \"block\", className, optionLabels, icons, disabled, disabledTooltip, iconsFirst } = props;\n  \n  const onClick = (opt) => {\n    if (disabled) {\n      return;\n    }\n    \n    if (setOption) {\n      setOption(opt);\n    }\n    if (onChange) {\n      onChange(opt);\n    }\n  };\n\n  return (\n    <div className={cx(\"Tab\", type, className, disabled && 'disabled', iconsFirst && \"icons-first\")}>\n      {options.map((opt) => {\n        const label = optionLabels && optionLabels[opt] ? optionLabels[opt] : opt;\n        let disabledNode;\n        \n        if (props.disabledList) {\n          props.disabledList.forEach(el => {\n            if (el.label === label && el.disabled) {\n              disabledNode = (\n                <div className={cx(\"Tab-option\", \"tab-tooltip-container\")} onClick={() => {return}} key={opt}>\n                  {disabledTooltip}\n                  {icons && icons[opt] && <img className=\"Tab-option-icon\" src={opt === option ? (icons[opt + '_active'] ?? icons[opt]) : icons[opt]} alt={option} />}\n                  {label}\n                </div>\n              );\n            }\n          })\n        }\n\n        if (disabledNode) {\n          return disabledNode;\n        }\n        \n        return (\n          <div className={cx(\"Tab-option\", \"muted\", { active: opt === option })} onClick={() => onClick(opt)} key={opt}>\n            {icons && icons[opt] && <img className=\"Tab-option-icon\" src={opt === option ? (icons[opt + '_active'] ?? icons[opt]) : icons[opt]} alt={option} />}\n            {label}\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n","import { disableBodyScroll, enableBodyScroll, clearAllBodyScrollLocks } from \"body-scroll-lock\";\nimport { RefObject, useEffect } from \"react\";\n\nexport const TOUCH_MOVE_CONTAINER_CLASS_NAME = \"DiableScroll-touch-move-container\";\n\n// @see https://github.com/willmcpo/body-scroll-lock#allowtouchmove\nconst allowTouchMoveFn = (el: HTMLElement) => {\n  while (el && el !== document.body) {\n    if (el.className?.includes?.(TOUCH_MOVE_CONTAINER_CLASS_NAME)) return true;\n\n    el = el.parentElement as HTMLElement;\n  }\n};\n\nexport default function useLockBodyScroll(\n  ref: RefObject<HTMLElement>,\n  isVisible: boolean,\n  opts: {\n    disableLock?: boolean;\n    allowTouchMove?: boolean;\n  } = {}\n) {\n  useEffect(() => {\n    if (opts.disableLock) {\n      return;\n    }\n\n    if (ref.current) {\n      if (isVisible) {\n        disableBodyScroll(ref.current, {\n          allowTouchMove: opts.allowTouchMove ? allowTouchMoveFn : undefined,\n        });\n      } else {\n        enableBodyScroll(ref.current);\n      }\n    }\n\n    return () => clearAllBodyScrollLocks();\n\n    // needs ref.current in deps, not just ref\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [ref.current, opts.allowTouchMove, opts.disableLock, isVisible]);\n}\n","import React, { useRef, useEffect, useState } from \"react\";\nimport cx from \"classnames\";\nimport { motion, AnimatePresence } from \"framer-motion\";\n\nimport { MdClose } from \"react-icons/md\";\n\nimport \"./Modal.scss\";\nimport { TOUCH_MOVE_CONTAINER_CLASS_NAME } from \"../../lib/useLockBodyScroll\";\n\nexport default function Modal(props) {\n  const { isVisible, setIsVisible, className, zIndex, onAfterOpen, isNifty } =\n    props;\n\n  const modalRef = useRef(null);\n\n  const [isActive, setIsActive] = useState(isVisible);\n\n  function closeModal() {\n    setIsVisible(false);\n    bodyNode.classList.remove('_scroll-lock');\n  }\n\n  const bodyNode = document.getElementsByTagName('body')[0];\n\t/* useEffect(() => {\n\t\tif (isVisible) {\n\t\t\tbodyNode.classList.add('_scroll-lock');\n\t\t} else {\n      console.log('tick');\n\t\t\tbodyNode.classList.remove('_scroll-lock');\n    }\n\t}, [isVisible]); */\n\n\n  useEffect(() => {\n    function close(e) {\n      if (e.keyCode === 27) {\n        setIsVisible(false);\n      }\n    }\n    window.addEventListener(\"keydown\", close);\n    return () => window.removeEventListener(\"keydown\", close);\n  }, [setIsVisible]);\n\n  useEffect(() => {\n    if (typeof onAfterOpen === \"function\") onAfterOpen();\n  }, [onAfterOpen]);\n\n  const fadeVariants = {\n    hidden: { opacity: 0, visibility: 'hidden' },\n    visible: { opacity: 1, visibility: 'visible' },\n  };\n  const niftyFadeVariants = {\n    hidden: {\n      transform: 'rotateX(-60deg)',\n      opacity: 0,\n    },\n    visible: {\n      transform: 'rotateX(0)',\n      opacity: 1,\n    }\n  }\n\n  return (\n    <AnimatePresence>\n      {isVisible && (\n        <motion.div\n          className={cx(\"Modal\", isNifty && \"Modal_nifty\", isNifty && isActive && \"active\", className)}\n          style={{ zIndex }}\n          initial=\"hidden\"\n          animate=\"visible\"\n          exit=\"hidden\"\n          variants={fadeVariants}\n          transition={{ duration: 0 }}\n        >\n          <div\n            className=\"Modal-backdrop\"\n            style={{\n              overflow: isVisible ? \"hidden\" : \"visible\",\n              position: \"fixed\",\n            }}\n            onClick={closeModal}\n          ></div>\n\n          {isNifty && (\n            <div className=\"Modal-close-button\" onClick={closeModal}>\n              <MdClose fontSize={20} className=\"Modal-close-icon\" />\n            </div>\n          )}\n          \n\n          <div className={isNifty && \"Modal-content-wrapper\"}>\n            <motion.div\n              className={cx(\"Modal-content\")}\n              style={{ transformStyle: 'preserve-3d', transformOrigin: '50% 0' }}\n              initial=\"hidden\"\n              animate=\"visible\"\n              exit=\"hidden\"\n              variants={isNifty && niftyFadeVariants}\n              transition={{ duration: 0 }}\n            >\n              <div className=\"Modal-title-bar\">\n                <div className=\"Modal-title\">{props.label}</div>\n              </div>\n              <div className=\"divider\" />\n              <div className={cx(\"Modal-body\", TOUCH_MOVE_CONTAINER_CLASS_NAME)} ref={modalRef}>\n                {props.children}\n              </div>\n            </motion.div>\n          </div>\n        </motion.div>\n      )}\n    </AnimatePresence>\n  );\n}\n","import { useEffect, useMemo } from \"react\";\nimport { createPortal } from \"react-dom\";\n\nexport default function Portal({ children }) {\n  const root = document.body;\n\n  const el = useMemo(() => document.createElement(\"div\"), []);\n\n  useEffect(() => {\n    root.appendChild(el);\n    return () => root.removeChild(el);\n  }, [root, el]);\n\n  return createPortal(children, el);\n}\n","import { useCallback, useRef, useState } from \"react\";\nimport cx from \"classnames\";\n\nimport \"./Tooltip.scss\";\nimport { IS_TOUCH } from \"../../config/ui\";\nimport Portal from \"../Common/Portal\";\n\nconst OPEN_DELAY = 0;\nconst CLOSE_DELAY = 100;\n\nexport default function TooltipWithPortal(props) {\n  const [visible, setVisible] = useState(false);\n  const [coords, setCoords] = useState({});\n  const [tooltipWidth, setTooltipWidth] = useState();\n  const intervalCloseRef = useRef(null);\n  const intervalOpenRef = useRef(null);\n\n  const position = props.position ?? \"left-bottom\";\n  const trigger = props.trigger ?? \"hover\";\n  const handlerRef = useRef();\n\n  const updateTooltipCoords = useCallback(() => {\n    const rect = handlerRef.current.getBoundingClientRect();\n\n    setCoords({\n      height: rect.height,\n      width: rect.width,\n      left: rect.x,\n      top: rect.y + window.scrollY,\n    });\n\n    if (props.fitHandleWidth) {\n      setTooltipWidth(`${rect.width}px`);\n    }\n  }, [handlerRef, props.fitHandleWidth]);\n\n  const onMouseEnter = useCallback(() => {\n    if (trigger !== \"hover\" || IS_TOUCH) return;\n\n    if (intervalCloseRef.current) {\n      clearInterval(intervalCloseRef.current);\n      intervalCloseRef.current = null;\n    }\n    if (!intervalOpenRef.current) {\n      intervalOpenRef.current = setTimeout(() => {\n        setVisible(true);\n        intervalOpenRef.current = null;\n      }, OPEN_DELAY);\n    }\n    updateTooltipCoords();\n  }, [setVisible, intervalCloseRef, intervalOpenRef, trigger, updateTooltipCoords]);\n\n  const onMouseClick = useCallback(() => {\n    if (trigger !== \"click\" && !IS_TOUCH) return;\n    if (intervalCloseRef.current) {\n      clearInterval(intervalCloseRef.current);\n      intervalCloseRef.current = null;\n    }\n    if (intervalOpenRef.current) {\n      clearInterval(intervalOpenRef.current);\n      intervalOpenRef.current = null;\n    }\n    updateTooltipCoords();\n\n    if (props.closeOnDoubleClick) {\n      setVisible((old) => !old);\n    } else {\n      setVisible(true);\n    }\n  }, [setVisible, intervalCloseRef, trigger, updateTooltipCoords, props.closeOnDoubleClick]);\n\n  const onMouseLeave = useCallback(() => {\n    intervalCloseRef.current = setTimeout(() => {\n      setVisible(false);\n      intervalCloseRef.current = null;\n    }, CLOSE_DELAY);\n    if (intervalOpenRef.current) {\n      clearInterval(intervalOpenRef.current);\n      intervalOpenRef.current = null;\n    }\n    updateTooltipCoords();\n  }, [setVisible, intervalCloseRef, updateTooltipCoords]);\n\n  const className = cx(\"Tooltip\", props.className);\n\n  return (\n    <span className={className} onMouseEnter={onMouseEnter} onMouseLeave={onMouseLeave} onClick={onMouseClick}>\n      <span\n        className={cx({ \"Tooltip-handle\": !props.disableHandleStyle }, [props.handleClassName], { active: visible })}\n        ref={handlerRef}\n      >\n        {props.handle}\n      </span>\n      {visible && coords.left && (\n        <Portal>\n          <div style={{ ...coords, position: \"absolute\" }}>\n            <div className={cx([\"Tooltip-popup\", position])} style={{ width: tooltipWidth }}>\n              {props.renderContent()}\n            </div>\n          </div>\n        </Portal>\n      )}\n    </span>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport cx from \"classnames\";\n\nimport { formatAmount, expandDecimals, bigNumberify } from \"../../lib/legacy\";\n\nimport { getToken } from \"../../config/Tokens\";\n\n// import { BiChevronDown } from \"react-icons/bi\";\n\nimport Modal from \"../Modal/Modal\";\n\nimport dropDownIcon from \"../../img/DROP_DOWN.svg\";\nimport \"./TokenSelector.scss\";\nimport TooltipWithPortal from \"../Tooltip/TooltipWithPortal\";\n\nexport default function TokenSelector(props) {\n  \n  const [isModalVisible, setIsModalVisible] = useState(false);\n  const [searchKeyword, setSearchKeyword] = useState(\"\");\n  const tokenInfo = getToken(props.chainId, props.tokenAddress);\n  const {\n    tokens,\n    mintingCap,\n    infoTokens,\n    showMintingCap,\n    disabled,\n    selectedTokenLabel,\n    showBalances = true,\n    showTokenImgInDropdown = false,\n    showSymbolImage = false,\n    showNewCaret = false,\n    getTokenState = () => ({ disabled: false, message: null }),\n    disableBodyScrollLock,\n  } = props;\n\n  const visibleTokens = tokens.filter((t) => !t.isTempHidden);\n\n  const onSelectToken = (token) => {\n    setIsModalVisible(false);\n    props.onSelectToken(token);\n  };\n\n  useEffect(() => {\n    if (isModalVisible) {\n      setSearchKeyword(\"\");\n    }\n  }, [isModalVisible]);\n\n  if (!tokenInfo) {\n    return null;\n  }\n\n  var tokenImage = null;\n\n  try {\n    tokenImage = require(\"../../img/ic_\" + tokenInfo.symbol.toLowerCase() + \"_24.svg\");\n  } catch (error) {\n    console.error(error);\n  }\n\n  const onSearchKeywordChange = (e) => {\n    setSearchKeyword(e.target.value);\n  };\n\n  const filteredTokens = visibleTokens.filter((item) => {\n    return (\n      item.name.toLowerCase().indexOf(searchKeyword.toLowerCase()) > -1 ||\n      item.symbol.toLowerCase().indexOf(searchKeyword.toLowerCase()) > -1\n    );\n  });\n\n  const _handleKeyDown = (e) => {\n    if (e.key === \"Enter\" && filteredTokens.length > 0) {\n      onSelectToken(filteredTokens[0]);\n    }\n  };\n\n  return (\n    <div className={cx(\"TokenSelector\", { disabled }, props.className) + (isModalVisible ? ' opened' : '')}>\n      <Modal\n        disableBodyScrollLock={disableBodyScrollLock}\n        isVisible={isModalVisible}\n        setIsVisible={setIsModalVisible}\n        label={props.label}\n      >\n        <div className=\"TokenSelector-tokens\">\n          {/* <div className=\"TokenSelector-token-row TokenSelector-token-input-row\">\n            <input\n              type=\"text\"\n              placeholder=\"Search Token\"\n              value={searchKeyword}\n              onChange={(e) => onSearchKeywordChange(e)}\n              onKeyDown={_handleKeyDown}\n              autoFocus\n            />\n          </div> */}\n          {filteredTokens.map((token, tokenIndex) => {\n            let tokenPopupImage;\n            try {\n              tokenPopupImage = require(\"../../img/ddl/ic_\" + token.symbol.toLowerCase() + \"_40.svg\");\n            } catch (error) {\n              tokenPopupImage = require(\"../../img/ddl/ic_eth_40.svg\");\n            }\n            let info = infoTokens ? infoTokens[token.address] : {};\n            let mintAmount;\n            let balance = info.balance;\n            if (showMintingCap && mintingCap && info.usdgAmount) {\n              mintAmount = mintingCap.sub(info.usdgAmount);\n            }\n            if (mintAmount && mintAmount.lt(0)) {\n              mintAmount = bigNumberify(0);\n            }\n            let balanceUsd;\n            if (balance && info.maxPrice) {\n              balanceUsd = balance.mul(info.maxPrice).div(expandDecimals(1, token.decimals));\n            }\n\n            const tokenState = getTokenState(info) || {};\n\n            return (\n              <div\n                key={token.address}\n                className={cx(\"TokenSelector-token-row\", token.symbol === tokenInfo?.symbol ? 'chosen' : '' , { disabled: tokenState.disabled })}\n                onClick={() => !tokenState.disabled && onSelectToken(token)}\n              >\n                {tokenState.disabled && tokenState.message && (\n                  <TooltipWithPortal\n                    className=\"TokenSelector-tooltip\"\n                    portalClassName=\"TokenSelector-tooltip-portal\"\n                    handle={<div className=\"TokenSelector-tooltip-backing\" />}\n                    position={tokenIndex < filteredTokens.length / 2 ? \"center-bottom\" : \"center-top\"}\n                    disableHandleStyle\n                    closeOnDoubleClick\n                    fitHandleWidth\n                    renderContent={() => tokenState.message}\n                  />\n                )}\n                <div className=\"Token-info\">\n                  {showTokenImgInDropdown && (\n                    <img src={tokenPopupImage?.default} alt={token.name} className=\"token-logo\" />\n                  )}\n                  <div className=\"Token-symbol\">\n                    <div className=\"Token-text\">{token.symbol}</div>\n                    {/* <span className=\"text-accent\">{token.name}</span> */}\n                  </div>\n                </div>\n                {/* <div className=\"Token-balance\">\n                  {showBalances && balance && (\n                    <div className=\"Token-text\">\n                      {balance.gt(0) && formatAmount(balance, token.decimals, 4, true)}\n                      {balance.eq(0) && \"-\"}\n                    </div>\n                  )}\n                  <span className=\"text-accent\">\n                    {mintAmount && <div>Mintable: {formatAmount(mintAmount, token.decimals, 2, true)} USDG</div>}\n                    {showMintingCap && !mintAmount && <div>-</div>}\n                    {!showMintingCap && showBalances && balanceUsd && balanceUsd.gt(0) && (\n                      <div>${formatAmount(balanceUsd, 30, 2, true)}</div>\n                    )}\n                  </span>\n                </div> */}\n              </div>\n            );\n          })}\n        </div>\n      </Modal>\n      {selectedTokenLabel ? (\n        <div className=\"TokenSelector-box\" onClick={(e) => {\n          setIsModalVisible(true)\n        }}>\n          {selectedTokenLabel}\n          {!showNewCaret && \n            <svg className=\"TokenSelector-caret\" xmlns=\"http://www.w3.org/2000/svg\" width=\"13\" height=\"13\" viewBox=\"0 0 13 13\" fill=\"none\">\n              <path d=\"M2.60001 4.76666L7.10001 8.76666L11.6 4.76666\" stroke=\"white\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n          </svg>\n          }\n        </div>\n      ) : (\n        <div className=\"TokenSelector-box\" onClick={(e) => {\n          setIsModalVisible(true)\n        }}>\n          {tokenInfo.symbol}\n          {showSymbolImage && (\n            <img src={tokenImage && tokenImage.default} alt={tokenInfo.symbol} className=\"TokenSelector-box-symbol\" />\n          )}\n          {showNewCaret && <img src={dropDownIcon} alt=\"dropDownIcon\" className=\"TokenSelector-box-caret\" />}\n          {!showNewCaret &&\n            <svg className=\"TokenSelector-caret\" xmlns=\"http://www.w3.org/2000/svg\" width=\"13\" height=\"13\" viewBox=\"0 0 13 13\" fill=\"none\">\n              <path d=\"M2.60001 4.76666L7.10001 8.76666L11.6 4.76666\" stroke=\"white\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n            </svg>\n          }\n        </div>\n      )}\n    </div>\n  );\n}\n","import cx from \"classnames\";\n\nexport default function ExchangeInfoRow(props) {\n  const { label, children, value, isTop, isWarning } = props;\n\n  return (\n    <div className={cx(\"Exchange-info-row\", { \"top-line\": isTop }) + ' ' + props.className}>\n      <div className=\"Exchange-info-label\">{label}</div>\n      <div className={`align-right ${isWarning ? \"Exchange-info-value-warning\" : \"\"}`}>{children || value}</div>\n    </div>\n  );\n}\n","import React from \"react\";\n\nimport cx from \"classnames\";\n\nimport \"./Checkbox.scss\";\nimport { ImCheckboxUnchecked, ImCheckboxChecked } from \"react-icons/im\";\n\nexport default function Checkbox(props) {\n  const { isChecked, setIsChecked, disabled, className } = props;\n\n  return (\n    <div\n      className={cx(\"Checkbox\", { disabled, selected: isChecked }, className)}\n      onClick={() => setIsChecked(!isChecked)}\n    >\n      <span className=\"Checkbox-icon-wrapper\">\n        {isChecked && <ImCheckboxChecked className=\"App-icon Checkbox-icon active\" />}\n        {!isChecked && <ImCheckboxUnchecked className=\"App-icon Checkbox-icon inactive\" />}\n      </span>\n      <span className=\"Checkbox-label\">{props.children}</span>\n    </div>\n  );\n}\n","import \"./StatsTooltip.css\";\ntype Props = {\n  label: string;\n  value: number | [number];\n  showDollar?: boolean;\n};\n\nexport default function StatsTooltipRow({ label, value, showDollar = true }: Props) {\n  function renderValue() {\n    if (Array.isArray(value)) {\n      return (\n        <ul className=\"Tooltip-row-values\">\n          {value.map((v, i) => (\n            <li key={i}>{v}</li>\n          ))}\n        </ul>\n      );\n    }\n    return (\n      <span className=\"Tooltip-row-value\">\n        {showDollar && \"$\"}\n        {value}\n      </span>\n    );\n  }\n  return (\n    <div className=\"Tooltip-row\">\n      <span className=\"label\">{label}:</span>\n      {renderValue()}\n    </div>\n  );\n}\n","import React from 'react';\nimport './Slippage.scss';\n\nconst SlippageInput = ({ value, setValue }) => {\n\treturn (\n\t\t<div className=\"Exchange-swap-section Slippage-input-container\">\n\t\t\t<div className=\"Exchange-swap-section-bottom\">\n\t\t\t\t<div className=\"Exchange-swap-input-container\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tplaceholder=\"Slippage (%)\"\n\t\t\t\t\t\tclassName=\"Exchange-swap-input Slippage-input\"\n\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\tconst val = (e.target.value).replace(/[^0-9]/g, '').replace(/^0\\d/, '');\n\t\t\t\t\t\t\t// const valStr = convertInputNum(e.target.value)\n\t\t\t\t\t\t\t// const val = sepToNumber(valStr);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif (val > 100) {\n\t\t\t\t\t\t\t\tsetValue(100);\n\t\t\t\t\t\t\t} else if (val < 0) {\n\t\t\t\t\t\t\t\tsetValue(0);\n\t\t\t\t\t\t\t} else if (val === 0) {\n\t\t\t\t\t\t\t\tsetValue(0.3);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsetValue(val);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonFocus={(e) => {\n\t\t\t\t\t\t\te.target.parentElement.parentElement.parentElement.classList.add('hlight');\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonBlur={(e) => {\n\t\t\t\t\t\t\te.target.parentElement.parentElement.parentElement.classList.remove('hlight');\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n};\n\nexport default SlippageInput;","export const separateThousands = (num, symb = \",\") => {\r\n\tif (typeof num === 'undefined' || num === null) {\r\n\t\treturn '';\r\n\t}\r\n\t\r\n\tconst str = num.toString();\r\n\tlet [intPart, fractionPart] = str.split('.');\r\n\tconst hasFraction = fractionPart !== undefined;\r\n\r\n\tintPart = intPart.replace(/\\B(?=(\\d{3})+(?!\\d))/g, (hasFraction && symb !== '') ? ',' : symb)\r\n\t\r\n\tif (hasFraction) {\r\n\t\treturn intPart + '.' + fractionPart\r\n\t} else {\r\n\t\treturn intPart;\r\n\t}\r\n}\r\n\r\n\r\nconst removeNonNumeric = (num) => {\r\n\tlet result = num.toString().replace(/^\\./g, '').replace(/[^0-9.]/g, '').replace(/^0\\d/, '');\r\n\r\n\tif (result.match(/\\./g)?.length > 1) {\r\n\t\tresult = result.replace(/\\.$/, '')\r\n\t}\r\n\r\n\tlet [, fractionPart] = result.split('.')\r\n\r\n\tif (fractionPart?.length > 6) {\r\n\t\tresult = result.substr(0, result.length - 1)\r\n\t}\r\n\t\r\n\treturn result;\r\n}\r\n\r\nexport const convertInputNum = (num, symb) => {\r\n\treturn separateThousands(removeNonNumeric(num), symb);\r\n}\r\n\r\nexport const nonFractionConvert = (num) => {\r\n\tconst val = (num).replace(/[^0-9]/g, '').replace(/^0\\d/, '').replace(/\\B(?=(\\d{3})+(?!\\d))/g, ' ');\r\n\treturn val;\r\n}\r\n\r\n\r\nexport const sepToNumber = (str, symb = ' ') => {\r\n\tif (typeof str !== 'string') {\r\n\t\treturn str;\r\n\t}\r\n\r\n\tif (symb === ' ' && str.split(symb).length === 1) {\r\n\t\tsymb = ',';\r\n\t}\r\n\t\r\n\treturn Number(str.split(symb).join(''));\r\n}","import { sepToNumber } from \"./sepThousands\";\r\n\r\nexport const floor = (num, fraction = 2, method = \"floor\") => {\r\n\tif (typeof num !== 'number') {\r\n\t\treturn '...'\r\n\t}\r\n\t\r\n\treturn Math[method](num * 10**fraction) / 10**fraction;\r\n}\r\n\r\n\r\nexport const formatForContract = (val, fraction = 6) => {\r\n\treturn Math.floor(sepToNumber(val) * 10**fraction);\r\n}","import React, { useState } from 'react';\r\nimport cx from 'classnames';\r\nimport { convertInputNum } from '../../utils/sepThousands';\r\nimport \"./NumberInput.scss\";\r\n\r\nconst NumberInput_v3 = (props) => {\r\n\tconst {\r\n\t\ttitle,\r\n\t\tdisplayValueTitle,\r\n\t\tdisplayValue,\r\n\t\tvalue,\r\n\t\tsetValue,\r\n\t\thasError,\r\n\t\tmaxValue,\r\n\t\tonChange,\r\n\t\ticon,\r\n\t\ticonAlt,\r\n\t\tdisabled,\r\n\t\tadditionalSymbol\r\n\t} = props;\r\n\r\n\tconst [hasFocus, setHasFocus] = useState(false);\r\n\r\n\tconst cls = cx(props.className, \"NumberInput\", hasFocus && 'hlight', hasError && 'error', disabled && 'disabled');\r\n\t\r\n\treturn (\r\n\t\t<div className={\"Exchange-swap-section\" + (cls && ` ${cls}`)}>\r\n\t\t\t<div className=\"Exchange-swap-section-top\">\r\n\t\t\t\t<div className=\"Exchange-swap-usd\">\r\n\t\t\t\t\t{title}\r\n\t\t\t\t</div>\r\n\t\t\t\t{displayValue && (\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"align-right clickable\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetValue(displayValue);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t<span className='NumberInput__displayValueTitle'>{displayValueTitle}:</span> {displayValue}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t{icon && (\r\n\t\t\t\t\t<div className='align-right'>\r\n\t\t\t\t\t\t<img src={icon} alt={iconAlt ?? \"icon\"} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"Exchange-swap-section-bottom\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tplaceholder=\"0.0\"\r\n\t\t\t\t\t\tclassName=\"Exchange-swap-input\"\r\n\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\tvalue={value}\r\n\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\tsetValue(convertInputNum(e.target.value));\r\n\r\n\t\t\t\t\t\t\tif (onChange) {\r\n\t\t\t\t\t\t\t\tonChange(e.target.value);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonFocus={(e) => {\r\n\t\t\t\t\t\t\tsetHasFocus(true);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonBlur={(e) => {\r\n\t\t\t\t\t\t\tsetHasFocus(false);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='align-right NumberInput__additionalContainer'>\r\n\t\t\t\t\t{maxValue &&\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName=\"input-max-btn\"\r\n\t\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tsetValue(maxValue)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tMax\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{additionalSymbol &&\r\n\t\t\t\t\t\t<div className='NumberInput__additionalSymbol'>\r\n\t\t\t\t\t\t\t{additionalSymbol}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default NumberInput_v3;","// Common\r\nexport const HOMEPAGE_HREF = \"/terminal/perpetuals\";\r\nexport const DEFAULT_PAGE_TITLE = \"DeDeLend: Leading DeFi Platform for Streamlined Options & Perpetuals Trading and Effortless Asset Management\";\r\nexport const DDL_WALLET = \"0x683Ad8b899Cd14d8e077c9A623E8B3fEd65a8c09\";\r\nexport const DDL_WALLET_ENCODED = '0'.repeat(64 - DDL_WALLET.length + 2) + DDL_WALLET.split('0x')[1];\r\n\r\nexport const MAX_FRACTION_LENGTH = 6;\r\nexport const DATE_FORMAT_TEMPLATE = \"dd/MM/yy, hh:mm a\";\r\n\r\nexport const BORDER_COEF = 0.01;\r\nexport const APY = '10.00%';\r\nexport const ALL_MARKETS = [\r\n  \"GMX\",\r\n  \"GNS\",\r\n  \"Hegic\",\r\n  \"Lyra\",\r\n]\r\n\r\n// Perpetuals constants\r\nexport const marketsList = [\r\n  {\r\n    name: 'GMX',\r\n  },\r\n  {\r\n    name: 'GNS',\r\n  },\r\n];\r\n\r\nexport const GNS_FEES_MULTIPLIER = 0.0008;\r\n\r\n\r\n// Options constants\r\nexport const OPTIONS_DECIMALS = 18;\r\nexport const OPTION_LIST_FRONTIER = 10;\r\nexport const marketsOptions = ['Hegic', 'Lyra', 'Premia'];\r\nexport const assetsOptions = ['ETH', 'BTC'];\r\nconst assetsIconsDraft = {};\r\nassetsOptions.forEach(asset => {\r\n  try {\r\n    const icon = require(`../../img/icon-${asset}.svg`).default;\r\n    assetsIconsDraft[asset] = icon;\r\n  } catch (e) {\r\n    console.log(e);\r\n  }\r\n});\r\nexport const assetsIcons = {...assetsIconsDraft};\r\n\r\nexport const PremiaStrikeRangeMultiplier = {\r\n  Call: [0.8, 2],\r\n  Put: [0.5, 1.2],\r\n}\r\n\r\nexport const tokenDecimals = {\r\n  ETH: 18,\r\n  BTC: 8\r\n}\r\n\r\nexport const OPTION_TYPES = {\r\n  Hegic: \"American\",\r\n  Lyra: \"European\",\r\n  Premia: \"American\",\r\n}\r\n","import React from 'react';\r\nimport { ImSpinner2 } from 'react-icons/im';\r\n\r\nconst Spinner = () => {\r\n\treturn (\r\n\t\t<ImSpinner2 className=\"spin position-loading-icon\" />\r\n\t);\r\n};\r\n\r\nexport default Spinner;","import { formatUnits } from \"ethers/lib/utils\";\r\nimport { ARBITRUM, expandDecimals, formatAmount } from \"../../views/gmx-test/lib/legacy\";\r\nimport { errAlert, notifySuccess } from \"./notifications\";\r\nimport { MAX_FRACTION_LENGTH, OPTIONS_DECIMALS } from \"./constants\";\r\nimport { getTokenInfo } from './../../views/gmx-test/lib/legacy';\r\nimport { getTokenBySymbol, getTokens } from \"../../views/gmx-test/config/Tokens\";\r\nimport { BigNumber } from \"ethers\";\r\nimport Spinner from \"../UI/loader/Spinner\";\r\n\r\n\r\nexport const getSlTpFromPercentage = (isLong, isTP, percentage, openPriceNum, leverage, fees) => {\r\n\tif (!percentage) {\r\n\t\treturn 0;\r\n\t}\r\n\t\r\n\tif ((isTP && isLong) || (!isTP && !isLong)) {\r\n\t\treturn (\r\n\t\t\t(\r\n\t\t\t\topenPriceNum + (0.01 * openPriceNum * (percentage / leverage))\r\n\t\t\t) * 10**10\r\n\t\t).toFixed(0);\r\n\t} else {\r\n\t\treturn (\r\n\t\t\t(\r\n\t\t\t\topenPriceNum - (0.01 * openPriceNum * (percentage / leverage))\r\n\t\t\t) * 10**10\r\n\t\t).toFixed(0);\r\n\t}\r\n}\r\n\r\nexport const daysToMs = (days) => {\r\n\treturn days * 24 * 60**2 * 1000;\r\n}\r\n\r\nexport const msToTimeLeft = (ms) => {\r\n\tconst s = ms / 1000;\r\n\tconst m = s / 60;\r\n\tconst h = m / 60;\r\n\tconst hours = Math.floor(h % 24);\r\n\tconst days = Math.floor(h / 24);\r\n\t\r\n\treturn `${days}d ${hours}h`;\r\n}\r\n\r\nexport function fromBigNumber(number, decimals = OPTIONS_DECIMALS) {\r\n\tif (!number) {\r\n\t\treturn;\r\n\t}\r\n  return parseFloat(formatUnits(number.toString(), decimals));\r\n}\r\n\r\nexport const numToBn = (num, decimals = OPTIONS_DECIMALS, maxFraction = MAX_FRACTION_LENGTH) => {\r\n\treturn BigNumber.from(num * 10**maxFraction).mul(10**(decimals - maxFraction));\r\n}\r\n\r\nexport const executePromise = (fn, args = [], successMsg, setIsLoading, cb) => {\r\n\tif (setIsLoading) {\r\n\t\tsetIsLoading(true);\r\n\t}\r\n\t\r\n\tfn(...args)\r\n\t\t.then(tx => {\r\n\t\t\tconsole.log(\"Submitting:\", tx);\r\n\t\t\ttx.wait().then((res) => {\r\n\t\t\t\tnotifySuccess(successMsg, tx.hash);\r\n\t\t\t\tif (setIsLoading) {\r\n\t\t\t\t\tsetIsLoading(false);\r\n\t\t\t\t}\r\n\t\t\t\tif (cb) {\r\n\t\t\t\t\tcb(res);\r\n\t\t\t\t}\r\n\t\t\t}, (e) => {\r\n\t\t\t\terrAlert(e, setIsLoading);\r\n\t\t\t})\r\n\t\t}, (e) => {\r\n\t\t\terrAlert(e, setIsLoading);\r\n\t\t});\r\n}\r\n\r\nexport const getOptionProfitZone = (isCall, strikePrice, premium, size) => {\r\n\tconst profitZoneCalcMethod = isCall ? \"add\" : \"sub\";\r\n\tconst profitZone = strikePrice[profitZoneCalcMethod](expandDecimals(premium.div(size), OPTIONS_DECIMALS));\r\n\treturn {\r\n\t\tprofitZone,\r\n\t\tprofitZoneStr: `${isCall ? \">\" : \"<\"}$${formatAmount(profitZone, OPTIONS_DECIMALS, 2, true)}`\r\n\t};\r\n}\r\n\r\nexport const getMarkPrice = (infoTokens, token) => {\r\n\treturn getTokenInfo(infoTokens, getTokenBySymbol(ARBITRUM, token).address).maxPrice;\r\n}\r\n\r\nexport const findLatestOrEarliest = (arr, datePropName, isLatest = true) => {\r\n\tconst res = arr.reduce((prev, cur) => {\r\n\t\tconst prevDateMs = (new Date(prev[datePropName])).getTime();\r\n\t\tconst curDateMs = (new Date(cur[datePropName])).getTime();\r\n\t\tif (isLatest) {\r\n\t\t\tif (curDateMs > prevDateMs) {\r\n\t\t\t\treturn cur;\r\n\t\t\t}\r\n\t\t\treturn prev;\r\n\t\t} else {\r\n\t\t\tif (curDateMs < prevDateMs) {\r\n\t\t\t\treturn cur;\r\n\t\t\t}\r\n\t\t\treturn prev;\r\n\t\t}\r\n\t}, arr[0]);\r\n\r\n\treturn res;\r\n}\r\n\r\nexport const awaitLoading = (node, isLoading, loader = <Spinner />) => {\r\n\treturn isLoading ? loader : node;\r\n}","import React, { useCallback, useState, useMemo, useEffect } from \"react\";\nimport \"./ConfirmationBox.css\";\nimport {\n  USD_DECIMALS,\n  PRECISION,\n  BASIS_POINTS_DIVISOR,\n  LIMIT,\n  MIN_PROFIT_TIME,\n  INCREASE,\n  expandDecimals,\n  getExchangeRate,\n  getProfitPrice,\n  getTimeRemaining,\n  formatAmount,\n  formatAmountFree,\n  getExchangeRateDisplay,\n  formatDateTime,\n  calculatePositionDelta,\n  DECREASE,\n  TRIGGER_PREFIX_ABOVE,\n  TRIGGER_PREFIX_BELOW,\n} from \"../../lib/legacy\";\nimport { getConstant } from \"../../config/chains\";\nimport { getContract } from \"../../config/Addresses\";\n\nimport { BsArrowRight } from \"react-icons/bs\";\nimport Modal from \"../Modal/Modal\";\nimport Tooltip from \"../Tooltip/Tooltip\";\nimport Checkbox from \"../Checkbox/Checkbox\";\nimport ExchangeInfoRow from \"./ExchangeInfoRow\";\nimport { cancelDecreaseOrder, handleCancelOrder } from \"../../domain/legacy\";\nimport { getNativeToken, getToken, getWrappedToken } from \"../../config/Tokens\";\nimport StatsTooltipRow from \"../StatsTooltip/StatsTooltipRow\";\nimport SlippageInput from './../SlippageInput/SlippageInput';\nimport { formatForContract } from \"../../../../components/utils/math\";\nimport NumberInput_v3 from './../../../../components/UI/input/NumberInput_v3';\nimport { getSlTpFromPercentage } from './../../../../components/utils/utils';\n\nconst HIGH_SPREAD_THRESHOLD = expandDecimals(1, USD_DECIMALS).div(100); // 1%;\n\nfunction getSpread(fromTokenInfo, toTokenInfo, isLong, nativeTokenAddress) {\n  if (fromTokenInfo && fromTokenInfo.maxPrice && toTokenInfo && toTokenInfo.minPrice) {\n    const fromDiff = fromTokenInfo.maxPrice.sub(fromTokenInfo.minPrice).div(2);\n    const fromSpread = fromDiff.mul(PRECISION).div(fromTokenInfo.maxPrice.add(fromTokenInfo.minPrice).div(2));\n    const toDiff = toTokenInfo.maxPrice.sub(toTokenInfo.minPrice).div(2);\n    const toSpread = toDiff.mul(PRECISION).div(toTokenInfo.maxPrice.add(toTokenInfo.minPrice).div(2));\n\n    let value = fromSpread.add(toSpread);\n\n    const fromTokenAddress = fromTokenInfo.isNative ? nativeTokenAddress : fromTokenInfo.address;\n    const toTokenAddress = toTokenInfo.isNative ? nativeTokenAddress : toTokenInfo.address;\n\n    if (isLong && fromTokenAddress === toTokenAddress) {\n      value = fromSpread;\n    }\n\n    return {\n      value,\n      isHigh: value.gt(HIGH_SPREAD_THRESHOLD),\n    };\n  }\n}\n\nexport default function ConfirmationBox(props) {\n  const {\n    fromToken,\n    fromTokenInfo,\n    toToken,\n    toTokenInfo,\n    isSwap,\n    isLong,\n    isMarketOrder,\n    orderOption,\n    isShort,\n    toAmount,\n    fromAmount,\n    isHigherSlippageAllowed,\n    setIsHigherSlippageAllowed,\n    onConfirmationClick,\n    setIsConfirming,\n    shortCollateralAddress,\n    hasExistingPosition,\n    leverage,\n    existingPosition,\n    existingLiquidationPrice,\n    displayLiquidationPrice,\n    shortCollateralToken,\n    isPendingConfirmation,\n    triggerPriceUsd,\n    triggerRatio,\n    fees,\n    feesUsd,\n    isSubmitting,\n    fromUsdMin,\n    toUsdMax,\n    nextAveragePrice,\n    collateralTokenAddress,\n    feeBps,\n    chainId,\n    orders,\n    library,\n    setPendingTxns,\n    pendingTxns,\n    minExecutionFee,\n    minExecutionFeeUSD,\n    minExecutionFeeErrorMessage,\n    savedSlippageAmount,\n    userSlippage,\n    setUserSlippage,\n    allowedSlippage,\n    market,\n    TPValue,\n    setTPValue,\n    SLValue,\n    setSLValue,\n    TPHasError,\n    setTPHasError,\n    SLHasError,\n    setSLHasError,\n    liquidity,\n  } = props;\n\n  useEffect(() => {\n    setTPValue('');\n    setSLValue('');\n  }, []);\n\n  \n  const nativeTokenSymbol = getConstant(chainId, \"nativeTokenSymbol\");\n  \n  const [isProfitWarningAccepted, setIsProfitWarningAccepted] = useState(false);\n  const [isTriggerWarningAccepted, setIsTriggerWarningAccepted] = useState(false);\n  const [isLimitOrdersVisible, setIsLimitOrdersVisible] = useState(false);\n\n  const onCancelOrderClick = useCallback(\n    (order) => {\n      handleCancelOrder(chainId, library, order, { pendingTxns, setPendingTxns });\n    },\n    [library, pendingTxns, setPendingTxns, chainId]\n  );\n\n  let minOut;\n  let fromTokenUsd;\n  let toTokenUsd;\n\n  let collateralAfterFees = fromUsdMin;\n  if (feesUsd) {\n    collateralAfterFees = fromUsdMin.sub(feesUsd);\n  }\n\n  if (isSwap) {\n    minOut = toAmount.mul(BASIS_POINTS_DIVISOR - savedSlippageAmount).div(BASIS_POINTS_DIVISOR);\n\n    fromTokenUsd = fromTokenInfo ? formatAmount(fromTokenInfo.minPrice, USD_DECIMALS, 2, true) : 0;\n    toTokenUsd = toTokenInfo ? formatAmount(toTokenInfo.maxPrice, USD_DECIMALS, 2, true) : 0;\n  }\n\n  const getTitle = () => {\n    if (!isMarketOrder) {\n      return \"Confirm Limit Order\";\n    }\n    if (isSwap) {\n      return \"Confirm Swap\";\n    }\n    return isLong ? \"Confirm Long\" : \"Confirm Short\";\n  };\n  const title = getTitle();\n\n  const existingOrder = useMemo(() => {\n    const wrappedToken = getWrappedToken(chainId);\n    for (const order of orders) {\n      if (order.type !== INCREASE) continue;\n      const sameToken =\n        order.indexToken === wrappedToken.address ? toToken.isNative : order.indexToken === toToken.address;\n      if (order.isLong === isLong && sameToken) {\n        return order;\n      }\n    }\n  }, [orders, chainId, isLong, toToken.address, toToken.isNative]);\n\n  const existingOrders = useMemo(() => {\n    const wrappedToken = getWrappedToken(chainId);\n    return orders.filter((order) => {\n      if (order.type !== INCREASE) return false;\n      const sameToken =\n        order.indexToken === wrappedToken.address ? toToken.isNative : order.indexToken === toToken.address;\n      return order.isLong === isLong && sameToken;\n    });\n  }, [orders, chainId, isLong, toToken.address, toToken.isNative]);\n\n  const existingTriggerOrders = useMemo(() => {\n    const wrappedToken = getWrappedToken(chainId);\n    return orders.filter((order) => {\n      if (order.type !== DECREASE) return false;\n      const sameToken =\n        order.indexToken === wrappedToken.address ? toToken.isNative : order.indexToken === toToken.address;\n      return order.isLong === isLong && sameToken;\n    });\n  }, [orders, chainId, isLong, toToken.address, toToken.isNative]);\n\n  const decreaseOrdersThatWillBeExecuted = useMemo(() => {\n    if (isSwap) return [];\n    return existingTriggerOrders.filter((order) => {\n      if (order.triggerAboveThreshold) {\n        return existingPosition?.markPrice.gte(order.triggerPrice);\n      } else {\n        return existingPosition?.markPrice.lte(order.triggerPrice);\n      }\n    });\n  }, [existingPosition, existingTriggerOrders, isSwap]);\n\n  const takeProfit = Number(formatForContract(TPValue, 10).toFixed(0));\n  const stopLoss = Number(formatForContract(SLValue, 10).toFixed(0));\n  const price = Number(formatAmount(isMarketOrder ? toTokenInfo.maxPrice : triggerPriceUsd, 20, 0, 0));\n  const getError = () => {\n    if (market === 'GNS') {\n      if (stopLoss) {\n        if ((isLong && stopLoss >= price) || (!isLong && stopLoss <= price)) {\n          setSLHasError(true);\n          return `${isLong ? 'Long' : 'Short'} SL can't be ${isLong ? 'greater' : 'less'} than entry price.`;\n        } else {\n          setSLHasError(false);\n        }\n      } else {\n        setSLHasError(false);\n      }\n      if (takeProfit) {\n        if ((isLong && takeProfit <= price) || (!isLong && takeProfit >= price)) {\n          setTPHasError(true);\n          return `${isLong ? 'Long' : 'Short'} TP can't be ${isLong ? 'less' : 'greater'} than entry price.`;\n        } else {\n          setTPHasError(false);\n        }\n  \n        const borderTakeProfit = Number(getSlTpFromPercentage(isLong, true, 900, price / 10**10, leverage / 10**4));\n        if (isLong ? takeProfit > borderTakeProfit : takeProfit < borderTakeProfit) {\n          setTPHasError(true);\n          return `${isLong ? 'Max' : 'Min'} Take Profit price: ${formatAmount(borderTakeProfit, 10, 2, true)}`;\n        } else {\n          setTPHasError(false);\n        }\n      } else {\n        setTPHasError(false);\n        return `Take Profit is required`;\n      }\n    }\n    \n    if (!isSwap && hasExistingPosition && !isMarketOrder) {\n      const { delta, hasProfit } = calculatePositionDelta(triggerPriceUsd, existingPosition);\n      if (hasProfit && delta.eq(0)) {\n        return \"Invalid price, see warning\";\n      }\n    }\n    if (isMarketOrder && hasPendingProfit && !isProfitWarningAccepted) {\n      return \"Forfeit profit not checked\";\n    }\n    return false;\n  };\n\n  const getPrimaryText = () => {\n    if (decreaseOrdersThatWillBeExecuted.length > 0 && !isTriggerWarningAccepted) {\n      return `Accept confirmation of trigger orders`;\n    }\n\n\n    if (!isPendingConfirmation) {\n      const error = getError();\n      if (error) {\n        return error;\n      }\n\n      if (isSwap) {\n        return title;\n      }\n      const action = isMarketOrder ? (isLong ? \"Long\" : \"Short\") : \"Create Order\";\n\n      if (\n        isMarketOrder &&\n        MIN_PROFIT_TIME > 0 &&\n        hasExistingPosition &&\n        existingPosition.delta.eq(0) &&\n        existingPosition.pendingDelta.gt(0)\n      ) {\n        return isLong ? `Forfeit profit and ${action}` : `Forfeit profit and Short`;\n      }\n\n      return isMarketOrder && MIN_PROFIT_TIME > 0 ? `Accept minimum and ${action}` : action;\n    }\n\n    if (!isMarketOrder) {\n      return \"Creating Order...\";\n    }\n    if (isSwap) {\n      return \"Swapping...\";\n    }\n    if (isLong) {\n      return \"Longing...\";\n    }\n    return \"Shorting...\";\n  };\n\n  const isPrimaryEnabled = () => {\n    if (getError()) {\n      return false;\n    }\n    if (decreaseOrdersThatWillBeExecuted.length > 0 && !isTriggerWarningAccepted) {\n      return false;\n    }\n    return !isPendingConfirmation && !isSubmitting;\n  };\n\n  const nativeTokenAddress = getContract(chainId, \"NATIVE_TOKEN\");\n  const spread = getSpread(fromTokenInfo, toTokenInfo, isLong, nativeTokenAddress);\n  // it's meaningless for limit/stop orders to show spread based on current prices\n  const showSpread = isMarketOrder && !!spread;\n\n  const renderSpreadWarning = useCallback(() => {\n    if (!isMarketOrder) {\n      return null;\n    }\n\n    if (spread && spread.isHigh) {\n      return (\n        <div className=\"Confirmation-box-warning\">\n          The spread is {`>`} 1%, please ensure the trade details are acceptable before comfirming\n        </div>\n      );\n    }\n  }, [isMarketOrder, spread]);\n\n  const renderFeeWarning = useCallback(() => {\n    if (orderOption === LIMIT || !feeBps || feeBps <= 60) {\n      return null;\n    }\n\n    if (isSwap) {\n      return (\n        <div className=\"Confirmation-box-warning\">\n          Fees are high to swap from {fromToken.symbol} to {toToken.symbol}.\n        </div>\n      );\n    }\n\n    if (!collateralTokenAddress) {\n      return null;\n    }\n\n    const collateralToken = getToken(chainId, collateralTokenAddress);\n    return (\n      <div className=\"Confirmation-box-warning\">\n        Fees are high to swap from {fromToken.symbol} to {collateralToken.symbol}. <br />\n        {collateralToken.symbol} is needed for collateral.\n      </div>\n    );\n  }, [feeBps, isSwap, collateralTokenAddress, chainId, fromToken.symbol, toToken.symbol, orderOption]);\n\n  const hasPendingProfit =\n    MIN_PROFIT_TIME > 0 && existingPosition && existingPosition.delta.eq(0) && existingPosition.pendingDelta.gt(0);\n\n  const renderMinProfitWarning = useCallback(() => {\n    if (MIN_PROFIT_TIME === 0) {\n      return null;\n    }\n    if (!isSwap) {\n      if (hasExistingPosition) {\n        const minProfitExpiration = existingPosition.lastIncreasedTime + MIN_PROFIT_TIME;\n        if (isMarketOrder && existingPosition.delta.eq(0) && existingPosition.pendingDelta.gt(0)) {\n          const profitPrice = getProfitPrice(existingPosition.markPrice, existingPosition);\n          return (\n            <div className=\"Confirmation-box-warning\">\n              Increasing this position at the current price will forfeit a&nbsp;\n              <a\n                href=\"https://gmxio.gitbook.io/gmx/trading#minimum-price-change\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                pending profit\n              </a>{\" \"}\n              of {existingPosition.deltaStr}.<br />\n              <br />\n              Profit price: {existingPosition.isLong ? \">\" : \"<\"} ${formatAmount(profitPrice, USD_DECIMALS, 2, true)}.\n              This rule only applies for the next {getTimeRemaining(minProfitExpiration)}, until{\" \"}\n              {formatDateTime(minProfitExpiration)}.\n            </div>\n          );\n        }\n        if (!isMarketOrder) {\n          const { delta, hasProfit } = calculatePositionDelta(triggerPriceUsd, existingPosition);\n          if (hasProfit && delta.eq(0)) {\n            const profitPrice = getProfitPrice(existingPosition.markPrice, existingPosition);\n            return (\n              <div className=\"Confirmation-box-warning\">\n                This order will forfeit a&nbsp;\n                <a\n                  href=\"https://gmxio.gitbook.io/gmx/trading#minimum-price-change\"\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                >\n                  profit\n                </a>{\" \"}\n                of {existingPosition.deltaStr}.<br />\n                Profit price: {existingPosition.isLong ? \">\" : \"<\"} ${formatAmount(profitPrice, USD_DECIMALS, 2, true)}.\n                This rule only applies for the next {getTimeRemaining(minProfitExpiration)}, until{\" \"}\n                {formatDateTime(minProfitExpiration)}.\n              </div>\n            );\n          }\n        }\n      }\n\n      return (\n        <div className=\"Confirmation-box-warning\">\n          A minimum price change of&nbsp;\n          <a href=\"https://gmxio.gitbook.io/gmx/trading#minimum-price-change\" target=\"_blank\" rel=\"noopener noreferrer\">\n            1.5%\n          </a>{\" \"}\n          is required for a position to be in profit. This only applies for the first {MIN_PROFIT_TIME / 60 / 60} hours\n          after increasing a position.\n        </div>\n      );\n    }\n  }, [isSwap, hasExistingPosition, existingPosition, isMarketOrder, triggerPriceUsd]);\n\n  const renderExistingOrderWarning = useCallback(() => {\n    if (isSwap || !existingOrder) {\n      return;\n    }\n    const indexToken = getToken(chainId, existingOrder.indexToken);\n    const sizeInToken = formatAmount(\n      existingOrder.sizeDelta.mul(PRECISION).div(existingOrder.triggerPrice),\n      USD_DECIMALS,\n      4,\n      true\n    );\n    if (existingOrders?.length > 1) {\n      return (\n        <div>\n          <div className=\"Confirmation-box-info\">\n            <span>\n              You have multiple existing Increase {existingOrder.isLong ? \"Long\" : \"Short\"} {indexToken.symbol} limit\n              orders{\" \"}\n            </span>\n            <span onClick={() => setIsLimitOrdersVisible((p) => !p)} className=\"view-orders\">\n              ({isLimitOrdersVisible ? \"hide\" : \"view\"})\n            </span>\n          </div>\n          {isLimitOrdersVisible && (\n            <ul className=\"order-list\">\n              {existingOrders.map((order) => {\n                const { account, index, type, triggerAboveThreshold, triggerPrice } = order;\n                const id = `${account}-${index}`;\n                const triggerPricePrefix = triggerAboveThreshold ? TRIGGER_PREFIX_ABOVE : TRIGGER_PREFIX_BELOW;\n                const indexToken = getToken(chainId, order.indexToken);\n\n                return (\n                  <li key={id} className=\"font-sm\">\n                    <p>\n                      {type === INCREASE ? \"Increase\" : \"Decrease\"} {indexToken.symbol} {isLong ? \"Long\" : \"Short\"}{\" \"}\n                      &nbsp;{triggerPricePrefix} ${formatAmount(triggerPrice, USD_DECIMALS, 2, true)}\n                    </p>\n                    <button onClick={() => onCancelOrderClick(order)}>Cancel</button>\n                  </li>\n                );\n              })}\n            </ul>\n          )}\n        </div>\n      );\n    }\n    return (\n      <div className=\"Confirmation-box-info\">\n        You have an active Limit Order to Increase {existingOrder.isLong ? \"Long\" : \"Short\"} {sizeInToken}{\" \"}\n        {indexToken.symbol} (${formatAmount(existingOrder.sizeDelta, USD_DECIMALS, 2, true)}) at price $\n        {formatAmount(existingOrder.triggerPrice, USD_DECIMALS, 2, true)}\n      </div>\n    );\n  }, [existingOrder, isSwap, chainId, existingOrders, isLong, isLimitOrdersVisible, onCancelOrderClick]);\n\n  const renderExistingTriggerErrors = useCallback(() => {\n    if (isSwap || decreaseOrdersThatWillBeExecuted?.length < 1) {\n      return;\n    }\n    const existingTriggerOrderLength = decreaseOrdersThatWillBeExecuted.length;\n    const orderText = existingTriggerOrderLength > 1 ? \"orders\" : \"order\";\n    return (\n      <>\n        <div className=\"Confirmation-box-warning\">\n          You have {existingTriggerOrderLength > 1 ? `${existingTriggerOrderLength}` : \"an\"} active trigger {orderText}{\" \"}\n          that might execute immediately after you open this position. Please cancel the {orderText} or accept the\n          confirmation to continue.\n        </div>\n        <ul className=\"order-list\">\n          {decreaseOrdersThatWillBeExecuted.map((order) => {\n            const { account, index, type, triggerAboveThreshold, triggerPrice } = order;\n            const id = `${account}-${index}`;\n            const triggerPricePrefix = triggerAboveThreshold ? TRIGGER_PREFIX_ABOVE : TRIGGER_PREFIX_BELOW;\n            const indexToken = getToken(chainId, order.indexToken);\n            return (\n              <li key={id} className=\"font-sm\">\n                <p>\n                  {type === INCREASE ? \"Increase\" : \"Decrease\"} {indexToken.symbol} {isLong ? \"Long\" : \"Short\"}\n                  &nbsp;{triggerPricePrefix} ${formatAmount(triggerPrice, USD_DECIMALS, 2, true)}\n                </p>\n                <button\n                  onClick={() =>\n                    cancelDecreaseOrder(chainId, library, index, {\n                      successMsg: \"Order cancelled\",\n                      failMsg: \"Cancel failed\",\n                      sentMsg: \"Cancel submitted\",\n                      pendingTxns,\n                      setPendingTxns,\n                    })\n                  }\n                >\n                  Cancel\n                </button>\n              </li>\n            );\n          })}\n        </ul>\n      </>\n    );\n  }, [decreaseOrdersThatWillBeExecuted, isSwap, chainId, library, pendingTxns, setPendingTxns, isLong]);\n\n  const renderExistingTriggerWarning = useCallback(() => {\n    if (\n      isSwap ||\n      existingTriggerOrders.length < 1 ||\n      decreaseOrdersThatWillBeExecuted.length > 0 ||\n      renderExistingOrderWarning()\n    ) {\n      return;\n    }\n    const existingTriggerOrderLength = existingTriggerOrders.length;\n    return (\n      <div className=\"Confirmation-box-info\">\n        You have {existingTriggerOrderLength > 1 ? `${existingTriggerOrderLength}` : \"an\"} active trigger{\" \"}\n        {existingTriggerOrderLength > 1 ? \"orders\" : \"order\"} that could impact this position.\n      </div>\n    );\n  }, [existingTriggerOrders, isSwap, decreaseOrdersThatWillBeExecuted, renderExistingOrderWarning]);\n\n  // TODO handle unaprproved order plugin (very unlikely case)\n  const renderMain = useCallback(() => {\n    if (isSwap) {\n      return (\n        <div className=\"Confirmation-box-main\">\n          <div className=\"Confirmation-box-main-label\">\n            <div className=\"label-title\">Pay</div>&nbsp;{formatAmount(fromAmount, fromToken.decimals, 4, true)} {fromToken.symbol} ($\n            {formatAmount(fromUsdMin, USD_DECIMALS, 2, true)})\n          </div>\n          <div className=\"Confirmation-box-main-icon\"></div>\n          <div className=\"Confirmation-box-main-label\">\n            <div className=\"label-title\">Recieve</div>&nbsp;{formatAmount(toAmount, toToken.decimals, 4, true)} {toToken.symbol} ($\n            {formatAmount(toUsdMax, USD_DECIMALS, 2, true)})\n          </div>\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"Confirmation-box-main\">\n        <div className=\"Confirmation-box-main-label\">\n          <div className=\"label-title\">Pay</div>&nbsp;{formatAmount(fromAmount, fromToken.decimals, 4, true)} {fromToken.symbol} ($\n          {formatAmount(fromUsdMin, USD_DECIMALS, 2, true)})\n        </div>\n        <div className=\"Confirmation-box-main-icon\"></div>\n        <div className=\"Confirmation-box-main-label\">\n          <div className=\"label-title\">{isLong ? \"Long\" : \"Short\"}</div>&nbsp;\n          {formatAmount(toAmount, toToken.decimals, 4, true)} {toToken.symbol} ($\n          {formatAmount(toUsdMax, USD_DECIMALS, 2, true)})\n        </div>\n      </div>\n    );\n  }, [isSwap, fromAmount, fromToken, toToken, fromUsdMin, toUsdMax, isLong, toAmount]);\n\n  const SWAP_ORDER_EXECUTION_GAS_FEE = getConstant(chainId, \"SWAP_ORDER_EXECUTION_GAS_FEE\");\n  const INCREASE_ORDER_EXECUTION_GAS_FEE = getConstant(chainId, \"INCREASE_ORDER_EXECUTION_GAS_FEE\");\n  const executionFee = isSwap ? SWAP_ORDER_EXECUTION_GAS_FEE : INCREASE_ORDER_EXECUTION_GAS_FEE;\n  const renderExecutionFee = useCallback(() => {\n    if (isMarketOrder) {\n      return null;\n    }\n    return (\n      <ExchangeInfoRow label=\"Execution Fee\">\n        {formatAmount(executionFee, 18, 4)} {getNativeToken(chainId).symbol}\n      </ExchangeInfoRow>\n    );\n  }, [isMarketOrder, executionFee, chainId]);\n\n  const renderAvailableLiquidity = useCallback(() => {\n    let availableLiquidity;\n\n    if (market === 'GNS') {\n      availableLiquidity = liquidity[market]?.formattedValue;\n      return (\n        <ExchangeInfoRow label=\"Available Liquidity\">\n          ${availableLiquidity}\n        </ExchangeInfoRow>\n      );\n    }\n    \n    const riskThresholdBps = 5000;\n    let isLiquidityRisk;\n    const token = isSwap || isLong ? toTokenInfo : shortCollateralToken;\n\n    if (!token || !token.poolAmount || !token.availableAmount) {\n      return null;\n    }\n\n    if (isSwap) {\n      const poolWithoutBuffer = token.poolAmount.sub(token.bufferAmount);\n      availableLiquidity = token.availableAmount.gt(poolWithoutBuffer) ? poolWithoutBuffer : token.availableAmount;\n      isLiquidityRisk = availableLiquidity.mul(riskThresholdBps).div(BASIS_POINTS_DIVISOR).lt(toAmount);\n    } else {\n      if (isShort) {\n        availableLiquidity = token.availableAmount;\n\n        let adjustedMaxGlobalShortSize;\n\n        if (toTokenInfo.maxAvailableShort && toTokenInfo.maxAvailableShort.gt(0)) {\n          adjustedMaxGlobalShortSize = toTokenInfo.maxAvailableShort\n            .mul(expandDecimals(1, token.decimals))\n            .div(expandDecimals(1, USD_DECIMALS));\n        }\n\n        if (adjustedMaxGlobalShortSize && adjustedMaxGlobalShortSize.lt(token.availableAmount)) {\n          availableLiquidity = adjustedMaxGlobalShortSize;\n        }\n\n        const sizeTokens = toUsdMax.mul(expandDecimals(1, token.decimals)).div(token.minPrice);\n        isLiquidityRisk = availableLiquidity.mul(riskThresholdBps).div(BASIS_POINTS_DIVISOR).lt(sizeTokens);\n      } else {\n        availableLiquidity = token.availableAmount;\n        isLiquidityRisk = availableLiquidity.mul(riskThresholdBps).div(BASIS_POINTS_DIVISOR).lt(toAmount);\n      }\n    }\n\n    if (!availableLiquidity) {\n      return null;\n    }\n\n    return (\n      <ExchangeInfoRow label=\"Available Liquidity\">\n        <Tooltip\n          position=\"right-bottom\"\n          handleClassName={isLiquidityRisk ? \"negative\" : null}\n          handle={\n            <>\n              {formatAmount(availableLiquidity, token.decimals, token.isStable ? 0 : 2, true)} {token.symbol}\n            </>\n          }\n          renderContent={() =>\n            isLiquidityRisk\n              ? \"There may not be sufficient liquidity to execute your order when the price conditions are met\"\n              : \"The order will only execute if the price conditions are met and there is sufficient liquidity\"\n          }\n        />\n      </ExchangeInfoRow>\n    );\n  }, [toTokenInfo, shortCollateralToken, isShort, isLong, isSwap, toAmount, toUsdMax]);\n\n  const renderMarginSection = useCallback(() => {\n    return (\n      <>\n        <div>\n          {renderMain()}\n          {renderFeeWarning()}\n          {renderMinProfitWarning()}\n          {renderExistingOrderWarning()}\n          {renderExistingTriggerErrors()}\n          {renderExistingTriggerWarning()}\n          {minExecutionFeeErrorMessage && <div className=\"Confirmation-box-warning\">{minExecutionFeeErrorMessage}</div>}\n          {hasPendingProfit && isMarketOrder && (\n            <div className=\"PositionEditor-accept-profit-warning\">\n              <Checkbox isChecked={isProfitWarningAccepted} setIsChecked={setIsProfitWarningAccepted}>\n                <span className=\"muted\">Forfeit profit</span>\n              </Checkbox>\n            </div>\n          )}\n          {orderOption === LIMIT && renderAvailableLiquidity()}\n\n          {market === 'GNS' && <div className=\"row-divider\" />}\n          \n          {market === 'GMX' && isShort && (\n            <ExchangeInfoRow label=\"Collateral In\" isTop={true}>{getToken(chainId, shortCollateralAddress).symbol}</ExchangeInfoRow>\n          )}\n          {market === 'GMX' && isLong && <ExchangeInfoRow label=\"Collateral In\" isTop={true} value={toTokenInfo.symbol} />}\n          {\n            market === 'GMX' &&\n            <ExchangeInfoRow label=\"Leverage\">\n              {hasExistingPosition && toAmount && toAmount.gt(0) && (\n                <div className=\"inline-block muted\">\n                  {formatAmount(existingPosition.leverage, 4, 2)}x\n                  <BsArrowRight className=\"transition-arrow\" />\n                </div>\n              )}\n              {toAmount && leverage && leverage.gt(0) && `${formatAmount(leverage, 4, 2)}x`}\n              {!toAmount && leverage && leverage.gt(0) && `-`}\n              {leverage && leverage.eq(0) && `-`}\n            </ExchangeInfoRow>\n          }\n          {\n            market === 'GMX' &&\n            <ExchangeInfoRow label=\"Liq. Price\">\n              {hasExistingPosition && toAmount && toAmount.gt(0) && (\n                <div className=\"inline-block muted\">\n                  ${formatAmount(existingLiquidationPrice, USD_DECIMALS, 2, true)}\n                  <BsArrowRight className=\"transition-arrow\" />\n                </div>\n              )}\n              {toAmount && displayLiquidationPrice && `$${formatAmount(displayLiquidationPrice, USD_DECIMALS, 2, true)}`}\n              {!toAmount && displayLiquidationPrice && `-`}\n              {!displayLiquidationPrice && `-`}\n            </ExchangeInfoRow>\n          }\n          \n          <ExchangeInfoRow label=\"Fees\">${formatAmount(feesUsd, USD_DECIMALS, 2, true)}</ExchangeInfoRow>\n          <ExchangeInfoRow label=\"Collateral\">\n            <Tooltip\n              handle={`$${formatAmount(collateralAfterFees, USD_DECIMALS, 2, true)}`}\n              position=\"right-bottom\"\n              renderContent={() => {\n                return (\n                  <>\n                    Your position's collateral after deducting fees.\n                    <br />\n                    <br />\n                    <StatsTooltipRow label=\"Pay Amount\" value={formatAmount(fromUsdMin, USD_DECIMALS, 2, true)} />\n                    <StatsTooltipRow label=\"Fees\" value={formatAmount(feesUsd, USD_DECIMALS, 2, true)} />\n                    <div className=\"Tooltip-divider\" />\n                    <StatsTooltipRow\n                      label=\"Collateral\"\n                      value={formatAmount(collateralAfterFees, USD_DECIMALS, 2, true)}\n                    />\n                  </>\n                );\n              }}\n            />\n          </ExchangeInfoRow>\n          {/* {\n            market === 'GMX' &&\n            showSpread && (\n              <ExchangeInfoRow label=\"Spread\" isWarning={spread.isHigh} isTop={true}>\n                {formatAmount(spread.value.mul(100), USD_DECIMALS, 2, true)}%\n              </ExchangeInfoRow>\n            )\n          } */}\n          {\n            market === 'GNS' &&\n            <>\n              <NumberInput_v3\n                value={TPValue}\n                setValue={setTPValue}\n                title={\"Take Profit\"}\n                hasError={TPHasError}\n              />\n              <NumberInput_v3 \n                value={SLValue}\n                setValue={setSLValue}\n                title={\"Stop Loss\"}\n                hasError={SLHasError}\n              />\n            </>\n          }\n          {market === 'GNS' && <div className=\"row-divider\" />}\n          {isMarketOrder && (\n            <ExchangeInfoRow label=\"Entry Price\">\n              {hasExistingPosition && toAmount && toAmount.gt(0) && (\n                <div className=\"inline-block muted\">\n                  ${formatAmount(existingPosition.averagePrice, USD_DECIMALS, 2, true)}\n                  <BsArrowRight className=\"transition-arrow\" />\n                </div>\n              )}\n              {nextAveragePrice && `$${formatAmount(nextAveragePrice, USD_DECIMALS, 2, true)}`}\n              {!nextAveragePrice && `-`}\n            </ExchangeInfoRow>\n          )}\n          {!isMarketOrder && (\n            <ExchangeInfoRow label=\"Limit Price\">\n              ${formatAmount(triggerPriceUsd, USD_DECIMALS, 2, true)}\n            </ExchangeInfoRow>\n          )}\n          {\n            market === 'GMX' &&\n            <ExchangeInfoRow label=\"Borrow Fee\">\n              {isLong && toTokenInfo && formatAmount(toTokenInfo.fundingRate, 4, 4)}\n              {isShort && shortCollateralToken && formatAmount(shortCollateralToken.fundingRate, 4, 4)}\n              {((isLong && toTokenInfo && toTokenInfo.fundingRate) ||\n                (isShort && shortCollateralToken && shortCollateralToken.fundingRate)) &&\n                \"% / 1h\"}\n            </ExchangeInfoRow>\n          }\n          \n          {isMarketOrder && (\n            <div className=\"PositionEditor-allow-higher-slippage\">\n              <ExchangeInfoRow label=\"Execution Fee\">\n                <Tooltip\n                  handle={`${formatAmountFree(minExecutionFee, 18, 5)} ${nativeTokenSymbol}`}\n                  position=\"right-top\"\n                  renderContent={() => {\n                    return (\n                      <>\n                        <StatsTooltipRow\n                          label=\"Network fee\"\n                          value={`${formatAmountFree(minExecutionFee, 18, 5)} ${nativeTokenSymbol} ($${formatAmount(\n                            minExecutionFeeUSD,\n                            USD_DECIMALS,\n                            2\n                          )})`}\n                        />\n                        <br />\n                        This is the network cost required to execute the postion.{\" \"}\n                        <a\n                          href=\"https://gmxio.gitbook.io/gmx/trading#execution-fee\"\n                          target=\"_blank\"\n                          rel=\"noopener noreferrer\"\n                        >\n                          More Info\n                        </a>\n                      </>\n                    );\n                  }}\n                />\n              </ExchangeInfoRow>\n            </div>\n          )}\n          {decreaseOrdersThatWillBeExecuted.length > 0 && (\n            <div className=\"PositionEditor-allow-higher-slippage\">\n              <Checkbox isChecked={isTriggerWarningAccepted} setIsChecked={setIsTriggerWarningAccepted}>\n                <span className=\"muted font-sm\">I am aware of the trigger orders</span>\n              </Checkbox>\n            </div>\n          )}\n          {renderExecutionFee()}\n          <SlippageInput\n            value={userSlippage}\n            setValue={setUserSlippage}\n            />\n          <ExchangeInfoRow label=\"Allowed Slippage\" className=\"Slippage-row\">\n            <Tooltip\n              handle={`${formatAmount(allowedSlippage, 2, 2)}%`}\n              position=\"right-top\"\n              renderContent={() => {\n                return (\n                  <>\n                    You can change this in the settings menu on the top right of the page.\n                    <br />\n                    <br />\n                    Note that a low allowed slippage, e.g. less than 0.5%, may result in failed orders if prices are\n                    volatile.\n                  </>\n                );\n              }}\n            />\n          </ExchangeInfoRow>\n        </div>\n      </>\n    );\n  }, [\n    renderMain,\n    renderMinProfitWarning,\n    shortCollateralAddress,\n    isShort,\n    isLong,\n    toTokenInfo,\n    nextAveragePrice,\n    toAmount,\n    hasExistingPosition,\n    existingPosition,\n    isMarketOrder,\n    triggerPriceUsd,\n    showSpread,\n    spread,\n    displayLiquidationPrice,\n    existingLiquidationPrice,\n    feesUsd,\n    leverage,\n    renderExecutionFee,\n    shortCollateralToken,\n    chainId,\n    renderFeeWarning,\n    hasPendingProfit,\n    isProfitWarningAccepted,\n    renderAvailableLiquidity,\n    orderOption,\n    fromUsdMin,\n    collateralAfterFees,\n    renderExistingOrderWarning,\n    renderExistingTriggerWarning,\n    renderExistingTriggerErrors,\n    isHigherSlippageAllowed,\n    setIsHigherSlippageAllowed,\n    allowedSlippage,\n    isTriggerWarningAccepted,\n    decreaseOrdersThatWillBeExecuted,\n    minExecutionFee,\n    nativeTokenSymbol,\n    minExecutionFeeUSD,\n    minExecutionFeeErrorMessage,\n  ]);\n\n  const renderSwapSection = useCallback(() => {\n    return (\n      <>\n        <div>\n          {renderMain()}\n          {renderFeeWarning()}\n          {renderSpreadWarning()}\n          {orderOption === LIMIT && renderAvailableLiquidity()}\n          <ExchangeInfoRow label=\"Min. Receive\">\n            {formatAmount(minOut, toTokenInfo.decimals, 4, true)} {toTokenInfo.symbol}\n          </ExchangeInfoRow>\n          <ExchangeInfoRow label=\"Price\">\n            {getExchangeRateDisplay(getExchangeRate(fromTokenInfo, toTokenInfo), fromTokenInfo, toTokenInfo)}\n          </ExchangeInfoRow>\n          {!isMarketOrder && (\n            <div className=\"Exchange-info-row\">\n              <div className=\"Exchange-info-label\">Limit Price</div>\n              <div className=\"align-right\">{getExchangeRateDisplay(triggerRatio, fromTokenInfo, toTokenInfo)}</div>\n            </div>\n          )}\n          {showSpread && (\n            <ExchangeInfoRow label=\"Spread\" isWarning={spread.isHigh}>\n              {formatAmount(spread.value.mul(100), USD_DECIMALS, 2, true)}%\n            </ExchangeInfoRow>\n          )}\n          <div className=\"Exchange-info-row\">\n            <div className=\"Exchange-info-label\">Fees</div>\n            <div className=\"align-right\">\n              {formatAmount(feeBps, 2, 2, true)}% ({formatAmount(fees, fromTokenInfo.decimals, 4, true)}{\" \"}\n              {fromTokenInfo.symbol}: ${formatAmount(feesUsd, USD_DECIMALS, 2, true)})\n            </div>\n          </div>\n          {renderExecutionFee()}\n          {fromTokenUsd && (\n            <div className=\"Exchange-info-row\">\n              <div className=\"Exchange-info-label\">{fromTokenInfo.symbol} Price</div>\n              <div className=\"align-right\">{fromTokenUsd} USD</div>\n            </div>\n          )}\n          {toTokenUsd && (\n            <div className=\"Exchange-info-row\">\n              <div className=\"Exchange-info-label\">{toTokenInfo.symbol} Price</div>\n              <div className=\"align-right\">{toTokenUsd} USD</div>\n            </div>\n          )}\n        </div>\n      </>\n    );\n  }, [\n    renderMain,\n    renderSpreadWarning,\n    fromTokenInfo,\n    toTokenInfo,\n    orderOption,\n    showSpread,\n    spread,\n    feesUsd,\n    feeBps,\n    renderExecutionFee,\n    fromTokenUsd,\n    toTokenUsd,\n    triggerRatio,\n    fees,\n    isMarketOrder,\n    minOut,\n    renderFeeWarning,\n    renderAvailableLiquidity,\n  ]);\n\n  return (\n    <div className=\"Confirmation-box\">\n      <Modal isVisible={true} setIsVisible={() => setIsConfirming(false)} label={title} allowContentTouchMove isNifty={true}>\n        {isSwap && renderSwapSection()}\n        {!isSwap && renderMarginSection()}\n        <div className=\"Confirmation-box-row\">\n          <button\n            onClick={onConfirmationClick}\n            className=\"App-cta Confirmation-box-button hlight\"\n            disabled={!isPrimaryEnabled()}\n          >\n            {getPrimaryText()}\n          </button>\n        </div>\n      </Modal>\n    </div>\n  );\n}\n","import {\n  formatAmount,\n  bigNumberify,\n  isAddressZero,\n  USD_DECIMALS,\n  MAX_REFERRAL_CODE_LENGTH,\n  ARBITRUM,\n  AVALANCHE,\n} from \"../../lib/legacy\";\nimport { encodeReferralCode, getReferralCodeOwner } from \"../../domain/referrals\";\n\nexport const REFERRAL_CODE_REGEX = /^\\w+$/; // only number, string and underscore is allowed\nexport const REGEX_VERIFY_BYTES32 = /^0x[0-9a-f]{64}$/;\n\nexport function isRecentReferralCodeNotExpired(referralCodeInfo) {\n  const REFERRAL_DATA_MAX_TIME = 60000 * 5; // 5 minutes\n  if (referralCodeInfo.time) {\n    return referralCodeInfo.time + REFERRAL_DATA_MAX_TIME > Date.now();\n  }\n}\n\nexport async function getReferralCodeTakenStatus(account, referralCode, chainId) {\n  const referralCodeBytes32 = encodeReferralCode(referralCode);\n  const [ownerArbitrum, ownerAvax] = await Promise.all([\n    getReferralCodeOwner(ARBITRUM, referralCodeBytes32),\n    getReferralCodeOwner(AVALANCHE, referralCodeBytes32),\n  ]);\n\n  const takenOnArb =\n    !isAddressZero(ownerArbitrum) && (ownerArbitrum !== account || (ownerArbitrum === account && chainId === ARBITRUM));\n  const takenOnAvax =\n    !isAddressZero(ownerAvax) && (ownerAvax !== account || (ownerAvax === account && chainId === AVALANCHE));\n\n  const referralCodeTakenInfo = {\n    [ARBITRUM]: takenOnArb,\n    [AVALANCHE]: takenOnAvax,\n    both: takenOnArb && takenOnAvax,\n    ownerArbitrum,\n    ownerAvax,\n  };\n\n  if (referralCodeTakenInfo.both) {\n    return { status: \"all\", info: referralCodeTakenInfo };\n  }\n  if (referralCodeTakenInfo[chainId]) {\n    return { status: \"current\", info: referralCodeTakenInfo };\n  }\n  if (chainId === AVALANCHE ? referralCodeTakenInfo[ARBITRUM] : referralCodeTakenInfo[AVALANCHE]) {\n    return { status: \"other\", info: referralCodeTakenInfo };\n  }\n  return { status: \"none\", info: referralCodeTakenInfo };\n}\n\nexport function getTierIdDisplay(tierId) {\n  return Number(tierId) + 1;\n}\n\nexport const tierRebateInfo = {\n  0: 5,\n  1: 10,\n  2: 15,\n};\n\nexport const tierDiscountInfo = {\n  0: 5,\n  1: 10,\n  2: 10,\n};\n\nfunction areObjectsWithSameKeys(obj1, obj2) {\n  return Object.keys(obj1).every((key) => key in obj2);\n}\n\nexport function deserializeSampleStats(input) {\n  const parsedData = JSON.parse(input);\n  if (!Array.isArray(parsedData)) return [];\n  return parsedData\n    .map((data) => {\n      if (!areObjectsWithSameKeys(getSampleReferrarStat(), data)) return null;\n      return Object.keys(data).reduce((acc, cv) => {\n        const currentValue = data[cv];\n        if (currentValue?.type === \"BigNumber\") {\n          acc[cv] = bigNumberify(currentValue.hex || 0);\n        } else {\n          acc[cv] = currentValue;\n        }\n        return acc;\n      }, {});\n    })\n    .filter(Boolean);\n}\n\nexport const getSampleReferrarStat = (code = \"\", ownerOnOtherNetwork = \"\", account = \"\") => {\n  return {\n    discountUsd: bigNumberify(0),\n    referralCode: code,\n    totalRebateUsd: bigNumberify(0),\n    tradedReferralsCount: 0,\n    registeredReferralsCount: 0,\n    trades: 0,\n    volume: bigNumberify(0),\n    time: Date.now(),\n    ownerOnOtherChain: {\n      code: encodeReferralCode(code),\n      codeString: code,\n      owner: undefined,\n      isTaken: !isAddressZero(ownerOnOtherNetwork),\n      isTakenByCurrentUser:\n        !isAddressZero(ownerOnOtherNetwork) && ownerOnOtherNetwork.toLowerCase() === account.toLowerCase(),\n    },\n  };\n};\n\nexport function getUSDValue(value, decimals = 2) {\n  return `$${formatAmount(value, USD_DECIMALS, decimals, true, \"0.00\")}`;\n}\n\nexport function getCodeError(value) {\n  const trimmedValue = value.trim();\n  if (!trimmedValue) return \"\";\n\n  if (trimmedValue.length > MAX_REFERRAL_CODE_LENGTH) {\n    return `The referral code can't be more than ${MAX_REFERRAL_CODE_LENGTH} characters.`;\n  }\n\n  if (!REFERRAL_CODE_REGEX.test(trimmedValue)) {\n    return \"Only letters, numbers and underscores are allowed.\";\n  }\n  return \"\";\n}\n\nexport function getTwitterShareUrl(referralCode) {\n  const message = \"Trying out trading on @GMX_IO, up to 30x leverage on $BTC, $ETH 📈%0a%0aFor fee discounts use:\";\n\n  return `http://twitter.com/intent/tweet?text=${message}&url=https://gmx.io?ref=${referralCode}`;\n}\n","import { ethers } from \"ethers\";\nimport { gql } from \"@apollo/client\";\nimport { useState, useEffect, useMemo } from \"react\";\nimport useSWR from \"swr\";\n\nimport ReferralStorage from \"../abis/ReferralStorage.json\";\nimport {\n  ARBITRUM,\n  AVALANCHE,\n  MAX_REFERRAL_CODE_LENGTH,\n  bigNumberify,\n  isAddressZero,\n  helperToast,\n  getProvider,\n  isHashZero,\n  REFERRAL_CODE_KEY,\n} from \"../lib/legacy\";\nimport { arbitrumReferralsGraphClient, avalancheReferralsGraphClient } from \"./common\";\nimport { getContract } from \"../config/Addresses\";\nimport { REGEX_VERIFY_BYTES32 } from \"../components/Referrals/referralsHelper\";\nimport { fetcher } from \"../lib/contracts/fetcher\";\nimport { callContract } from \"../lib/contracts/callContract\";\n\nconst ACTIVE_CHAINS = [ARBITRUM, AVALANCHE];\nconst DISTRIBUTION_TYPE_REBATES = \"1\";\nconst DISTRIBUTION_TYPE_DISCOUNT = \"2\";\n\nfunction getGraphClient(chainId) {\n  if (chainId === ARBITRUM) {\n    return arbitrumReferralsGraphClient;\n  } else if (chainId === AVALANCHE) {\n    return avalancheReferralsGraphClient;\n  }\n  throw new Error(`Unsupported chain ${chainId}`);\n}\n\nexport function decodeReferralCode(hexCode) {\n  try {\n    return ethers.utils.parseBytes32String(hexCode);\n  } catch (ex) {\n    let code = \"\";\n    hexCode = hexCode.substring(2);\n    for (let i = 0; i < 32; i++) {\n      code += String.fromCharCode(parseInt(hexCode.substring(i * 2, i * 2 + 2), 16));\n    }\n    return code.trim();\n  }\n}\n\nexport function encodeReferralCode(code) {\n  let final = code.replace(/[^\\w_]/g, \"\"); // replace everything other than numbers, string  and underscor to ''\n  if (final.length > MAX_REFERRAL_CODE_LENGTH) {\n    return ethers.constants.HashZero;\n  }\n  return ethers.utils.formatBytes32String(final);\n}\n\nasync function getCodeOwnersData(network, account, codes = []) {\n  if (codes.length === 0 || !account || !network) {\n    return undefined;\n  }\n  const query = gql`\n    query allCodes($codes: [String!]!) {\n      referralCodes(where: { code_in: $codes }) {\n        owner\n        id\n      }\n    }\n  `;\n  return getGraphClient(network)\n    .query({ query, variables: { codes } })\n    .then(({ data }) => {\n      const { referralCodes } = data;\n      const codeOwners = referralCodes.reduce((acc, cv) => {\n        acc[cv.id] = cv.owner;\n        return acc;\n      }, {});\n      return codes.map((code) => {\n        const owner = codeOwners[code];\n        return {\n          code,\n          codeString: decodeReferralCode(code),\n          owner,\n          isTaken: Boolean(owner),\n          isTakenByCurrentUser: owner && owner.toLowerCase() === account.toLowerCase(),\n        };\n      });\n    });\n}\n\nexport function useUserCodesOnAllChain(account) {\n  const [data, setData] = useState(null);\n  const query = gql`\n    query referralCodesOnAllChain($account: String!) {\n      referralCodes(first: 1000, where: { owner: $account }) {\n        code\n      }\n    }\n  `;\n  useEffect(() => {\n    async function main() {\n      const [arbitrumCodes, avalancheCodes] = await Promise.all(\n        ACTIVE_CHAINS.map((chainId) => {\n          return getGraphClient(chainId)\n            .query({ query, variables: { account: (account || \"\").toLowerCase() } })\n            .then(({ data }) => {\n              return data.referralCodes.map((c) => c.code);\n            });\n        })\n      );\n      const [codeOwnersOnAvax = [], codeOwnersOnArbitrum = []] = await Promise.all([\n        getCodeOwnersData(AVALANCHE, account, arbitrumCodes),\n        getCodeOwnersData(ARBITRUM, account, avalancheCodes),\n      ]);\n\n      setData({\n        [ARBITRUM]: codeOwnersOnAvax.reduce((acc, cv) => {\n          acc[cv.code] = cv;\n          return acc;\n        }, {}),\n        [AVALANCHE]: codeOwnersOnArbitrum.reduce((acc, cv) => {\n          acc[cv.code] = cv;\n          return acc;\n        }, {}),\n      });\n    }\n\n    main();\n  }, [account, query]);\n  return data;\n}\n\nexport function useReferralsData(chainId, account) {\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const ownerOnOtherChain = useUserCodesOnAllChain(account);\n  useEffect(() => {\n    if (!chainId || !account) {\n      setLoading(false);\n      return;\n    }\n    const startOfDayTimestamp = Math.floor(parseInt(Date.now() / 1000) / 86400) * 86400;\n    const query = gql`\n      query referralData($typeIds: [String!]!, $account: String!, $timestamp: Int!, $referralTotalStatsId: String!) {\n        distributions(\n          first: 1000\n          orderBy: timestamp\n          orderDirection: desc\n          where: { receiver: $account, typeId_in: $typeIds }\n        ) {\n          receiver\n          amount\n          typeId\n          token\n          transactionHash\n          timestamp\n        }\n        referrerTotalStats: referrerStats(\n          first: 1000\n          orderBy: volume\n          orderDirection: desc\n          where: { period: total, referrer: $account }\n        ) {\n          referralCode\n          volume\n          trades\n          tradedReferralsCount\n          registeredReferralsCount\n          totalRebateUsd\n          discountUsd\n        }\n        referrerLastDayStats: referrerStats(\n          first: 1000\n          where: { period: daily, referrer: $account, timestamp: $timestamp }\n        ) {\n          referralCode\n          volume\n          trades\n          tradedReferralsCount\n          registeredReferralsCount\n          totalRebateUsd\n          discountUsd\n        }\n        referralCodes(first: 1000, where: { owner: $account }) {\n          code\n        }\n        referralTotalStats: referralStat(id: $referralTotalStatsId) {\n          volume\n          discountUsd\n        }\n        referrerTierInfo: referrer(id: $account) {\n          tierId\n          id\n          discountShare\n        }\n      }\n    `;\n    setLoading(true);\n\n    getGraphClient(chainId)\n      .query({\n        query,\n        variables: {\n          typeIds: [DISTRIBUTION_TYPE_REBATES, DISTRIBUTION_TYPE_DISCOUNT],\n          account: (account || \"\").toLowerCase(),\n          timestamp: startOfDayTimestamp,\n          referralTotalStatsId: account && `total:0:${account.toLowerCase()}`,\n        },\n      })\n      .then((res) => {\n        const rebateDistributions = [];\n        const discountDistributions = [];\n        res.data.distributions.forEach((d) => {\n          const item = {\n            timestamp: parseInt(d.timestamp),\n            transactionHash: d.transactionHash,\n            receiver: ethers.utils.getAddress(d.receiver),\n            amount: bigNumberify(d.amount),\n            typeId: d.typeId,\n            token: ethers.utils.getAddress(d.token),\n          };\n          if (d.typeId === DISTRIBUTION_TYPE_REBATES) {\n            rebateDistributions.push(item);\n          } else {\n            discountDistributions.push(item);\n          }\n        });\n\n        function prepareStatsItem(e) {\n          return {\n            volume: bigNumberify(e.volume),\n            trades: parseInt(e.trades),\n            tradedReferralsCount: parseInt(e.tradedReferralsCount),\n            registeredReferralsCount: parseInt(e.registeredReferralsCount),\n            totalRebateUsd: bigNumberify(e.totalRebateUsd),\n            discountUsd: bigNumberify(e.discountUsd),\n            referralCode: decodeReferralCode(e.referralCode),\n            ownerOnOtherChain: ownerOnOtherChain?.[chainId][e.referralCode],\n          };\n        }\n\n        function getCumulativeStats(data = []) {\n          return data.reduce(\n            (acc, cv) => {\n              acc.totalRebateUsd = acc.totalRebateUsd.add(cv.totalRebateUsd);\n              acc.volume = acc.volume.add(cv.volume);\n              acc.discountUsd = acc.discountUsd.add(cv.discountUsd);\n              acc.trades = acc.trades + cv.trades;\n              acc.tradedReferralsCount = acc.tradedReferralsCount + cv.tradedReferralsCount;\n              acc.registeredReferralsCount = acc.registeredReferralsCount + cv.registeredReferralsCount;\n              return acc;\n            },\n            {\n              totalRebateUsd: bigNumberify(0),\n              volume: bigNumberify(0),\n              discountUsd: bigNumberify(0),\n              trades: 0,\n              tradedReferralsCount: 0,\n              registeredReferralsCount: 0,\n            }\n          );\n        }\n\n        let referrerTotalStats = res.data.referrerTotalStats.map(prepareStatsItem);\n        setData({\n          rebateDistributions,\n          discountDistributions,\n          referrerTotalStats,\n          referrerTierInfo: res.data.referrerTierInfo,\n          referrerLastDayStats: res.data.referrerLastDayStats.map(prepareStatsItem),\n          cumulativeStats: getCumulativeStats(referrerTotalStats),\n          codes: res.data.referralCodes.map((e) => decodeReferralCode(e.code)),\n          referralTotalStats: res.data.referralTotalStats\n            ? {\n                volume: bigNumberify(res.data.referralTotalStats.volume),\n                discountUsd: bigNumberify(res.data.referralTotalStats.discountUsd),\n              }\n            : {\n                volume: bigNumberify(0),\n                discountUsd: bigNumberify(0),\n              },\n        });\n      })\n      .catch(console.warn)\n      .finally(() => {\n        setLoading(false);\n      });\n  }, [setData, chainId, account, ownerOnOtherChain]);\n\n  return {\n    data: data || null,\n    loading,\n  };\n}\n\nexport async function registerReferralCode(chainId, referralCode, library, opts) {\n  const referralStorageAddress = getContract(chainId, \"ReferralStorage\");\n  const referralCodeHex = encodeReferralCode(referralCode);\n  const contract = new ethers.Contract(referralStorageAddress, ReferralStorage.abi, library.getSigner());\n  return callContract(chainId, contract, \"registerCode\", [referralCodeHex], opts);\n}\n\nexport async function setTraderReferralCodeByUser(chainId, referralCode, library, opts) {\n  const referralCodeHex = encodeReferralCode(referralCode);\n  const referralStorageAddress = getContract(chainId, \"ReferralStorage\");\n  const contract = new ethers.Contract(referralStorageAddress, ReferralStorage.abi, library.getSigner());\n  const codeOwner = await contract.codeOwners(referralCodeHex);\n  if (isAddressZero(codeOwner)) {\n    const errorMsg = \"Referral code does not exist\";\n    helperToast.error(errorMsg);\n    return Promise.reject(errorMsg);\n  }\n  return callContract(chainId, contract, \"setTraderReferralCodeByUser\", [referralCodeHex], opts);\n}\n\nexport async function getReferralCodeOwner(chainId, referralCode) {\n  const referralStorageAddress = getContract(chainId, \"ReferralStorage\");\n  const provider = getProvider(null, chainId);\n  const contract = new ethers.Contract(referralStorageAddress, ReferralStorage.abi, provider);\n  const codeOwner = await contract.codeOwners(referralCode);\n  return codeOwner;\n}\n\nexport function useUserReferralCode(library, chainId, account) {\n  const localStorageCode = window.localStorage.getItem(REFERRAL_CODE_KEY);\n  const referralStorageAddress = getContract(chainId, \"ReferralStorage\");\n  const { data: onChainCode } = useSWR(\n    account && [\"ReferralStorage\", chainId, referralStorageAddress, \"traderReferralCodes\", account],\n    { fetcher: fetcher(library, ReferralStorage) }\n  );\n  const { data: localStorageCodeOwner } = useSWR(\n    localStorageCode &&\n      REGEX_VERIFY_BYTES32.test(localStorageCode) && [\n        \"ReferralStorage\",\n        chainId,\n        referralStorageAddress,\n        \"codeOwners\",\n        localStorageCode,\n      ],\n    { fetcher: fetcher(library, ReferralStorage) }\n  );\n  const [attachedOnChain, userReferralCode, userReferralCodeString] = useMemo(() => {\n    if (onChainCode && !isHashZero(onChainCode)) {\n      return [true, onChainCode, decodeReferralCode(onChainCode)];\n    } else if (localStorageCodeOwner && !isAddressZero(localStorageCodeOwner)) {\n      return [false, localStorageCode, decodeReferralCode(localStorageCode)];\n    }\n    return [false];\n  }, [localStorageCode, localStorageCodeOwner, onChainCode]);\n\n  return {\n    userReferralCode,\n    userReferralCodeString,\n    attachedOnChain,\n  };\n}\n\nexport function useReferrerTier(library, chainId, account) {\n  const referralStorageAddress = getContract(chainId, \"ReferralStorage\");\n  const { data: referrerTier, mutate: mutateReferrerTier } = useSWR(\n    account && [`ReferralStorage:referrerTiers`, chainId, referralStorageAddress, \"referrerTiers\", account],\n    {\n      fetcher: fetcher(library, ReferralStorage),\n    }\n  );\n  return {\n    referrerTier,\n    mutateReferrerTier,\n  };\n}\n\nexport function useCodeOwner(library, chainId, account, code) {\n  const referralStorageAddress = getContract(chainId, \"ReferralStorage\");\n  const { data: codeOwner, mutate: mutateCodeOwner } = useSWR(\n    account && code && [`ReferralStorage:codeOwners`, chainId, referralStorageAddress, \"codeOwners\", code],\n    {\n      fetcher: fetcher(library, ReferralStorage),\n    }\n  );\n  return {\n    codeOwner,\n    mutateCodeOwner,\n  };\n}\n\nexport async function validateReferralCodeExists(referralCode, chainId) {\n  const referralCodeBytes32 = encodeReferralCode(referralCode);\n  const referralCodeOwner = await getReferralCodeOwner(chainId, referralCodeBytes32);\n  return !isAddressZero(referralCodeOwner);\n}\n\nexport function useAffiliateCodes(chainId, account) {\n  const [affiliateCodes, setAffiliateCodes] = useState({ code: null, success: false });\n  const query = gql`\n    query userReferralCodes($account: String!) {\n      referrerTotalStats: referrerStats(\n        first: 1000\n        orderBy: volume\n        orderDirection: desc\n        where: { period: total, referrer: $account }\n      ) {\n        referralCode\n      }\n    }\n  `;\n  useEffect(() => {\n    if (!chainId) return;\n    getGraphClient(chainId)\n      .query({ query, variables: { account: account?.toLowerCase() } })\n      .then((res) => {\n        const parsedAffiliateCodes = res?.data?.referrerTotalStats.map((c) => decodeReferralCode(c?.referralCode));\n        setAffiliateCodes({ code: parsedAffiliateCodes[0], success: true });\n      });\n    return () => {\n      setAffiliateCodes({ code: null, success: false });\n    };\n  }, [chainId, query, account]);\n  return affiliateCodes;\n}\n","import React, { useEffect } from 'react';\r\nimport cx from 'classnames';\r\n\r\nconst Modal = (props) => {\r\n\tconst {\r\n\t\tchildren, \r\n\t\tclassName, \r\n\t\tvisible, \r\n\t\tsetVisible, \r\n\t\tresetModal, \r\n\t\tisObligatory\r\n\t} = props;\r\n\t\r\n\tconst classes = cx('modal', className, visible && 'active');\r\n\r\n\tconst bodyNode = document.getElementsByTagName('body')[0];\r\n\tconst reset = () => {\r\n\t\tif (resetModal) {\r\n\t\t\tresetModal();\r\n\t\t}\r\n\t\tbodyNode.classList.remove('_scroll-lock');\r\n\t}\r\n\tuseEffect(() => {\r\n\t\tif (visible) {\r\n\t\t\tbodyNode.classList.add('_scroll-lock');\r\n\t\t} else {\r\n\t\t\treset();\r\n\t\t}\r\n\t}, [visible]);\r\n\r\n\tconst closeModal = () => {\r\n\t\tif (isObligatory) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tsetVisible(false);\r\n\t}\r\n\t\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName={classes}\r\n\t\t\tonMouseDown={closeModal}\r\n\t\t\tonTransitionEnd={(e) => {\r\n\t\t\t\tif (visible) {\r\n\t\t\t\t\tconst isScrollable = e.target.scrollHeight > e.target.clientHeight;\r\n\t\t\t\t\tif (isScrollable) {\r\n\t\t\t\t\t\te.target.style.alignItems = \"flex-start\";\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\te.target.style.alignItems = \"\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div\r\n\t\t\t\tclassName=\"modal__content-wrapper\"\r\n\t\t\t\tonTransitionEnd={(e) => {\r\n\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<div className=\"modal__content\" onMouseDown={e => e.stopPropagation()}>\r\n\t\t\t\t\t{children}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t{!isObligatory && \r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName=\"close-btn\" \r\n\t\t\t\t\tonClick={closeModal} \r\n\t\t\t\t\tonTransitionEnd={(e) => e.stopPropagation()}\r\n\t\t\t\t/>}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Modal;","import React, { useState } from 'react';\r\nimport Modal from './Modal';\r\nimport './ChooseMarketModal.scss';\r\nimport { marketsList } from '../../utils/constants';\r\n\r\nconst ChooseMarketModal = (props) => {\r\n\tconst {\r\n\t\tvisible,\r\n\t\tsetVisible,\r\n\t\tsetMarkets,\r\n\t\tmarkets,\r\n\t\tliqs,\r\n\t} = props;\r\n\r\n\r\n\tconst [draftMarkets, setDraftMarkets] = useState(markets);\r\n\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\tclassName=\"ChooseMarket\"\r\n\t\t\tvisible={visible}\r\n\t\t\tsetVisible={setVisible}\r\n\t\t\tresetModal={() => {\r\n\t\t\t\tif (draftMarkets.length) {\r\n\t\t\t\t\tsetMarkets(draftMarkets.slice());\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetMarkets(marketsList.slice());\r\n\t\t\t\t}\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<h1 className=\"ChooseMarket__title modal__title\">\r\n\t\t\t\tChoose Markets\r\n\t\t\t</h1>\r\n\t\t\t<div className=\"ChooseMarket__items\">\r\n\t\t\t\t{\r\n\t\t\t\t\tmarketsList.map(market => {\r\n\t\t\t\t\t\tconst icon = require(`../../../img/icon-${market.name}.svg`).default;\r\n\t\t\t\t\t\tif (!liqs) {\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tconst liqInfo = liqs[market.name];\r\n\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName=\"ChooseMarket__item App-box\"\r\n\t\t\t\t\t\t\t\tkey={market.name}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<div className=\"ChooseMarket__item-header\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"ChooseMarket__item-name\">\r\n\t\t\t\t\t\t\t\t\t\t<img src={icon ?? ''} alt={market.name + \" Icon\"} />\r\n\t\t\t\t\t\t\t\t\t\t{market.name}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"ChooseMarket__item-checkbox input-container\">\r\n\t\t\t\t\t\t\t\t\t\t<input \r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\" \r\n\t\t\t\t\t\t\t\t\t\t\tdefaultChecked={!!draftMarkets?.find((el) => el.name === market.name)}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (e.target.checked) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdraftMarkets.push(market);\r\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst index = draftMarkets.findIndex(el => el.name === market.name);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdraftMarkets.splice(index, 1)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<label />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"ChooseMarket__item-info text-table\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"text-table__row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"text-table__left\">\r\n\t\t\t\t\t\t\t\t\t\t\tAvailable Liquidity\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"text-table__right\">\r\n\t\t\t\t\t\t\t\t\t\t\t${liqInfo?.formattedValue}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t\t<button \r\n\t\t\t\tclassName=\"ChooseMarket__btn btn btn_hlight\"\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\tif (draftMarkets.length) {\r\n\t\t\t\t\t\tsetMarkets(draftMarkets.slice());\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsetMarkets(marketsList.slice());\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsetVisible(false);\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\tConfirm market\r\n\t\t\t</button>\r\n\t\t</Modal>\r\n\t);\r\n};\r\n\r\nexport default ChooseMarketModal;","export const GNS_PAIRS = {\n\tBTC: 0,\n\tETH: 1,\n\tLINK: 2,\n\tUNI: 17,\n};\nexport const WEI_DECIMALS = 18;","import React, { useState } from 'react';\r\nimport { formatForContract } from '../../utils/math';\r\nimport Modal from './Modal';\r\nimport { formatAmount, USD_DECIMALS } from './../../../views/gmx-test/lib/legacy';\r\nimport NumberInput_v3 from './../input/NumberInput_v3';\r\n\r\nconst SLTPModal = (props) => {\r\n\tconst {\r\n\t\tvisible,\r\n\t\tsetVisible,\r\n\t\tisTP,\r\n\t\tonApply,\r\n\t\ttitle,\r\n\t\tbtnText,\r\n\t\tposition,\r\n\t} = props;\r\n\r\n\tconst [value, setValue] = useState('');\r\n\tconst [isSubmitting, setIsSubmitting] = useState(false);\r\n\r\n\tconst getError = () => {\r\n\t\tif (!position) {\r\n\t\t\treturn btnText;\r\n\t\t}\r\n\r\n\t\tif (!value) {\r\n\t\t\treturn btnText;\r\n\t\t}\r\n\r\n\t\tif (isSubmitting) {\r\n\t\t\treturn btnText;\r\n\t\t}\r\n\t\t\r\n\t\tconst isLong = position.isLong;\r\n\t\tconst price = Number(formatAmount(position.markPrice, 20, 0, 0));\r\n\t\tconst val = formatForContract(value, 10);\r\n\r\n\t\tif (val === 0) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (!isTP) {\r\n      if ((isLong && val > price) || (!isLong && val < price)) {\r\n        return `${isLong ? 'Long' : 'Short'} SL can't be ${isLong ? 'greater' : 'less'} than mark price`;\r\n      }\r\n    }\r\n    if (isTP) {\r\n      if ((isLong && val < price) || (!isLong && val > price)) {\r\n        return `${isLong ? 'Long' : 'Short'} TP can't be ${isLong ? 'less' : 'greater'} than mark price`;\r\n      }\r\n    }\r\n\t}\r\n\r\n\tconst getBtnText = () => {\r\n\t\tconst error = getError();\r\n\t\tif (error) {\r\n\t\t\treturn error;\r\n\t\t}\r\n\r\n\t\treturn btnText;\r\n\t}\r\n\tconst isBtnEnabled = () => {\r\n\t\tconst hasError = Boolean(getError());\r\n\t\t\r\n\t\tif (hasError) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\tclassName=\"modal_SLTP\"\r\n\t\t\tvisible={visible}\r\n\t\t\tsetVisible={setVisible}\r\n\t\t\tresetModal={() => setValue('')}\r\n\t\t>\r\n\t\t\t<h1 className=\"modal__title\">{title}</h1>\r\n\t\t\t<div className=\"modal__body\">\r\n\t\t\t\t<NumberInput_v3\r\n\t\t\t\t\ttitle='Price'\r\n\t\t\t\t\tvalue={value}\r\n\t\t\t\t\tsetValue={setValue}\r\n\t\t\t\t\tdisplayValue={formatAmount(position?.markPrice, USD_DECIMALS, 2, true)}\r\n\t\t\t\t\tdisplayValueTitle={'Mark'}\r\n\t\t\t\t/>\r\n\t\t\t\t<div className=\"text-inline\">\r\n\t\t\t\t\t<p style={{fontSize: 15, lineHeight: 19.5/15}}>\r\n\t\t\t\t\t\tTo remove, set the value to 0\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<button \r\n\t\t\t\t\tclassName=\"SLTP__btn modal__btn btn btn_hlight\"\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tsetIsSubmitting(true);\r\n\t\t\t\t\t\tonApply(value, setIsSubmitting);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tdisabled={!isBtnEnabled()}\r\n\t\t\t\t>\r\n\t\t\t\t\t{getBtnText()}\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</Modal>\r\n\t);\r\n};\r\n\r\nexport default SLTPModal;","import { ethers } from 'ethers';\r\n\r\nexport const alchemyProvider = new ethers.providers.AlchemyProvider(\"arbitrum\", 'tz_aYA5g8dBegbWo1l6TQEY7cKhGZCh1');\r\n\r\nexport const mmProvider = window.ethereum ? new ethers.providers.Web3Provider(window.ethereum) : undefined;\r\n\r\nexport const signer = mmProvider?.getSigner();","const CONTRACTS = {\r\n  56: {\r\n    // bsc mainnet\r\n    Treasury: \"0xa44E7252a0C137748F523F112644042E5987FfC7\",\r\n    BUSD: \"0xe9e7cea3dedca5984780bafc599bd69add087d56\",\r\n    GMT: \"0x99e92123eB77Bc8f999316f622e5222498438784\",\r\n    Vault: \"0xc73A8DcAc88498FD4b4B1b2AaA37b0a2614Ff67B\",\r\n    Router: \"0xD46B23D042E976F8666F554E928e0Dc7478a8E1f\",\r\n    Reader: \"0x087A618fD25c92B61254DBe37b09E5E8065FeaE7\",\r\n    AmmFactory: \"0xBCfCcbde45cE874adCB698cC183deBcF17952812\",\r\n    AmmFactoryV2: \"0xcA143Ce32Fe78f1f7019d7d551a6402fC5350c73\",\r\n    OrderBook: \"0x1111111111111111111111111111111111111111\",\r\n    OrderBookReader: \"0x1111111111111111111111111111111111111111\",\r\n    GmxMigrator: \"0xDEF2af818514c1Ca1A9bBe2a4D45E28f260063f9\",\r\n    USDG: \"0x85E76cbf4893c1fbcB34dCF1239A91CE2A4CF5a7\",\r\n    NATIVE_TOKEN: \"0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c\",\r\n    XGMT: \"0xe304ff0983922787Fd84BC9170CD21bF78B16B10\",\r\n    GMT_USDG_PAIR: \"0xa41e57459f09a126F358E118b693789d088eA8A0\",\r\n    XGMT_USDG_PAIR: \"0x0b622208fc0691C2486A3AE6B7C875b4A174b317\",\r\n    GMT_USDG_FARM: \"0x3E8B08876c791dC880ADC8f965A02e53Bb9C0422\",\r\n    XGMT_USDG_FARM: \"0x68D7ee2A16AB7c0Ee1D670BECd144166d2Ae0759\",\r\n    USDG_YIELD_TRACKER: \"0x0EF0Cf825B8e9F89A43FfD392664131cFB4cfA89\",\r\n    XGMT_YIELD_TRACKER: \"0x82A012A9b3003b18B6bCd6052cbbef7Fa4892e80\",\r\n    GMT_USDG_FARM_TRACKER_XGMT: \"0x08FAb024BEfcb6068847726b2eccEAd18b6c23Cd\",\r\n    GMT_USDG_FARM_TRACKER_NATIVE: \"0xd8E26637B34B2487Cad1f91808878a391134C5c2\",\r\n    XGMT_USDG_FARM_TRACKER_XGMT: \"0x026A02F7F26C1AFccb9Cba7C4df3Dc810F4e92e8\",\r\n    XGMT_USDG_FARM_TRACKER_NATIVE: \"0x22458CEbD14a9679b2880147d08CA1ce5aa40E84\",\r\n    AUTO: \"0xa184088a740c695E156F91f5cC086a06bb78b827\",\r\n    AUTO_USDG_PAIR: \"0x0523FD5C53ea5419B4DAF656BC1b157dDFE3ce50\",\r\n    AUTO_USDG_FARM: \"0xE6958298328D02051769282628a3b4178D0F3A47\",\r\n    AUTO_USDG_FARM_TRACKER_XGMT: \"0x093b8be41c1A30704De84a9521632f9a139c08bd\",\r\n    AUTO_USDG_FARM_TRACKER_NATIVE: \"0x23ed48E5dce3acC7704d0ce275B7b9a0e346b63A\",\r\n    GMT_GMX_IOU: \"0x47052469970C2484729875CC9E2dd2683fcE71fb\",\r\n    XGMT_GMX_IOU: \"0xeB3733DFe3b68C9d26898De2493A3Bb59FDb4A7B\",\r\n    GMT_USDG_GMX_IOU: \"0x481312655F81b5e249780A6a49735335BF6Ca7f4\",\r\n    XGMT_USDG_GMX_IOU: \"0x8095F1A92526C304623483018aA28cC6E62EB1e1\",\r\n  },\r\n  97: {\r\n    // bsc testnet\r\n    Vault: \"0x1B183979a5cd95FAF392c8002dbF0D5A1C687D9a\",\r\n    Router: \"0x10800f683aa564534497a5b67F45bE3556a955AB\",\r\n    Reader: \"0x98D4742F1B6a821bae672Cd8721283b91996E454\",\r\n    AmmFactory: \"0x6725f303b657a9451d8ba641348b6761a6cc7a17\",\r\n    AmmFactoryV2: \"0x1111111111111111111111111111111111111111\",\r\n    OrderBook: \"0x9afD7B4f0b58d65F6b2978D3581383a06b2ac4e9\",\r\n    OrderBookReader: \"0x0713562970D1A802Fa3FeB1D15F9809943982Ea9\",\r\n    GmxMigrator: \"0xDEF2af818514c1Ca1A9bBe2a4D45E28f260063f9\",\r\n    USDG: \"0x2D549bdBf810523fe9cd660cC35fE05f0FcAa028\",\r\n    GMT: \"0xedba0360a44f885ed390fad01aa34d00d2532817\",\r\n    NATIVE_TOKEN: \"0x612777Eea37a44F7a95E3B101C39e1E2695fa6C2\",\r\n    XGMT: \"0x28cba798eca1a3128ffd1b734afb93870f22e613\",\r\n    GMT_USDG_PAIR: \"0xe0b0a315746f51932de033ab27223d85114c6b85\",\r\n    XGMT_USDG_PAIR: \"0x0108de1eea192ce8448080c3d90a1560cf643fa0\",\r\n    GMT_USDG_FARM: \"0xbe3cB06CE03cA692b77902040479572Ba8D01b0B\",\r\n    XGMT_USDG_FARM: \"0x138E92195D4B99CE3618092D3F9FA830d9A69B4b\",\r\n    USDG_YIELD_TRACKER: \"0x62B49Bc3bF252a5DB26D88ccc7E61119e3179B4f\",\r\n    XGMT_YIELD_TRACKER: \"0x5F235A582e0993eE9466FeEb8F7B4682993a57d0\",\r\n    GMT_USDG_FARM_TRACKER_XGMT: \"0x4f8EE3aE1152422cbCaFACd4e3041ba2D859913C\",\r\n    GMT_USDG_FARM_TRACKER_NATIVE: \"0xd691B26E544Fe370f39A776964c991363aF72e56\",\r\n    XGMT_USDG_FARM_TRACKER_XGMT: \"0xfd5617CFB082Ba9bcD62d654603972AE312bC695\",\r\n    XGMT_USDG_FARM_TRACKER_NATIVE: \"0x0354387DD85b7D8aaD1611B3D167A384d6AE0c28\",\r\n    GMT_GMX_IOU: \"0x47052469970C2484729875CC9E2dd2683fcE71fb\",\r\n    XGMT_GMX_IOU: \"0xeB3733DFe3b68C9d26898De2493A3Bb59FDb4A7B\",\r\n    GMT_USDG_GMX_IOU: \"0x481312655F81b5e249780A6a49735335BF6Ca7f4\",\r\n    XGMT_USDG_GMX_IOU: \"0x8095F1A92526C304623483018aA28cC6E62EB1e1\",\r\n  },\r\n  421611: {\r\n    // arbitrum testnet\r\n    Vault: \"0xBc9BC47A7aB63db1E0030dC7B60DDcDe29CF4Ffb\",\r\n    Router: \"0xe0d4662cdfa2d71477A7DF367d5541421FAC2547\",\r\n    VaultReader: \"0xFc371E380262536c819D12B9569106bf032cC41c\",\r\n    Reader: \"0x2E093c70E3A7E4919611d2555dFd8D697d2fC0a1\",\r\n    GlpManager: \"0xD875d99E09118d2Be80579b9d23E83469077b498\",\r\n    RewardRouter: \"0x0000000000000000000000000000000000000000\",\r\n    RewardReader: \"0x0000000000000000000000000000000000000000\",\r\n    NATIVE_TOKEN: \"0xB47e6A5f8b33b3F17603C83a0535A9dcD7E32681\",\r\n    GLP: \"0xb4f81Fa74e06b5f762A104e47276BA9b2929cb27\",\r\n    GMX: \"0x0000000000000000000000000000000000000000\",\r\n    ES_GMX: \"0x0000000000000000000000000000000000000000\",\r\n    BN_GMX: \"0x0000000000000000000000000000000000000000\",\r\n    USDG: \"0xBCDCaF67193Bf5C57be08623278fCB69f4cA9e68\",\r\n    ES_GMX_IOU: \"0x0000000000000000000000000000000000000000\",\r\n    StakedGmxTracker: \"0x0000000000000000000000000000000000000000\",\r\n    BonusGmxTracker: \"0x0000000000000000000000000000000000000000\",\r\n    FeeGmxTracker: \"0x0000000000000000000000000000000000000000\",\r\n    StakedGlpTracker: \"0x0000000000000000000000000000000000000000\",\r\n    FeeGlpTracker: \"0x0000000000000000000000000000000000000000\",\r\n\r\n    StakedGmxDistributor: \"0x0000000000000000000000000000000000000000\",\r\n    StakedGlpDistributor: \"0x0000000000000000000000000000000000000000\",\r\n\r\n    GmxVester: \"0x0000000000000000000000000000000000000000\",\r\n    GlpVester: \"0x0000000000000000000000000000000000000000\",\r\n\r\n    OrderBook: \"0xebD147E5136879520dDaDf1cA8FBa48050EFf016\",\r\n    OrderBookReader: \"0xC492c8d82DC576Ad870707bb40EDb63E2026111E\",\r\n\r\n    PositionRouter: \"0xB4bB78cd12B097603e2b55D2556c09C17a5815F8\",\r\n    PositionManager: \"0x168aDa266c2f10C1F37973B213d6178551030e44\",\r\n\r\n    // UniswapGmxEthPool: \"0x80A9ae39310abf666A87C743d6ebBD0E8C42158E\",\r\n    ReferralStorage: \"0x0000000000000000000000000000000000000000\",\r\n    ReferralReader: \"0x0000000000000000000000000000000000000000\",\r\n  },\r\n  42161: {\r\n    // arbitrum mainnet\r\n    Vault: \"0x489ee077994B6658eAfA855C308275EAd8097C4A\",\r\n    Router: \"0xaBBc5F99639c9B6bCb58544ddf04EFA6802F4064\",\r\n    VaultReader: \"0xfebB9f4CAC4cD523598fE1C5771181440143F24A\",\r\n    Reader: \"0x2b43c90D1B727cEe1Df34925bcd5Ace52Ec37694\",\r\n    GlpManager: \"0x3963FfC9dff443c2A94f21b129D429891E32ec18\",\r\n    RewardRouter: \"0xA906F338CB21815cBc4Bc87ace9e68c87eF8d8F1\",\r\n    GlpRewardRouter: \"0xB95DB5B167D75e6d04227CfFFA61069348d271F5\",\r\n    RewardReader: \"0x8BFb8e82Ee4569aee78D03235ff465Bd436D40E0\",\r\n    NATIVE_TOKEN: \"0x82aF49447D8a07e3bd95BD0d56f35241523fBab1\",\r\n    GLP: \"0x4277f8F2c384827B5273592FF7CeBd9f2C1ac258\",\r\n    GMX: \"0xfc5A1A6EB076a2C7aD06eD22C90d7E710E35ad0a\",\r\n    ES_GMX: \"0xf42Ae1D54fd613C9bb14810b0588FaAa09a426cA\",\r\n    BN_GMX: \"0x35247165119B69A40edD5304969560D0ef486921\",\r\n    USDG: \"0x45096e7aA921f27590f8F19e457794EB09678141\",\r\n    ES_GMX_IOU: \"0x6260101218eC4cCfFF1b778936C6f2400f95A954\",\r\n    StakedGmxTracker: \"0x908C4D94D34924765f1eDc22A1DD098397c59dD4\",\r\n    BonusGmxTracker: \"0x4d268a7d4C16ceB5a606c173Bd974984343fea13\",\r\n    FeeGmxTracker: \"0xd2D1162512F927a7e282Ef43a362659E4F2a728F\",\r\n    StakedGlpTracker: \"0x1aDDD80E6039594eE970E5872D247bf0414C8903\",\r\n    FeeGlpTracker: \"0x4e971a87900b931fF39d1Aad67697F49835400b6\",\r\n\r\n    StakedGmxDistributor: \"0x23208B91A98c7C1CD9FE63085BFf68311494F193\",\r\n    StakedGlpDistributor: \"0x60519b48ec4183a61ca2B8e37869E675FD203b34\",\r\n\r\n    GmxVester: \"0x199070DDfd1CFb69173aa2F7e20906F26B363004\",\r\n    GlpVester: \"0xA75287d2f8b217273E7FCD7E86eF07D33972042E\",\r\n\r\n    OrderBook: \"0x09f77E8A13De9a35a7231028187e9fD5DB8a2ACB\",\r\n    OrderExecutor: \"0x7257ac5D0a0aaC04AA7bA2AC0A6Eb742E332c3fB\",\r\n    OrderBookReader: \"0xa27C20A7CF0e1C68C0460706bB674f98F362Bc21\",\r\n\r\n    PositionRouter: \"0xb87a436B93fFE9D75c5cFA7bAcFff96430b09868\",\r\n    PositionManager: \"0x75E42e6f01baf1D6022bEa862A28774a9f8a4A0C\",\r\n\r\n    UniswapGmxEthPool: \"0x80A9ae39310abf666A87C743d6ebBD0E8C42158E\",\r\n    ReferralStorage: \"0xe6fab3f0c7199b0d34d7fbe83394fc0e0d06e99d\",\r\n    ReferralReader: \"0x8Aa382760BCdCe8644C33e6C2D52f6304A76F5c8\",\r\n\r\n    Multicall: \"0xcA11bde05977b3631167028862bE2a173976CA11\",\r\n  },\r\n  43114: {\r\n    // avalanche\r\n    Vault: \"0x9ab2De34A33fB459b538c43f251eB825645e8595\",\r\n    Router: \"0x5F719c2F1095F7B9fc68a68e35B51194f4b6abe8\",\r\n    VaultReader: \"0x66eC8fc33A26feAEAe156afA3Cb46923651F6f0D\",\r\n    Reader: \"0x2eFEE1950ededC65De687b40Fd30a7B5f4544aBd\",\r\n    GlpManager: \"0xe1ae4d4b06A5Fe1fc288f6B4CD72f9F8323B107F\",\r\n    RewardRouter: \"0x82147C5A7E850eA4E28155DF107F2590fD4ba327\",\r\n    RewardReader: \"0x04Fc11Bd28763872d143637a7c768bD96E44c1b6\",\r\n    NATIVE_TOKEN: \"0xB31f66AA3C1e785363F0875A1B74E27b85FD66c7\",\r\n    GLP: \"0x01234181085565ed162a948b6a5e88758CD7c7b8\",\r\n    GMX: \"0x62edc0692BD897D2295872a9FFCac5425011c661\",\r\n    ES_GMX: \"0xFf1489227BbAAC61a9209A08929E4c2a526DdD17\",\r\n    BN_GMX: \"0x8087a341D32D445d9aC8aCc9c14F5781E04A26d2\",\r\n    USDG: \"0xc0253c3cC6aa5Ab407b5795a04c28fB063273894\",\r\n    ES_GMX_IOU: \"0x6260101218eC4cCfFF1b778936C6f2400f95A954\", // placeholder address\r\n\r\n    StakedGmxTracker: \"0x2bD10f8E93B3669b6d42E74eEedC65dd1B0a1342\",\r\n    BonusGmxTracker: \"0x908C4D94D34924765f1eDc22A1DD098397c59dD4\",\r\n    FeeGmxTracker: \"0x4d268a7d4C16ceB5a606c173Bd974984343fea13\",\r\n    StakedGlpTracker: \"0x9e295B5B976a184B14aD8cd72413aD846C299660\",\r\n    FeeGlpTracker: \"0xd2D1162512F927a7e282Ef43a362659E4F2a728F\",\r\n\r\n    StakedGmxDistributor: \"0xfc5A1A6EB076a2C7aD06eD22C90d7E710E35ad0a\",\r\n    StakedGlpDistributor: \"0xDd593Cf40734199afc9207eBe9ffF23dA4Bf7720\",\r\n\r\n    GmxVester: \"0x472361d3cA5F49c8E633FB50385BfaD1e018b445\",\r\n    GlpVester: \"0x62331A7Bd1dfB3A7642B7db50B5509E57CA3154A\",\r\n\r\n    OrderBook: \"0x4296e307f108B2f583FF2F7B7270ee7831574Ae5\",\r\n    OrderExecutor: \"0x4296e307f108B2f583FF2F7B7270ee7831574Ae5\",\r\n    OrderBookReader: \"0xccFE3E576f8145403d3ce8f3c2f6519Dae40683B\",\r\n\r\n    PositionRouter: \"0xffF6D276Bc37c61A23f06410Dce4A400f66420f8\",\r\n    PositionManager: \"0xA21B83E579f4315951bA658654c371520BDcB866\",\r\n\r\n    TraderJoeGmxAvaxPool: \"0x0c91a070f862666bbcce281346be45766d874d98\",\r\n    ReferralStorage: \"0x827ed045002ecdabeb6e2b0d1604cf5fc3d322f8\",\r\n    ReferralReader: \"0x505Ce16D3017be7D76a7C2631C0590E71A975083\",\r\n  },\r\n};\r\n\r\nexport function getContract(chainId, name, market) {\r\n  if (!CONTRACTS[chainId]) {\r\n    throw new Error(`Unknown chainId ${chainId}`);\r\n  }\r\n  if (!CONTRACTS[chainId][name]) {\r\n    throw new Error(`Unknown contract \"${name}\" for chainId ${chainId}`);\r\n  }\r\n  return CONTRACTS[chainId][name];\r\n}\r\n\r\nexport const XGMT_EXCLUDED_ACCOUNTS = [\r\n  \"0x330eef6b9b1ea6edd620c825c9919dc8b611d5d5\",\r\n  \"0xd9b1c23411adbb984b1c4be515fafc47a12898b2\",\r\n  \"0xa633158288520807f91ccc98aa58e0ea43acb400\",\r\n  \"0xffd0a93b4362052a336a7b22494f1b77018dd34b\",\r\n];\r\n","import { ethers } from \"ethers\";\r\nimport { getContract } from \"./Addresses\";\r\n\r\nconst TOKENS = {\r\n  56: [\r\n    {\r\n      name: \"Bitcoin (BTCB)\",\r\n      symbol: \"BTC\",\r\n      decimals: 18,\r\n      address: \"0x7130d2A12B9BCbFAe4f2634d864A1Ee1Ce3Ead9c\",\r\n      coingeckoUrl: \"https://www.coingecko.com/en/coins/binance-bitcoin\",\r\n      imageUrl: \"https://assets.coingecko.com/coins/images/14108/small/Binance-bitcoin.png\",\r\n    },\r\n    {\r\n      name: \"Ethereum\",\r\n      symbol: \"ETH\",\r\n      decimals: 18,\r\n      address: \"0x2170Ed0880ac9A755fd29B2688956BD959F933F8\",\r\n      coingeckoUrl: \"https://www.coingecko.com/en/coins/ethereum\",\r\n      imageUrl: \"https://assets.coingecko.com/coins/images/279/small/ethereum.png\",\r\n    },\r\n    {\r\n      name: \"Binance Coin\",\r\n      symbol: \"BNB\",\r\n      decimals: 18,\r\n      address: ethers.constants.AddressZero,\r\n      coingeckoUrl: \"https://www.coingecko.com/en/coins/binance-coin\",\r\n      imageUrl: \"https://assets.coingecko.com/coins/images/825/small/binance-coin-logo.png\",\r\n      isNative: true,\r\n    },\r\n    {\r\n      name: \"Wrapped Binance Coin\",\r\n      symbol: \"WBNB\",\r\n      decimals: 18,\r\n      address: getContract(56, \"NATIVE_TOKEN\"),\r\n      isWrapped: true,\r\n      coingeckoUrl: \"https://www.coingecko.com/en/coins/binance-coin\",\r\n      imageUrl: \"https://assets.coingecko.com/coins/images/825/small/binance-coin-logo.png\",\r\n      baseSymbol: \"BNB\",\r\n    },\r\n    {\r\n      name: \"USD Gambit\",\r\n      symbol: \"USDG\",\r\n      decimals: 18,\r\n      address: getContract(56, \"USDG\"),\r\n      isUsdg: true,\r\n      coingeckoUrl: \"https://www.coingecko.com/en/coins/usd-gambit\",\r\n      imageUrl: \"https://assets.coingecko.com/coins/images/15886/small/usdg-02.png\",\r\n    },\r\n    {\r\n      name: \"Binance USD\",\r\n      symbol: \"BUSD\",\r\n      decimals: 18,\r\n      address: \"0xe9e7CEA3DedcA5984780Bafc599bD69ADd087D56\",\r\n      isStable: true,\r\n      coingeckoUrl: \"https://www.coingecko.com/en/coins/binance-usd\",\r\n      imageUrl: \"https://assets.coingecko.com/coins/images/9576/small/BUSD.png\",\r\n    },\r\n    {\r\n      name: \"USD Coin\",\r\n      symbol: \"USDC\",\r\n      decimals: 18,\r\n      address: \"0x8AC76a51cc950d9822D68b83fE1Ad97B32Cd580d\",\r\n      isStable: true,\r\n      coingeckoUrl: \"https://www.coingecko.com/en/coins/usd-coin\",\r\n      imageUrl: \"https://assets.coingecko.com/coins/images/6319/small/USD_Coin_icon.png\",\r\n    },\r\n    {\r\n      name: \"Tether\",\r\n      symbol: \"USDT\",\r\n      decimals: 18,\r\n      address: \"0x55d398326f99059fF775485246999027B3197955\",\r\n      isStable: true,\r\n      coingeckoUrl: \"https://www.coingecko.com/en/coins/tether\",\r\n      imageUrl: \"https://assets.coingecko.com/coins/images/325/small/Tether-logo.png\",\r\n    },\r\n  ],\r\n  97: [\r\n    {\r\n      name: \"Bitcoin (BTCB)\",\r\n      symbol: \"BTC\",\r\n      decimals: 8,\r\n      address: \"0xb19C12715134bee7c4b1Ca593ee9E430dABe7b56\",\r\n    },\r\n    {\r\n      name: \"Ethereum\",\r\n      symbol: \"ETH\",\r\n      decimals: 18,\r\n      address: \"0x1958f7C067226c7C8Ac310Dc994D0cebAbfb2B02\",\r\n    },\r\n    {\r\n      name: \"Binance Coin\",\r\n      symbol: \"BNB\",\r\n      decimals: 18,\r\n      address: ethers.constants.AddressZero,\r\n      isNative: true,\r\n    },\r\n    {\r\n      name: \"Wrapped Binance Coin\",\r\n      symbol: \"WBNB\",\r\n      decimals: 18,\r\n      address: \"0x612777Eea37a44F7a95E3B101C39e1E2695fa6C2\",\r\n      isWrapped: true,\r\n      baseSymbol: \"BNB\",\r\n    },\r\n    {\r\n      name: \"USD Gambit\",\r\n      symbol: \"USDG\",\r\n      decimals: 18,\r\n      address: getContract(97, \"USDG\"),\r\n      isUsdg: true,\r\n    },\r\n    {\r\n      name: \"Binance USD\",\r\n      symbol: \"BUSD\",\r\n      decimals: 18,\r\n      address: \"0x3F223C4E5ac67099CB695834b20cCd5E5D5AA9Ef\",\r\n      isStable: true,\r\n    },\r\n  ],\r\n  421611: [\r\n    {\r\n      name: \"Bitcoin\",\r\n      symbol: \"BTC\",\r\n      decimals: 8,\r\n      address: \"0x27960f9A322BE96A1535E6c19B3958e80E6a2670\",\r\n      isShortable: true,\r\n    },\r\n    {\r\n      name: \"Ethereum\",\r\n      symbol: \"ETH\",\r\n      decimals: 18,\r\n      address: ethers.constants.AddressZero,\r\n      isNative: true,\r\n      isShortable: true,\r\n    },\r\n    // https://github.com/OffchainLabs/arbitrum/blob/950c2f91b2e951cd3764394e0a73eac3797aecf3/packages/arb-ts/src/lib/networks.ts#L65\r\n    {\r\n      name: \"Wrapped Ethereum\",\r\n      symbol: \"WETH\",\r\n      decimals: 18,\r\n      address: \"0xB47e6A5f8b33b3F17603C83a0535A9dcD7E32681\",\r\n      isWrapped: true,\r\n      baseSymbol: \"ETH\",\r\n    },\r\n    {\r\n      name: \"USD Coin\",\r\n      symbol: \"USDC\",\r\n      decimals: 6,\r\n      address: \"0xf0DCd4737A20ED33481A49De94C599944a3Ca737\",\r\n      isStable: true,\r\n    },\r\n    {\r\n      name: \"Tether\",\r\n      symbol: \"USDT\",\r\n      decimals: 6,\r\n      address: \"0x818ED84bA1927945b631016e0d402Db50cE8865f\",\r\n      isStable: true,\r\n    },\r\n  ],\r\n  42161: [\r\n    {\r\n      name: \"Ethereum\",\r\n      symbol: \"ETH\",\r\n      decimals: 18,\r\n      address: ethers.constants.AddressZero,\r\n      isNative: true,\r\n      isShortable: true,\r\n      imageUrl: \"https://assets.coingecko.com/coins/images/279/small/ethereum.png?1595348880\",\r\n    },\r\n    {\r\n      name: \"Wrapped Ethereum\",\r\n      symbol: \"WETH\",\r\n      decimals: 18,\r\n      address: \"0x82aF49447D8a07e3bd95BD0d56f35241523fBab1\",\r\n      isWrapped: true,\r\n      baseSymbol: \"ETH\",\r\n      imageUrl: \"https://assets.coingecko.com/coins/images/2518/thumb/weth.png?1628852295\",\r\n    },\r\n    {\r\n      name: \"Bitcoin (WBTC)\",\r\n      symbol: \"BTC\",\r\n      decimals: 8,\r\n      address: \"0x2f2a2543B76A4166549F7aaB2e75Bef0aefC5B0f\",\r\n      isShortable: true,\r\n      imageUrl: \"https://assets.coingecko.com/coins/images/7598/thumb/wrapped_bitcoin_wbtc.png?1548822744\",\r\n    },\r\n    {\r\n      name: \"Chainlink\",\r\n      symbol: \"LINK\",\r\n      decimals: 18,\r\n      address: \"0xf97f4df75117a78c1A5a0DBb814Af92458539FB4\",\r\n      isStable: false,\r\n      isShortable: true,\r\n      imageUrl: \"https://assets.coingecko.com/coins/images/877/thumb/chainlink-new-logo.png?1547034700\",\r\n    },\r\n    {\r\n      name: \"Uniswap\",\r\n      symbol: \"UNI\",\r\n      decimals: 18,\r\n      address: \"0xFa7F8980b0f1E64A2062791cc3b0871572f1F7f0\",\r\n      isStable: false,\r\n      isShortable: true,\r\n      imageUrl: \"https://assets.coingecko.com/coins/images/12504/thumb/uniswap-uni.png?1600306604\",\r\n    },\r\n    {\r\n      name: \"USD Coin\",\r\n      symbol: \"USDC\",\r\n      decimals: 6,\r\n      address: \"0xFF970A61A04b1cA14834A43f5dE4533eBDDB5CC8\",\r\n      isStable: true,\r\n      imageUrl: \"https://assets.coingecko.com/coins/images/6319/thumb/USD_Coin_icon.png?1547042389\",\r\n    },\r\n    {\r\n      name: \"Tether\",\r\n      symbol: \"USDT\",\r\n      decimals: 6,\r\n      address: \"0xFd086bC7CD5C481DCC9C85ebE478A1C0b69FCbb9\",\r\n      isStable: true,\r\n      imageUrl: \"https://assets.coingecko.com/coins/images/325/thumb/Tether-logo.png?1598003707\",\r\n    },\r\n    {\r\n      name: \"Dai\",\r\n      symbol: \"DAI\",\r\n      decimals: 18,\r\n      address: \"0xDA10009cBd5D07dd0CeCc66161FC93D7c9000da1\",\r\n      isStable: true,\r\n      imageUrl: \"https://assets.coingecko.com/coins/images/9956/thumb/4943.png?1636636734\",\r\n    },\r\n    {\r\n      name: \"Frax\",\r\n      symbol: \"FRAX\",\r\n      decimals: 18,\r\n      address: \"0x17FC002b466eEc40DaE837Fc4bE5c67993ddBd6F\",\r\n      isStable: true,\r\n      imageUrl: \"https://assets.coingecko.com/coins/images/13422/small/frax_logo.png?1608476506\",\r\n    },\r\n    {\r\n      name: \"Magic Internet Money\",\r\n      symbol: \"MIM\",\r\n      decimals: 18,\r\n      address: \"0xFEa7a6a0B346362BF88A9e4A88416B77a57D6c2A\",\r\n      isStable: true,\r\n      isTempHidden: true,\r\n      imageUrl: \"https://assets.coingecko.com/coins/images/16786/small/mimlogopng.png\",\r\n    },\r\n  ],\r\n  43114: [\r\n    {\r\n      name: \"Avalanche\",\r\n      symbol: \"AVAX\",\r\n      decimals: 18,\r\n      address: ethers.constants.AddressZero,\r\n      isNative: true,\r\n      isShortable: true,\r\n      imageUrl: \"https://assets.coingecko.com/coins/images/12559/small/coin-round-red.png?1604021818\",\r\n    },\r\n    {\r\n      name: \"Wrapped AVAX\",\r\n      symbol: \"WAVAX\",\r\n      decimals: 18,\r\n      address: \"0xB31f66AA3C1e785363F0875A1B74E27b85FD66c7\",\r\n      isWrapped: true,\r\n      baseSymbol: \"AVAX\",\r\n      imageUrl: \"https://assets.coingecko.com/coins/images/12559/small/coin-round-red.png?1604021818\",\r\n    },\r\n    {\r\n      name: \"Ethereum (WETH.e)\",\r\n      symbol: \"ETH\",\r\n      address: \"0x49D5c2BdFfac6CE2BFdB6640F4F80f226bc10bAB\",\r\n      decimals: 18,\r\n      isShortable: true,\r\n      imageUrl: \"https://assets.coingecko.com/coins/images/279/small/ethereum.png?1595348880\",\r\n    },\r\n    {\r\n      name: \"Bitcoin (WBTC.e)\",\r\n      symbol: \"BTC\",\r\n      address: \"0x50b7545627a5162F82A992c33b87aDc75187B218\",\r\n      decimals: 8,\r\n      isShortable: true,\r\n      imageUrl: \"https://assets.coingecko.com/coins/images/7598/thumb/wrapped_bitcoin_wbtc.png?1548822744\",\r\n    },\r\n    {\r\n      name: \"Bitcoin (BTC.b)\",\r\n      symbol: \"BTC.b\",\r\n      address: \"0x152b9d0FdC40C096757F570A51E494bd4b943E50\",\r\n      decimals: 8,\r\n      isShortable: false,\r\n      imageUrl: \"https://assets.coingecko.com/coins/images/26115/thumb/btcb.png?1655921693\",\r\n    },\r\n    {\r\n      name: \"USD Coin (USDC.e)\",\r\n      symbol: \"USDC.e\",\r\n      address: \"0xA7D7079b0FEaD91F3e65f86E8915Cb59c1a4C664\",\r\n      decimals: 6,\r\n      isStable: true,\r\n      imageUrl: \"https://assets.coingecko.com/coins/images/6319/thumb/USD_Coin_icon.png?1547042389\",\r\n    },\r\n    {\r\n      name: \"USD Coin\",\r\n      symbol: \"USDC\",\r\n      address: \"0xB97EF9Ef8734C71904D8002F8b6Bc66Dd9c48a6E\",\r\n      decimals: 6,\r\n      isStable: true,\r\n      imageUrl: \"https://assets.coingecko.com/coins/images/6319/thumb/USD_Coin_icon.png?1547042389\",\r\n    },\r\n    {\r\n      name: \"Magic Internet Money\",\r\n      symbol: \"MIM\",\r\n      address: \"0x130966628846BFd36ff31a822705796e8cb8C18D\",\r\n      decimals: 18,\r\n      isStable: true,\r\n      isTempHidden: true,\r\n      imageUrl: \"https://assets.coingecko.com/coins/images/16786/small/mimlogopng.png\",\r\n    },\r\n  ],\r\n};\r\n\r\nconst ADDITIONAL_TOKENS = {\r\n  42161: [\r\n    {\r\n      name: \"GMX\",\r\n      symbol: \"GMX\",\r\n      address: getContract(42161, \"GMX\"),\r\n      decimals: 18,\r\n    },\r\n    {\r\n      name: \"Escrowed GMX\",\r\n      symbol: \"esGMX\",\r\n      address: getContract(42161, \"ES_GMX\"),\r\n      decimals: 18,\r\n    },\r\n    {\r\n      name: \"GMX LP\",\r\n      symbol: \"GLP\",\r\n      address: getContract(42161, \"GLP\"),\r\n      decimals: 18,\r\n    },\r\n  ],\r\n  43114: [\r\n    {\r\n      name: \"GMX\",\r\n      symbol: \"GMX\",\r\n      address: getContract(43114, \"GMX\"),\r\n      decimals: 18,\r\n    },\r\n    {\r\n      name: \"Escrowed GMX\",\r\n      symbol: \"esGMX\",\r\n      address: getContract(43114, \"ES_GMX\"),\r\n      decimals: 18,\r\n    },\r\n    {\r\n      name: \"GMX LP\",\r\n      symbol: \"GLP\",\r\n      address: getContract(42161, \"GLP\"),\r\n      decimals: 18,\r\n    },\r\n  ],\r\n};\r\n\r\nconst CHAIN_IDS = [56, 97, 42161, 421611, 43114];\r\n\r\nconst TOKENS_MAP = {};\r\nconst TOKENS_BY_SYMBOL_MAP = {};\r\n\r\nfor (let j = 0; j < CHAIN_IDS.length; j++) {\r\n  const chainId = CHAIN_IDS[j];\r\n  TOKENS_MAP[chainId] = {};\r\n  TOKENS_BY_SYMBOL_MAP[chainId] = {};\r\n  let tokens = TOKENS[chainId];\r\n  if (ADDITIONAL_TOKENS[chainId]) {\r\n    tokens = tokens.concat(ADDITIONAL_TOKENS[chainId]);\r\n  }\r\n\r\n  for (let i = 0; i < tokens.length; i++) {\r\n    const token = tokens[i];\r\n    TOKENS_MAP[chainId][token.address] = token;\r\n    TOKENS_BY_SYMBOL_MAP[chainId][token.symbol] = token;\r\n  }\r\n}\r\n\r\nconst WRAPPED_TOKENS_MAP = {};\r\nconst NATIVE_TOKENS_MAP = {};\r\nfor (const chainId of CHAIN_IDS) {\r\n  for (const token of TOKENS[chainId]) {\r\n    if (token.isWrapped) {\r\n      WRAPPED_TOKENS_MAP[chainId] = token;\r\n    } else if (token.isNative) {\r\n      NATIVE_TOKENS_MAP[chainId] = token;\r\n    }\r\n  }\r\n}\r\n\r\nexport function getWrappedToken(chainId) {\r\n  return WRAPPED_TOKENS_MAP[chainId];\r\n}\r\n\r\nexport function getNativeToken(chainId) {\r\n  return NATIVE_TOKENS_MAP[chainId];\r\n}\r\n\r\nexport function getTokens(chainId) {\r\n  return TOKENS[chainId];\r\n}\r\n\r\nexport function isValidToken(chainId, address) {\r\n  if (!TOKENS_MAP[chainId]) {\r\n    throw new Error(`Incorrect chainId ${chainId}`);\r\n  }\r\n  return address in TOKENS_MAP[chainId];\r\n}\r\n\r\nexport function getToken(chainId, address) {\r\n  if (!TOKENS_MAP[chainId]) {\r\n    throw new Error(`Incorrect chainId ${chainId}`);\r\n  }\r\n  if (!TOKENS_MAP[chainId][address]) {\r\n    throw new Error(`Incorrect address \"${address}\" for chainId ${chainId}`);\r\n  }\r\n  return TOKENS_MAP[chainId][address];\r\n}\r\n\r\nexport function getTokenBySymbol(chainId, symbol) {\r\n  const token = TOKENS_BY_SYMBOL_MAP[chainId][symbol];\r\n  if (!token) {\r\n    throw new Error(`Incorrect symbol \"${symbol}\" for chainId ${chainId}`);\r\n  }\r\n  return token;\r\n}\r\n\r\nexport function getWhitelistedTokens(chainId) {\r\n  return TOKENS[chainId].filter((token) => token.symbol !== \"USDG\");\r\n}\r\n\r\nexport function getVisibleTokens(chainId) {\r\n  return getWhitelistedTokens(chainId).filter((token) => !token.isWrapped && !token.isTempHidden);\r\n}\r\n","import React, { useCallback, useEffect, useRef, useState } from \"react\";\r\nimport { InjectedConnector } from \"@web3-react/injected-connector\";\r\nimport {\r\n  UserRejectedRequestError as UserRejectedRequestErrorWalletConnect,\r\n  WalletConnectConnector,\r\n} from \"@web3-react/walletconnect-connector\";\r\nimport { toast } from \"react-toastify\";\r\nimport { UnsupportedChainIdError, useWeb3React } from \"@web3-react/core\";\r\nimport { useLocalStorage } from \"react-use\";\r\nimport { ethers } from \"ethers\";\r\nimport { format as formatDateFn } from \"date-fns\";\r\nimport Token from \"../abis/Token.json\";\r\nimport _ from \"lodash\";\r\nimport { getContract } from \"../config/Addresses\";\r\nimport useSWR from \"swr\";\r\n\r\nimport OrderBookReader from \"../abis/OrderBookReader.json\";\r\nimport OrderBook from \"../abis/OrderBook.json\";\r\n\r\nimport { getWhitelistedTokens, isValidToken } from \"../config/Tokens\";\r\n\r\nimport callIcon from \"../../../img/icon-call.svg\";\r\nimport putIcon from \"../../../img/icon-put.svg\";\r\nimport putActiveIcon from \"../../../img/icon-put-active.svg\";\r\nimport callActiveIcon from \"../../../img/icon-call-active.svg\";\r\n\r\nconst { AddressZero } = ethers.constants;\r\n\r\nexport const UI_VERSION = \"1.3\";\r\n\r\n// use a random placeholder account instead of the zero address as the zero address might have tokens\r\nexport const PLACEHOLDER_ACCOUNT = ethers.Wallet.createRandom().address;\r\n\r\nexport const MAINNET = 56;\r\nexport const AVALANCHE = 43114;\r\nexport const TESTNET = 97;\r\nexport const ARBITRUM_TESTNET = 421611;\r\nexport const ARBITRUM = 42161;\r\n// TODO take it from web3\r\nexport const DEFAULT_CHAIN_ID = ARBITRUM;\r\nexport const CHAIN_ID = DEFAULT_CHAIN_ID;\r\n\r\nexport const MIN_PROFIT_TIME = 0;\r\n\r\nconst SELECTED_NETWORK_LOCAL_STORAGE_KEY = \"SELECTED_NETWORK\";\r\n\r\nexport const IS_NETWORK_DISABLED = {\r\n  [ARBITRUM]: false,\r\n  [AVALANCHE]: false,\r\n};\r\n\r\nconst CHAIN_NAMES_MAP = {\r\n  [MAINNET]: \"BSC\",\r\n  [TESTNET]: \"BSC Testnet\",\r\n  [ARBITRUM_TESTNET]: \"ArbRinkeby\",\r\n  [ARBITRUM]: \"Arbitrum\",\r\n  [AVALANCHE]: \"Avalanche\",\r\n};\r\n\r\nconst alchemyWhitelistedDomains = [\"gmx.io\", \"app.gmx.io\"];\r\n\r\nexport function getDefaultArbitrumRpcUrl() {\r\n  return \"https://arb1.arbitrum.io/rpc\";\r\n}\r\n\r\nexport function getAlchemyHttpUrl() {\r\n  if (alchemyWhitelistedDomains.includes(window.location.host)) {\r\n    return \"https://arb-mainnet.g.alchemy.com/v2/ha7CFsr1bx5ZItuR6VZBbhKozcKDY4LZ\";\r\n  }\r\n  return \"https://arb-mainnet.g.alchemy.com/v2/EmVYwUw0N2tXOuG0SZfe5Z04rzBsCbr2\";\r\n}\r\n\r\nexport function getAlchemyWsUrl() {\r\n  if (alchemyWhitelistedDomains.includes(window.location.host)) {\r\n    return \"wss://arb-mainnet.g.alchemy.com/v2/ha7CFsr1bx5ZItuR6VZBbhKozcKDY4LZ\";\r\n  }\r\n  return \"wss://arb-mainnet.g.alchemy.com/v2/EmVYwUw0N2tXOuG0SZfe5Z04rzBsCbr2\";\r\n}\r\n\r\nconst ARBITRUM_RPC_PROVIDERS = [getDefaultArbitrumRpcUrl()];\r\nconst AVALANCHE_RPC_PROVIDERS = [\"https://api.avax.network/ext/bc/C/rpc\"];\r\nexport const WALLET_CONNECT_LOCALSTORAGE_KEY = \"walletconnect\";\r\nexport const WALLET_LINK_LOCALSTORAGE_PREFIX = \"-walletlink\";\r\nexport const SHOULD_EAGER_CONNECT_LOCALSTORAGE_KEY = \"eagerconnect\";\r\nexport const CURRENT_PROVIDER_LOCALSTORAGE_KEY = \"currentprovider\";\r\nexport const LANGUAGE_LOCALSTORAGE_KEY = \"LANGUAGE_KEY\";\r\n\r\nexport function getChainName(chainId) {\r\n  return CHAIN_NAMES_MAP[chainId];\r\n}\r\n\r\nexport const USDG_ADDRESS = getContract(CHAIN_ID, \"USDG\");\r\n\r\nexport const BASIS_POINTS_DIVISOR = 10000;\r\nexport const MAX_LEVERAGE = 100 * BASIS_POINTS_DIVISOR;\r\nexport const MAX_ALLOWED_LEVERAGE = 50 * BASIS_POINTS_DIVISOR;\r\n\r\nexport const MAX_PRICE_DEVIATION_BASIS_POINTS = 750;\r\nexport const DEFAULT_GAS_LIMIT = 1 * 1000 * 1000;\r\nexport const SECONDS_PER_YEAR = 31536000;\r\nexport const USDG_DECIMALS = 18;\r\nexport const USD_DECIMALS = 30;\r\nexport const DEPOSIT_FEE = 30;\r\nexport const DUST_BNB = \"2000000000000000\";\r\nexport const DUST_USD = expandDecimals(1, USD_DECIMALS);\r\nexport const PRECISION = expandDecimals(1, 30);\r\nexport const GLP_DECIMALS = 18;\r\nexport const GMX_DECIMALS = 18;\r\nexport const DEFAULT_MAX_USDG_AMOUNT = expandDecimals(200 * 1000 * 1000, 18);\r\n\r\nexport const TAX_BASIS_POINTS = 50;\r\nexport const STABLE_TAX_BASIS_POINTS = 5;\r\nexport const MINT_BURN_FEE_BASIS_POINTS = 25;\r\nexport const SWAP_FEE_BASIS_POINTS = 30;\r\nexport const STABLE_SWAP_FEE_BASIS_POINTS = 1;\r\nexport const MARGIN_FEE_BASIS_POINTS = 10;\r\n\r\nexport const LIQUIDATION_FEE = expandDecimals(5, USD_DECIMALS);\r\n\r\nexport const TRADES_PAGE_SIZE = 100;\r\n\r\nexport const GLP_COOLDOWN_DURATION = 15 * 60;\r\nexport const THRESHOLD_REDEMPTION_VALUE = expandDecimals(993, 27); // 0.993\r\nexport const FUNDING_RATE_PRECISION = 1000000;\r\n\r\nexport const SWAP = \"Swap\";\r\nexport const INCREASE = \"Increase\";\r\nexport const DECREASE = \"Decrease\";\r\nexport const LONG = \"Long\";\r\nexport const SHORT = \"Short\";\r\n\r\nexport const MARKET = \"Market\";\r\nexport const LIMIT = \"Limit\";\r\nexport const STOP = \"Stop\";\r\nexport const BORROW = \"Borrow\";\r\n\r\n// Market/limit orders disabling\r\n// export const LEVERAGE_ORDER_OPTIONS = [MARKET, LIMIT, STOP];\r\nexport const LEVERAGE_ORDER_OPTIONS = [MARKET, LIMIT];\r\n\r\nexport const SWAP_ORDER_OPTIONS = [MARKET, LIMIT];\r\n\r\n\r\n// Options\r\nexport const CALL = \"Call\";\r\nexport const PUT = \"Put\";\r\nexport const SWAP_OPTIONS = [CALL, PUT];\r\nexport const SWAP_ICONS = {\r\n  [CALL]: callIcon,\r\n  [PUT]: putIcon,\r\n  Call_active: callActiveIcon,\r\n  Put_active: putActiveIcon,\r\n};\r\n\r\nexport const TP = \"Take Profit\";\r\nexport const SL = \"Stop Loss\";\r\n\r\n\r\n\r\n// Default Slippage\r\nexport const DEFAULT_SLIPPAGE_AMOUNT = 30;\r\n// export const DEFAULT_SLIPPAGE_AMOUNT = 100;\r\n\r\nexport const DEFAULT_HIGHER_SLIPPAGE_AMOUNT = 100;\r\n\r\nexport const SLIPPAGE_BPS_KEY = \"Exchange-swap-slippage-basis-points-v3\";\r\nexport const CLOSE_POSITION_RECEIVE_TOKEN_KEY = \"Close-position-receive-token\";\r\nexport const IS_PNL_IN_LEVERAGE_KEY = \"Exchange-swap-is-pnl-in-leverage\";\r\nexport const SHOW_PNL_AFTER_FEES_KEY = \"Exchange-swap-show-pnl-after-fees\";\r\nexport const DISABLE_ORDER_VALIDATION_KEY = \"disable-order-validation\";\r\nexport const SHOULD_SHOW_POSITION_LINES_KEY = \"Exchange-swap-should-show-position-lines\";\r\nexport const REFERRAL_CODE_KEY = \"GMX-referralCode\";\r\nexport const REFERRAL_CODE_QUERY_PARAM = \"ref\";\r\nexport const REFERRALS_SELECTED_TAB_KEY = \"Referrals-selected-tab\";\r\nexport const MAX_REFERRAL_CODE_LENGTH = 20;\r\n\r\nexport const TRIGGER_PREFIX_ABOVE = \">\";\r\nexport const TRIGGER_PREFIX_BELOW = \"<\";\r\n\r\nexport const MIN_PROFIT_BIPS = 0;\r\n\r\nexport const GLPPOOLCOLORS = {\r\n  ETH: \"#6062a6\",\r\n  BTC: \"#F7931A\",\r\n  \"BTC.b\": \"#F7931A\",\r\n  USDC: \"#2775CA\",\r\n  \"USDC.e\": \"#2A5ADA\",\r\n  USDT: \"#67B18A\",\r\n  MIM: \"#9695F8\",\r\n  FRAX: \"#000\",\r\n  DAI: \"#FAC044\",\r\n  UNI: \"#E9167C\",\r\n  AVAX: \"#E84142\",\r\n  LINK: \"#3256D6\",\r\n};\r\n\r\nexport const HIGH_EXECUTION_FEES_MAP = {\r\n  [ARBITRUM]: 3, // 3 USD\r\n  [AVALANCHE]: 3, // 3 USD\r\n};\r\n\r\nexport function getHighExecutionFee(chainId) {\r\n  return HIGH_EXECUTION_FEES_MAP[chainId] || 3;\r\n}\r\n\r\nexport const ICONLINKS = {\r\n  [ARBITRUM_TESTNET]: {\r\n    GMX: {\r\n      coingecko: \"https://www.coingecko.com/en/coins/gmx\",\r\n      arbitrum: \"https://arbiscan.io/address/0xfc5a1a6eb076a2c7ad06ed22c90d7e710e35ad0a\",\r\n    },\r\n    GLP: {\r\n      arbitrum: \"https://testnet.arbiscan.io/token/0xb4f81Fa74e06b5f762A104e47276BA9b2929cb27\",\r\n    },\r\n  },\r\n  [ARBITRUM]: {\r\n    GMX: {\r\n      coingecko: \"https://www.coingecko.com/en/coins/gmx\",\r\n      arbitrum: \"https://arbiscan.io/address/0xfc5a1a6eb076a2c7ad06ed22c90d7e710e35ad0a\",\r\n    },\r\n    GLP: {\r\n      arbitrum: \"https://arbiscan.io/token/0x1aDDD80E6039594eE970E5872D247bf0414C8903\",\r\n    },\r\n    ETH: {\r\n      coingecko: \"https://www.coingecko.com/en/coins/ethereum\",\r\n    },\r\n    BTC: {\r\n      coingecko: \"https://www.coingecko.com/en/coins/wrapped-bitcoin\",\r\n      arbitrum: \"https://arbiscan.io/address/0x2f2a2543b76a4166549f7aab2e75bef0aefc5b0f\",\r\n    },\r\n    LINK: {\r\n      coingecko: \"https://www.coingecko.com/en/coins/chainlink\",\r\n      arbitrum: \"https://arbiscan.io/address/0xf97f4df75117a78c1a5a0dbb814af92458539fb4\",\r\n    },\r\n    UNI: {\r\n      coingecko: \"https://www.coingecko.com/en/coins/uniswap\",\r\n      arbitrum: \"https://arbiscan.io/address/0xfa7f8980b0f1e64a2062791cc3b0871572f1f7f0\",\r\n    },\r\n    USDC: {\r\n      coingecko: \"https://www.coingecko.com/en/coins/usd-coin\",\r\n      arbitrum: \"https://arbiscan.io/address/0xff970a61a04b1ca14834a43f5de4533ebddb5cc8\",\r\n    },\r\n    USDT: {\r\n      coingecko: \"https://www.coingecko.com/en/coins/tether\",\r\n      arbitrum: \"https://arbiscan.io/address/0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9\",\r\n    },\r\n    DAI: {\r\n      coingecko: \"https://www.coingecko.com/en/coins/dai\",\r\n      arbitrum: \"https://arbiscan.io/address/0xda10009cbd5d07dd0cecc66161fc93d7c9000da1\",\r\n    },\r\n    MIM: {\r\n      coingecko: \"https://www.coingecko.com/en/coins/magic-internet-money\",\r\n      arbitrum: \"https://arbiscan.io/address/0xfea7a6a0b346362bf88a9e4a88416b77a57d6c2a\",\r\n    },\r\n    FRAX: {\r\n      coingecko: \"https://www.coingecko.com/en/coins/frax\",\r\n      arbitrum: \"https://arbiscan.io/address/0x17fc002b466eec40dae837fc4be5c67993ddbd6f\",\r\n    },\r\n  },\r\n  [AVALANCHE]: {\r\n    GMX: {\r\n      coingecko: \"https://www.coingecko.com/en/coins/gmx\",\r\n      avalanche: \"https://snowtrace.io/address/0x62edc0692bd897d2295872a9ffcac5425011c661\",\r\n    },\r\n    GLP: {\r\n      avalanche: \"https://snowtrace.io/address/0x9e295B5B976a184B14aD8cd72413aD846C299660\",\r\n    },\r\n    AVAX: {\r\n      coingecko: \"https://www.coingecko.com/en/coins/avalanche\",\r\n    },\r\n    ETH: {\r\n      coingecko: \"https://www.coingecko.com/en/coins/weth\",\r\n      avalanche: \"https://snowtrace.io/address/0x49d5c2bdffac6ce2bfdb6640f4f80f226bc10bab\",\r\n    },\r\n    BTC: {\r\n      coingecko: \"https://www.coingecko.com/en/coins/wrapped-bitcoin\",\r\n      avalanche: \"https://snowtrace.io/address/0x50b7545627a5162f82a992c33b87adc75187b218\",\r\n    },\r\n    \"BTC.b\": {\r\n      coingecko: \"https://www.coingecko.com/en/coins/wrapped-bitcoin\",\r\n      avalanche: \"https://snowtrace.io/address/0x152b9d0FdC40C096757F570A51E494bd4b943E50\",\r\n    },\r\n    MIM: {\r\n      coingecko: \"https://www.coingecko.com/en/coins/magic-internet-money\",\r\n      avalanche: \"https://snowtrace.io/address/0x130966628846bfd36ff31a822705796e8cb8c18d\",\r\n    },\r\n    \"USDC.e\": {\r\n      coingecko: \"https://www.coingecko.com/en/coins/usd-coin-avalanche-bridged-usdc-e\",\r\n      avalanche: \"https://snowtrace.io/address/0xa7d7079b0fead91f3e65f86e8915cb59c1a4c664\",\r\n    },\r\n    USDC: {\r\n      coingecko: \"https://www.coingecko.com/en/coins/usd-coin\",\r\n      avalanche: \"https://snowtrace.io/address/0xb97ef9ef8734c71904d8002f8b6bc66dd9c48a6e\",\r\n    },\r\n  },\r\n};\r\n\r\nexport const platformTokens = {\r\n  42161: {\r\n    // arbitrum\r\n    GMX: {\r\n      name: \"GMX\",\r\n      symbol: \"GMX\",\r\n      decimals: 18,\r\n      address: getContract(ARBITRUM, \"GMX\"),\r\n      imageUrl: \"https://assets.coingecko.com/coins/images/18323/small/arbit.png?1631532468\",\r\n    },\r\n    GLP: {\r\n      name: \"GMX LP\",\r\n      symbol: \"GLP\",\r\n      decimals: 18,\r\n      address: getContract(ARBITRUM, \"StakedGlpTracker\"), // address of fsGLP token because user only holds fsGLP\r\n      imageUrl: \"https://github.com/gmx-io/gmx-assets/blob/main/GMX-Assets/PNG/GLP_LOGO%20ONLY.png?raw=true\",\r\n    },\r\n  },\r\n  43114: {\r\n    // avalanche\r\n    GMX: {\r\n      name: \"GMX\",\r\n      symbol: \"GMX\",\r\n      decimals: 18,\r\n      address: getContract(AVALANCHE, \"GMX\"),\r\n      imageUrl: \"https://assets.coingecko.com/coins/images/18323/small/arbit.png?1631532468\",\r\n    },\r\n    GLP: {\r\n      name: \"GMX LP\",\r\n      symbol: \"GLP\",\r\n      decimals: 18,\r\n      address: getContract(AVALANCHE, \"StakedGlpTracker\"), // address of fsGLP token because user only holds fsGLP\r\n      imageUrl: \"https://github.com/gmx-io/gmx-assets/blob/main/GMX-Assets/PNG/GLP_LOGO%20ONLY.png?raw=true\",\r\n    },\r\n  },\r\n};\r\n\r\nconst supportedChainIds = [ARBITRUM, AVALANCHE];\r\nif (isDevelopment()) {\r\n  supportedChainIds.push(ARBITRUM_TESTNET);\r\n}\r\nconst injectedConnector = new InjectedConnector({\r\n  supportedChainIds,\r\n});\r\n\r\nconst getWalletConnectConnector = () => {\r\n  const chainId = localStorage.getItem(SELECTED_NETWORK_LOCAL_STORAGE_KEY) || DEFAULT_CHAIN_ID;\r\n  return new WalletConnectConnector({\r\n    rpc: {\r\n      [AVALANCHE]: AVALANCHE_RPC_PROVIDERS[0],\r\n      [ARBITRUM]: ARBITRUM_RPC_PROVIDERS[0],\r\n      [ARBITRUM_TESTNET]: \"https://rinkeby.arbitrum.io/rpc\",\r\n    },\r\n    qrcode: true,\r\n    chainId,\r\n  });\r\n};\r\n\r\nexport function isSupportedChain(chainId) {\r\n  return supportedChainIds.includes(chainId);\r\n}\r\n\r\nexport function deserialize(data) {\r\n  for (const [key, value] of Object.entries(data)) {\r\n    if (value._type === \"BigNumber\") {\r\n      data[key] = bigNumberify(value.value);\r\n    }\r\n  }\r\n  return data;\r\n}\r\n\r\nexport function isHomeSite() {\r\n  return process.env.REACT_APP_IS_HOME_SITE === \"true\";\r\n}\r\n\r\nexport const helperToast = {\r\n  success: (content, opts) => {\r\n    toast.dismiss();\r\n    toast.success(content, opts);\r\n  },\r\n  error: (content, opts) => {\r\n    toast.dismiss();\r\n    toast.error(content, opts);\r\n  },\r\n};\r\n\r\nexport function useLocalStorageByChainId(chainId, key, defaultValue) {\r\n  const [internalValue, setInternalValue] = useLocalStorage(key, {});\r\n\r\n  const setValue = useCallback(\r\n    (value) => {\r\n      setInternalValue((internalValue) => {\r\n        if (typeof value === \"function\") {\r\n          value = value(internalValue[chainId] || defaultValue);\r\n        }\r\n        const newInternalValue = {\r\n          ...internalValue,\r\n          [chainId]: value,\r\n        };\r\n        return newInternalValue;\r\n      });\r\n    },\r\n    [chainId, setInternalValue, defaultValue]\r\n  );\r\n\r\n  let value;\r\n  if (chainId in internalValue) {\r\n    value = internalValue[chainId];\r\n  } else {\r\n    value = defaultValue;\r\n  }\r\n\r\n  return [value, setValue];\r\n}\r\n\r\nexport function useLocalStorageSerializeKey(key, value, opts) {\r\n  key = JSON.stringify(key);\r\n  return useLocalStorage(key, value, opts);\r\n}\r\n\r\nfunction getTriggerPrice(tokenAddress, max, info, orderOption, triggerPriceUsd) {\r\n  // Limit/stop orders are executed with price specified by user\r\n  if (orderOption && orderOption !== MARKET && triggerPriceUsd) {\r\n    return triggerPriceUsd;\r\n  }\r\n\r\n  // Market orders are executed with current market price\r\n  if (!info) {\r\n    return;\r\n  }\r\n  if (max && !info.maxPrice) {\r\n    return;\r\n  }\r\n  if (!max && !info.minPrice) {\r\n    return;\r\n  }\r\n  return max ? info.maxPrice : info.minPrice;\r\n}\r\n\r\nexport function getLiquidationPriceFromDelta({ liquidationAmount, size, collateral, averagePrice, isLong }) {\r\n  if (!size || size.eq(0)) {\r\n    return;\r\n  }\r\n\r\n  if (liquidationAmount.gt(collateral)) {\r\n    const liquidationDelta = liquidationAmount.sub(collateral);\r\n    const priceDelta = liquidationDelta.mul(averagePrice).div(size);\r\n    return isLong ? averagePrice.add(priceDelta) : averagePrice.sub(priceDelta);\r\n  }\r\n\r\n  const liquidationDelta = collateral.sub(liquidationAmount);\r\n  const priceDelta = liquidationDelta.mul(averagePrice).div(size);\r\n\r\n  return isLong ? averagePrice.sub(priceDelta) : averagePrice.add(priceDelta);\r\n}\r\n\r\nexport const replaceNativeTokenAddress = (path, nativeTokenAddress) => {\r\n  if (!path) {\r\n    return;\r\n  }\r\n\r\n  let updatedPath = [];\r\n  for (let i = 0; i < path.length; i++) {\r\n    let address = path[i];\r\n    if (address === AddressZero) {\r\n      address = nativeTokenAddress;\r\n    }\r\n    updatedPath.push(address);\r\n  }\r\n\r\n  return updatedPath;\r\n};\r\n\r\nexport function getMarginFee(sizeDelta) {\r\n  if (!sizeDelta) {\r\n    return bigNumberify(0);\r\n  }\r\n  const afterFeeUsd = sizeDelta.mul(BASIS_POINTS_DIVISOR - MARGIN_FEE_BASIS_POINTS).div(BASIS_POINTS_DIVISOR);\r\n  return sizeDelta.sub(afterFeeUsd);\r\n}\r\n\r\nexport function getServerBaseUrl(chainId) {\r\n  if (!chainId) {\r\n    throw new Error(\"chainId is not provided\");\r\n  }\r\n  if (document.location.hostname.includes(\"deploy-preview\")) {\r\n    const fromLocalStorage = localStorage.getItem(\"SERVER_BASE_URL\");\r\n    if (fromLocalStorage) {\r\n      return fromLocalStorage;\r\n    }\r\n  }\r\n  if (chainId === MAINNET) {\r\n    return \"https://gambit-server-staging.uc.r.appspot.com\";\r\n  } else if (chainId === ARBITRUM_TESTNET) {\r\n    return \"https://gambit-server-devnet.uc.r.appspot.com\";\r\n  } else if (chainId === ARBITRUM) {\r\n    return \"https://gmx-server-mainnet.uw.r.appspot.com\";\r\n  } else if (chainId === AVALANCHE) {\r\n    return \"https://gmx-avax-server.uc.r.appspot.com\";\r\n  }\r\n  return \"https://gmx-server-mainnet.uw.r.appspot.com\";\r\n}\r\n\r\nexport function getServerUrl(chainId, path) {\r\n  return `${getServerBaseUrl(chainId)}${path}`;\r\n}\r\n\r\nexport function isTriggerRatioInverted(fromTokenInfo, toTokenInfo) {\r\n  if (!toTokenInfo || !fromTokenInfo) return false;\r\n  if (toTokenInfo.isStable || toTokenInfo.isUsdg) return true;\r\n  if (toTokenInfo.maxPrice) return toTokenInfo.maxPrice.lt(fromTokenInfo.maxPrice);\r\n  return false;\r\n}\r\n\r\nexport function getExchangeRate(tokenAInfo, tokenBInfo, inverted) {\r\n  if (!tokenAInfo || !tokenAInfo.minPrice || !tokenBInfo || !tokenBInfo.maxPrice) {\r\n    return;\r\n  }\r\n  if (inverted) {\r\n    return tokenAInfo.minPrice.mul(PRECISION).div(tokenBInfo.maxPrice);\r\n  }\r\n  return tokenBInfo.maxPrice.mul(PRECISION).div(tokenAInfo.minPrice);\r\n}\r\n\r\nexport function getMostAbundantStableToken(chainId, infoTokens) {\r\n  const whitelistedTokens = getWhitelistedTokens(chainId);\r\n  let availableAmount;\r\n  let stableToken = whitelistedTokens.find((t) => t.isStable);\r\n  for (let i = 0; i < whitelistedTokens.length; i++) {\r\n    const info = getTokenInfo(infoTokens, whitelistedTokens[i].address);\r\n    if (!info.isStable || !info.availableAmount) {\r\n      continue;\r\n    }\r\n\r\n    const adjustedAvailableAmount = adjustForDecimals(info.availableAmount, info.decimals, USD_DECIMALS);\r\n    if (!availableAmount || adjustedAvailableAmount.gt(availableAmount)) {\r\n      availableAmount = adjustedAvailableAmount;\r\n      stableToken = info;\r\n    }\r\n  }\r\n  return stableToken;\r\n}\r\n\r\nexport function shouldInvertTriggerRatio(tokenA, tokenB) {\r\n  if (tokenB.isStable || tokenB.isUsdg) return true;\r\n  if (tokenB.maxPrice && tokenA.maxPrice && tokenB.maxPrice.lt(tokenA.maxPrice)) return true;\r\n  return false;\r\n}\r\n\r\nexport function getExchangeRateDisplay(rate, tokenA, tokenB, opts = {}) {\r\n  if (!rate || !tokenA || !tokenB) return \"...\";\r\n  if (shouldInvertTriggerRatio(tokenA, tokenB)) {\r\n    [tokenA, tokenB] = [tokenB, tokenA];\r\n    rate = PRECISION.mul(PRECISION).div(rate);\r\n  }\r\n  const rateValue = formatAmount(rate, USD_DECIMALS, tokenA.isStable || tokenA.isUsdg ? 2 : 4, true);\r\n  if (opts.omitSymbols) {\r\n    return rateValue;\r\n  }\r\n  return `${rateValue} ${tokenA.symbol} / ${tokenB.symbol}`;\r\n}\r\n\r\nconst adjustForDecimalsFactory = (n) => (number) => {\r\n  if (n === 0) {\r\n    return number;\r\n  }\r\n  if (n > 0) {\r\n    return number.mul(expandDecimals(1, n));\r\n  }\r\n  return number.div(expandDecimals(1, -n));\r\n};\r\n\r\nexport function adjustForDecimals(amount, divDecimals, mulDecimals) {\r\n  return amount.mul(expandDecimals(1, mulDecimals)).div(expandDecimals(1, divDecimals));\r\n}\r\n\r\nexport function getTargetUsdgAmount(token, usdgSupply, totalTokenWeights) {\r\n  if (!token || !token.weight || !usdgSupply) {\r\n    return;\r\n  }\r\n\r\n  if (usdgSupply.eq(0)) {\r\n    return bigNumberify(0);\r\n  }\r\n\r\n  return token.weight.mul(usdgSupply).div(totalTokenWeights);\r\n}\r\n\r\nexport function getFeeBasisPoints(\r\n  token,\r\n  usdgDelta,\r\n  feeBasisPoints,\r\n  taxBasisPoints,\r\n  increment,\r\n  usdgSupply,\r\n  totalTokenWeights\r\n) {\r\n  if (!token || !token.usdgAmount || !usdgSupply || !totalTokenWeights) {\r\n    return 0;\r\n  }\r\n\r\n  feeBasisPoints = bigNumberify(feeBasisPoints);\r\n  taxBasisPoints = bigNumberify(taxBasisPoints);\r\n\r\n  const initialAmount = token.usdgAmount;\r\n  let nextAmount = initialAmount.add(usdgDelta);\r\n  if (!increment) {\r\n    nextAmount = usdgDelta.gt(initialAmount) ? bigNumberify(0) : initialAmount.sub(usdgDelta);\r\n  }\r\n\r\n  const targetAmount = getTargetUsdgAmount(token, usdgSupply, totalTokenWeights);\r\n  if (!targetAmount || targetAmount.eq(0)) {\r\n    return feeBasisPoints.toNumber();\r\n  }\r\n\r\n  const initialDiff = initialAmount.gt(targetAmount)\r\n    ? initialAmount.sub(targetAmount)\r\n    : targetAmount.sub(initialAmount);\r\n  const nextDiff = nextAmount.gt(targetAmount) ? nextAmount.sub(targetAmount) : targetAmount.sub(nextAmount);\r\n\r\n  if (nextDiff.lt(initialDiff)) {\r\n    const rebateBps = taxBasisPoints.mul(initialDiff).div(targetAmount);\r\n    return rebateBps.gt(feeBasisPoints) ? 0 : feeBasisPoints.sub(rebateBps).toNumber();\r\n  }\r\n\r\n  let averageDiff = initialDiff.add(nextDiff).div(2);\r\n  if (averageDiff.gt(targetAmount)) {\r\n    averageDiff = targetAmount;\r\n  }\r\n  const taxBps = taxBasisPoints.mul(averageDiff).div(targetAmount);\r\n  return feeBasisPoints.add(taxBps).toNumber();\r\n}\r\n\r\nexport function getBuyGlpToAmount(fromAmount, swapTokenAddress, infoTokens, glpPrice, usdgSupply, totalTokenWeights) {\r\n  const defaultValue = { amount: bigNumberify(0), feeBasisPoints: 0 };\r\n  if (!fromAmount || !swapTokenAddress || !infoTokens || !glpPrice || !usdgSupply || !totalTokenWeights) {\r\n    return defaultValue;\r\n  }\r\n\r\n  const swapToken = getTokenInfo(infoTokens, swapTokenAddress);\r\n  if (!swapToken || !swapToken.minPrice) {\r\n    return defaultValue;\r\n  }\r\n\r\n  let glpAmount = fromAmount.mul(swapToken.minPrice).div(glpPrice);\r\n  glpAmount = adjustForDecimals(glpAmount, swapToken.decimals, USDG_DECIMALS);\r\n\r\n  let usdgAmount = fromAmount.mul(swapToken.minPrice).div(PRECISION);\r\n  usdgAmount = adjustForDecimals(usdgAmount, swapToken.decimals, USDG_DECIMALS);\r\n  const feeBasisPoints = getFeeBasisPoints(\r\n    swapToken,\r\n    usdgAmount,\r\n    MINT_BURN_FEE_BASIS_POINTS,\r\n    TAX_BASIS_POINTS,\r\n    true,\r\n    usdgSupply,\r\n    totalTokenWeights\r\n  );\r\n\r\n  glpAmount = glpAmount.mul(BASIS_POINTS_DIVISOR - feeBasisPoints).div(BASIS_POINTS_DIVISOR);\r\n\r\n  return { amount: glpAmount, feeBasisPoints };\r\n}\r\n\r\nexport function getSellGlpFromAmount(toAmount, swapTokenAddress, infoTokens, glpPrice, usdgSupply, totalTokenWeights) {\r\n  const defaultValue = { amount: bigNumberify(0), feeBasisPoints: 0 };\r\n  if (!toAmount || !swapTokenAddress || !infoTokens || !glpPrice || !usdgSupply || !totalTokenWeights) {\r\n    return defaultValue;\r\n  }\r\n\r\n  const swapToken = getTokenInfo(infoTokens, swapTokenAddress);\r\n  if (!swapToken || !swapToken.maxPrice) {\r\n    return defaultValue;\r\n  }\r\n\r\n  let glpAmount = toAmount.mul(swapToken.maxPrice).div(glpPrice);\r\n  glpAmount = adjustForDecimals(glpAmount, swapToken.decimals, USDG_DECIMALS);\r\n\r\n  let usdgAmount = toAmount.mul(swapToken.maxPrice).div(PRECISION);\r\n  usdgAmount = adjustForDecimals(usdgAmount, swapToken.decimals, USDG_DECIMALS);\r\n  const feeBasisPoints = getFeeBasisPoints(\r\n    swapToken,\r\n    usdgAmount,\r\n    MINT_BURN_FEE_BASIS_POINTS,\r\n    TAX_BASIS_POINTS,\r\n    false,\r\n    usdgSupply,\r\n    totalTokenWeights\r\n  );\r\n\r\n  glpAmount = glpAmount.mul(BASIS_POINTS_DIVISOR).div(BASIS_POINTS_DIVISOR - feeBasisPoints);\r\n\r\n  return { amount: glpAmount, feeBasisPoints };\r\n}\r\n\r\nexport function getBuyGlpFromAmount(toAmount, fromTokenAddress, infoTokens, glpPrice, usdgSupply, totalTokenWeights) {\r\n  const defaultValue = { amount: bigNumberify(0) };\r\n  if (!toAmount || !fromTokenAddress || !infoTokens || !glpPrice || !usdgSupply || !totalTokenWeights) {\r\n    return defaultValue;\r\n  }\r\n\r\n  const fromToken = getTokenInfo(infoTokens, fromTokenAddress);\r\n  if (!fromToken || !fromToken.minPrice) {\r\n    return defaultValue;\r\n  }\r\n\r\n  let fromAmount = toAmount.mul(glpPrice).div(fromToken.minPrice);\r\n  fromAmount = adjustForDecimals(fromAmount, GLP_DECIMALS, fromToken.decimals);\r\n\r\n  const usdgAmount = toAmount.mul(glpPrice).div(PRECISION);\r\n  const feeBasisPoints = getFeeBasisPoints(\r\n    fromToken,\r\n    usdgAmount,\r\n    MINT_BURN_FEE_BASIS_POINTS,\r\n    TAX_BASIS_POINTS,\r\n    true,\r\n    usdgSupply,\r\n    totalTokenWeights\r\n  );\r\n\r\n  fromAmount = fromAmount.mul(BASIS_POINTS_DIVISOR).div(BASIS_POINTS_DIVISOR - feeBasisPoints);\r\n\r\n  return { amount: fromAmount, feeBasisPoints };\r\n}\r\n\r\nexport function getSellGlpToAmount(toAmount, fromTokenAddress, infoTokens, glpPrice, usdgSupply, totalTokenWeights) {\r\n  const defaultValue = { amount: bigNumberify(0) };\r\n  if (!toAmount || !fromTokenAddress || !infoTokens || !glpPrice || !usdgSupply || !totalTokenWeights) {\r\n    return defaultValue;\r\n  }\r\n\r\n  const fromToken = getTokenInfo(infoTokens, fromTokenAddress);\r\n  if (!fromToken || !fromToken.maxPrice) {\r\n    return defaultValue;\r\n  }\r\n\r\n  let fromAmount = toAmount.mul(glpPrice).div(fromToken.maxPrice);\r\n  fromAmount = adjustForDecimals(fromAmount, GLP_DECIMALS, fromToken.decimals);\r\n\r\n  const usdgAmount = toAmount.mul(glpPrice).div(PRECISION);\r\n  const feeBasisPoints = getFeeBasisPoints(\r\n    fromToken,\r\n    usdgAmount,\r\n    MINT_BURN_FEE_BASIS_POINTS,\r\n    TAX_BASIS_POINTS,\r\n    false,\r\n    usdgSupply,\r\n    totalTokenWeights\r\n  );\r\n\r\n  fromAmount = fromAmount.mul(BASIS_POINTS_DIVISOR - feeBasisPoints).div(BASIS_POINTS_DIVISOR);\r\n\r\n  return { amount: fromAmount, feeBasisPoints };\r\n}\r\n\r\nexport function getNextFromAmount(\r\n  chainId,\r\n  toAmount,\r\n  fromTokenAddress,\r\n  toTokenAddress,\r\n  infoTokens,\r\n  toTokenPriceUsd,\r\n  ratio,\r\n  usdgSupply,\r\n  totalTokenWeights,\r\n  forSwap\r\n) {\r\n  const defaultValue = { amount: bigNumberify(0) };\r\n\r\n  if (!toAmount || !fromTokenAddress || !toTokenAddress || !infoTokens) {\r\n    return defaultValue;\r\n  }\r\n\r\n  if (fromTokenAddress === toTokenAddress) {\r\n    return { amount: toAmount };\r\n  }\r\n\r\n  const fromToken = getTokenInfo(infoTokens, fromTokenAddress);\r\n  const toToken = getTokenInfo(infoTokens, toTokenAddress);\r\n\r\n  if (fromToken.isNative && toToken.isWrapped) {\r\n    return { amount: toAmount };\r\n  }\r\n\r\n  if (fromToken.isWrapped && toToken.isNative) {\r\n    return { amount: toAmount };\r\n  }\r\n\r\n  // the realtime price should be used if it is for a transaction to open / close a position\r\n  // or if the transaction involves doing a swap and opening / closing a position\r\n  // otherwise use the contract price instead of realtime price for swaps\r\n\r\n  let fromTokenMinPrice;\r\n  if (fromToken) {\r\n    fromTokenMinPrice = forSwap ? fromToken.contractMinPrice : fromToken.minPrice;\r\n  }\r\n\r\n  let toTokenMaxPrice;\r\n  if (toToken) {\r\n    toTokenMaxPrice = forSwap ? toToken.contractMaxPrice : toToken.maxPrice;\r\n  }\r\n\r\n  if (!fromToken || !fromTokenMinPrice || !toToken || !toTokenMaxPrice) {\r\n    return defaultValue;\r\n  }\r\n\r\n  const adjustDecimals = adjustForDecimalsFactory(fromToken.decimals - toToken.decimals);\r\n\r\n  let fromAmountBasedOnRatio;\r\n  if (ratio && !ratio.isZero()) {\r\n    fromAmountBasedOnRatio = toAmount.mul(ratio).div(PRECISION);\r\n  }\r\n\r\n  const fromAmount =\r\n    ratio && !ratio.isZero() ? fromAmountBasedOnRatio : toAmount.mul(toTokenMaxPrice).div(fromTokenMinPrice);\r\n\r\n  let usdgAmount = fromAmount.mul(fromTokenMinPrice).div(PRECISION);\r\n  usdgAmount = adjustForDecimals(usdgAmount, toToken.decimals, USDG_DECIMALS);\r\n  const swapFeeBasisPoints =\r\n    fromToken.isStable && toToken.isStable ? STABLE_SWAP_FEE_BASIS_POINTS : SWAP_FEE_BASIS_POINTS;\r\n  const taxBasisPoints = fromToken.isStable && toToken.isStable ? STABLE_TAX_BASIS_POINTS : TAX_BASIS_POINTS;\r\n  const feeBasisPoints0 = getFeeBasisPoints(\r\n    fromToken,\r\n    usdgAmount,\r\n    swapFeeBasisPoints,\r\n    taxBasisPoints,\r\n    true,\r\n    usdgSupply,\r\n    totalTokenWeights\r\n  );\r\n  const feeBasisPoints1 = getFeeBasisPoints(\r\n    toToken,\r\n    usdgAmount,\r\n    swapFeeBasisPoints,\r\n    taxBasisPoints,\r\n    false,\r\n    usdgSupply,\r\n    totalTokenWeights\r\n  );\r\n  const feeBasisPoints = feeBasisPoints0 > feeBasisPoints1 ? feeBasisPoints0 : feeBasisPoints1;\r\n\r\n  return {\r\n    amount: adjustDecimals(fromAmount.mul(BASIS_POINTS_DIVISOR).div(BASIS_POINTS_DIVISOR - feeBasisPoints)),\r\n    feeBasisPoints,\r\n  };\r\n}\r\n\r\nexport function getNextToAmount(\r\n  chainId,\r\n  fromAmount,\r\n  fromTokenAddress,\r\n  toTokenAddress,\r\n  infoTokens,\r\n  toTokenPriceUsd,\r\n  ratio,\r\n  usdgSupply,\r\n  totalTokenWeights,\r\n  forSwap\r\n) {\r\n  const defaultValue = { amount: bigNumberify(0) };\r\n  if (!fromAmount || !fromTokenAddress || !toTokenAddress || !infoTokens) {\r\n    return defaultValue;\r\n  }\r\n\r\n  if (fromTokenAddress === toTokenAddress) {\r\n    return { amount: fromAmount };\r\n  }\r\n\r\n  const fromToken = getTokenInfo(infoTokens, fromTokenAddress);\r\n  const toToken = getTokenInfo(infoTokens, toTokenAddress);\r\n\r\n  if (fromToken.isNative && toToken.isWrapped) {\r\n    return { amount: fromAmount };\r\n  }\r\n\r\n  if (fromToken.isWrapped && toToken.isNative) {\r\n    return { amount: fromAmount };\r\n  }\r\n\r\n  // the realtime price should be used if it is for a transaction to open / close a position\r\n  // or if the transaction involves doing a swap and opening / closing a position\r\n  // otherwise use the contract price instead of realtime price for swaps\r\n\r\n  let fromTokenMinPrice;\r\n  if (fromToken) {\r\n    fromTokenMinPrice = forSwap ? fromToken.contractMinPrice : fromToken.minPrice;\r\n  }\r\n\r\n  let toTokenMaxPrice;\r\n  if (toToken) {\r\n    toTokenMaxPrice = forSwap ? toToken.contractMaxPrice : toToken.maxPrice;\r\n  }\r\n\r\n  if (!fromTokenMinPrice || !toTokenMaxPrice) {\r\n    return defaultValue;\r\n  }\r\n\r\n  const adjustDecimals = adjustForDecimalsFactory(toToken.decimals - fromToken.decimals);\r\n\r\n  let toAmountBasedOnRatio = bigNumberify(0);\r\n  if (ratio && !ratio.isZero()) {\r\n    toAmountBasedOnRatio = fromAmount.mul(PRECISION).div(ratio);\r\n  }\r\n\r\n  if (toTokenAddress === USDG_ADDRESS) {\r\n    const feeBasisPoints = getSwapFeeBasisPoints(fromToken.isStable);\r\n\r\n    if (ratio && !ratio.isZero()) {\r\n      const toAmount = toAmountBasedOnRatio;\r\n      return {\r\n        amount: adjustDecimals(toAmount.mul(BASIS_POINTS_DIVISOR - feeBasisPoints).div(BASIS_POINTS_DIVISOR)),\r\n        feeBasisPoints,\r\n      };\r\n    }\r\n\r\n    const toAmount = fromAmount.mul(fromTokenMinPrice).div(PRECISION);\r\n    return {\r\n      amount: adjustDecimals(toAmount.mul(BASIS_POINTS_DIVISOR - feeBasisPoints).div(BASIS_POINTS_DIVISOR)),\r\n      feeBasisPoints,\r\n    };\r\n  }\r\n\r\n  if (fromTokenAddress === USDG_ADDRESS) {\r\n    const redemptionValue = toToken.redemptionAmount\r\n      .mul(toTokenPriceUsd || toTokenMaxPrice)\r\n      .div(expandDecimals(1, toToken.decimals));\r\n\r\n    if (redemptionValue.gt(THRESHOLD_REDEMPTION_VALUE)) {\r\n      const feeBasisPoints = getSwapFeeBasisPoints(toToken.isStable);\r\n\r\n      const toAmount =\r\n        ratio && !ratio.isZero()\r\n          ? toAmountBasedOnRatio\r\n          : fromAmount.mul(toToken.redemptionAmount).div(expandDecimals(1, toToken.decimals));\r\n\r\n      return {\r\n        amount: adjustDecimals(toAmount.mul(BASIS_POINTS_DIVISOR - feeBasisPoints).div(BASIS_POINTS_DIVISOR)),\r\n        feeBasisPoints,\r\n      };\r\n    }\r\n\r\n    const expectedAmount = fromAmount;\r\n\r\n    const stableToken = getMostAbundantStableToken(chainId, infoTokens);\r\n    if (!stableToken || stableToken.availableAmount.lt(expectedAmount)) {\r\n      const toAmount =\r\n        ratio && !ratio.isZero()\r\n          ? toAmountBasedOnRatio\r\n          : fromAmount.mul(toToken.redemptionAmount).div(expandDecimals(1, toToken.decimals));\r\n      const feeBasisPoints = getSwapFeeBasisPoints(toToken.isStable);\r\n      return {\r\n        amount: adjustDecimals(toAmount.mul(BASIS_POINTS_DIVISOR - feeBasisPoints).div(BASIS_POINTS_DIVISOR)),\r\n        feeBasisPoints,\r\n      };\r\n    }\r\n\r\n    const feeBasisPoints0 = getSwapFeeBasisPoints(true);\r\n    const feeBasisPoints1 = getSwapFeeBasisPoints(false);\r\n\r\n    if (ratio && !ratio.isZero()) {\r\n      const toAmount = toAmountBasedOnRatio\r\n        .mul(BASIS_POINTS_DIVISOR - feeBasisPoints0 - feeBasisPoints1)\r\n        .div(BASIS_POINTS_DIVISOR);\r\n      return {\r\n        amount: adjustDecimals(toAmount),\r\n        path: [USDG_ADDRESS, stableToken.address, toToken.address],\r\n        feeBasisPoints: feeBasisPoints0 + feeBasisPoints1,\r\n      };\r\n    }\r\n\r\n    // get toAmount for USDG => stableToken\r\n    let toAmount = fromAmount.mul(PRECISION).div(stableToken.maxPrice);\r\n    // apply USDG => stableToken fees\r\n    toAmount = toAmount.mul(BASIS_POINTS_DIVISOR - feeBasisPoints0).div(BASIS_POINTS_DIVISOR);\r\n\r\n    // get toAmount for stableToken => toToken\r\n    toAmount = toAmount.mul(stableToken.minPrice).div(toTokenPriceUsd || toTokenMaxPrice);\r\n    // apply stableToken => toToken fees\r\n    toAmount = toAmount.mul(BASIS_POINTS_DIVISOR - feeBasisPoints1).div(BASIS_POINTS_DIVISOR);\r\n\r\n    return {\r\n      amount: adjustDecimals(toAmount),\r\n      path: [USDG_ADDRESS, stableToken.address, toToken.address],\r\n      feeBasisPoints: feeBasisPoints0 + feeBasisPoints1,\r\n    };\r\n  }\r\n\r\n  const toAmount =\r\n    ratio && !ratio.isZero()\r\n      ? toAmountBasedOnRatio\r\n      : fromAmount.mul(fromTokenMinPrice).div(toTokenPriceUsd || toTokenMaxPrice);\r\n\r\n  let usdgAmount = fromAmount.mul(fromTokenMinPrice).div(PRECISION);\r\n  usdgAmount = adjustForDecimals(usdgAmount, fromToken.decimals, USDG_DECIMALS);\r\n  const swapFeeBasisPoints =\r\n    fromToken.isStable && toToken.isStable ? STABLE_SWAP_FEE_BASIS_POINTS : SWAP_FEE_BASIS_POINTS;\r\n  const taxBasisPoints = fromToken.isStable && toToken.isStable ? STABLE_TAX_BASIS_POINTS : TAX_BASIS_POINTS;\r\n  const feeBasisPoints0 = getFeeBasisPoints(\r\n    fromToken,\r\n    usdgAmount,\r\n    swapFeeBasisPoints,\r\n    taxBasisPoints,\r\n    true,\r\n    usdgSupply,\r\n    totalTokenWeights\r\n  );\r\n  const feeBasisPoints1 = getFeeBasisPoints(\r\n    toToken,\r\n    usdgAmount,\r\n    swapFeeBasisPoints,\r\n    taxBasisPoints,\r\n    false,\r\n    usdgSupply,\r\n    totalTokenWeights\r\n  );\r\n  const feeBasisPoints = feeBasisPoints0 > feeBasisPoints1 ? feeBasisPoints0 : feeBasisPoints1;\r\n\r\n  return {\r\n    amount: adjustDecimals(toAmount.mul(BASIS_POINTS_DIVISOR - feeBasisPoints).div(BASIS_POINTS_DIVISOR)),\r\n    feeBasisPoints,\r\n  };\r\n}\r\n\r\nexport function getProfitPrice(closePrice, position) {\r\n  let profitPrice;\r\n  if (position && position.averagePrice && closePrice) {\r\n    profitPrice = position.isLong\r\n      ? position.averagePrice.mul(BASIS_POINTS_DIVISOR + MIN_PROFIT_BIPS).div(BASIS_POINTS_DIVISOR)\r\n      : position.averagePrice.mul(BASIS_POINTS_DIVISOR - MIN_PROFIT_BIPS).div(BASIS_POINTS_DIVISOR);\r\n  }\r\n  return profitPrice;\r\n}\r\n\r\nexport function calculatePositionDelta(\r\n  price,\r\n  { size, collateral, isLong, averagePrice, lastIncreasedTime },\r\n  sizeDelta\r\n) {\r\n  if (!sizeDelta) {\r\n    sizeDelta = size;\r\n  }\r\n  const priceDelta = averagePrice.gt(price) ? averagePrice.sub(price) : price.sub(averagePrice);\r\n  let delta = sizeDelta.mul(priceDelta).div(averagePrice);\r\n  const pendingDelta = delta;\r\n\r\n  const minProfitExpired = lastIncreasedTime + MIN_PROFIT_TIME < Date.now() / 1000;\r\n  const hasProfit = isLong ? price.gt(averagePrice) : price.lt(averagePrice);\r\n  if (!minProfitExpired && hasProfit && delta.mul(BASIS_POINTS_DIVISOR).lte(size.mul(MIN_PROFIT_BIPS))) {\r\n    delta = bigNumberify(0);\r\n  }\r\n\r\n  const deltaPercentage = delta.mul(BASIS_POINTS_DIVISOR).div(collateral);\r\n  const pendingDeltaPercentage = pendingDelta.mul(BASIS_POINTS_DIVISOR).div(collateral);\r\n\r\n  return {\r\n    delta,\r\n    pendingDelta,\r\n    pendingDeltaPercentage,\r\n    hasProfit,\r\n    deltaPercentage,\r\n  };\r\n}\r\n\r\nexport function getDeltaStr({ delta, deltaPercentage, hasProfit }) {\r\n  let deltaStr;\r\n  let deltaPercentageStr;\r\n\r\n  if (delta.gt(0)) {\r\n    deltaStr = hasProfit ? \"+\" : \"-\";\r\n    deltaPercentageStr = hasProfit ? \"+\" : \"-\";\r\n  } else {\r\n    deltaStr = \"\";\r\n    deltaPercentageStr = \"\";\r\n  }\r\n  deltaStr += `$${formatAmount(delta, USD_DECIMALS, 2, true)}`;\r\n  deltaPercentageStr += `${formatAmount(deltaPercentage, 2, 2)}%`;\r\n\r\n  return { deltaStr, deltaPercentageStr };\r\n}\r\n\r\nexport function getLeverage({\r\n  size,\r\n  sizeDelta,\r\n  increaseSize,\r\n  collateral,\r\n  collateralDelta,\r\n  increaseCollateral,\r\n  entryFundingRate,\r\n  cumulativeFundingRate,\r\n  hasProfit,\r\n  delta,\r\n  includeDelta,\r\n}) {\r\n  if (!size && !sizeDelta) {\r\n    return;\r\n  }\r\n  if (!collateral && !collateralDelta) {\r\n    return;\r\n  }\r\n\r\n  let nextSize = size ? size : bigNumberify(0);\r\n  if (sizeDelta) {\r\n    if (increaseSize) {\r\n      nextSize = size.add(sizeDelta);\r\n    } else {\r\n      if (sizeDelta.gte(size)) {\r\n        return;\r\n      }\r\n      nextSize = size.sub(sizeDelta);\r\n    }\r\n  }\r\n\r\n  let remainingCollateral = collateral ? collateral : bigNumberify(0);\r\n  if (collateralDelta) {\r\n    if (increaseCollateral) {\r\n      remainingCollateral = collateral.add(collateralDelta);\r\n    } else {\r\n      if (collateralDelta.gte(collateral)) {\r\n        return;\r\n      }\r\n      remainingCollateral = collateral.sub(collateralDelta);\r\n    }\r\n  }\r\n\r\n  if (delta && includeDelta) {\r\n    if (hasProfit) {\r\n      remainingCollateral = remainingCollateral.add(delta);\r\n    } else {\r\n      if (delta.gt(remainingCollateral)) {\r\n        return;\r\n      }\r\n\r\n      remainingCollateral = remainingCollateral.sub(delta);\r\n    }\r\n  }\r\n\r\n  if (remainingCollateral.eq(0)) {\r\n    return;\r\n  }\r\n\r\n  remainingCollateral = sizeDelta\r\n    ? remainingCollateral.mul(BASIS_POINTS_DIVISOR - MARGIN_FEE_BASIS_POINTS).div(BASIS_POINTS_DIVISOR)\r\n    : remainingCollateral;\r\n  if (entryFundingRate && cumulativeFundingRate) {\r\n    const fundingFee = size.mul(cumulativeFundingRate.sub(entryFundingRate)).div(FUNDING_RATE_PRECISION);\r\n    remainingCollateral = remainingCollateral.sub(fundingFee);\r\n  }\r\n\r\n  return nextSize.mul(BASIS_POINTS_DIVISOR).div(remainingCollateral);\r\n}\r\n\r\nexport function getLiquidationPrice(data) {\r\n  let {\r\n    isLong,\r\n    size,\r\n    collateral,\r\n    averagePrice,\r\n    entryFundingRate,\r\n    cumulativeFundingRate,\r\n    sizeDelta,\r\n    collateralDelta,\r\n    increaseCollateral,\r\n    increaseSize,\r\n    delta,\r\n    hasProfit,\r\n    includeDelta,\r\n  } = data;\r\n  if (!size || !collateral || !averagePrice) {\r\n    return;\r\n  }\r\n\r\n  let nextSize = size ? size : bigNumberify(0);\r\n  let remainingCollateral = collateral;\r\n\r\n  if (sizeDelta) {\r\n    if (increaseSize) {\r\n      nextSize = size.add(sizeDelta);\r\n    } else {\r\n      if (sizeDelta.gte(size)) {\r\n        return;\r\n      }\r\n      nextSize = size.sub(sizeDelta);\r\n    }\r\n\r\n    if (includeDelta && !hasProfit) {\r\n      const adjustedDelta = sizeDelta.mul(delta).div(size);\r\n      remainingCollateral = remainingCollateral.sub(adjustedDelta);\r\n    }\r\n  }\r\n\r\n  if (collateralDelta) {\r\n    if (increaseCollateral) {\r\n      remainingCollateral = remainingCollateral.add(collateralDelta);\r\n    } else {\r\n      if (collateralDelta.gte(remainingCollateral)) {\r\n        return;\r\n      }\r\n      remainingCollateral = remainingCollateral.sub(collateralDelta);\r\n    }\r\n  }\r\n\r\n  let positionFee = getMarginFee(size).add(LIQUIDATION_FEE);\r\n  if (entryFundingRate && cumulativeFundingRate) {\r\n    const fundingFee = size.mul(cumulativeFundingRate.sub(entryFundingRate)).div(FUNDING_RATE_PRECISION);\r\n    positionFee = positionFee.add(fundingFee);\r\n  }\r\n\r\n  const liquidationPriceForFees = getLiquidationPriceFromDelta({\r\n    liquidationAmount: positionFee,\r\n    size: nextSize,\r\n    collateral: remainingCollateral,\r\n    averagePrice,\r\n    isLong,\r\n  });\r\n\r\n  const liquidationPriceForMaxLeverage = getLiquidationPriceFromDelta({\r\n    liquidationAmount: nextSize.mul(BASIS_POINTS_DIVISOR).div(MAX_LEVERAGE),\r\n    size: nextSize,\r\n    collateral: remainingCollateral,\r\n    averagePrice,\r\n    isLong,\r\n  });\r\n\r\n  if (!liquidationPriceForFees) {\r\n    return liquidationPriceForMaxLeverage;\r\n  }\r\n  if (!liquidationPriceForMaxLeverage) {\r\n    return liquidationPriceForFees;\r\n  }\r\n\r\n  if (isLong) {\r\n    // return the higher price\r\n    return liquidationPriceForFees.gt(liquidationPriceForMaxLeverage)\r\n      ? liquidationPriceForFees\r\n      : liquidationPriceForMaxLeverage;\r\n  }\r\n\r\n  // return the lower price\r\n  return liquidationPriceForFees.lt(liquidationPriceForMaxLeverage)\r\n    ? liquidationPriceForFees\r\n    : liquidationPriceForMaxLeverage;\r\n}\r\n\r\nexport function getUsd(amount, tokenAddress, max, infoTokens, orderOption, triggerPriceUsd) {\r\n  if (!amount) {\r\n    return;\r\n  }\r\n  if (tokenAddress === USDG_ADDRESS) {\r\n    return amount.mul(PRECISION).div(expandDecimals(1, 18));\r\n  }\r\n  const info = getTokenInfo(infoTokens, tokenAddress);\r\n  const price = getTriggerPrice(tokenAddress, max, info, orderOption, triggerPriceUsd);\r\n  if (!price) {\r\n    return;\r\n  }\r\n\r\n  return amount.mul(price).div(expandDecimals(1, info.decimals));\r\n}\r\n\r\nexport function getPositionKey(account, collateralTokenAddress, indexTokenAddress, isLong, nativeTokenAddress) {\r\n  const tokenAddress0 = collateralTokenAddress === AddressZero ? nativeTokenAddress : collateralTokenAddress;\r\n  const tokenAddress1 = indexTokenAddress === AddressZero ? nativeTokenAddress : indexTokenAddress;\r\n  return account + \":\" + tokenAddress0 + \":\" + tokenAddress1 + \":\" + isLong;\r\n}\r\n\r\nexport function getPositionContractKey(account, collateralToken, indexToken, isLong) {\r\n  return ethers.utils.solidityKeccak256(\r\n    [\"address\", \"address\", \"address\", \"bool\"],\r\n    [account, collateralToken, indexToken, isLong]\r\n  );\r\n}\r\n\r\nexport function getSwapFeeBasisPoints(isStable) {\r\n  return isStable ? STABLE_SWAP_FEE_BASIS_POINTS : SWAP_FEE_BASIS_POINTS;\r\n}\r\n\r\n// BSC TESTNET\r\n// const RPC_PROVIDERS = [\r\n//   \"https://data-seed-prebsc-1-s1.binance.org:8545\",\r\n//   \"https://data-seed-prebsc-2-s1.binance.org:8545\",\r\n//   \"https://data-seed-prebsc-1-s2.binance.org:8545\",\r\n//   \"https://data-seed-prebsc-2-s2.binance.org:8545\",\r\n//   \"https://data-seed-prebsc-1-s3.binance.org:8545\",\r\n//   \"https://data-seed-prebsc-2-s3.binance.org:8545\"\r\n// ]\r\n\r\n// BSC MAINNET\r\nexport const BSC_RPC_PROVIDERS = [\r\n  \"https://bsc-dataseed.binance.org\",\r\n  \"https://bsc-dataseed1.defibit.io\",\r\n  \"https://bsc-dataseed1.ninicoin.io\",\r\n  \"https://bsc-dataseed2.defibit.io\",\r\n  \"https://bsc-dataseed3.defibit.io\",\r\n  \"https://bsc-dataseed4.defibit.io\",\r\n  \"https://bsc-dataseed2.ninicoin.io\",\r\n  \"https://bsc-dataseed3.ninicoin.io\",\r\n  \"https://bsc-dataseed4.ninicoin.io\",\r\n  \"https://bsc-dataseed1.binance.org\",\r\n  \"https://bsc-dataseed2.binance.org\",\r\n  \"https://bsc-dataseed3.binance.org\",\r\n  \"https://bsc-dataseed4.binance.org\",\r\n];\r\n\r\nconst RPC_PROVIDERS = {\r\n  [MAINNET]: BSC_RPC_PROVIDERS,\r\n  [ARBITRUM]: ARBITRUM_RPC_PROVIDERS,\r\n  [AVALANCHE]: AVALANCHE_RPC_PROVIDERS,\r\n};\r\n\r\nconst FALLBACK_PROVIDERS = {\r\n  [ARBITRUM]: [getAlchemyHttpUrl()],\r\n  [AVALANCHE]: [\"https://avax-mainnet.gateway.pokt.network/v1/lb/626f37766c499d003aada23b\"],\r\n};\r\n\r\nexport function shortenAddress(address, length) {\r\n  if (!length) {\r\n    return \"\";\r\n  }\r\n  if (!address) {\r\n    return address;\r\n  }\r\n  if (address.length < 10) {\r\n    return address;\r\n  }\r\n  let left = Math.floor((length - 3) / 2) + 1;\r\n  return address.substring(0, left) + \"...\" + address.substring(address.length - (length - (left + 3)), address.length);\r\n}\r\n\r\nexport function formatDateTime(time) {\r\n  return formatDateFn(time * 1000, \"dd MMM yyyy, h:mm a\");\r\n}\r\n\r\nexport function getTimeRemaining(time) {\r\n  const now = parseInt(Date.now() / 1000);\r\n  if (time < now) {\r\n    return \"0h 0m\";\r\n  }\r\n  const diff = time - now;\r\n  const hours = parseInt(diff / (60 * 60));\r\n  const minutes = parseInt((diff - hours * 60 * 60) / 60);\r\n  return `${hours}h ${minutes}m`;\r\n}\r\n\r\nexport function formatDate(time) {\r\n  return formatDateFn(time * 1000, \"dd MMM yyyy\");\r\n}\r\n\r\nexport function hasMetaMaskWalletExtension() {\r\n  return window.ethereum;\r\n}\r\n\r\nexport function hasCoinBaseWalletExtension() {\r\n  const { ethereum } = window;\r\n\r\n  if (!ethereum?.providers && !ethereum?.isCoinbaseWallet) {\r\n    return false;\r\n  }\r\n  return window.ethereum.isCoinbaseWallet || ethereum.providers.find(({ isCoinbaseWallet }) => isCoinbaseWallet);\r\n}\r\n\r\nexport function activateInjectedProvider(providerName) {\r\n  const { ethereum } = window;\r\n\r\n  if (!ethereum?.providers && !ethereum?.isCoinbaseWallet && !ethereum?.isMetaMask) {\r\n    return undefined;\r\n  }\r\n\r\n  let provider;\r\n  if (ethereum?.providers) {\r\n    switch (providerName) {\r\n      case \"CoinBase\":\r\n        provider = ethereum.providers.find(({ isCoinbaseWallet }) => isCoinbaseWallet);\r\n        break;\r\n      case \"MetaMask\":\r\n      default:\r\n        provider = ethereum.providers.find(({ isMetaMask }) => isMetaMask);\r\n        break;\r\n    }\r\n  }\r\n\r\n  if (provider) {\r\n    ethereum.setSelectedProvider(provider);\r\n  }\r\n}\r\n\r\nexport function getInjectedConnector() {\r\n  return injectedConnector;\r\n}\r\n\r\nexport function useChainId() {\r\n  let { chainId } = useWeb3React();\r\n\r\n  if (!chainId) {\r\n    const chainIdFromLocalStorage = localStorage.getItem(SELECTED_NETWORK_LOCAL_STORAGE_KEY);\r\n    if (chainIdFromLocalStorage) {\r\n      chainId = parseInt(chainIdFromLocalStorage);\r\n      if (!chainId) {\r\n        // localstorage value is invalid\r\n        localStorage.removeItem(SELECTED_NETWORK_LOCAL_STORAGE_KEY);\r\n      }\r\n    }\r\n  }\r\n\r\n  if (!chainId || !supportedChainIds.includes(chainId)) {\r\n    chainId = DEFAULT_CHAIN_ID;\r\n  }\r\n  return { chainId };\r\n}\r\n\r\nexport function useENS(address) {\r\n  const [ensName, setENSName] = useState();\r\n\r\n  useEffect(() => {\r\n    async function resolveENS() {\r\n      if (address) {\r\n        const provider = new ethers.providers.JsonRpcProvider(\"https://rpc.ankr.com/eth\");\r\n        const name = await provider.lookupAddress(address.toLowerCase());\r\n        if (name) setENSName(name);\r\n      }\r\n    }\r\n    resolveENS();\r\n  }, [address]);\r\n\r\n  return { ensName };\r\n}\r\n\r\nexport function clearWalletConnectData() {\r\n  localStorage.removeItem(WALLET_CONNECT_LOCALSTORAGE_KEY);\r\n}\r\n\r\nexport function clearWalletLinkData() {\r\n  Object.entries(localStorage)\r\n    .map((x) => x[0])\r\n    .filter((x) => x.startsWith(WALLET_LINK_LOCALSTORAGE_PREFIX))\r\n    .map((x) => localStorage.removeItem(x));\r\n}\r\n\r\nexport function useEagerConnect(setActivatingConnector) {\r\n  const { activate, active } = useWeb3React();\r\n  const [tried, setTried] = useState(false);\r\n\r\n  useEffect(() => {\r\n    (async function () {\r\n      if (Boolean(localStorage.getItem(SHOULD_EAGER_CONNECT_LOCALSTORAGE_KEY)) !== true) {\r\n        // only works with WalletConnect\r\n        clearWalletConnectData();\r\n        // force clear localStorage connection for MM/CB Wallet (Brave legacy)\r\n        clearWalletLinkData();\r\n        return;\r\n      }\r\n\r\n      let shouldTryWalletConnect = false;\r\n      try {\r\n        // naive validation to not trigger Wallet Connect if data is corrupted\r\n        const rawData = localStorage.getItem(WALLET_CONNECT_LOCALSTORAGE_KEY);\r\n        if (rawData) {\r\n          const data = JSON.parse(rawData);\r\n          if (data && data.connected) {\r\n            shouldTryWalletConnect = true;\r\n          }\r\n        }\r\n      } catch (ex) {\r\n        if (ex instanceof SyntaxError) {\r\n          // rawData is not a valid json\r\n          clearWalletConnectData();\r\n        }\r\n      }\r\n\r\n      if (shouldTryWalletConnect) {\r\n        try {\r\n          const connector = getWalletConnectConnector();\r\n          setActivatingConnector(connector);\r\n          await activate(connector, undefined, true);\r\n          // in case Wallet Connect is activated no need to check injected wallet\r\n          return;\r\n        } catch (ex) {\r\n          // assume data in localstorage is corrupted and delete it to not retry on next page load\r\n          clearWalletConnectData();\r\n        }\r\n      }\r\n\r\n      try {\r\n        const connector = getInjectedConnector();\r\n        const currentProviderName = localStorage.getItem(CURRENT_PROVIDER_LOCALSTORAGE_KEY) ?? false;\r\n        if (currentProviderName !== false) {\r\n          activateInjectedProvider(currentProviderName);\r\n        }\r\n        const authorized = await connector.isAuthorized();\r\n        if (authorized) {\r\n          setActivatingConnector(connector);\r\n          await activate(connector, undefined, true);\r\n        }\r\n      } catch (ex) {}\r\n\r\n      setTried(true);\r\n    })();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []); // intentionally only running on mount (make sure it's only mounted once :))\r\n\r\n  // if the connection worked, wait until we get confirmation of that to flip the flag\r\n  useEffect(() => {\r\n    if (!tried && active) {\r\n      setTried(true);\r\n    }\r\n  }, [tried, active]);\r\n\r\n  return tried;\r\n}\r\n\r\nexport function useInactiveListener(suppress = false) {\r\n  const injected = getInjectedConnector();\r\n  const { active, error, activate } = useWeb3React();\r\n\r\n  useEffect(() => {\r\n    const { ethereum } = window;\r\n    if (ethereum && ethereum.on && !active && !error && !suppress) {\r\n      const handleConnect = () => {\r\n        activate(injected);\r\n      };\r\n      const handleChainChanged = (chainId) => {\r\n        activate(injected);\r\n      };\r\n      const handleAccountsChanged = (accounts) => {\r\n        if (accounts.length > 0) {\r\n          activate(injected);\r\n        }\r\n      };\r\n      const handleNetworkChanged = (networkId) => {\r\n        activate(injected);\r\n      };\r\n\r\n      ethereum.on(\"connect\", handleConnect);\r\n      ethereum.on(\"chainChanged\", handleChainChanged);\r\n      ethereum.on(\"accountsChanged\", handleAccountsChanged);\r\n      ethereum.on(\"networkChanged\", handleNetworkChanged);\r\n\r\n      return () => {\r\n        if (ethereum.removeListener) {\r\n          ethereum.removeListener(\"connect\", handleConnect);\r\n          ethereum.removeListener(\"chainChanged\", handleChainChanged);\r\n          ethereum.removeListener(\"accountsChanged\", handleAccountsChanged);\r\n          ethereum.removeListener(\"networkChanged\", handleNetworkChanged);\r\n        }\r\n      };\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [active, error, suppress, activate]);\r\n}\r\n\r\nexport function getProvider(library, chainId) {\r\n  let provider;\r\n  if (library) {\r\n    return library.getSigner();\r\n  }\r\n  provider = _.sample(RPC_PROVIDERS[chainId]);\r\n  return new ethers.providers.StaticJsonRpcProvider(provider, { chainId });\r\n}\r\n\r\nexport function getFallbackProvider(chainId) {\r\n  if (!FALLBACK_PROVIDERS[chainId]) {\r\n    return;\r\n  }\r\n\r\n  const provider = _.sample(FALLBACK_PROVIDERS[chainId]);\r\n  return new ethers.providers.StaticJsonRpcProvider(provider, { chainId });\r\n}\r\n\r\nexport function bigNumberify(n) {\r\n  try {\r\n    return ethers.BigNumber.from(n);\r\n  } catch (e) {\r\n    console.error(\"bigNumberify error\", e);\r\n    return undefined;\r\n  }\r\n}\r\n\r\nexport function expandDecimals(n, decimals) {\r\n  return bigNumberify(n).mul(bigNumberify(10).pow(decimals));\r\n}\r\n\r\nexport const trimZeroDecimals = (amount) => {\r\n  if (parseFloat(amount) === parseInt(amount)) {\r\n    return parseInt(amount).toString();\r\n  }\r\n  return amount;\r\n};\r\n\r\nexport const limitDecimals = (amount, maxDecimals) => {\r\n  let amountStr = amount.toString();\r\n  \r\n  if (maxDecimals === undefined) {\r\n    return amountStr;\r\n  }\r\n  if (maxDecimals === 0) {\r\n    return amountStr.split(\".\")[0];\r\n  }\r\n  const dotIndex = amountStr.indexOf(\".\");\r\n  if (dotIndex !== -1) {\r\n    let decimals = amountStr.length - dotIndex - 1;\r\n    if (decimals > maxDecimals) {\r\n      amountStr = amountStr.substr(0, amountStr.length - (decimals - maxDecimals));\r\n    }\r\n  }\r\n  return amountStr;\r\n};\r\n\r\nexport const padDecimals = (amount, minDecimals) => {\r\n  let amountStr = amount.toString();\r\n  const dotIndex = amountStr.indexOf(\".\");\r\n  if (dotIndex !== -1) {\r\n    const decimals = amountStr.length - dotIndex - 1;\r\n    if (decimals < minDecimals) {\r\n      amountStr = amountStr.padEnd(amountStr.length + (minDecimals - decimals), \"0\");\r\n    }\r\n  } else {\r\n    amountStr = amountStr + \".0000\";\r\n  }\r\n  return amountStr;\r\n};\r\n\r\nexport const formatKeyAmount = (map, key, tokenDecimals, displayDecimals, useCommas) => {\r\n  if (!map || !map[key]) {\r\n    return \"...\";\r\n  }\r\n\r\n  return formatAmount(map[key], tokenDecimals, displayDecimals, useCommas);\r\n};\r\n\r\nexport const formatArrayAmount = (arr, index, tokenDecimals, displayDecimals, useCommas) => {\r\n  if (!arr || !arr[index]) {\r\n    return \"...\";\r\n  }\r\n\r\n  return formatAmount(arr[index], tokenDecimals, displayDecimals, useCommas);\r\n};\r\n\r\nfunction _parseOrdersData(ordersData, account, indexes, extractor, uintPropsLength, addressPropsLength) {\r\n  if (!ordersData || ordersData.length === 0) {\r\n    return [];\r\n  }\r\n  const [uintProps, addressProps] = ordersData;\r\n  const count = uintProps.length / uintPropsLength;\r\n\r\n  const orders = [];\r\n  for (let i = 0; i < count; i++) {\r\n    const sliced = addressProps\r\n      .slice(addressPropsLength * i, addressPropsLength * (i + 1))\r\n      .concat(uintProps.slice(uintPropsLength * i, uintPropsLength * (i + 1)));\r\n\r\n    if (sliced[0] === AddressZero && sliced[1] === AddressZero) {\r\n      continue;\r\n    }\r\n\r\n    const order = extractor(sliced);\r\n    order.index = indexes[i];\r\n    order.account = account;\r\n    orders.push(order);\r\n  }\r\n\r\n  return orders;\r\n}\r\n\r\nfunction parseDecreaseOrdersData(chainId, decreaseOrdersData, account, indexes) {\r\n  const extractor = (sliced) => {\r\n    const isLong = sliced[4].toString() === \"1\";\r\n    return {\r\n      collateralToken: sliced[0],\r\n      indexToken: sliced[1],\r\n      collateralDelta: sliced[2],\r\n      sizeDelta: sliced[3],\r\n      isLong,\r\n      triggerPrice: sliced[5],\r\n      triggerAboveThreshold: sliced[6].toString() === \"1\",\r\n      type: DECREASE,\r\n    };\r\n  };\r\n  return _parseOrdersData(decreaseOrdersData, account, indexes, extractor, 5, 2).filter((order) => {\r\n    return isValidToken(chainId, order.collateralToken) && isValidToken(chainId, order.indexToken);\r\n  });\r\n}\r\n\r\nfunction parseIncreaseOrdersData(chainId, increaseOrdersData, account, indexes) {\r\n  const extractor = (sliced) => {\r\n    const isLong = sliced[5].toString() === \"1\";\r\n    return {\r\n      purchaseToken: sliced[0],\r\n      collateralToken: sliced[1],\r\n      indexToken: sliced[2],\r\n      purchaseTokenAmount: sliced[3],\r\n      sizeDelta: sliced[4],\r\n      isLong,\r\n      triggerPrice: sliced[6],\r\n      triggerAboveThreshold: sliced[7].toString() === \"1\",\r\n      type: INCREASE,\r\n    };\r\n  };\r\n  return _parseOrdersData(increaseOrdersData, account, indexes, extractor, 5, 3).filter((order) => {\r\n    return (\r\n      isValidToken(chainId, order.purchaseToken) &&\r\n      isValidToken(chainId, order.collateralToken) &&\r\n      isValidToken(chainId, order.indexToken)\r\n    );\r\n  });\r\n}\r\n\r\nfunction parseSwapOrdersData(chainId, swapOrdersData, account, indexes) {\r\n  if (!swapOrdersData || !swapOrdersData.length) {\r\n    return [];\r\n  }\r\n\r\n  const extractor = (sliced) => {\r\n    const triggerAboveThreshold = sliced[6].toString() === \"1\";\r\n    const shouldUnwrap = sliced[7].toString() === \"1\";\r\n\r\n    return {\r\n      path: [sliced[0], sliced[1], sliced[2]].filter((address) => address !== AddressZero),\r\n      amountIn: sliced[3],\r\n      minOut: sliced[4],\r\n      triggerRatio: sliced[5],\r\n      triggerAboveThreshold,\r\n      type: SWAP,\r\n      shouldUnwrap,\r\n    };\r\n  };\r\n  return _parseOrdersData(swapOrdersData, account, indexes, extractor, 5, 3).filter((order) => {\r\n    return order.path.every((token) => isValidToken(chainId, token));\r\n  });\r\n}\r\n\r\nexport function getOrderKey(order) {\r\n  return `${order.type}-${order.account}-${order.index}`;\r\n}\r\n\r\nexport function useAccountOrders(flagOrdersEnabled, overrideAccount) {\r\n  const { library, account: connectedAccount } = useWeb3React();\r\n  const active = true; // this is used in Actions.js so set active to always be true\r\n  const account = overrideAccount || connectedAccount;\r\n\r\n  const { chainId } = useChainId();\r\n  const shouldRequest = active && account && flagOrdersEnabled;\r\n\r\n  const orderBookAddress = getContract(chainId, \"OrderBook\");\r\n  const orderBookReaderAddress = getContract(chainId, \"OrderBookReader\");\r\n  const key = shouldRequest ? [active, chainId, orderBookAddress, account] : false;\r\n  const {\r\n    data: orders = [],\r\n    mutate: updateOrders,\r\n    error: ordersError,\r\n  } = useSWR(key, {\r\n    dedupingInterval: 5000,\r\n    fetcher: async (active, chainId, orderBookAddress, account) => {\r\n      const provider = getProvider(library, chainId);\r\n      const orderBookContract = new ethers.Contract(orderBookAddress, OrderBook.abi, provider);\r\n      const orderBookReaderContract = new ethers.Contract(orderBookReaderAddress, OrderBookReader.abi, provider);\r\n\r\n      const fetchIndexesFromServer = () => {\r\n        const ordersIndexesUrl = `${getServerBaseUrl(chainId)}/orders_indices?account=${account}`;\r\n        return fetch(ordersIndexesUrl)\r\n          .then(async (res) => {\r\n            const json = await res.json();\r\n            const ret = {};\r\n            for (const key of Object.keys(json)) {\r\n              ret[key.toLowerCase()] = json[key].map((val) => parseInt(val.value)).sort((a, b) => a - b);\r\n            }\r\n\r\n            return ret;\r\n          })\r\n          .catch(() => ({ swap: [], increase: [], decrease: [] }));\r\n      };\r\n\r\n      const fetchLastIndex = async (type) => {\r\n        const method = type.toLowerCase() + \"OrdersIndex\";\r\n        return await orderBookContract[method](account).then((res) => bigNumberify(res._hex).toNumber());\r\n      };\r\n\r\n      const fetchLastIndexes = async () => {\r\n        const [swap, increase, decrease] = await Promise.all([\r\n          fetchLastIndex(\"swap\"),\r\n          fetchLastIndex(\"increase\"),\r\n          fetchLastIndex(\"decrease\"),\r\n        ]);\r\n\r\n        return { swap, increase, decrease };\r\n      };\r\n\r\n      const getRange = (to, from) => {\r\n        const LIMIT = 10;\r\n        const _indexes = [];\r\n        from = from || Math.max(to - LIMIT, 0);\r\n        for (let i = to - 1; i >= from; i--) {\r\n          _indexes.push(i);\r\n        }\r\n        return _indexes;\r\n      };\r\n\r\n      const getIndexes = (knownIndexes, lastIndex) => {\r\n        if (knownIndexes.length === 0) {\r\n          return getRange(lastIndex);\r\n        }\r\n        return [\r\n          ...knownIndexes,\r\n          ...getRange(lastIndex, knownIndexes[knownIndexes.length - 1] + 1).sort((a, b) => b - a),\r\n        ];\r\n      };\r\n\r\n      const getOrders = async (method, knownIndexes, lastIndex, parseFunc) => {\r\n        const indexes = getIndexes(knownIndexes, lastIndex);\r\n        const ordersData = await orderBookReaderContract[method](orderBookAddress, account, indexes);\r\n        const orders = parseFunc(chainId, ordersData, account, indexes);\r\n\r\n        return orders;\r\n      };\r\n\r\n      try {\r\n        const [serverIndexes, lastIndexes] = await Promise.all([fetchIndexesFromServer(), fetchLastIndexes()]);\r\n        const [swapOrders = [], increaseOrders = [], decreaseOrders = []] = await Promise.all([\r\n          getOrders(\"getSwapOrders\", serverIndexes.swap, lastIndexes.swap, parseSwapOrdersData),\r\n          getOrders(\"getIncreaseOrders\", serverIndexes.increase, lastIndexes.increase, parseIncreaseOrdersData),\r\n          getOrders(\"getDecreaseOrders\", serverIndexes.decrease, lastIndexes.decrease, parseDecreaseOrdersData),\r\n        ]);\r\n        return [...swapOrders, ...increaseOrders, ...decreaseOrders];\r\n      } catch (ex) {\r\n        console.error(ex);\r\n      }\r\n    },\r\n  });\r\n\r\n  return [orders, updateOrders, ordersError];\r\n}\r\n\r\nexport const formatAmount = (amount, tokenDecimals, displayDecimals, useCommas, defaultValue) => {\r\n  if (amount === null) {\r\n    return;\r\n  }\r\n  \r\n  if (!defaultValue) {\r\n    defaultValue = \"...\";\r\n  }\r\n  if (amount === undefined || amount.toString().length === 0) {\r\n    return defaultValue;\r\n  }\r\n  if (displayDecimals === undefined) {\r\n    displayDecimals = 4;\r\n  }\r\n  let amountStr = ethers.utils.formatUnits(amount, tokenDecimals);\r\n  amountStr = limitDecimals(amountStr, displayDecimals);\r\n  if (displayDecimals !== 0) {\r\n    amountStr = padDecimals(amountStr, displayDecimals);\r\n  }\r\n  if (useCommas) {\r\n    return numberWithCommas(amountStr);\r\n  }\r\n  return amountStr;\r\n};\r\n\r\nexport const formatAmountFree = (amount, tokenDecimals, displayDecimals) => {\r\n  if (!amount) {\r\n    return \"...\";\r\n  }\r\n  let amountStr = ethers.utils.formatUnits(amount, tokenDecimals);\r\n  amountStr = limitDecimals(amountStr, displayDecimals);\r\n  return trimZeroDecimals(amountStr);\r\n};\r\n\r\nexport const parseValue = (value, tokenDecimals) => {\r\n  const pValue = parseFloat(value);\r\n  if (isNaN(pValue)) {\r\n    return undefined;\r\n  }\r\n  value = limitDecimals(value, tokenDecimals);\r\n  const amount = ethers.utils.parseUnits(value, tokenDecimals);\r\n  return bigNumberify(amount);\r\n};\r\n\r\nexport function numberWithCommas(x) {\r\n  if (!x) {\r\n    return \"...\";\r\n  }\r\n  var parts = x.toString().split(\".\");\r\n  parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n  return parts.join(\".\");\r\n}\r\n\r\nexport function getExplorerUrl(chainId) {\r\n  if (chainId === 3) {\r\n    return \"https://ropsten.etherscan.io/\";\r\n  } else if (chainId === 42) {\r\n    return \"https://kovan.etherscan.io/\";\r\n  } else if (chainId === MAINNET) {\r\n    return \"https://bscscan.com/\";\r\n  } else if (chainId === TESTNET) {\r\n    return \"https://testnet.bscscan.com/\";\r\n  } else if (chainId === ARBITRUM_TESTNET) {\r\n    return \"https://testnet.arbiscan.io/\";\r\n  } else if (chainId === ARBITRUM) {\r\n    return \"https://arbiscan.io/\";\r\n  } else if (chainId === AVALANCHE) {\r\n    return \"https://snowtrace.io/\";\r\n  }\r\n  return \"https://etherscan.io/\";\r\n}\r\n\r\nexport function getAccountUrl(chainId, account) {\r\n  if (!account) {\r\n    return getExplorerUrl(chainId);\r\n  }\r\n  return getExplorerUrl(chainId) + \"address/\" + account;\r\n}\r\n\r\nexport function getTokenUrl(chainId, address) {\r\n  if (!address) {\r\n    return getExplorerUrl(chainId);\r\n  }\r\n  return getExplorerUrl(chainId) + \"token/\" + address;\r\n}\r\n\r\nexport function usePrevious(value) {\r\n  const ref = useRef();\r\n  useEffect(() => {\r\n    ref.current = value;\r\n  });\r\n  return ref.current;\r\n}\r\n\r\nexport function approveTokens({\r\n  setIsApproving,\r\n  library,\r\n  tokenAddress,\r\n  spender,\r\n  chainId,\r\n  onApproveSubmitted,\r\n  getTokenInfo,\r\n  infoTokens,\r\n  pendingTxns,\r\n  setPendingTxns,\r\n  includeMessage,\r\n}) {\r\n  setIsApproving(true);\r\n  const contract = new ethers.Contract(tokenAddress, Token.abi, library.getSigner());\r\n  contract\r\n    .approve(spender, ethers.constants.MaxUint256)\r\n    .then(async (res) => {\r\n      const txUrl = getExplorerUrl(chainId) + \"tx/\" + res.hash;\r\n      helperToast.success(\r\n        <div>\r\n          Approval submitted!{\" \"}\r\n          <a href={txUrl} target=\"_blank\" rel=\"noopener noreferrer\">\r\n            View status.\r\n          </a>\r\n          <br />\r\n        </div>\r\n      );\r\n      if (onApproveSubmitted) {\r\n        onApproveSubmitted();\r\n      }\r\n      if (getTokenInfo && infoTokens && pendingTxns && setPendingTxns) {\r\n        const token = getTokenInfo(infoTokens, tokenAddress);\r\n        const pendingTxn = {\r\n          hash: res.hash,\r\n          message: includeMessage ? `${token.symbol} Approved!` : false,\r\n        };\r\n        setPendingTxns([...pendingTxns, pendingTxn]);\r\n      }\r\n    })\r\n    .catch((e) => {\r\n      console.error(e);\r\n      let failMsg;\r\n      if (\r\n        [\"not enough funds for gas\", \"failed to execute call with revert code InsufficientGasFunds\"].includes(\r\n          e.data?.message\r\n        )\r\n      ) {\r\n        failMsg = (\r\n          <div>\r\n            There is not enough ETH in your account on Arbitrum to send this transaction.\r\n            <br />\r\n            <br />\r\n            <a href={\"https://arbitrum.io/bridge-tutorial/\"} target=\"_blank\" rel=\"noopener noreferrer\">\r\n              Bridge ETH to Arbitrum\r\n            </a>\r\n          </div>\r\n        );\r\n      } else if (e.message?.includes(\"User denied transaction signature\")) {\r\n        failMsg = \"Approval was cancelled\";\r\n      } else {\r\n        failMsg = \"Approval failed\";\r\n      }\r\n      helperToast.error(failMsg);\r\n    })\r\n    .finally(() => {\r\n      setIsApproving(false);\r\n    });\r\n}\r\n\r\nexport const shouldRaiseGasError = (token, amount) => {\r\n  if (!amount) {\r\n    return false;\r\n  }\r\n  if (token.address !== AddressZero) {\r\n    return false;\r\n  }\r\n  if (!token.balance) {\r\n    return false;\r\n  }\r\n  if (amount.gte(token.balance)) {\r\n    return true;\r\n  }\r\n  if (token.balance.sub(amount).lt(DUST_BNB)) {\r\n    return true;\r\n  }\r\n  return false;\r\n};\r\n\r\nexport const getTokenInfo = (infoTokens, tokenAddress, replaceNative, nativeTokenAddress) => {\r\n  if (replaceNative && tokenAddress === nativeTokenAddress) {\r\n    return infoTokens[AddressZero];\r\n  }\r\n  return infoTokens[tokenAddress];\r\n};\r\n\r\nconst NETWORK_METADATA = {\r\n  [MAINNET]: {\r\n    chainId: \"0x\" + MAINNET.toString(16),\r\n    chainName: \"BSC\",\r\n    nativeCurrency: {\r\n      name: \"BNB\",\r\n      symbol: \"BNB\",\r\n      decimals: 18,\r\n    },\r\n    rpcUrls: BSC_RPC_PROVIDERS,\r\n    blockExplorerUrls: [\"https://bscscan.com\"],\r\n  },\r\n  [TESTNET]: {\r\n    chainId: \"0x\" + TESTNET.toString(16),\r\n    chainName: \"BSC Testnet\",\r\n    nativeCurrency: {\r\n      name: \"BNB\",\r\n      symbol: \"BNB\",\r\n      decimals: 18,\r\n    },\r\n    rpcUrls: [\"https://data-seed-prebsc-1-s1.binance.org:8545/\"],\r\n    blockExplorerUrls: [\"https://testnet.bscscan.com/\"],\r\n  },\r\n  [ARBITRUM_TESTNET]: {\r\n    chainId: \"0x\" + ARBITRUM_TESTNET.toString(16),\r\n    chainName: \"Arbitrum Testnet\",\r\n    nativeCurrency: {\r\n      name: \"ETH\",\r\n      symbol: \"ETH\",\r\n      decimals: 18,\r\n    },\r\n    rpcUrls: [\"https://rinkeby.arbitrum.io/rpc\"],\r\n    blockExplorerUrls: [\"https://rinkeby-explorer.arbitrum.io/\"],\r\n  },\r\n  [ARBITRUM]: {\r\n    chainId: \"0x\" + ARBITRUM.toString(16),\r\n    chainName: \"Arbitrum\",\r\n    nativeCurrency: {\r\n      name: \"ETH\",\r\n      symbol: \"ETH\",\r\n      decimals: 18,\r\n    },\r\n    rpcUrls: ARBITRUM_RPC_PROVIDERS,\r\n    blockExplorerUrls: [getExplorerUrl(ARBITRUM)],\r\n  },\r\n  [AVALANCHE]: {\r\n    chainId: \"0x\" + AVALANCHE.toString(16),\r\n    chainName: \"Avalanche\",\r\n    nativeCurrency: {\r\n      name: \"AVAX\",\r\n      symbol: \"AVAX\",\r\n      decimals: 18,\r\n    },\r\n    rpcUrls: AVALANCHE_RPC_PROVIDERS,\r\n    blockExplorerUrls: [getExplorerUrl(AVALANCHE)],\r\n  },\r\n};\r\n\r\nexport const addBscNetwork = async () => {\r\n  return addNetwork(NETWORK_METADATA[MAINNET]);\r\n};\r\n\r\nexport const addNetwork = async (metadata) => {\r\n  await window.ethereum.request({ method: \"wallet_addEthereumChain\", params: [metadata] }).catch();\r\n};\r\n\r\nexport const switchNetwork = async (chainId, active) => {\r\n  if (!active) {\r\n    // chainId in localStorage allows to switch network even if wallet is not connected\r\n    // or there is no wallet at all\r\n    localStorage.setItem(SELECTED_NETWORK_LOCAL_STORAGE_KEY, chainId);\r\n    document.location.reload();\r\n    return;\r\n  }\r\n\r\n  try {\r\n    const chainIdHex = \"0x\" + chainId.toString(16);\r\n    await window.ethereum.request({\r\n      method: \"wallet_switchEthereumChain\",\r\n      params: [{ chainId: chainIdHex }],\r\n    });\r\n    helperToast.success(\"Connected to \" + getChainName(chainId));\r\n    return getChainName(chainId);\r\n  } catch (ex) {\r\n    // https://docs.metamask.io/guide/rpc-api.html#other-rpc-methods\r\n    // This error code indicates that the chain has not been added to MetaMask.\r\n    // 4001 error means user has denied the request\r\n    // If the error code is not 4001, then we need to add the network\r\n    if (ex.code !== 4001) {\r\n      return await addNetwork(NETWORK_METADATA[chainId]);\r\n    }\r\n\r\n    console.error(\"error\", ex);\r\n  }\r\n};\r\n\r\nexport const getWalletConnectHandler = (activate, deactivate, setActivatingConnector) => {\r\n  const fn = async () => {\r\n    const walletConnect = getWalletConnectConnector();\r\n    setActivatingConnector(walletConnect);\r\n    activate(walletConnect, (ex) => {\r\n      if (ex instanceof UnsupportedChainIdError) {\r\n        helperToast.error(\"Unsupported chain. Switch to Arbitrum network on your wallet and try again\");\r\n        console.warn(ex);\r\n      } else if (!(ex instanceof UserRejectedRequestErrorWalletConnect)) {\r\n        helperToast.error(ex.message);\r\n        console.warn(ex);\r\n      }\r\n      clearWalletConnectData();\r\n      deactivate();\r\n    });\r\n  };\r\n  return fn;\r\n};\r\n\r\nexport const getInjectedHandler = (activate) => {\r\n  const fn = async () => {\r\n    activate(getInjectedConnector(), (e) => {\r\n      const chainId = localStorage.getItem(SELECTED_NETWORK_LOCAL_STORAGE_KEY) || DEFAULT_CHAIN_ID;\r\n\r\n      if (e instanceof UnsupportedChainIdError) {\r\n        helperToast.error(\r\n          <div>\r\n            <div>Your wallet is not connected to {getChainName(chainId)}.</div>\r\n            <br />\r\n            <div className=\"clickable underline margin-bottom\" onClick={() => switchNetwork(chainId, true)}>\r\n              Switch to {getChainName(chainId)}\r\n            </div>\r\n            <div className=\"clickable underline\" onClick={() => switchNetwork(chainId, true)}>\r\n              Add {getChainName(chainId)}\r\n            </div>\r\n          </div>\r\n        );\r\n        return;\r\n      }\r\n      const errString = e.message ?? e.toString();\r\n      helperToast.error(errString);\r\n    });\r\n  };\r\n  return fn;\r\n};\r\n\r\nexport function isMobileDevice(navigator) {\r\n  return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\r\n}\r\n\r\nexport function setTokenUsingIndexPrices(token, indexPrices, nativeTokenAddress) {\r\n  if (!indexPrices) {\r\n    // console.log('return');\r\n    return;\r\n  }\r\n\r\n  // console.log('-------------------WENT THROUGH')\r\n\r\n  const tokenAddress = token.isNative ? nativeTokenAddress : token.address;\r\n\r\n  const indexPrice = indexPrices[tokenAddress];\r\n  if (!indexPrice) {\r\n    return;\r\n  }\r\n\r\n  const indexPriceBn = bigNumberify(indexPrice);\r\n  if (indexPriceBn.eq(0)) {\r\n    return;\r\n  }\r\n\r\n  const spread = token.maxPrice.sub(token.minPrice);\r\n  const spreadBps = spread.mul(BASIS_POINTS_DIVISOR).div(token.maxPrice.add(token.minPrice).div(2));\r\n\r\n  if (spreadBps.gt(MAX_PRICE_DEVIATION_BASIS_POINTS - 50)) {\r\n    // only set one of the values as there will be a spread between the index price and the Chainlink price\r\n    if (indexPriceBn.gt(token.minPrimaryPrice)) {\r\n      token.maxPrice = indexPriceBn;\r\n    } else {\r\n      token.minPrice = indexPriceBn;\r\n    }\r\n    return;\r\n  }\r\n\r\n  const halfSpreadBps = spreadBps.div(2).toNumber();\r\n  token.maxPrice = indexPriceBn.mul(BASIS_POINTS_DIVISOR + halfSpreadBps).div(BASIS_POINTS_DIVISOR);\r\n  token.minPrice = indexPriceBn.mul(BASIS_POINTS_DIVISOR - halfSpreadBps).div(BASIS_POINTS_DIVISOR);\r\n}\r\n\r\nexport function getInfoTokens(\r\n  tokens,\r\n  tokenBalances,\r\n  whitelistedTokens,\r\n  vaultTokenInfo,\r\n  fundingRateInfo,\r\n  vaultPropsLength,\r\n  indexPrices,\r\n  nativeTokenAddress\r\n) {\r\n  if (!vaultPropsLength) {\r\n    vaultPropsLength = 15;\r\n  }\r\n  const fundingRatePropsLength = 2;\r\n  const infoTokens = {};\r\n\r\n  for (let i = 0; i < tokens.length; i++) {\r\n    const token = JSON.parse(JSON.stringify(tokens[i]));\r\n    if (tokenBalances) {\r\n      token.balance = tokenBalances[i];\r\n    }\r\n    if (token.address === USDG_ADDRESS) {\r\n      token.minPrice = expandDecimals(1, USD_DECIMALS);\r\n      token.maxPrice = expandDecimals(1, USD_DECIMALS);\r\n    }\r\n    infoTokens[token.address] = token;\r\n  }\r\n\r\n  for (let i = 0; i < whitelistedTokens.length; i++) {\r\n    const token = JSON.parse(JSON.stringify(whitelistedTokens[i]));\r\n    if (vaultTokenInfo) {\r\n      token.poolAmount = vaultTokenInfo[i * vaultPropsLength];\r\n      token.reservedAmount = vaultTokenInfo[i * vaultPropsLength + 1];\r\n      token.availableAmount = token.poolAmount.sub(token.reservedAmount);\r\n      token.usdgAmount = vaultTokenInfo[i * vaultPropsLength + 2];\r\n      token.redemptionAmount = vaultTokenInfo[i * vaultPropsLength + 3];\r\n      token.weight = vaultTokenInfo[i * vaultPropsLength + 4];\r\n      token.bufferAmount = vaultTokenInfo[i * vaultPropsLength + 5];\r\n      token.maxUsdgAmount = vaultTokenInfo[i * vaultPropsLength + 6];\r\n      token.globalShortSize = vaultTokenInfo[i * vaultPropsLength + 7];\r\n      token.maxGlobalShortSize = vaultTokenInfo[i * vaultPropsLength + 8];\r\n      token.maxGlobalLongSize = vaultTokenInfo[i * vaultPropsLength + 9];\r\n      token.minPrice = vaultTokenInfo[i * vaultPropsLength + 10];\r\n      token.maxPrice = vaultTokenInfo[i * vaultPropsLength + 11];\r\n      token.guaranteedUsd = vaultTokenInfo[i * vaultPropsLength + 12];\r\n      token.maxPrimaryPrice = vaultTokenInfo[i * vaultPropsLength + 13];\r\n      token.minPrimaryPrice = vaultTokenInfo[i * vaultPropsLength + 14];\r\n\r\n      // save minPrice and maxPrice as setTokenUsingIndexPrices may override it\r\n      token.contractMinPrice = token.minPrice;\r\n      token.contractMaxPrice = token.maxPrice;\r\n\r\n      token.maxAvailableShort = bigNumberify(0);\r\n      token.hasMaxAvailableShort = false;\r\n      if (token.maxGlobalShortSize.gt(0)) {\r\n        token.hasMaxAvailableShort = true;\r\n        if (token.maxGlobalShortSize.gt(token.globalShortSize)) {\r\n          token.maxAvailableShort = token.maxGlobalShortSize.sub(token.globalShortSize);\r\n        }\r\n      }\r\n\r\n      if (token.maxUsdgAmount.eq(0)) {\r\n        token.maxUsdgAmount = DEFAULT_MAX_USDG_AMOUNT;\r\n      }\r\n\r\n      token.availableUsd = token.isStable\r\n        ? token.poolAmount.mul(token.minPrice).div(expandDecimals(1, token.decimals))\r\n        : token.availableAmount.mul(token.minPrice).div(expandDecimals(1, token.decimals));\r\n\r\n      token.maxAvailableLong = bigNumberify(0);\r\n      token.hasMaxAvailableLong = false;\r\n      if (token.maxGlobalLongSize.gt(0)) {\r\n        token.hasMaxAvailableLong = true;\r\n\r\n        if (token.maxGlobalLongSize.gt(token.guaranteedUsd)) {\r\n          const remainingLongSize = token.maxGlobalLongSize.sub(token.guaranteedUsd);\r\n          token.maxAvailableLong = remainingLongSize.lt(token.availableUsd) ? remainingLongSize : token.availableUsd;\r\n        }\r\n      } else {\r\n        token.maxAvailableLong = token.availableUsd;\r\n      }\r\n\r\n      token.maxLongCapacity =\r\n        token.maxGlobalLongSize.gt(0) && token.maxGlobalLongSize.lt(token.availableUsd.add(token.guaranteedUsd))\r\n          ? token.maxGlobalLongSize\r\n          : token.availableUsd.add(token.guaranteedUsd);\r\n\r\n      token.managedUsd = token.availableUsd.add(token.guaranteedUsd);\r\n      token.managedAmount = token.managedUsd.mul(expandDecimals(1, token.decimals)).div(token.minPrice);\r\n\r\n      setTokenUsingIndexPrices(token, indexPrices, nativeTokenAddress);\r\n    }\r\n\r\n    if (fundingRateInfo) {\r\n      token.fundingRate = fundingRateInfo[i * fundingRatePropsLength];\r\n      token.cumulativeFundingRate = fundingRateInfo[i * fundingRatePropsLength + 1];\r\n    }\r\n\r\n    if (infoTokens[token.address]) {\r\n      token.balance = infoTokens[token.address].balance;\r\n    }\r\n\r\n    infoTokens[token.address] = token;\r\n  }\r\n\r\n  return infoTokens;\r\n}\r\n\r\nexport const CHART_PERIODS = {\r\n  \"5m\": 60 * 5,\r\n  \"15m\": 60 * 15,\r\n  \"1h\": 60 * 60,\r\n  \"4h\": 60 * 60 * 4,\r\n  \"1d\": 60 * 60 * 24,\r\n};\r\n\r\nexport function getTotalVolumeSum(volumes) {\r\n  if (!volumes || volumes.length === 0) {\r\n    return;\r\n  }\r\n\r\n  let volume = bigNumberify(0);\r\n  for (let i = 0; i < volumes.length; i++) {\r\n    volume = volume.add(volumes[i].data.volume);\r\n  }\r\n\r\n  return volume;\r\n}\r\n\r\nexport function getBalanceAndSupplyData(balances) {\r\n  if (!balances || balances.length === 0) {\r\n    return {};\r\n  }\r\n\r\n  const keys = [\"gmx\", \"esGmx\", \"glp\", \"stakedGmxTracker\"];\r\n  const balanceData = {};\r\n  const supplyData = {};\r\n  const propsLength = 2;\r\n\r\n  for (let i = 0; i < keys.length; i++) {\r\n    const key = keys[i];\r\n    balanceData[key] = balances[i * propsLength];\r\n    supplyData[key] = balances[i * propsLength + 1];\r\n  }\r\n\r\n  return { balanceData, supplyData };\r\n}\r\n\r\nexport function getDepositBalanceData(depositBalances) {\r\n  if (!depositBalances || depositBalances.length === 0) {\r\n    return;\r\n  }\r\n\r\n  const keys = [\r\n    \"gmxInStakedGmx\",\r\n    \"esGmxInStakedGmx\",\r\n    \"stakedGmxInBonusGmx\",\r\n    \"bonusGmxInFeeGmx\",\r\n    \"bnGmxInFeeGmx\",\r\n    \"glpInStakedGlp\",\r\n  ];\r\n  const data = {};\r\n\r\n  for (let i = 0; i < keys.length; i++) {\r\n    const key = keys[i];\r\n    data[key] = depositBalances[i];\r\n  }\r\n\r\n  return data;\r\n}\r\n\r\nexport function getVestingData(vestingInfo) {\r\n  if (!vestingInfo || vestingInfo.length === 0) {\r\n    return;\r\n  }\r\n\r\n  const keys = [\"gmxVester\", \"glpVester\"];\r\n  const data = {};\r\n  const propsLength = 7;\r\n\r\n  for (let i = 0; i < keys.length; i++) {\r\n    const key = keys[i];\r\n    data[key] = {\r\n      pairAmount: vestingInfo[i * propsLength],\r\n      vestedAmount: vestingInfo[i * propsLength + 1],\r\n      escrowedBalance: vestingInfo[i * propsLength + 2],\r\n      claimedAmounts: vestingInfo[i * propsLength + 3],\r\n      claimable: vestingInfo[i * propsLength + 4],\r\n      maxVestableAmount: vestingInfo[i * propsLength + 5],\r\n      averageStakedAmount: vestingInfo[i * propsLength + 6],\r\n    };\r\n\r\n    data[key + \"PairAmount\"] = data[key].pairAmount;\r\n    data[key + \"VestedAmount\"] = data[key].vestedAmount;\r\n    data[key + \"EscrowedBalance\"] = data[key].escrowedBalance;\r\n    data[key + \"ClaimSum\"] = data[key].claimedAmounts.add(data[key].claimable);\r\n    data[key + \"Claimable\"] = data[key].claimable;\r\n    data[key + \"MaxVestableAmount\"] = data[key].maxVestableAmount;\r\n    data[key + \"AverageStakedAmount\"] = data[key].averageStakedAmount;\r\n  }\r\n\r\n  return data;\r\n}\r\n\r\nexport function getStakingData(stakingInfo) {\r\n  if (!stakingInfo || stakingInfo.length === 0) {\r\n    return;\r\n  }\r\n\r\n  const keys = [\"stakedGmxTracker\", \"bonusGmxTracker\", \"feeGmxTracker\", \"stakedGlpTracker\", \"feeGlpTracker\"];\r\n  const data = {};\r\n  const propsLength = 5;\r\n\r\n  for (let i = 0; i < keys.length; i++) {\r\n    const key = keys[i];\r\n    data[key] = {\r\n      claimable: stakingInfo[i * propsLength],\r\n      tokensPerInterval: stakingInfo[i * propsLength + 1],\r\n      averageStakedAmounts: stakingInfo[i * propsLength + 2],\r\n      cumulativeRewards: stakingInfo[i * propsLength + 3],\r\n      totalSupply: stakingInfo[i * propsLength + 4],\r\n    };\r\n  }\r\n\r\n  return data;\r\n}\r\n\r\nexport function getProcessedData(\r\n  balanceData,\r\n  supplyData,\r\n  depositBalanceData,\r\n  stakingData,\r\n  vestingData,\r\n  aum,\r\n  nativeTokenPrice,\r\n  stakedGmxSupply,\r\n  gmxPrice,\r\n  gmxSupply\r\n) {\r\n  if (\r\n    !balanceData ||\r\n    !supplyData ||\r\n    !depositBalanceData ||\r\n    !stakingData ||\r\n    !vestingData ||\r\n    !aum ||\r\n    !nativeTokenPrice ||\r\n    !stakedGmxSupply ||\r\n    !gmxPrice ||\r\n    !gmxSupply\r\n  ) {\r\n    return {};\r\n  }\r\n\r\n  const data = {};\r\n\r\n  data.gmxBalance = balanceData.gmx;\r\n  data.gmxBalanceUsd = balanceData.gmx.mul(gmxPrice).div(expandDecimals(1, 18));\r\n\r\n  data.gmxSupply = bigNumberify(gmxSupply);\r\n\r\n  data.gmxSupplyUsd = data.gmxSupply.mul(gmxPrice).div(expandDecimals(1, 18));\r\n  data.stakedGmxSupply = stakedGmxSupply;\r\n  data.stakedGmxSupplyUsd = stakedGmxSupply.mul(gmxPrice).div(expandDecimals(1, 18));\r\n  data.gmxInStakedGmx = depositBalanceData.gmxInStakedGmx;\r\n  data.gmxInStakedGmxUsd = depositBalanceData.gmxInStakedGmx.mul(gmxPrice).div(expandDecimals(1, 18));\r\n\r\n  data.esGmxBalance = balanceData.esGmx;\r\n  data.esGmxBalanceUsd = balanceData.esGmx.mul(gmxPrice).div(expandDecimals(1, 18));\r\n\r\n  data.stakedGmxTrackerSupply = supplyData.stakedGmxTracker;\r\n  data.stakedGmxTrackerSupplyUsd = supplyData.stakedGmxTracker.mul(gmxPrice).div(expandDecimals(1, 18));\r\n  data.stakedEsGmxSupply = data.stakedGmxTrackerSupply.sub(data.stakedGmxSupply);\r\n  data.stakedEsGmxSupplyUsd = data.stakedEsGmxSupply.mul(gmxPrice).div(expandDecimals(1, 18));\r\n\r\n  data.esGmxInStakedGmx = depositBalanceData.esGmxInStakedGmx;\r\n  data.esGmxInStakedGmxUsd = depositBalanceData.esGmxInStakedGmx.mul(gmxPrice).div(expandDecimals(1, 18));\r\n\r\n  data.bnGmxInFeeGmx = depositBalanceData.bnGmxInFeeGmx;\r\n  data.bonusGmxInFeeGmx = depositBalanceData.bonusGmxInFeeGmx;\r\n  data.feeGmxSupply = stakingData.feeGmxTracker.totalSupply;\r\n  data.feeGmxSupplyUsd = data.feeGmxSupply.mul(gmxPrice).div(expandDecimals(1, 18));\r\n\r\n  data.stakedGmxTrackerRewards = stakingData.stakedGmxTracker.claimable;\r\n  data.stakedGmxTrackerRewardsUsd = stakingData.stakedGmxTracker.claimable.mul(gmxPrice).div(expandDecimals(1, 18));\r\n\r\n  data.bonusGmxTrackerRewards = stakingData.bonusGmxTracker.claimable;\r\n\r\n  data.feeGmxTrackerRewards = stakingData.feeGmxTracker.claimable;\r\n  data.feeGmxTrackerRewardsUsd = stakingData.feeGmxTracker.claimable.mul(nativeTokenPrice).div(expandDecimals(1, 18));\r\n\r\n  data.boostBasisPoints = bigNumberify(0);\r\n  if (data && data.bnGmxInFeeGmx && data.bonusGmxInFeeGmx && data.bonusGmxInFeeGmx.gt(0)) {\r\n    data.boostBasisPoints = data.bnGmxInFeeGmx.mul(BASIS_POINTS_DIVISOR).div(data.bonusGmxInFeeGmx);\r\n  }\r\n\r\n  data.stakedGmxTrackerAnnualRewardsUsd = stakingData.stakedGmxTracker.tokensPerInterval\r\n    .mul(SECONDS_PER_YEAR)\r\n    .mul(gmxPrice)\r\n    .div(expandDecimals(1, 18));\r\n  data.gmxAprForEsGmx =\r\n    data.stakedGmxTrackerSupplyUsd && data.stakedGmxTrackerSupplyUsd.gt(0)\r\n      ? data.stakedGmxTrackerAnnualRewardsUsd.mul(BASIS_POINTS_DIVISOR).div(data.stakedGmxTrackerSupplyUsd)\r\n      : bigNumberify(0);\r\n  data.feeGmxTrackerAnnualRewardsUsd = stakingData.feeGmxTracker.tokensPerInterval\r\n    .mul(SECONDS_PER_YEAR)\r\n    .mul(nativeTokenPrice)\r\n    .div(expandDecimals(1, 18));\r\n  data.gmxAprForNativeToken =\r\n    data.feeGmxSupplyUsd && data.feeGmxSupplyUsd.gt(0)\r\n      ? data.feeGmxTrackerAnnualRewardsUsd.mul(BASIS_POINTS_DIVISOR).div(data.feeGmxSupplyUsd)\r\n      : bigNumberify(0);\r\n  data.gmxBoostAprForNativeToken = data.gmxAprForNativeToken.mul(data.boostBasisPoints).div(BASIS_POINTS_DIVISOR);\r\n  data.gmxAprTotal = data.gmxAprForNativeToken.add(data.gmxAprForEsGmx);\r\n  data.gmxAprTotalWithBoost = data.gmxAprForNativeToken.add(data.gmxBoostAprForNativeToken).add(data.gmxAprForEsGmx);\r\n  data.gmxAprForNativeTokenWithBoost = data.gmxAprForNativeToken.add(data.gmxBoostAprForNativeToken);\r\n\r\n  data.totalGmxRewardsUsd = data.stakedGmxTrackerRewardsUsd.add(data.feeGmxTrackerRewardsUsd);\r\n\r\n  data.glpSupply = supplyData.glp;\r\n  data.glpPrice =\r\n    data.glpSupply && data.glpSupply.gt(0)\r\n      ? aum.mul(expandDecimals(1, GLP_DECIMALS)).div(data.glpSupply)\r\n      : bigNumberify(0);\r\n\r\n  data.glpSupplyUsd = supplyData.glp.mul(data.glpPrice).div(expandDecimals(1, 18));\r\n\r\n  data.glpBalance = depositBalanceData.glpInStakedGlp;\r\n  data.glpBalanceUsd = depositBalanceData.glpInStakedGlp.mul(data.glpPrice).div(expandDecimals(1, GLP_DECIMALS));\r\n\r\n  data.stakedGlpTrackerRewards = stakingData.stakedGlpTracker.claimable;\r\n  data.stakedGlpTrackerRewardsUsd = stakingData.stakedGlpTracker.claimable.mul(gmxPrice).div(expandDecimals(1, 18));\r\n\r\n  data.feeGlpTrackerRewards = stakingData.feeGlpTracker.claimable;\r\n  data.feeGlpTrackerRewardsUsd = stakingData.feeGlpTracker.claimable.mul(nativeTokenPrice).div(expandDecimals(1, 18));\r\n\r\n  data.stakedGlpTrackerAnnualRewardsUsd = stakingData.stakedGlpTracker.tokensPerInterval\r\n    .mul(SECONDS_PER_YEAR)\r\n    .mul(gmxPrice)\r\n    .div(expandDecimals(1, 18));\r\n  data.glpAprForEsGmx =\r\n    data.glpSupplyUsd && data.glpSupplyUsd.gt(0)\r\n      ? data.stakedGlpTrackerAnnualRewardsUsd.mul(BASIS_POINTS_DIVISOR).div(data.glpSupplyUsd)\r\n      : bigNumberify(0);\r\n  data.feeGlpTrackerAnnualRewardsUsd = stakingData.feeGlpTracker.tokensPerInterval\r\n    .mul(SECONDS_PER_YEAR)\r\n    .mul(nativeTokenPrice)\r\n    .div(expandDecimals(1, 18));\r\n  data.glpAprForNativeToken =\r\n    data.glpSupplyUsd && data.glpSupplyUsd.gt(0)\r\n      ? data.feeGlpTrackerAnnualRewardsUsd.mul(BASIS_POINTS_DIVISOR).div(data.glpSupplyUsd)\r\n      : bigNumberify(0);\r\n  data.glpAprTotal = data.glpAprForNativeToken.add(data.glpAprForEsGmx);\r\n\r\n  data.totalGlpRewardsUsd = data.stakedGlpTrackerRewardsUsd.add(data.feeGlpTrackerRewardsUsd);\r\n\r\n  data.totalEsGmxRewards = data.stakedGmxTrackerRewards.add(data.stakedGlpTrackerRewards);\r\n  data.totalEsGmxRewardsUsd = data.stakedGmxTrackerRewardsUsd.add(data.stakedGlpTrackerRewardsUsd);\r\n\r\n  data.gmxVesterRewards = vestingData.gmxVester.claimable;\r\n  data.glpVesterRewards = vestingData.glpVester.claimable;\r\n  data.totalVesterRewards = data.gmxVesterRewards.add(data.glpVesterRewards);\r\n  data.totalVesterRewardsUsd = data.totalVesterRewards.mul(gmxPrice).div(expandDecimals(1, 18));\r\n\r\n  data.totalNativeTokenRewards = data.feeGmxTrackerRewards.add(data.feeGlpTrackerRewards);\r\n  data.totalNativeTokenRewardsUsd = data.feeGmxTrackerRewardsUsd.add(data.feeGlpTrackerRewardsUsd);\r\n\r\n  data.totalRewardsUsd = data.totalEsGmxRewardsUsd.add(data.totalNativeTokenRewardsUsd).add(data.totalVesterRewardsUsd);\r\n\r\n  return data;\r\n}\r\n\r\nexport async function addTokenToMetamask(token) {\r\n  try {\r\n    const wasAdded = await window.ethereum.request({\r\n      method: \"wallet_watchAsset\",\r\n      params: {\r\n        type: \"ERC20\",\r\n        options: {\r\n          address: token.address,\r\n          symbol: token.symbol,\r\n          decimals: token.decimals,\r\n          image: token.imageUrl,\r\n        },\r\n      },\r\n    });\r\n    if (wasAdded) {\r\n      // https://github.com/MetaMask/metamask-extension/issues/11377\r\n      // We can show a toast message when the token is added to metamask but because of the bug we can't. Once the bug is fixed we can show a toast message.\r\n    }\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n}\r\n\r\nexport function sleep(ms) {\r\n  return new Promise((resolve) => resolve(), ms);\r\n}\r\n\r\nexport function getPageTitle(data) {\r\n  return `${data} | DeDeLend`;\r\n}\r\n\r\nexport function isHashZero(value) {\r\n  return value === ethers.constants.HashZero;\r\n}\r\nexport function isAddressZero(value) {\r\n  return value === ethers.constants.AddressZero;\r\n}\r\n\r\nexport function useDebounce(value, delay) {\r\n  // State and setters for debounced value\r\n  const [debouncedValue, setDebouncedValue] = useState(value);\r\n  useEffect(\r\n    () => {\r\n      // Update debounced value after delay\r\n      const handler = setTimeout(() => {\r\n        setDebouncedValue(value);\r\n      }, delay);\r\n      // Cancel the timeout if value changes (also on delay change or unmount)\r\n      // This is how we prevent debounced value from updating if value is changed ...\r\n      // .. within the delay period. Timeout gets cleared and restarted.\r\n      return () => {\r\n        clearTimeout(handler);\r\n      };\r\n    },\r\n    [value, delay] // Only re-call effect if value or delay changes\r\n  );\r\n  return debouncedValue;\r\n}\r\n\r\nexport function isDevelopment() {\r\n  return !window.location.host?.includes(\"gmx.io\") && !window.location.host?.includes(\"ipfs.io\");\r\n}\r\n\r\nexport function isLocal() {\r\n  return window.location.host?.includes(\"localhost\");\r\n}\r\n\r\nexport function getHomeUrl() {\r\n  if (isLocal()) {\r\n    return \"http://localhost:3010\";\r\n  }\r\n\r\n  return \"https://gmx.io\";\r\n}\r\n\r\nexport function getAppBaseUrl() {\r\n  if (isLocal()) {\r\n    return \"http://localhost:3011/#\";\r\n  }\r\n\r\n  return \"https://app.gmx.io/#\";\r\n}\r\n\r\nexport function getRootShareApiUrl() {\r\n  if (isLocal()) {\r\n    return \"https://gmxs.vercel.app\";\r\n  }\r\n\r\n  return \"https://share.gmx.io\";\r\n}\r\n\r\nexport function getTradePageUrl() {\r\n  if (isLocal()) {\r\n    return \"http://localhost:3011/#/trade\";\r\n  }\r\n\r\n  return \"https://app.gmx.io/#/trade\";\r\n}\r\n\r\nexport function importImage(name) {\r\n  let tokenImage = null;\r\n  try {\r\n    tokenImage = require(\"../img/\" + name);\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n  return tokenImage && tokenImage.default;\r\n}\r\n\r\nexport function getTwitterIntentURL(text, url = \"\", hashtag = \"\") {\r\n  let finalURL = \"https://twitter.com/intent/tweet?text=\";\r\n  if (text.length > 0) {\r\n    finalURL += encodeURIComponent(text.replace(/[\\r\\n]+/g, \" \"))\r\n      .replace(/\\*%7C/g, \"*|URL:\")\r\n      .replace(/%7C\\*/g, \"|*\");\r\n\r\n    if (hashtag.length > 0) {\r\n      finalURL += \"&hashtags=\" + encodeURIComponent(hashtag.replace(/#/g, \"\"));\r\n    }\r\n    if (url.length > 0) {\r\n      finalURL += \"&url=\" + encodeURIComponent(url);\r\n    }\r\n  }\r\n  return finalURL;\r\n}\r\n\r\nexport function isValidTimestamp(timestamp) {\r\n  return new Date(timestamp).getTime() > 0;\r\n}\r\n\r\nexport function getPositionForOrder(account, order, positionsMap) {\r\n  const key = getPositionKey(account, order.collateralToken, order.indexToken, order.isLong);\r\n  const position = positionsMap[key];\r\n  return position && position.size && position.size.gt(0) ? position : null;\r\n}\r\n\r\nexport function getOrderError(account, order, positionsMap, position) {\r\n  if (order.type !== DECREASE) {\r\n    return;\r\n  }\r\n\r\n  const positionForOrder = position ? position : getPositionForOrder(account, order, positionsMap);\r\n\r\n  if (!positionForOrder) {\r\n    return \"No open position, order cannot be executed unless a position is opened\";\r\n  }\r\n  if (positionForOrder.size.lt(order.sizeDelta)) {\r\n    return \"Order size is bigger than position, will only be executable if position increases\";\r\n  }\r\n\r\n  if (positionForOrder.size.gt(order.sizeDelta)) {\r\n    if (positionForOrder.size.sub(order.sizeDelta).lt(positionForOrder.collateral.sub(order.collateralDelta))) {\r\n      return \"Order cannot be executed as it would reduce the position's leverage below 1\";\r\n    }\r\n    if (positionForOrder.size.sub(order.sizeDelta).lt(expandDecimals(5, USD_DECIMALS))) {\r\n      return \"Order cannot be executed as the remaining position would be smaller than $5.00\";\r\n    }\r\n  }\r\n}\r\n\r\nexport function arrayURLFetcher(...urlArr) {\r\n  const fetcher = (url) => fetch(url).then((res) => res.json());\r\n  return Promise.all(urlArr.map(fetcher));\r\n}\r\n\r\nexport function shouldShowRedirectModal(timestamp) {\r\n  const thirtyDays = 1000 * 60 * 60 * 24 * 30;\r\n  const expiryTime = timestamp + thirtyDays;\r\n  return !isValidTimestamp(timestamp) || Date.now() > expiryTime;\r\n}\r\n","import { ethers } from 'ethers';\r\nimport _DDL_POOL from '../../deployments/arbitrum_ddl/DDL_POOL.json'\r\nimport _USDC from \"../../deployments/arbitrum_ddl/USDC.json\";\r\nimport { signer } from './providers.js';\r\nimport { executePromise } from './utils';\r\nimport _OperationalTreasury from '../../deployments/options/OperationalTreasury.json';\r\nimport _HegicStrategy_ABI from '../../deployments/options/HegicStrategy_ABI.json';\r\nimport _PriceCalculator_ABI from '../../deployments/options/PriceCalculator_ABI.json';\r\nimport _HEGOPS from '../../deployments/options/HEGOPS.json';\r\nimport _DDL_TakeProfit_Hegic from '../../deployments/options/DDL_TakeProfit_Hegic.json';\r\nimport _DDL_TakeProfit_Lyra_ETH from '../../deployments/options/DDL_TakeProfit_Lyra_ETH.json';\r\nimport _DDL_TakeProfit_Lyra_BTC from '../../deployments/options/DDL_TakeProfit_Lyra_BTC.json';\r\nimport _Lyra_OptionToken_ETH from '../../deployments/options/Lyra_OptionToken_ETH.json';\r\nimport _Lyra_OptionToken_BTC from '../../deployments/options/Lyra_OptionToken_BTC.json';\r\nimport _BuilderOpen from '../../deployments/builder/optionBuilderOpen.json';\r\nimport { CALL, PUT } from '../../views/options/lib/legacyOptions';\r\nimport _Chai_ABI from '../../deployments/options/Chai_ABI.json';\r\n\r\n// Options Contracts\r\nexport const DDL_POOL = new ethers.Contract(_DDL_POOL.address, _DDL_POOL.abi, signer);\r\n\r\nexport const USDC = new ethers.Contract(_USDC.address, _USDC.abi, signer);\r\nexport const approveUSDC = (spender, setIsLoading, cb) => {\r\n  executePromise(USDC.approve, [spender, ethers.constants.MaxUint256], \"USDC approved!\", setIsLoading, cb);\r\n}\r\nexport const getIsUsdcApproved = async (walletAddress, spender, amount = 1e15) => {\r\n  const allowance = await USDC.allowance(walletAddress, spender);\r\n  console.log(allowance.toString(), walletAddress, spender);\r\n  return allowance.gt(amount);\r\n}\r\n\r\n\r\n// Hegic\r\nexport const OperationalTreasury = _OperationalTreasury.address;\r\nexport const OperationalTreasury_ABI = _OperationalTreasury.abi;\r\n\r\nexport const HEGOPS = _HEGOPS.address;\r\nexport const HEGOPS_ABI = _HEGOPS.abi;\r\n\r\nexport const HEGIC_STRATEGIES = {\r\n\tshort: {\r\n\t\tHegicStrategy_CALL_100_BTC_1: '0x527d1086C3DD22FcdB338F69D47A1e4bFE11E539',\r\n    HegicStrategy_CALL_100_ETH_1: '0x09a4B65b3144733f1bFBa6aEaBEDFb027a38Fb60',\r\n    HegicStrategy_CALL_110_BTC_1: '0x377191F680b52ce3d0060388fEF01be7ef68e3d5',\r\n    HegicStrategy_CALL_110_ETH_1: '0xF48f571DdD77dba9Ae10fefF6df04484685091D9',\r\n    HegicStrategy_CALL_120_BTC_1: '0x8Fb8529695237D4004cffb21499e7E49E982786a',\r\n    HegicStrategy_CALL_120_ETH_1: '0x96416b82C9DFA7649570c784Eb0D0FFcDE361cFE',\r\n    HegicStrategy_CALL_130_BTC_1: '0x32563D6151891c0A8d56eD644AcDEa6FE5f4E4eB',\r\n    HegicStrategy_CALL_130_ETH_1: '0xf8b8b54bE1Eb37E76873670Ac9DE3C28b507142C',\r\n\t\tHegicStrategy_PUT_100_BTC_1: '0xA8DF600289bEc25602741756f55f27ffFDAB69a6',\r\n    HegicStrategy_PUT_100_ETH_1: '0xaA0DfBFb8dA7f45BB41c0fB68B71FAEB959B22aa',\r\n    HegicStrategy_PUT_70_BTC_1: '0x7066286C1AA0FeBE0f63eF8a44F6Fea9F05FFBE0',\r\n    HegicStrategy_PUT_70_ETH_1: '0x35EF16F3c329a54050Ca120145340dfC2b4F9541',\r\n    HegicStrategy_PUT_80_BTC_1: '0x06c3Ba025bEd24Ea38c2BdDA4bcD2A7F9f5C30e1',\r\n    HegicStrategy_PUT_80_ETH_1: '0x77C8d12d9E2D21f6eE02E8ccA332fDe4BE5C2465',\r\n    HegicStrategy_PUT_90_BTC_1: '0xe115beD3b0752BBbbEF5C423021b464bBF93dC2c',\r\n    HegicStrategy_PUT_90_ETH_1: '0x6B7e5906F53d8bB365f4A6fA776Fd0f0caf57881',\r\n    \"HegicStrategy_CALL-SPREAD_10_BTC_1\": '0x5D0bc0d08e8A7C09d10df9BB2498f1d4aB986e6A',\r\n    \"HegicStrategy_CALL-SPREAD_10_ETH_1\": '0x5c59f7ec23C0Bace3B1959C99A43FFd30078E5bE',\r\n    \"HegicStrategy_CALL-SPREAD_20_BTC_1\": '0x597cdD5D4CEC7FA2851Cc0cfd93d6915c926a107',\r\n    \"HegicStrategy_CALL-SPREAD_20_ETH_1\": '0x4490ad3c0c1A61061E88a3eaD661bFe16225A370',\r\n    \"HegicStrategy_CALL-SPREAD_30_BTC_1\": '0xc822F483dAE467721123eA60D3D233e7ac68802f',\r\n    \"HegicStrategy_CALL-SPREAD_30_ETH_1\": '0x610D7feB49DD18BBC20E4dbe600c53E1cDf6d9F1',\r\n    \"HegicStrategy_PUT-SPREAD_10_BTC_1\": '0x45b9D63F1998ca31151981792849a64342C88631',\r\n    \"HegicStrategy_PUT-SPREAD_10_ETH_1\": '0xc4C3b5050D574CBF3eE0b613104cF5C4E47625d4',\r\n    \"HegicStrategy_PUT-SPREAD_20_BTC_1\": '0x606e34C7008f1425C3a69446de4cAd3D7c6fd96D',\r\n    \"HegicStrategy_PUT-SPREAD_20_ETH_1\": '0xa1c290D16E2290EA536a13Ba7cc3Df0000A0f1A6',\r\n    \"HegicStrategy_PUT-SPREAD_30_BTC_1\": '0x71D89f44C71252f319Cd9652f7886c3834685A58',\r\n    \"HegicStrategy_PUT-SPREAD_30_ETH_1\": '0x8F11Ed84e9Dc76db4392b428A0eAF98Ce72c3752',\r\n\r\n\t},\r\n\tmedShort: {\r\n\t\tHegicStrategy_CALL_100_BTC_2: '0x20ee3e61e8f1eB8ae959abf5F78bA8731d010Ac3',\r\n    HegicStrategy_CALL_100_ETH_2: '0x6418C3514923a6464A26A2ffA5f17bF1efC96a21',\r\n    HegicStrategy_CALL_110_BTC_2: '0xaFA483B18FE66251C8306C7018028f674F653012',\r\n    HegicStrategy_CALL_110_ETH_2: '0xaF38a4d9153B149F05FA85C2cCFAaA677c99040E',\r\n    HegicStrategy_CALL_120_BTC_2: '0xFe35F1AB7e18930d4316B86fCefBCF053bf44A45',\r\n    HegicStrategy_CALL_120_ETH_2: '0x1060e80c1156060a1E8DdB9C64Afe74564865Ee2',\r\n    HegicStrategy_CALL_130_BTC_2: '0xe4DB400BFC4D627559D592db4ca2839cb87Fbbfc',\r\n    HegicStrategy_CALL_130_ETH_2: '0xc00103524932d86770d4F671107b0E170BD0fe6c',\r\n\t\tHegicStrategy_PUT_100_BTC_2: '0xE0f083fd87ebAEBFCfa8236098048105d32639E4',\r\n    HegicStrategy_PUT_100_ETH_2: '0x2739A4C003080A5B3Ade22b92c3321EDa2Da3A9e',\r\n    HegicStrategy_PUT_70_BTC_2: '0x52442a8C632D4c998A8BDBf44A70481AA5599b0e',\r\n    HegicStrategy_PUT_70_ETH_2: '0x48EcF46Aa51992a064aB172439ABFE182F39b478',\r\n    HegicStrategy_PUT_80_BTC_2: '0xb02343D33d2447870E38b3452Ef59d0De7b3289d',\r\n    HegicStrategy_PUT_80_ETH_2: '0xb58ccd922B57422d0497904B7D9fccB922b8aaDf',\r\n    HegicStrategy_PUT_90_BTC_2: '0x7d0c3FDF0e8A6f475Ed1834ae05fDa1E519fd227',\r\n    HegicStrategy_PUT_90_ETH_2: '0x3e2a0fE32Cc000d87D9e5D6ed8b3D64e9c74C752',\r\n    \"HegicStrategy_CALL-SPREAD_10_BTC_2\": '0x6FF946F2BB609B63910a774E193F29CdE7E8fD5f',\r\n    \"HegicStrategy_CALL-SPREAD_10_ETH_2\": '0x0ac1995C43B5566760AD1D88B812f3e51e12eCc6',\r\n    \"HegicStrategy_CALL-SPREAD_20_BTC_2\": '0x7E8e5eaD9A1b8F0533F614a736214a95835c79d7',\r\n    \"HegicStrategy_CALL-SPREAD_20_ETH_2\": '0x1068daF4CD8fDe2000B6FbE8Ec94F106dc08a40E',\r\n    \"HegicStrategy_CALL-SPREAD_30_BTC_2\": '0x3b4900D5a20dbEbCE44eDF8f6B68Dae32E990Ed0',\r\n    \"HegicStrategy_CALL-SPREAD_30_ETH_2\": '0x24db3145F45aAF2c54f586C66b801c42c8658671',\r\n    \"HegicStrategy_PUT-SPREAD_10_BTC_2\": '0x88386f02c46d8D7b2C9E4aEf3b4246A438F72693',\r\n    \"HegicStrategy_PUT-SPREAD_10_ETH_2\": '0x31e6Cd148fe51830E7a97262eE9cf52Fe5256B08',\r\n    \"HegicStrategy_PUT-SPREAD_20_BTC_2\": '0x72Ac8A96b8E79466AdcE711EcBD1Ec5968b371C8',\r\n    \"HegicStrategy_PUT-SPREAD_20_ETH_2\": '0x9e1072E5119C9345d9543a5Ba1EFeDBAE9bEF2AD',\r\n    \"HegicStrategy_PUT-SPREAD_30_BTC_2\": '0x01381e0EDdB57678257179d2cB472C3e8e54202c',\r\n    \"HegicStrategy_PUT-SPREAD_30_ETH_2\": '0xE8dD9Cc3A4Bd078f3D36043f259381d5B50D4B45',\r\n\t},\r\n\tmedLong: {\r\n\t\tHegicStrategy_CALL_100_BTC_3: '0x21a4b4441AA957735902507A72A58A3a1Caaa0dC',\r\n    HegicStrategy_CALL_100_ETH_3: '0xE377A1a97237b3B89a96d8B731A2ab10d5DaC16C',\r\n    HegicStrategy_CALL_110_BTC_3: '0x6c46e2531a42F618F2ae452971DC9a7c6AD48D15',\r\n    HegicStrategy_CALL_110_ETH_3: '0x05458B7d9531EaD242290De60bEaa3cC10C87560',\r\n    HegicStrategy_CALL_120_BTC_3: '0xe259410Bbfb45CE89FDA81ec0A97d36Da8Db4374',\r\n    HegicStrategy_CALL_120_ETH_3: '0x79F87E88088293FE34dEf4eBe71fBFa5367220B4',\r\n    HegicStrategy_CALL_130_BTC_3: '0x27806482457FC98F9C2e724b5E604C66BB5ba121',\r\n    HegicStrategy_CALL_130_ETH_3: '0xae2F4e15564995af79b7dd2378B2680f7Facc342',\r\n    HegicStrategy_PUT_100_BTC_3: '0x035b965c5B7bC20E00358ACF1794d2248eA1932A',\r\n    HegicStrategy_PUT_100_ETH_3: '0xf711D0BC60F37cA28845BA623ccd9C635E5073A1',\r\n    HegicStrategy_PUT_70_BTC_3: '0x55c4532e1790592120b7b27436842caD203E7CD3',\r\n    HegicStrategy_PUT_70_ETH_3: '0xF55F6d98e2F48F8D46757D5A6e225bf0ADC9651C',\r\n    HegicStrategy_PUT_80_BTC_3: '0x8dD239e0e51BCAAd503b06D818ce811e7D99c1Af',\r\n    HegicStrategy_PUT_80_ETH_3: '0xdF30cdb7abb3Ca707b82359A349D3b0C94d4a421',\r\n    HegicStrategy_PUT_90_BTC_3: '0xE56BEAfAe4731A21eF83fe81F63b95055e81E374',\r\n    HegicStrategy_PUT_90_ETH_3: '0x33a4B4403B8C6349371CbDf539138D78ec0Aab66',\r\n    \"HegicStrategy_CALL-SPREAD_10_BTC_3\": '0x8e3063D5dCbe66E58053C3Bc8E0BC8dDFe43D585',\r\n    \"HegicStrategy_CALL-SPREAD_10_ETH_3\": '0xBB318170Ce1c2dc79B564f33F92BacaadaBd22de',\r\n    \"HegicStrategy_CALL-SPREAD_20_BTC_3\": '0x324be893029D982c187F0333E7aa1d44365d2676',\r\n    \"HegicStrategy_CALL-SPREAD_20_ETH_3\": '0xb89d7eB2bc675347BEb685ff1bE1557E983beFe1',\r\n    \"HegicStrategy_CALL-SPREAD_30_BTC_3\": '0x530289340C6d2Ef02140054Ae7F91C293fd586CF',\r\n    \"HegicStrategy_CALL-SPREAD_30_ETH_3\": '0x929d20D9e1A6A90bf057857C8BA09271f1BaadA2',\r\n    \"HegicStrategy_PUT-SPREAD_10_BTC_3\": '0x7267091cFc9825a4A1dF36C26d412FeFD788d935',\r\n    \"HegicStrategy_PUT-SPREAD_10_ETH_3\": '0x2B93645f310E016c1a6d1738DCec0f18621F71d0',\r\n    \"HegicStrategy_PUT-SPREAD_20_BTC_3\": '0x9ab2f8530150799CDdAC35799d18Ad2fe05Bf8c3',\r\n    \"HegicStrategy_PUT-SPREAD_20_ETH_3\": '0x4EE21aB8bc165Cd3e6C45676F9f64426Ffc2d67b',\r\n    \"HegicStrategy_PUT-SPREAD_30_BTC_3\": '0xBa883223A1757eEB781d02C383926c308d4843f4',\r\n    \"HegicStrategy_PUT-SPREAD_30_ETH_3\": '0xf87C8C7587055FA62082E8ed447fe68D98805fF2',\r\n\t},\r\n\tlong: {\r\n\t\tHegicStrategy_CALL_100_BTC_4: '0xc07fBf677f417bb9FfDD8248A74c7FBcCFaDAe9e',\r\n    HegicStrategy_CALL_100_ETH_4: '0x2727B807D22fCAeB7F900F49894054Ed92b9125B',\r\n    HegicStrategy_CALL_110_BTC_4: '0x14d25367102A931E2E2F587F4ED94087dc585fd0',\r\n    HegicStrategy_CALL_110_ETH_4: '0xE53a20c824cEAB8151AF8Fc92E7Eb689cFbD1231',\r\n    HegicStrategy_CALL_120_BTC_4: '0xBAbccB37338488AFBaBECAE2C3D21b9a71289A73',\r\n    HegicStrategy_CALL_120_ETH_4: '0xB7b36483B256290435a060805bdF15B3f2b122eb',\r\n    HegicStrategy_CALL_130_BTC_4: '0x9fA4DFfBE3B129988e0d09536b0E2D74F6bF7D91',\r\n    HegicStrategy_CALL_130_ETH_4: '0x4dC39763ccC861dB1c8e80c34C0079c9A12f03E4',\r\n    HegicStrategy_PUT_100_BTC_4: '0xEd46f602212d1CbaCd699C876b4A49761421bf97',\r\n    HegicStrategy_PUT_100_ETH_4: '0x015FAA9aF7599e6cea597EBC7e7e04A149a3E992',\r\n    HegicStrategy_PUT_70_BTC_4: '0xa26541ccE18CcC6E21360562d34044ceb3B5A40e',\r\n    HegicStrategy_PUT_70_ETH_4: '0x5BBe6C4A66D4a48442dc0837a0eA859a11D7766C',\r\n    HegicStrategy_PUT_80_BTC_4: '0xFD203c73851986ad7e7B99457AeafF3d98e76228',\r\n    HegicStrategy_PUT_80_ETH_4: '0x7FD5E8B2Ef25A105bf6B1c45f62d8925Eaa068Bc',\r\n    HegicStrategy_PUT_90_BTC_4: '0x02d730e3dEb3B5876fE2Cba59423ef1Db8211DA1',\r\n    HegicStrategy_PUT_90_ETH_4: '0x3031EA515c2274024D93A8D3BfA91ce920E1192E',\r\n    \"HegicStrategy_CALL-SPREAD_10_BTC_4\": '0x0c1C4D9dFd51093bE1e4Bab1b565113B339835F6',\r\n    \"HegicStrategy_CALL-SPREAD_10_ETH_4\": '0xCe5e136688A1553C67b3B39Ff5366595dD0F771E',\r\n    \"HegicStrategy_CALL-SPREAD_20_BTC_4\": '0x7b92a9f268bab14F0FAee4337B01D563AE132Bc3',\r\n    \"HegicStrategy_CALL-SPREAD_20_ETH_4\": '0xe3F646CB987a9d16eb71B8d0883744e55c95862a',\r\n    \"HegicStrategy_CALL-SPREAD_30_BTC_4\": '0x223b806Bab0CA844a91b247fE0Ba179E11EAA728',\r\n    \"HegicStrategy_CALL-SPREAD_30_ETH_4\": '0x199DB958f00F150438E5b9276ff30617D3f83ebF',\r\n    \"HegicStrategy_PUT-SPREAD_10_BTC_4\": '0x66F54921b32cCA36767D2C272Dda64D5152B92C4',\r\n    \"HegicStrategy_PUT-SPREAD_10_ETH_4\": '0xfcd40dDe82b699D455B3D073196d580227C2Fba6',\r\n    \"HegicStrategy_PUT-SPREAD_20_BTC_4\": '0x8c77f5427B40ab2414dC9bca48c74928BFe17Dd1',\r\n    \"HegicStrategy_PUT-SPREAD_20_ETH_4\": '0xbAe8114E3A2EA5aF5e2b3c8F6FF37714f6D4afFB',\r\n    \"HegicStrategy_PUT-SPREAD_30_BTC_4\": '0x6D79b82701e4017887d499Ba131FD336ceA6A4CC',\r\n    \"HegicStrategy_PUT-SPREAD_30_ETH_4\": '0x9945Eb8ac1F4c524fe7Da710ff3068969A329fBA',\r\n\t}\r\n}\r\nexport const PRICE_CALCULATORS = {\r\n  PriceCalculator_PUT_100_BTC: '0x4567600c2c813322F0CBb358a8d083296A7eEA37',\r\n  PriceCalculator_PUT_100_ETH: '0xB72FC913e45522cD721252476fEfB7F50a65E23A',\r\n  PriceCalculator_PUT_70_BTC: '0x3aFbaf00a6C42e6BE67f8a618b17fB3D441C1898',\r\n  PriceCalculator_PUT_70_ETH: '0xf3625e26cb920f762dEC8DB4fE4845E9384313C0',\r\n  PriceCalculator_PUT_80_BTC: '0x9C3BBe90191F8311939A34737c02A6B49e27caA5',\r\n  PriceCalculator_PUT_80_ETH: '0x58051Cb78094551afC202C50085B13bF00BF624E',\r\n  PriceCalculator_PUT_90_BTC: '0x56A2dC3fAc4bE0A1716c938295e141195e4A1cb3',\r\n  PriceCalculator_PUT_90_ETH: '0x1AF37c8412bCdAa6C6dD4D2E2aDae2B8292603D4',\r\n  PriceCalculator_CALL_100_BTC: '0xAA4483Da5c4D17830dE9a843d07C37b3eC028d9F',\r\n  PriceCalculator_CALL_100_ETH: '0xC62a0b7e480a23BdCfe13EA08BDAceDc278a14C1',\r\n  PriceCalculator_CALL_110_BTC: '0x04BFC83f6277cf50dFB032EFd348316aACbD7863',\r\n  PriceCalculator_CALL_110_ETH: '0x6316BC5f5dF141ae88C436Fe6047D334f1B7e485',\r\n  PriceCalculator_CALL_120_BTC: '0x965Ded687bc0Da3388c6925e0Eb330bD44629B77',\r\n  PriceCalculator_CALL_120_ETH: '0x321F8A71e8268f50eBd2f748D524E7750AD70798',\r\n  PriceCalculator_CALL_130_BTC: '0x4b350b7457b54C5A76828f81472f2719D801D0D5',\r\n  PriceCalculator_CALL_130_ETH: '0xffdc9da896d3301DE596b16a389138B70b1CBAdb',\r\n  \"PriceCalculator_CALL-SPREAD_10_BTC\": '0xD3872581C3f7DE832Ecc9Aa51eb525AC9Ffc41d2',\r\n  \"PriceCalculator_CALL-SPREAD_10_ETH\": '0x3BC74C993e1E85ffB5e242402aEc3e90DCfa249f',\r\n  \"PriceCalculator_CALL-SPREAD_20_BTC\": '0x7f6a7d60c6f7ac50BD0efA677D397d9cd61fC3a9',\r\n  \"PriceCalculator_CALL-SPREAD_20_ETH\": '0x8C335E897B04B2Ca569Ec733f6242cDe33917094',\r\n  \"PriceCalculator_CALL-SPREAD_30_BTC\": '0x631c5EFb3e9D2536F9c9c9d7635e2B01363C51C5',\r\n  \"PriceCalculator_CALL-SPREAD_30_ETH\": '0xAe4897D4d3742F7f9C6A1eA01447EA3061bD6de2',\r\n  \"PriceCalculator_PUT-SPREAD_10_BTC\": '0xa4A32102a2c1d3Bf01A73B66571B440795835ff5',\r\n  \"PriceCalculator_PUT-SPREAD_10_ETH\": '0x5a4Dc7011CA0be61c42957cDC36D508d45010D8B',\r\n  \"PriceCalculator_PUT-SPREAD_20_BTC\": '0x0cC3559beCa7bB605348B1a7B4D90963672C880a',\r\n  \"PriceCalculator_PUT-SPREAD_20_ETH\": '0xeb38c2Ba3125733e9636eAB7C3c2e7a2C4A11534',\r\n  \"PriceCalculator_PUT-SPREAD_30_BTC\": '0x4CE72803543da3f563Ef76592945C57FBE7fce38',\r\n  \"PriceCalculator_PUT-SPREAD_30_ETH\": '0xDB044975100aE87d0eEDd804D9E6083a8406fdAe',\r\n}\r\nexport const HegicStrategy_ABI = _HegicStrategy_ABI;\r\nexport const PriceCalculator_ABI = _PriceCalculator_ABI;\r\n\r\nexport const HEGIC_BUY_URLS = {\r\n  PUT_100_BTC: \"https://www.hegic.co/app#/arbitrum/trade/new?strikeName=put-100&&strategyName=bear-put&asset=BTC&sentiment=bear\",\r\n  PUT_100_ETH: \"https://www.hegic.co/app#/arbitrum/trade/new?strikeName=put-100&&strategyName=bear-put&asset=ETH&sentiment=bear\",\r\n  PUT_70_BTC: \"https://www.hegic.co/app#/arbitrum/trade/new?strikeName=put-70&&strategyName=bear-put&asset=BTC&sentiment=bear\",\r\n  PUT_70_ETH: \"https://www.hegic.co/app#/arbitrum/trade/new?strikeName=put-70&&strategyName=bear-put&asset=ETH&sentiment=bear\",\r\n  PUT_80_BTC: \"https://www.hegic.co/app#/arbitrum/trade/new?strikeName=put-80&&strategyName=bear-put&asset=BTC&sentiment=bear\",\r\n  PUT_80_ETH: \"https://www.hegic.co/app#/arbitrum/trade/new?strikeName=put-80&&strategyName=bear-put&asset=ETH&sentiment=bear\",\r\n  PUT_90_BTC: \"https://www.hegic.co/app#/arbitrum/trade/new?strikeName=put-90&&strategyName=bear-put&asset=BTC&sentiment=bear\",\r\n  PUT_90_ETH: \"https://www.hegic.co/app#/arbitrum/trade/new?strikeName=put-90&&strategyName=bear-put&asset=ETH&sentiment=bear\",\r\n\r\n  CALL_100_BTC: \"https://www.hegic.co/app#/arbitrum/trade/new?strikeName=call-100&&strategyName=bull-call&asset=BTC&sentiment=bull\",\r\n  CALL_100_ETH: \"https://www.hegic.co/app#/arbitrum/trade/new?strikeName=call-100&&strategyName=bull-call&asset=ETH\",\r\n  CALL_110_BTC: \"https://www.hegic.co/app#/arbitrum/trade/new?strikeName=call-110&&strategyName=bull-call&asset=BTC&sentiment=bull\",\r\n  CALL_110_ETH: \"https://www.hegic.co/app#/arbitrum/trade/new?strikeName=call-110&&strategyName=bull-call&asset=ETH\",\r\n  CALL_120_BTC: \"https://www.hegic.co/app#/arbitrum/trade/new?strikeName=call-120&&strategyName=bull-call&asset=BTC&sentiment=bull\",\r\n  CALL_120_ETH: \"https://www.hegic.co/app#/arbitrum/trade/new?strikeName=call-120&&strategyName=bull-call&asset=ETH\",\r\n  CALL_130_BTC: \"https://www.hegic.co/app#/arbitrum/trade/new?strikeName=call-130&&strategyName=bull-call&asset=BTC&sentiment=bull\",\r\n  CALL_130_ETH: \"https://www.hegic.co/app#/arbitrum/trade/new?strikeName=call-130&&strategyName=bull-call&asset=ETH\",\r\n}\r\n\r\nexport const HEGIC_SENTIMENT_LABELS = {\r\n  \"CALL\": CALL,\r\n  \"PUT\": PUT,\r\n  \"CALL-SPREAD\": \"Bull Call Spread\",\r\n  \"PUT-SPREAD\": \"Bear Put Spread\"\r\n}\r\n\r\n// Chai\r\nexport const CHAI_CONTRACT_ETH = '0x639Fe6ab55C921f74e7fac1ee960C0B6293ba612';\r\nexport const CHAI_CONTRACT_BTC = '0x6ce185860a4963106506C203335A2910413708e9';\r\nexport const Chai_ABI = _Chai_ABI;\r\n\r\n\r\n// Lyra\r\nexport const LyraQuoter = '0x23236b4c7772636b5224df56Be8168A2f42df31C';\r\n\r\n// Premia\r\nexport const PremiaPools = {\r\n  ETH: \"0xE5DbC4EDf467B609A063c7ea7fAb976C6b9BAa1a\",\r\n  BTC: \"0xb5fE3bc2eF4c34cC233922dfF2Fcb1B1BF89A38E\"\r\n}\r\n\r\n// DDL Options\r\n// Hegic\r\nexport const DDL_TP_Hegic_addr = _DDL_TakeProfit_Hegic.address;\r\nexport const DDL_TP_Hegic_ABI = _DDL_TakeProfit_Hegic.abi;\r\n// Lyra\r\nexport const DDL_TP_Lyra_ETH_addr = _DDL_TakeProfit_Lyra_ETH.address;\r\nexport const DDL_TP_Lyra_BTC_addr = _DDL_TakeProfit_Lyra_BTC.address;\r\nexport const DDL_TP_Lyra_ABI = _DDL_TakeProfit_Lyra_ETH.abi;\r\n\r\nexport const getTPMethod = (name, market) => {\r\n  switch(market) {\r\n    case \"Hegic\":\r\n      return `${name}TakeProfit`;\r\n    case \"Lyra\":\r\n      return `${name}StopOrder`;\r\n  }\r\n}\r\nexport const getTPContract = (market, token, signer) => {\r\n  switch(market) {\r\n    case \"Hegic\":\r\n      return new ethers.Contract(DDL_TP_Hegic_addr, DDL_TP_Hegic_ABI, signer);\r\n    case \"Lyra\":\r\n      if (token === \"ETH\") {\r\n        return new ethers.Contract(DDL_TP_Lyra_ETH_addr, DDL_TP_Lyra_ABI, signer);\r\n      }\r\n      if (token === \"BTC\") {\r\n        return new ethers.Contract(DDL_TP_Lyra_BTC_addr, DDL_TP_Lyra_ABI, signer);\r\n      }\r\n      break;\r\n    case \"Lyra_old\":\r\n      return new ethers.Contract(_DDL_TakeProfit_Lyra_ETH.address_old, DDL_TP_Lyra_ABI, signer);\r\n  }\r\n}\r\nexport const getTPApproveContract = (market, token, signer) => {\r\n  switch(market) {\r\n    case \"Hegic\":\r\n      return new ethers.Contract(HEGOPS, HEGOPS_ABI, signer);\r\n    case \"Lyra\":\r\n      if (token === \"ETH\") {\r\n        return new ethers.Contract(_Lyra_OptionToken_ETH.address, _Lyra_OptionToken_ETH.abi, signer);\r\n      }\r\n      if (token === \"BTC\") {\r\n        return new ethers.Contract(_Lyra_OptionToken_BTC.address, _Lyra_OptionToken_BTC.abi, signer);\r\n      }\r\n  }\r\n}\r\n\r\n\r\n// Options Builder\r\nexport const builderOpen = _BuilderOpen.address;\r\nexport const builderOpen_ABI = _BuilderOpen.abi;\r\nexport const builderOpenContract = new ethers.Contract(builderOpen, builderOpen_ABI, signer);","import React, { useState } from 'react';\r\nimport './Selector.scss';\r\nimport cx from 'classnames';\r\n\r\nconst Selector = (props) => {\r\n\tconst {\r\n\t\tclassName,\r\n\t\titems,\r\n\t\tchosenItem,\r\n\t\tdisabled,\r\n\t\tdefaultText,\r\n\t\tonSelect,\r\n\t\tonChange,\r\n\t\trenderOnHover,\r\n\t\ttitleIcon,\r\n\t\ticonText,\r\n\t\thideChosenItem,\r\n\t\tformatFn = (item) => item,\r\n\t\tsortFn = (items) => items,\r\n\t\tisComplex,\r\n\t\tcomplexCols = [],\r\n\t\trenderChosenItem,\r\n\t} = props;\r\n\t\r\n\tconst [isOpen, setIsOpen] = useState(false);\r\n\tconst cls = cx(\"Selector\", className, isOpen && 'open', disabled && 'disabled', isComplex && 'complex');\r\n\r\n\tconst openSelector = (e) => {\r\n\t\tif (disabled) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (isOpen) {\r\n\t\t\tcloseSelector();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\te.stopPropagation();\r\n\t\tdocument.addEventListener('click', closeSelector);\r\n\t\tsetIsOpen(true);\r\n\t}\r\n\tconst closeSelector = () => {\r\n\t\tdocument.removeEventListener('click', closeSelector);\r\n\t\tsetIsOpen(false);\r\n\t}\r\n\r\n\tlet chosenItemIcon;\r\n\ttry {\r\n\t\tchosenItemIcon = require(`../../../img/icon-${chosenItem}.svg`).default;\r\n\t} catch(e) {}\r\n\tconst chosenItemLabel = chosenItem && formatFn(chosenItem, true);\r\n\r\n\r\n\tconst renderComplexListFn = () => {\r\n\t\tif (!items) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tconst nodes = [];\r\n\t\tObject.keys(items).forEach(group => {\r\n\t\t\tconst headerNode = (\r\n\t\t\t\t<div className=\"Selector__item-header\" onClick={(e) => e.stopPropagation()}>\r\n\t\t\t\t\t{[group, ...complexCols].map(col => {\r\n\t\t\t\t\t\tlet icon;\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\ticon = require(`../../../img/icon-${col}.svg`).default;\r\n\t\t\t\t\t\t} catch(e) {}\r\n\r\n\t\t\t\t\t\tif (icon) {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<img src={icon} alt={`${group} icon`} key={col} />\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\treturn col;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})}\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t\tif (items[group].length) {\r\n\t\t\t\tnodes.push(headerNode);\r\n\t\t\t}\r\n\t\t\tsortFn(items[group]).forEach(itemArr => {\r\n\t\t\t\tlet isChosen = false;\r\n\t\t\t\tif (itemArr[0] === chosenItem) {\r\n\t\t\t\t\tif (hideChosenItem) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tisChosen = true;\r\n\t\t\t\t}\r\n\t\t\t\tconst itemNode = (\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tkey={itemArr[0]}\r\n\t\t\t\t\t\tclassName={cx(\"Selector__item\", \"icon-container\", isChosen && \"chosen\")}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tif (isChosen) {\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tonSelect(itemArr[0], group);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{chosenItemIcon && (\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tsrc={\r\n\t\t\t\t\t\t\t\t\titemArr[0] &&\r\n\t\t\t\t\t\t\t\t\t\trequire(`../../../img/icon-${itemArr[0]}.svg`).default\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\talt={`${itemArr[0]} icon`}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{itemArr.map((item, i) => {\r\n\t\t\t\t\t\t\tconst itemName = i === 0 ? formatFn(item) : item.toString();\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<span key={item}>{itemName}</span>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t{renderOnHover && (\r\n\t\t\t\t\t\t\t<div className=\"Selector__hover-tip\">\r\n\t\t\t\t\t\t\t\t{renderOnHover(itemArr[0])}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t);\r\n\t\t\t\tnodes.push(itemNode);\r\n\t\t\t})\r\n\t\t})\r\n\t\treturn nodes.map(node => node);\r\n\t}\r\n\treturn (\r\n\t\t<div className={cls}>\r\n\t\t\t<button\r\n\t\t\t\tclassName={cx(\"Selector__chosen-item\", !chosenItem && \"default-text\")}\r\n\t\t\t\tonClick={openSelector}\r\n\t\t\t>\r\n\t\t\t\t{titleIcon && (\r\n\t\t\t\t\t<div className=\"Selector__icon\">\r\n\t\t\t\t\t\t{titleIcon}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t<div className=\"Selector__chosen-item-info icon-container\">\r\n\t\t\t\t\t{chosenItemIcon && (\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tsrc={chosenItemIcon}\r\n\t\t\t\t\t\t\talt={`${chosenItem} icon`}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{isComplex && (chosenItem ? renderChosenItem() : defaultText)}\r\n\t\t\t\t\t{!isComplex && (chosenItemLabel ?? defaultText)}\r\n\t\t\t\t\t<img className=\"icon-down\" src={\r\n\t\t\t\t\t\trequire(`../../../img/icon-down-small-white.svg`).default\r\n\t\t\t\t\t} alt=\"chevron down\" />\r\n\t\t\t\t</div>\r\n\t\t\t</button>\r\n\t\t\t<div className=\"Selector__items\">\r\n\t\t\t\t{isComplex\r\n\t\t\t\t\t? renderComplexListFn()\r\n\t\t\t\t\t: sortFn(items).map(item => {\r\n\t\t\t\t\t\t\tlet isChosen = false;\r\n\t\t\t\t\t\t\tif (item === chosenItem) {\r\n\t\t\t\t\t\t\t\tif (hideChosenItem) {\r\n\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tisChosen = true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tconst itemName = formatFn(item);\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tkey={item}\r\n\t\t\t\t\t\t\t\t\tclassName={cx(\"Selector__item\", \"icon-container\", isChosen && \"chosen\")}\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tif (isChosen) {\r\n\t\t\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tonSelect(item);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{chosenItemIcon && (\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={\r\n\t\t\t\t\t\t\t\t\t\t\t\titem &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trequire(`../../../img/icon-${item}.svg`).default\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\talt={`${item} icon`}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t{itemName}\r\n\t\t\t\t\t\t\t\t\t{renderOnHover && (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"Selector__hover-tip\">\r\n\t\t\t\t\t\t\t\t\t\t\t{renderOnHover(item)}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Selector;","import React, { useEffect, useMemo, useState } from \"react\";\nimport Tooltip from \"../Tooltip/Tooltip\";\nimport { t, Trans } from \"@lingui/macro\";\nimport Slider, { SliderTooltip } from \"rc-slider\";\nimport \"rc-slider/assets/index.css\";\nimport \"./SwapBox.scss\";\n\nimport cx from \"classnames\";\nimport useSWR from \"swr\";\nimport { ethers } from \"ethers\";\n\nimport { IoMdSwap } from \"react-icons/io\";\nimport { BsArrowRight } from \"react-icons/bs\";\nimport { BigNumber } from \"ethers\";\nimport { notifySuccess, errAlert } from '../../../../components/utils/notifications';\n\nimport {\n  adjustForDecimals,\n  approveTokens,\n  ARBITRUM,\n  AVALANCHE,\n  BASIS_POINTS_DIVISOR,\n  bigNumberify,\n  calculatePositionDelta,\n  DEFAULT_HIGHER_SLIPPAGE_AMOUNT,\n  DUST_BNB,\n  expandDecimals,\n  formatAmount,\n  formatAmountFree,\n  getChainName,\n  getExchangeRate,\n  getExchangeRateDisplay,\n  getLeverage,\n  getLiquidationPrice,\n  getMostAbundantStableToken,\n  getNextFromAmount,\n  getNextToAmount,\n  getPositionKey,\n  getTokenInfo,\n  getUsd,\n  helperToast,\n  IS_NETWORK_DISABLED,\n  isSupportedChain,\n  isTriggerRatioInverted,\n  LEVERAGE_ORDER_OPTIONS,\n  LIMIT,\n  LONG,\n  MARGIN_FEE_BASIS_POINTS,\n  MARKET,\n  parseValue,\n  PRECISION,\n  replaceNativeTokenAddress,\n  SHORT,\n  shouldRaiseGasError,\n  STOP,\n  SWAP,\n  SWAP_OPTIONS,\n  SWAP_ORDER_OPTIONS,\n  USD_DECIMALS,\n  USDG_ADDRESS,\n  USDG_DECIMALS,\n  useLocalStorageByChainId,\n  useLocalStorageSerializeKey,\n  usePrevious,\n  MAX_ALLOWED_LEVERAGE,\n} from \"../../lib/legacy\";\nimport { getConstant } from \"../../config/chains\";\nimport * as Api from \"../../domain/legacy\";\nimport { getContract } from \"../../config/Addresses\";\n\nimport Tab from \"../Tab/Tab\";\nimport TokenSelector from \"./TokenSelector\";\nimport ExchangeInfoRow from \"./ExchangeInfoRow\";\nimport ConfirmationBox from \"./ConfirmationBox\";\n\nimport { getToken, getTokenBySymbol, getTokens, getWhitelistedTokens } from \"../../config/Tokens\";\nimport PositionRouter from \"../../abis/PositionRouter.json\";\nimport Router from \"../../abis/Router.json\";\nimport Token from \"../../abis/Token.json\";\nimport WETH from \"../../abis/WETH.json\";\n\nimport longImg from \"../../img/ddl/long.svg\";\nimport shortImg from \"../../img/ddl/short.svg\";\nimport swapImg from \"../../img/swap.svg\";\nimport longActiveImg from \"../../img/ddl/long_active.svg\";\nimport shortActiveImg from \"../../img/ddl/short_active.svg\";\n\nimport { useUserReferralCode } from \"../../domain/referrals\";\nimport StatsTooltipRow from \"../StatsTooltip/StatsTooltipRow\";\nimport { fetcher } from \"../../lib/contracts/fetcher\";\nimport { callContract } from \"../../lib/contracts/callContract\";\nimport icon_settings from '../../../../img/icon-settings.svg';\nimport ChooseMarketModal from './../../../../components/UI/modal/ChooseMarketModal';\nimport { separateThousands } from './../../../../components/utils/sepThousands';\nimport { floor, formatForContract } from './../../../../components/utils/math';\nimport GNS_Storage from '../../abis/GNS/GNS_Storage.json';\nimport GNS_Trading from '../../abis/GNS/GNS_Trading.json';\nimport { GNS_PAIRS, WEI_DECIMALS } from './../../lib/GNS_legacy';\nimport { DEFAULT_SLIPPAGE_AMOUNT } from './../../lib/legacy';\nimport SLTPModal from './../../../../components/UI/modal/SLTPModal';\nimport { signer } from './../../../../components/utils/providers';\nimport { USDC } from '../../../../components/utils/contracts';\nimport { marketsList } from \"../../../../components/utils/constants\";\nimport Selector from './../../../../components/UI/Selector/Selector';\n\nconst SWAP_ICONS = {\n  [LONG]: longImg,\n  [SHORT]: shortImg,\n  [SWAP]: swapImg,\n  Long_active: longActiveImg,\n  Short_active: shortActiveImg,\n};\nconst { AddressZero } = ethers.constants;\n\nconst leverageSliderHandle = (props) => {\n  const { value, dragging, index, ...restProps } = props;\n  return (\n    <SliderTooltip\n      prefixCls=\"rc-slider-tooltip\"\n      overlay={`${value}`}\n      visible={dragging}\n      placement=\"top\"\n      key={index}\n    >\n      <Slider.Handle value={value} {...restProps} />\n    </SliderTooltip>\n  );\n};\n\nfunction getNextAveragePrice({ size, sizeDelta, hasProfit, delta, nextPrice, isLong }) {\n  if (!size || !sizeDelta || !delta || !nextPrice) {\n    return;\n  }\n  const nextSize = size.add(sizeDelta);\n  let divisor;\n  if (isLong) {\n    divisor = hasProfit ? nextSize.add(delta) : nextSize.sub(delta);\n  } else {\n    divisor = hasProfit ? nextSize.sub(delta) : nextSize.add(delta);\n  }\n  if (!divisor || divisor.eq(0)) {\n    return;\n  }\n  const nextAveragePrice = nextPrice.mul(nextSize).div(divisor);\n  return nextAveragePrice;\n}\n\nexport default function SwapBox(props) {\n  const {\n    positions,\n    pendingPositions,\n    setPendingPositions,\n    infoTokens,\n    active,\n    library,\n    account,\n    fromTokenAddress,\n    setFromTokenAddress,\n    toTokenAddress,\n    setToTokenAddress,\n    swapOption,\n    setSwapOption,\n    positionsMap,\n    pendingTxns,\n    setPendingTxns,\n    tokenSelection,\n    setTokenSelection,\n    setIsConfirming,\n    isConfirming,\n    isPendingConfirmation,\n    setIsPendingConfirmation,\n    flagOrdersEnabled,\n    chainId,\n    nativeTokenAddress,\n    savedSlippageAmount,\n    totalTokenWeights,\n    usdgSupply,\n    orders,\n    savedIsPnlInLeverage,\n    orderBookApproved,\n    positionRouterApproved,\n    isWaitingForPluginApproval,\n    approveOrderBook,\n    approvePositionRouter,\n    setIsWaitingForPluginApproval,\n    isWaitingForPositionRouterApproval,\n    setIsWaitingForPositionRouterApproval,\n    isPluginApproving,\n    isPositionRouterApproving,\n    savedShouldDisableValidationForTesting,\n    minExecutionFee,\n    minExecutionFeeUSD,\n    minExecutionFeeErrorMessage,\n    pendingPositionsGNS,\n    setPendingPositionsGNS,\n  } = props;\n\n  \n\n  const [fromValue, setFromValue] = useState(\"\");\n  const [toValue, setToValue] = useState(\"\");\n  const [anchorOnFromAmount, setAnchorOnFromAmount] = useState(true);\n  const [isApproving, setIsApproving] = useState(false);\n  const [isWaitingForApproval, setIsWaitingForApproval] = useState(false);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [modalError, setModalError] = useState(false);\n  const [isHigherSlippageAllowed, setIsHigherSlippageAllowed] = useState(false);\n  const { attachedOnChain, userReferralCode } = useUserReferralCode(library, chainId, account);\n\n  const [userSlippage, setUserSlippage] = useState(DEFAULT_SLIPPAGE_AMOUNT / 100);\n  const allowedSlippage = userSlippage ? userSlippage * 100 : DEFAULT_SLIPPAGE_AMOUNT;\n\n  const defaultCollateralSymbol = getConstant(chainId, \"defaultCollateralSymbol\");\n  // TODO hack with useLocalStorageSerializeKey\n  const [shortCollateralAddress, setShortCollateralAddress] = useLocalStorageByChainId(\n    chainId,\n    \"Short-Collateral-Address\",\n    getTokenBySymbol(chainId, defaultCollateralSymbol).address\n  );\n  \n  const isLong = swapOption === LONG;\n  const isShort = swapOption === SHORT;\n  const isSwap = swapOption === SWAP;\n\n  const getLeaderboardLink = () => {\n    if (chainId === ARBITRUM) {\n      return \"https://www.gmx.house/arbitrum/leaderboard\";\n    }\n    if (chainId === AVALANCHE) {\n      return \"https://www.gmx.house/avalanche/leaderboard\";\n    }\n    return \"https://www.gmx.house\";\n  };\n\n  function getTokenLabel() {\n    switch (true) {\n      case isLong:\n        return t`Long`;\n      case isShort:\n        return t`Short`;\n      case isSwap:\n        return t`Receive`;\n      default:\n        return \"\";\n    }\n  }\n  const [leverageOption, setLeverageOption] = useLocalStorageSerializeKey(\n    [chainId, \"Exchange-swap-leverage-option\"],\n    \"2\"\n  );\n  const [isLeverageSliderEnabled, setIsLeverageSliderEnabled] = useLocalStorageSerializeKey(\n    [chainId, \"Exchange-swap-leverage-slider-enabled\"],\n    true\n  );\n\n\n  const hasLeverageOption = isLeverageSliderEnabled && !isNaN(parseFloat(leverageOption));\n\n  const [ordersToaOpen, setOrdersToaOpen] = useState(false);\n\n  // Market/Limit orders disabling\n  let [orderOption, setOrderOption] = useLocalStorageSerializeKey([chainId, \"Order-option\"], MARKET);\n  \n  if (!flagOrdersEnabled) {\n    orderOption = MARKET;\n  }\n\n  const onOrderOptionChange = (option) => {\n    setOrderOption(option);\n  };\n\n  const isMarketOrder = orderOption === MARKET;\n\n  \n  const orderOptions = isSwap ? SWAP_ORDER_OPTIONS : LEVERAGE_ORDER_OPTIONS;\n  const orderOptionLabels = { [STOP]: \"Trigger\" };\n\n  const [triggerPriceValue, setTriggerPriceValue] = useState(\"\");\n  const triggerPriceUsd = isMarketOrder ? 0 : parseValue(triggerPriceValue, USD_DECIMALS);\n\n  const onTriggerPriceChange = (evt) => {\n    setTriggerPriceValue(evt.target.value || \"\");\n  };\n\n  const onTriggerRatioChange = (evt) => {\n    setTriggerRatioValue(evt.target.value || \"\");\n  };\n\n  let positionKey;\n  if (isLong) {\n    positionKey = getPositionKey(account, toTokenAddress, toTokenAddress, true, nativeTokenAddress);\n  }\n  if (isShort) {\n    positionKey = getPositionKey(account, shortCollateralAddress, toTokenAddress, false, nativeTokenAddress);\n  }\n\n  const existingPosition = positionKey ? positionsMap[positionKey] : undefined;\n  const hasExistingPosition = existingPosition && existingPosition.size && existingPosition.size.gt(0);\n\n  const whitelistedTokens = getWhitelistedTokens(chainId);\n  \n  // Tokens control\n  const tokens = getTokens(chainId);\n  const fromTokens = tokens;\n\n  const stableTokens = tokens.filter((token) => token.isStable);\n  const indexTokens = whitelistedTokens.filter((token) => !token.isStable && !token.isWrapped);\n  const shortableTokens = indexTokens.filter((token) => token.isShortable);\n\n  let toTokens = tokens;\n  if (isLong) {\n    toTokens = indexTokens;\n  }\n  if (isShort) {\n    toTokens = shortableTokens;\n  }\n\n  const needOrderBookApproval = !isMarketOrder && !orderBookApproved;\n  const prevNeedOrderBookApproval = usePrevious(needOrderBookApproval);\n\n  const needPositionRouterApproval = (isLong || isShort) && isMarketOrder && !positionRouterApproved;\n  const prevNeedPositionRouterApproval = usePrevious(needPositionRouterApproval);\n\n  useEffect(() => {\n    if (!needOrderBookApproval && prevNeedOrderBookApproval && isWaitingForPluginApproval) {\n      setIsWaitingForPluginApproval(false);\n      helperToast.success(<div>Orders enabled!</div>);\n    }\n  }, [needOrderBookApproval, prevNeedOrderBookApproval, setIsWaitingForPluginApproval, isWaitingForPluginApproval]);\n\n  useEffect(() => {\n    if (!needPositionRouterApproval && prevNeedPositionRouterApproval && isWaitingForPositionRouterApproval) {\n      setIsWaitingForPositionRouterApproval(false);\n      helperToast.success(<div>Leverage enabled!</div>);\n    }\n  }, [\n    needPositionRouterApproval,\n    prevNeedPositionRouterApproval,\n    setIsWaitingForPositionRouterApproval,\n    isWaitingForPositionRouterApproval,\n  ]);\n\n  useEffect(() => {\n    if (!needOrderBookApproval && prevNeedOrderBookApproval && isWaitingForPluginApproval) {\n      setIsWaitingForPluginApproval(false);\n      helperToast.success(<div>Orders enabled!</div>);\n    }\n  }, [needOrderBookApproval, prevNeedOrderBookApproval, setIsWaitingForPluginApproval, isWaitingForPluginApproval]);\n\n  const routerAddress = getContract(chainId, \"Router\");\n  const tokenAllowanceAddress = fromTokenAddress === AddressZero ? nativeTokenAddress : fromTokenAddress;\n  const { data: tokenAllowance } = useSWR(\n    active && [active, chainId, tokenAllowanceAddress, \"allowance\", account, routerAddress],\n    {\n      fetcher: fetcher(library, Token),\n    }\n  );\n  const { data: tokenAllowanceGNS } = useSWR(\n    active && [active, chainId, tokenAllowanceAddress, \"allowance\", account, GNS_Storage.address],\n    {\n      fetcher: fetcher(library, Token),\n    }\n  );\n\n  \n  const { data: hasOutdatedUi } = Api.useHasOutdatedUi();\n  \n  const fromToken = getToken(chainId, fromTokenAddress);\n  const toToken = getToken(chainId, toTokenAddress);\n  const shortCollateralToken = getTokenInfo(infoTokens, shortCollateralAddress);\n\n  const fromTokenInfo = getTokenInfo(infoTokens, fromTokenAddress);\n  const toTokenInfo = getTokenInfo(infoTokens, toTokenAddress);\n\n  const renderAvailableLongLiquidity = () => {\n    if (!isLong) {\n      return null;\n    }\n\n    return (\n      <div className=\"Exchange-info-row\">\n        <div className=\"Exchange-info-label\">\n          <Trans>Available Liquidity</Trans>\n        </div>\n        <div className=\"align-right\">\n          <Tooltip\n            handle={`$${formatAmount(toTokenInfo.maxAvailableLong, USD_DECIMALS, 2, true)}`}\n            position=\"right-bottom\"\n            renderContent={() => {\n              return (\n                <>\n                  <StatsTooltipRow\n                    label={`Max ${toTokenInfo.symbol} long capacity`}\n                    value={formatAmount(toTokenInfo.maxLongCapacity, USD_DECIMALS, 0, true)}\n                  />\n                  <StatsTooltipRow\n                    label={`Current ${toTokenInfo.symbol} long`}\n                    value={formatAmount(toTokenInfo.guaranteedUsd, USD_DECIMALS, 0, true)}\n                  />\n                </>\n              );\n            }}\n          ></Tooltip>\n        </div>\n      </div>\n    );\n  };\n\n  const { data: liquidityData, error: liquidityDataError } = useSWR(\n    active && [active, chainId, GNS_Storage.address, toTokenInfo, \"getLiquidityGNS\", account],\n    async () => {\n      const liqs = {};\n      const curPairSymbol = toTokenInfo.symbol;\n      \n      const GNS_contract = new ethers.Contract(GNS_Storage.address, GNS_Storage.abi, signer);\n      const GNS_PairIndex = GNS_PAIRS[toToken.symbol];\n      const GNS_Info = {\n        openInterest: await GNS_contract.openInterestDai(GNS_PairIndex, 0),\n        maxOpenInterest: await GNS_contract.openInterestDai(GNS_PairIndex, 2),\n      }\n      \n      marketsList.forEach(async (market) => {\n        let liq;\n        let symbol = curPairSymbol;\n\n        switch(market.name) {\n          case 'GMX':\n            if (isLong) {\n              liq = toTokenInfo.maxAvailableLong / 10**USD_DECIMALS;\n            } else {\n              liq = toTokenInfo.maxAvailableShort / 10**USD_DECIMALS;\n            }\n\n            symbol = '';\n            break;\n          case 'GNS':\n            liq = Number(\n              (GNS_Info.maxOpenInterest?.sub(GNS_Info.openInterest) + '0'.repeat(12)) / 10**USD_DECIMALS\n            );\n            \n            break;\n          default:\n            return;\n        }\n\n        liqs[market.name] = {\n          value: liq,\n          formattedValue: separateThousands(floor(liq)),\n          symbol,\n        }\n      })\n      \n      return liqs;\n    }\n  );\n  const [liquidity, setLiquidity] = useState(null);\n  useEffect(() => {\n    if (!liquidityData) {\n      return;\n    }\n    \n    setLiquidity(liquidityData);\n  }, [liquidityData]);\n\n  const [markets, setMarkets] = useLocalStorageSerializeKey([chainId, \"Terminal-Markets\"], marketsList.slice());\n  \n  \n  // Modal functionality\n  const [modal, setModal] = useState('');\n  const [modalVisible, setModalVisible] = useState(false);\n\n  const openModal = (name) => {\n    setModal(name);\n    setModalVisible(true);\n  }\n  \n  const renderModal = (position) => {\n    switch(modal) {\n      case 'Choose-Market':\n        return (\n          <ChooseMarketModal\n            visible={modalVisible}\n            setVisible={setModalVisible}\n            marketsList={marketsList}\n            markets={markets}\n            setMarkets={setMarkets}\n            liqs={liquidity}\n          />\n        )\n          \n      default:\n        return (\n          <></>\n        );\n    }\n  }\n\n  // Choosing Liquidity Source\n  const [suitableMarket, setSuitableMarket] = useState(null);\n  useEffect(() => {\n    if (!markets.length) {\n      setSuitableMarket(null);\n      return;\n    }\n    setSuitableMarket(markets.reduce((result, market) => {\n      if (!liquidity) {\n        return market;\n      }\n      if (liquidity[result.name]?.value > liquidity[market.name]?.value) {\n        return result;\n      }\n      return market;\n    }))\n  }, [markets]);\n\n  useEffect(() => {\n    if (suitableMarket?.name === 'GNS') {\n      setFromTokenAddress(isLong ? LONG : SHORT, getTokenBySymbol(chainId, 'DAI').address);\n    }\n  }, [suitableMarket]);\n\n  const onMarketSelect = (marketName) => {\n    setSuitableMarket(marketsList.find(market => market.name === marketName));\n  }\n\n  const fromBalance = fromTokenInfo ? fromTokenInfo.balance : bigNumberify(0);\n  const toBalance = toTokenInfo ? toTokenInfo.balance : bigNumberify(0);\n\n  const fromAmount = parseValue(fromValue, fromToken && fromToken.decimals);\n  const toAmount = parseValue(toValue, toToken && toToken.decimals);\n\n  const isPotentialWrap = (fromToken.isNative && toToken.isWrapped) || (fromToken.isWrapped && toToken.isNative);\n  const isWrapOrUnwrap = isSwap && isPotentialWrap;\n  const needApproval =\n    suitableMarket?.name === 'GMX' ?\n      (fromTokenAddress !== AddressZero &&\n      tokenAllowance &&\n      fromAmount &&\n      fromAmount.gt(tokenAllowance) &&\n      !isWrapOrUnwrap)\n    : (suitableMarket?.name === 'GNS' &&\n        (fromTokenAddress !== AddressZero &&\n          tokenAllowanceGNS &&\n          fromAmount &&\n          fromAmount.gt(tokenAllowanceGNS) &&\n          !isWrapOrUnwrap));\n\n  \n  const prevFromTokenAddress = usePrevious(fromTokenAddress);\n  const prevNeedApproval = usePrevious(needApproval);\n  const prevToTokenAddress = usePrevious(toTokenAddress);\n\n  const fromUsdMin = getUsd(fromAmount, fromTokenAddress, false, infoTokens);\n  const toUsdMax = getUsd(toAmount, toTokenAddress, true, infoTokens, orderOption, triggerPriceUsd);\n\n  const indexTokenAddress = toTokenAddress === AddressZero ? nativeTokenAddress : toTokenAddress;\n  const collateralTokenAddress = isLong ? indexTokenAddress : shortCollateralAddress;\n  const collateralToken = getToken(chainId, collateralTokenAddress);\n\n  const [triggerRatioValue, setTriggerRatioValue] = useState(\"\");\n\n  const triggerRatioInverted = useMemo(() => {\n    return isTriggerRatioInverted(fromTokenInfo, toTokenInfo);\n  }, [toTokenInfo, fromTokenInfo]);\n\n  const maxToTokenOut = useMemo(() => {\n    const value = toTokenInfo.availableAmount?.gt(toTokenInfo.poolAmount?.sub(toTokenInfo.bufferAmount))\n      ? toTokenInfo.poolAmount?.sub(toTokenInfo.bufferAmount)\n      : toTokenInfo.availableAmount;\n\n    if (!value) {\n      return bigNumberify(0);\n    }\n\n    return value.gt(0) ? value : bigNumberify(0);\n  }, [toTokenInfo]);\n\n  const maxToTokenOutUSD = useMemo(() => {\n    return getUsd(maxToTokenOut, toTokenAddress, false, infoTokens);\n  }, [maxToTokenOut, toTokenAddress, infoTokens]);\n\n  const maxFromTokenInUSD = useMemo(() => {\n    const value = fromTokenInfo.maxUsdgAmount\n      ?.sub(fromTokenInfo.usdgAmount)\n      .mul(expandDecimals(1, USD_DECIMALS))\n      .div(expandDecimals(1, USDG_DECIMALS));\n\n    if (!value) {\n      return bigNumberify(0);\n    }\n\n    return value.gt(0) ? value : bigNumberify(0);\n  }, [fromTokenInfo]);\n\n  const maxFromTokenIn = useMemo(() => {\n    if (!fromTokenInfo.maxPrice) {\n      return bigNumberify(0);\n    }\n    return maxFromTokenInUSD?.mul(expandDecimals(1, fromTokenInfo.decimals)).div(fromTokenInfo.maxPrice).toString();\n  }, [maxFromTokenInUSD, fromTokenInfo]);\n\n  let maxSwapAmountUsd = bigNumberify(0);\n\n  if (maxToTokenOutUSD && maxFromTokenInUSD) {\n    maxSwapAmountUsd = maxToTokenOutUSD.lt(maxFromTokenInUSD) ? maxToTokenOutUSD : maxFromTokenInUSD;\n  }\n\n  const triggerRatio = useMemo(() => {\n    if (!triggerRatioValue) {\n      return bigNumberify(0);\n    }\n    let ratio = parseValue(triggerRatioValue, USD_DECIMALS);\n    if (ratio.eq(0)) {\n      return bigNumberify(0);\n    }\n    if (triggerRatioInverted) {\n      ratio = PRECISION.mul(PRECISION).div(ratio);\n    }\n    return ratio;\n  }, [triggerRatioValue, triggerRatioInverted]);\n\n  useEffect(() => {\n    if (\n      fromToken &&\n      fromTokenAddress === prevFromTokenAddress &&\n      !needApproval &&\n      prevNeedApproval &&\n      isWaitingForApproval\n    ) {\n      setIsWaitingForApproval(false);\n      helperToast.success(<div>{fromToken.symbol} approved!</div>);\n    }\n  }, [\n    fromTokenAddress,\n    prevFromTokenAddress,\n    needApproval,\n    prevNeedApproval,\n    setIsWaitingForApproval,\n    fromToken.symbol,\n    isWaitingForApproval,\n    fromToken,\n  ]);\n\n  useEffect(() => {\n    if (!toTokens.find((token) => token.address === toTokenAddress)) {\n      setToTokenAddress(swapOption, toTokens[0].address);\n    }\n  }, [swapOption, toTokens, toTokenAddress, setToTokenAddress]);\n\n  useEffect(() => {\n    if (swapOption !== SHORT) {\n      return;\n    }\n    if (toTokenAddress === prevToTokenAddress) {\n      return;\n    }\n    for (let i = 0; i < stableTokens.length; i++) {\n      const stableToken = stableTokens[i];\n      const key = getPositionKey(account, stableToken.address, toTokenAddress, false, nativeTokenAddress);\n      const position = positionsMap[key];\n      if (position && position.size && position.size.gt(0)) {\n        setShortCollateralAddress(position.collateralToken.address);\n        return;\n      }\n    }\n  }, [\n    account,\n    toTokenAddress,\n    prevToTokenAddress,\n    swapOption,\n    positionsMap,\n    stableTokens,\n    nativeTokenAddress,\n    shortCollateralAddress,\n    setShortCollateralAddress,\n  ]);\n\n  useEffect(() => {\n    const updateSwapAmounts = () => {\n      if (anchorOnFromAmount) {\n        if (!fromAmount) {\n          setToValue(\"\");\n          return;\n        }\n        if (toToken) {\n          const { amount: nextToAmount } = getNextToAmount(\n            chainId,\n            fromAmount,\n            fromTokenAddress,\n            toTokenAddress,\n            infoTokens,\n            undefined,\n            !isMarketOrder && triggerRatio,\n            usdgSupply,\n            totalTokenWeights,\n            isSwap\n          );\n\n          const nextToValue = formatAmountFree(nextToAmount, toToken.decimals, toToken.decimals);\n          setToValue(nextToValue);\n        }\n        return;\n      }\n\n      if (!toAmount) {\n        setFromValue(\"\");\n        return;\n      }\n      if (fromToken) {\n        const { amount: nextFromAmount } = getNextFromAmount(\n          chainId,\n          toAmount,\n          fromTokenAddress,\n          toTokenAddress,\n          infoTokens,\n          undefined,\n          !isMarketOrder && triggerRatio,\n          usdgSupply,\n          totalTokenWeights,\n          isSwap\n        );\n        const nextFromValue = formatAmountFree(nextFromAmount, fromToken.decimals, fromToken.decimals);\n        setFromValue(nextFromValue);\n      }\n    };\n\n    const updateLeverageAmounts = () => {\n      if (!hasLeverageOption) {\n        return;\n      }\n      if (anchorOnFromAmount) {\n        if (!fromAmount) {\n          setToValue(\"\");\n          return;\n        }\n\n        const toTokenInfo = getTokenInfo(infoTokens, toTokenAddress);\n        if (toTokenInfo && toTokenInfo.maxPrice && fromUsdMin && fromUsdMin.gt(0)) {\n          const leverageMultiplier = parseInt(leverageOption * BASIS_POINTS_DIVISOR);\n          const toTokenPriceUsd =\n            !isMarketOrder && triggerPriceUsd && triggerPriceUsd.gt(0) ? triggerPriceUsd : toTokenInfo.maxPrice;\n\n          const { feeBasisPoints } = getNextToAmount(\n            chainId,\n            fromAmount,\n            fromTokenAddress,\n            collateralTokenAddress,\n            infoTokens,\n            undefined,\n            undefined,\n            usdgSupply,\n            totalTokenWeights,\n            isSwap\n          );\n\n          let fromUsdMinAfterFee = fromUsdMin;\n          if (feeBasisPoints) {\n            fromUsdMinAfterFee = fromUsdMin.mul(BASIS_POINTS_DIVISOR - feeBasisPoints).div(BASIS_POINTS_DIVISOR);\n          }\n\n          const toNumerator = fromUsdMinAfterFee.mul(leverageMultiplier).mul(BASIS_POINTS_DIVISOR);\n          const toDenominator = bigNumberify(MARGIN_FEE_BASIS_POINTS)\n            .mul(leverageMultiplier)\n            .add(bigNumberify(BASIS_POINTS_DIVISOR).mul(BASIS_POINTS_DIVISOR));\n\n          const nextToUsd = toNumerator.div(toDenominator);\n\n          const nextToAmount = nextToUsd.mul(expandDecimals(1, toToken.decimals)).div(toTokenPriceUsd);\n\n          const nextToValue = formatAmountFree(nextToAmount, toToken.decimals, toToken.decimals);\n\n          setToValue(nextToValue);\n        }\n        return;\n      }\n\n      if (!toAmount) {\n        setFromValue(\"\");\n        return;\n      }\n\n      const fromTokenInfo = getTokenInfo(infoTokens, fromTokenAddress);\n      if (fromTokenInfo && fromTokenInfo.minPrice && toUsdMax && toUsdMax.gt(0)) {\n        const leverageMultiplier = parseInt(leverageOption * BASIS_POINTS_DIVISOR);\n\n        const baseFromAmountUsd = toUsdMax.mul(BASIS_POINTS_DIVISOR).div(leverageMultiplier);\n\n        let fees = toUsdMax.mul(MARGIN_FEE_BASIS_POINTS).div(BASIS_POINTS_DIVISOR);\n\n        const { feeBasisPoints } = getNextToAmount(\n          chainId,\n          fromAmount,\n          fromTokenAddress,\n          collateralTokenAddress,\n          infoTokens,\n          undefined,\n          undefined,\n          usdgSupply,\n          totalTokenWeights,\n          isSwap\n        );\n\n        if (feeBasisPoints) {\n          const swapFees = baseFromAmountUsd.mul(feeBasisPoints).div(BASIS_POINTS_DIVISOR);\n          fees = fees.add(swapFees);\n        }\n\n        const nextFromUsd = baseFromAmountUsd.add(fees);\n\n        const nextFromAmount = nextFromUsd.mul(expandDecimals(1, fromToken.decimals)).div(fromTokenInfo.minPrice);\n\n        const nextFromValue = formatAmountFree(nextFromAmount, fromToken.decimals, fromToken.decimals);\n\n        setFromValue(nextFromValue);\n      }\n    };\n\n    if (isSwap) {\n      updateSwapAmounts();\n    }\n\n    if (isLong || isShort) {\n      updateLeverageAmounts();\n    }\n  }, [\n    anchorOnFromAmount,\n    fromAmount,\n    toAmount,\n    fromToken,\n    toToken,\n    fromTokenAddress,\n    toTokenAddress,\n    infoTokens,\n    isSwap,\n    isLong,\n    isShort,\n    leverageOption,\n    fromUsdMin,\n    toUsdMax,\n    isMarketOrder,\n    triggerPriceUsd,\n    triggerRatio,\n    hasLeverageOption,\n    usdgSupply,\n    totalTokenWeights,\n    chainId,\n    collateralTokenAddress,\n    indexTokenAddress,\n  ]);\n\n  let entryMarkPrice;\n  let exitMarkPrice;\n  if (toTokenInfo) {\n    entryMarkPrice = swapOption === LONG ? toTokenInfo.maxPrice : toTokenInfo.minPrice;\n    exitMarkPrice = swapOption === LONG ? toTokenInfo.minPrice : toTokenInfo.maxPrice;\n  }\n\n  let leverage = bigNumberify(0);\n  if (fromUsdMin && toUsdMax && fromUsdMin.gt(0)) {\n    const fees = toUsdMax.mul(MARGIN_FEE_BASIS_POINTS).div(BASIS_POINTS_DIVISOR);\n    if (fromUsdMin.sub(fees).gt(0)) {\n      leverage = toUsdMax.mul(BASIS_POINTS_DIVISOR).div(fromUsdMin.sub(fees));\n    }\n  }\n\n  let nextAveragePrice = isMarketOrder ? entryMarkPrice : triggerPriceUsd;\n  if (suitableMarket?.name === 'GNS') {\n    if (toTokenInfo.maxPrice) {\n      nextAveragePrice = isLong ?\n        BigNumber.from(formatAmount(toTokenInfo.maxPrice, 4, 0, 0)).mul(10004)\n        : BigNumber.from(formatAmount(toTokenInfo.maxPrice, 4, 0, 0)).mul(9996);\n    }\n  }\n  \n  if (suitableMarket?.name === 'GMX') {\n    if (hasExistingPosition) {\n      let nextDelta, nextHasProfit;\n  \n      if (isMarketOrder) {\n        nextDelta = existingPosition.delta;\n        nextHasProfit = existingPosition.hasProfit;\n      } else {\n        const data = calculatePositionDelta(triggerPriceUsd || bigNumberify(0), existingPosition);\n        nextDelta = data.delta;\n        nextHasProfit = data.hasProfit;\n      }\n  \n      nextAveragePrice = getNextAveragePrice({\n        size: existingPosition.size,\n        sizeDelta: toUsdMax,\n        hasProfit: nextHasProfit,\n        delta: nextDelta,\n        nextPrice: isMarketOrder ? entryMarkPrice : triggerPriceUsd,\n        isLong,\n      });\n    }\n  }\n\n  if (suitableMarket?.name === 'GMX') {\n    if (hasExistingPosition) {\n      const collateralDelta = fromUsdMin ? fromUsdMin : bigNumberify(0);\n      const sizeDelta = toUsdMax ? toUsdMax : bigNumberify(0);\n      leverage = getLeverage({\n        size: existingPosition.size,\n        sizeDelta,\n        collateral: existingPosition.collateral,\n        collateralDelta,\n        increaseCollateral: true,\n        entryFundingRate: existingPosition.entryFundingRate,\n        cumulativeFundingRate: existingPosition.cumulativeFundingRate,\n        increaseSize: true,\n        hasProfit: existingPosition.hasProfit,\n        delta: existingPosition.delta,\n        includeDelta: savedIsPnlInLeverage,\n      });\n    } else if (hasLeverageOption) {\n      leverage = bigNumberify(parseInt(leverageOption * BASIS_POINTS_DIVISOR));\n    }\n  } else if (suitableMarket?.name === 'GNS') {\n    leverage = bigNumberify(parseInt(leverageOption * BASIS_POINTS_DIVISOR));\n  }\n  \n  let liquidationPrice;\n  if (suitableMarket?.name === 'GMX') {\n    liquidationPrice = getLiquidationPrice({\n      isLong,\n      size: hasExistingPosition ? existingPosition.size : bigNumberify(0),\n      collateral: hasExistingPosition ? existingPosition.collateral : bigNumberify(0),\n      averagePrice: nextAveragePrice,\n      entryFundingRate: hasExistingPosition ? existingPosition.entryFundingRate : bigNumberify(0),\n      cumulativeFundingRate: hasExistingPosition ? existingPosition.cumulativeFundingRate : bigNumberify(0),\n      sizeDelta: toUsdMax,\n      collateralDelta: fromUsdMin,\n      increaseCollateral: true,\n      increaseSize: true,\n    });\n  } else if (suitableMarket?.name === 'GNS') {\n    if (fromAmount && toTokenInfo.maxPrice && leverage) {\n      if (!fromAmount.eq(0) && !leverage.eq(0)) {\n        const markPrice = toTokenInfo.maxPrice;\n        const collateral = fromAmount.mul(leverage);\n        \n        const liqPriceDistance = (markPrice.mul(collateral.mul(9).div(10)).div(collateral).div(formatAmount(leverage, 4, 0, 0)));\n\n        liquidationPrice = (isLong ?\n            markPrice.sub(liqPriceDistance)\n            : markPrice.add(liqPriceDistance));\n      }\n    }\n  }\n\n  const existingLiquidationPrice = existingPosition ? getLiquidationPrice(existingPosition) : undefined;\n  let displayLiquidationPrice = liquidationPrice ? liquidationPrice : existingLiquidationPrice;\n  \n  \n\n  const getSwapError = () => {\n    if (IS_NETWORK_DISABLED[chainId]) {\n      return [`Swaps disabled, pending ${getChainName(chainId)} upgrade`];\n    }\n\n    if (fromTokenAddress === toTokenAddress) {\n      return [t`Select different tokens`];\n    }\n\n    if (!isMarketOrder) {\n      if ((toToken.isStable || toToken.isUsdg) && (fromToken.isStable || fromToken.isUsdg)) {\n        return [t`Select different tokens`];\n      }\n\n      if (fromToken.isNative && toToken.isWrapped) {\n        return [t`Select different tokens`];\n      }\n\n      if (toToken.isNative && fromToken.isWrapped) {\n        return [t`Select different tokens`];\n      }\n    }\n\n    if (!fromAmount || fromAmount.eq(0)) {\n      return [t`Enter an amount`];\n    }\n    if (!toAmount || toAmount.eq(0)) {\n      return [t`Enter an amount`];\n    }\n\n    const fromTokenInfo = getTokenInfo(infoTokens, fromTokenAddress);\n    if (!fromTokenInfo || !fromTokenInfo.minPrice) {\n      return [t`Incorrect network`];\n    }\n    if (\n      !savedShouldDisableValidationForTesting &&\n      fromTokenInfo &&\n      fromTokenInfo.balance &&\n      fromAmount &&\n      fromAmount.gt(fromTokenInfo.balance)\n    ) {\n      return [`Insufficient ${fromTokenInfo.symbol} balance`];\n    }\n\n    const toTokenInfo = getTokenInfo(infoTokens, toTokenAddress);\n\n    if (!isMarketOrder) {\n      if (!triggerRatioValue || triggerRatio.eq(0)) {\n        return [t`Enter a price`];\n      }\n\n      const currentRate = getExchangeRate(fromTokenInfo, toTokenInfo);\n      if (currentRate && currentRate.lt(triggerRatio)) {\n        return triggerRatioInverted ? [t`Price below Mark Price`] : [t`Price above Mark Price`];\n      }\n    }\n\n    if (\n      !isWrapOrUnwrap &&\n      toToken &&\n      toTokenAddress !== USDG_ADDRESS &&\n      toTokenInfo &&\n      toTokenInfo.availableAmount &&\n      toAmount.gt(toTokenInfo.availableAmount)\n    ) {\n      return [t`Insufficient liquidity`];\n    }\n    if (\n      !isWrapOrUnwrap &&\n      toAmount &&\n      toTokenInfo.bufferAmount &&\n      toTokenInfo.poolAmount &&\n      toTokenInfo.bufferAmount.gt(toTokenInfo.poolAmount.sub(toAmount))\n    ) {\n      return [t`Insufficient liquidity`];\n    }\n\n    if (\n      fromUsdMin &&\n      fromTokenInfo.maxUsdgAmount &&\n      fromTokenInfo.maxUsdgAmount.gt(0) &&\n      fromTokenInfo.usdgAmount &&\n      fromTokenInfo.maxPrice\n    ) {\n      const usdgFromAmount = adjustForDecimals(fromUsdMin, USD_DECIMALS, USDG_DECIMALS);\n      const nextUsdgAmount = fromTokenInfo.usdgAmount.add(usdgFromAmount);\n\n      if (nextUsdgAmount.gt(fromTokenInfo.maxUsdgAmount)) {\n        return [`${fromTokenInfo.symbol} pool exceeded`];\n      }\n    }\n\n    return [false];\n  };\n\n  const getLeverageError = () => {\n    if (IS_NETWORK_DISABLED[chainId]) {\n      return [`Leverage disabled, pending ${getChainName(chainId)} upgrade`];\n    }\n    if (hasOutdatedUi) {\n      return [t`Page outdated, please refresh`];\n    }\n\n    if (!toAmount || toAmount.eq(0)) {\n      return [t`Enter an amount`];\n    }\n\n    let toTokenInfo = getTokenInfo(infoTokens, toTokenAddress);\n    if (toTokenInfo && toTokenInfo.isStable) {\n      return [`${swapOption === LONG ? \"Longing\" : \"Shorting\"} ${toTokenInfo.symbol} not supported`];\n    }\n\n    const fromTokenInfo = getTokenInfo(infoTokens, fromTokenAddress);\n    if (\n      !savedShouldDisableValidationForTesting &&\n      fromTokenInfo &&\n      fromTokenInfo.balance &&\n      fromAmount &&\n      fromAmount.gt(fromTokenInfo.balance)\n    ) {\n      return [`Insufficient ${fromTokenInfo.symbol} balance`];\n    }\n\n    if (leverage && leverage.eq(0)) {\n      return [t`Enter an amount`];\n    }\n    if (!isMarketOrder && (!triggerPriceValue || triggerPriceUsd.eq(0))) {\n      return [t`Enter a price`];\n    }\n\n    if (suitableMarket?.name === 'GMX') {\n      if (!hasExistingPosition && fromUsdMin && fromUsdMin.lt(expandDecimals(10, USD_DECIMALS))) {\n        return [t`Min order: 10 USD`];\n      }\n    } else if (suitableMarket?.name === 'GNS') {\n      if (fromUsdMin && (fromUsdMin.mul(leverage ?? 1)).lt(expandDecimals(7500, USD_DECIMALS + 4))) {\n        return [t`Min order: 7,500 DAI`];\n      }\n    }\n\n\n    if (leverage) {\n      if (suitableMarket?.name === 'GMX') {\n        if (leverage.gt(MAX_ALLOWED_LEVERAGE)) {\n          return [`Max leverage: ${(MAX_ALLOWED_LEVERAGE / BASIS_POINTS_DIVISOR).toFixed(1)}x`];\n        } else if (leverage.lt(1.1 * BASIS_POINTS_DIVISOR)) {\n          return [t`Min leverage: 1.1x`];\n        }\n        \n      } else if (suitableMarket?.name === 'GNS') {\n        if (leverage.gt(150 * BASIS_POINTS_DIVISOR)) {\n          return [t`Max leverage: 150x`];\n        } else if (leverage.lt(2 * BASIS_POINTS_DIVISOR)) {\n          return [t`Min leverage: 2x`];\n        }\n      }\n    }\n\n    if (!isMarketOrder && entryMarkPrice && triggerPriceUsd && !savedShouldDisableValidationForTesting) {\n      if (isLong && entryMarkPrice.lt(triggerPriceUsd)) {\n        return [t`Price above Mark Price`];\n      }\n      if (!isLong && entryMarkPrice.gt(triggerPriceUsd)) {\n        return [t`Price below Mark Price`];\n      }\n    }\n\n    if (isLong) {\n      let requiredAmount = toAmount;\n      if (fromTokenAddress !== toTokenAddress) {\n        const { amount: swapAmount } = getNextToAmount(\n          chainId,\n          fromAmount,\n          fromTokenAddress,\n          toTokenAddress,\n          infoTokens,\n          undefined,\n          undefined,\n          usdgSupply,\n          totalTokenWeights,\n          isSwap\n        );\n        requiredAmount = requiredAmount.add(swapAmount);\n\n        if (toToken && toTokenAddress !== USDG_ADDRESS) {\n          if (!toTokenInfo.availableAmount) {\n            return [t`Liquidity data not loaded`];\n          }\n          if (suitableMarket?.name === 'GMX' && toTokenInfo.availableAmount && requiredAmount.gt(toTokenInfo.availableAmount)) {\n            return [t`Insufficient liquidity`];\n          }\n        }\n\n        if (\n          suitableMarket?.name === 'GMX' &&\n          toTokenInfo.poolAmount &&\n          toTokenInfo.bufferAmount &&\n          toTokenInfo.bufferAmount.gt(toTokenInfo.poolAmount.sub(swapAmount))\n        ) {\n          return [t`Insufficient liquidity`, true, \"BUFFER\"];\n        }\n\n        \n        if (\n          fromUsdMin &&\n          fromTokenInfo.maxUsdgAmount &&\n          fromTokenInfo.maxUsdgAmount.gt(0) &&\n          fromTokenInfo.minPrice &&\n          fromTokenInfo.usdgAmount\n        ) {\n          const usdgFromAmount = adjustForDecimals(fromUsdMin, USD_DECIMALS, USDG_DECIMALS);\n          const nextUsdgAmount = fromTokenInfo.usdgAmount.add(usdgFromAmount);\n\n          if (suitableMarket?.name === 'GNS') {\n            if (\n              liquidity &&\n              liquidity[suitableMarket?.name].value &&\n              formatAmount(nextUsdgAmount, 30, 0) > liquidity[suitableMarket?.name].value\n            ) {\n              return [`${fromTokenInfo.symbol} pool exceeded, try different token`, true, \"MAX_USDG\"];\n            }\n          } else if (suitableMarket?.name === 'GMX') {\n            if (nextUsdgAmount.gt(fromTokenInfo.maxUsdgAmount)) {\n              return [`${fromTokenInfo.symbol} pool exceeded, try different token`, true, \"MAX_USDG\"];\n            }\n          }\n        }\n      }\n\n      if (suitableMarket?.name === 'GMX') {\n        if (toTokenInfo && toTokenInfo.maxPrice) {\n          const sizeUsd = toAmount.mul(toTokenInfo.maxPrice).div(expandDecimals(1, toTokenInfo.decimals));\n          if (\n            toTokenInfo.maxGlobalLongSize &&\n            toTokenInfo.maxGlobalLongSize.gt(0) &&\n            toTokenInfo.maxAvailableLong &&\n            sizeUsd.gt(toTokenInfo.maxAvailableLong)\n          ) {\n            return [`Max ${toTokenInfo.symbol} long exceeded`];\n          }\n        }\n      } else if (suitableMarket?.name === 'GNS') {\n        const sizeUsd = toAmount.mul(toTokenInfo.maxPrice).div(expandDecimals(1, toTokenInfo.decimals));\n        if (\n          liquidity &&\n          ((sizeUsd / 10**USD_DECIMALS) > (liquidity[suitableMarket?.name].value))\n        ) {\n          return [`Max ${toTokenInfo.symbol} long exceeded`];\n        }\n      }\n    }\n\n    if (isShort) {\n      let stableTokenAmount = bigNumberify(0);\n      if (fromTokenAddress !== shortCollateralAddress && fromAmount && fromAmount.gt(0)) {\n        const { amount: nextToAmount } = getNextToAmount(\n          chainId,\n          fromAmount,\n          fromTokenAddress,\n          shortCollateralAddress,\n          infoTokens,\n          undefined,\n          undefined,\n          usdgSupply,\n          totalTokenWeights,\n          isSwap\n        );\n        stableTokenAmount = nextToAmount;\n        if (suitableMarket?.name === 'GMX' && stableTokenAmount.gt(shortCollateralToken.availableAmount)) {\n          return [t`Insufficient liquidity, change \"Profits In\"`];\n        }\n\n        if (\n          suitableMarket?.name === 'GMX' &&\n          shortCollateralToken.bufferAmount &&\n          shortCollateralToken.poolAmount &&\n          shortCollateralToken.bufferAmount.gt(shortCollateralToken.poolAmount.sub(stableTokenAmount))\n        ) {\n          // suggest swapping to collateralToken\n          return [t`Insufficient liquidity, change \"Profits In\"`, true, \"BUFFER\"];\n        }\n\n        if (\n          fromTokenInfo.maxUsdgAmount &&\n          fromTokenInfo.maxUsdgAmount.gt(0) &&\n          fromTokenInfo.minPrice &&\n          fromTokenInfo.usdgAmount\n        ) {\n          const usdgFromAmount = adjustForDecimals(fromUsdMin, USD_DECIMALS, USDG_DECIMALS);\n          const nextUsdgAmount = fromTokenInfo.usdgAmount.add(usdgFromAmount);\n\n          \n          if (suitableMarket?.name === 'GMX' && nextUsdgAmount.gt(fromTokenInfo.maxUsdgAmount)) {\n            return [t`${fromTokenInfo.symbol} pool exceeded, try different token`, true, \"MAX_USDG\"];\n          }\n        }\n      }\n      if (\n        !shortCollateralToken ||\n        !fromTokenInfo ||\n        !toTokenInfo ||\n        !toTokenInfo.maxPrice ||\n        !shortCollateralToken.availableAmount\n      ) {\n        return [t`Fetching token info...`];\n      }\n\n      const sizeUsd = toAmount.mul(toTokenInfo.maxPrice).div(expandDecimals(1, toTokenInfo.decimals));\n      const sizeTokens = sizeUsd\n        .mul(expandDecimals(1, shortCollateralToken.decimals))\n        .div(shortCollateralToken.minPrice);\n\n      if (!toTokenInfo.maxAvailableShort) {\n        return [t`Liquidity data not loaded`];\n      }\n\n      if (suitableMarket?.name === 'GMX') {\n        if (\n          toTokenInfo.maxGlobalShortSize &&\n          toTokenInfo.maxGlobalShortSize.gt(0) &&\n          toTokenInfo.maxAvailableShort &&\n          sizeUsd.gt(toTokenInfo.maxAvailableShort)\n        ) {\n          return [`Max ${toTokenInfo.symbol} short exceeded`];\n        }\n      } else if (suitableMarket?.name === 'GNS') {\n        if (\n          liquidity &&\n          ((sizeUsd / 10**USD_DECIMALS) > (liquidity[suitableMarket?.name].value))\n        ) {\n          return [`Max ${toTokenInfo.symbol} short exceeded`];\n        }\n      }\n      \n\n      stableTokenAmount = stableTokenAmount.add(sizeTokens);\n      if (suitableMarket?.name === 'GMX' && stableTokenAmount.gt(shortCollateralToken.availableAmount)) {\n        return [t`Insufficient liquidity, change \"Profits In\"`];\n      }\n    }\n\n    return [false];\n  };\n\n  const getToLabel = () => {\n    if (isSwap) {\n      return t`Receive`;\n    }\n    if (isLong) {\n      return t`Long`;\n    }\n    return t`Short`;\n  };\n\n  const getError = () => {\n    if (isSwap) {\n      return getSwapError();\n    }\n    return getLeverageError();\n  };\n\n  const isPrimaryEnabled = () => {\n    if (IS_NETWORK_DISABLED[chainId]) {\n      return false;\n    }\n    if (isStopOrder) {\n      return true;\n    }\n    if (!active) {\n      return true;\n    }\n    const [error, modal] = getError();\n    if (error && !modal) {\n      return false;\n    }\n    if (needOrderBookApproval && isWaitingForPluginApproval) {\n      return false;\n    }\n    if ((needApproval && isWaitingForApproval) || isApproving) {\n      return false;\n    }\n    if (needPositionRouterApproval && isWaitingForPositionRouterApproval) {\n      return false;\n    }\n    if (isPositionRouterApproving) {\n      return false;\n    }\n    if (isApproving || isPluginApproving) {\n      return false;\n    }\n    if (isSubmitting) {\n      return false;\n    }\n\n    return true;\n  };\n\n\n  const getPrimaryText = () => {\n    if (isStopOrder) {\n      return t`Open a position`;\n    }\n    if (!active) {\n      return t`Connect Wallet`;\n    }\n    if (!isSupportedChain(chainId)) {\n      return t`Incorrect Network`;\n    }\n    const [error, modal] = getError();\n    if (error && !modal) {\n      return error;\n    }\n\n    if (needPositionRouterApproval && isWaitingForPositionRouterApproval) {\n      return t`Enabling Leverage...`;\n    }\n    if (isPositionRouterApproving) {\n      return t`Enabling Leverage...`;\n    }\n    if (needPositionRouterApproval) {\n      return t`Enable Leverage`;\n    }\n\n    if (needApproval && isWaitingForApproval) {\n      return t`Waiting for Approval`;\n    }\n    if (isApproving) {\n      return `Approving ${fromToken.symbol}...`;\n    }\n    /* if (needApproval) {\n      return `Approve ${fromToken.symbol}`;\n    } */\n\n    if (needOrderBookApproval && isWaitingForPluginApproval) {\n      return t`Enabling Orders...`;\n    }\n    if (isPluginApproving) {\n      return t`Enabling Orders...`;\n    }\n    if (needOrderBookApproval && suitableMarket?.name === 'GMX') {\n      return t`Enable Orders`;\n    }\n    \n    if (!isMarketOrder) return `Create ${orderOption.charAt(0) + orderOption.substring(1).toLowerCase()} Order`;\n\n    if (isSwap) {\n      if (toUsdMax && toUsdMax.lt(fromUsdMin.mul(95).div(100))) {\n        return t`High Slippage, Swap Anyway`;\n      }\n      return \"Swap\";\n    }\n\n    if (isLong) {\n      const indexTokenInfo = getTokenInfo(infoTokens, toTokenAddress);\n      if (indexTokenInfo && indexTokenInfo.minPrice) {\n        const { amount: nextToAmount } = getNextToAmount(\n          chainId,\n          fromAmount,\n          fromTokenAddress,\n          indexTokenAddress,\n          infoTokens,\n          undefined,\n          undefined,\n          usdgSupply,\n          totalTokenWeights,\n          isSwap\n        );\n        const nextToAmountUsd = nextToAmount\n          .mul(indexTokenInfo.minPrice)\n          .div(expandDecimals(1, indexTokenInfo.decimals));\n        if (fromTokenAddress === USDG_ADDRESS && nextToAmountUsd.lt(fromUsdMin.mul(98).div(100))) {\n          return t`High USDG Slippage, Long Anyway`;\n        }\n      }\n      return `Long ${toToken.symbol}`;\n    }\n\n    return `Short ${toToken.symbol}`;\n  };\n\n  const onSelectFromToken = (token) => {\n    setFromTokenAddress(swapOption, token.address);\n    setIsWaitingForApproval(false);\n\n    if (isShort && token.isStable) {\n      setShortCollateralAddress(token.address);\n    }\n  };\n\n  const onSelectShortCollateralAddress = (token) => {\n    setShortCollateralAddress(token.address);\n  };\n\n  const onSelectToToken = (token) => {\n    setToTokenAddress(swapOption, token.address);\n  };\n\n  const [hasInputFocus, setHasInputFocus] = useState(false);\n  const [hasInputError, setHasInputError] = useState(false);\n  const checkInputError = (inputVal) => {\n    if (!isPrimaryEnabled() && inputVal !== '') {\n      setHasInputError(true);\n    } else {\n      setHasInputError(false);\n    }\n  }\n\n  useEffect(() => {\n    checkInputError(fromValue);\n  }, [fromValue, toValue])\n  \n  const onFromValueChange = (e) => {\n    setAnchorOnFromAmount(true);\n    setFromValue(e.target.value);\n  };\n\n  const onToValueChange = (e) => {\n    setAnchorOnFromAmount(false);\n    setToValue(e.target.value);\n  };\n\n  const switchTokens = () => {\n    if (fromAmount && toAmount) {\n      if (anchorOnFromAmount) {\n        setToValue(formatAmountFree(fromAmount, fromToken.decimals, 8));\n      } else {\n        setFromValue(formatAmountFree(toAmount, toToken.decimals, 8));\n      }\n      setAnchorOnFromAmount(!anchorOnFromAmount);\n    }\n    setIsWaitingForApproval(false);\n\n    const updatedTokenSelection = JSON.parse(JSON.stringify(tokenSelection));\n    updatedTokenSelection[swapOption] = {\n      from: toTokenAddress,\n      to: fromTokenAddress,\n    };\n    setTokenSelection(updatedTokenSelection);\n  };\n\n  const wrap = async () => {\n    setIsSubmitting(true);\n\n    const contract = new ethers.Contract(nativeTokenAddress, WETH.abi, library.getSigner());\n    callContract(chainId, contract, \"deposit\", {\n      value: fromAmount,\n      sentMsg: \"Swap submitted.\",\n      successMsg: `Swapped ${formatAmount(fromAmount, fromToken.decimals, 4, true)} ${\n        fromToken.symbol\n      } for ${formatAmount(toAmount, toToken.decimals, 4, true)} ${toToken.symbol}!`,\n      failMsg: \"Swap failed.\",\n      setPendingTxns,\n    })\n      .then(async (res) => {})\n      .finally(() => {\n        setIsSubmitting(false);\n      });\n  };\n\n  const unwrap = async () => {\n    setIsSubmitting(true);\n\n    const contract = new ethers.Contract(nativeTokenAddress, WETH.abi, library.getSigner());\n    callContract(chainId, contract, \"withdraw\", [fromAmount], {\n      sentMsg: t`Swap submitted!`,\n      failMsg: t`Swap failed.`,\n      successMsg: `Swapped ${formatAmount(fromAmount, fromToken.decimals, 4, true)} ${\n        fromToken.symbol\n      } for ${formatAmount(toAmount, toToken.decimals, 4, true)} ${toToken.symbol}!`,\n      setPendingTxns,\n    })\n      .then(async (res) => {})\n      .finally(() => {\n        setIsSubmitting(false);\n      });\n  };\n\n  const swap = async () => {\n    if (fromToken.isNative && toToken.isWrapped) {\n      wrap();\n      return;\n    }\n\n    if (fromTokenAddress.isWrapped && toToken.isNative) {\n      unwrap();\n      return;\n    }\n\n    setIsSubmitting(true);\n    let path = [fromTokenAddress, toTokenAddress];\n    if (anchorOnFromAmount) {\n      const { path: multiPath } = getNextToAmount(\n        chainId,\n        fromAmount,\n        fromTokenAddress,\n        toTokenAddress,\n        infoTokens,\n        undefined,\n        undefined,\n        usdgSupply,\n        totalTokenWeights,\n        isSwap\n      );\n      if (multiPath) {\n        path = multiPath;\n      }\n    } else {\n      const { path: multiPath } = getNextFromAmount(\n        chainId,\n        toAmount,\n        fromTokenAddress,\n        toTokenAddress,\n        infoTokens,\n        undefined,\n        undefined,\n        usdgSupply,\n        totalTokenWeights,\n        isSwap\n      );\n      if (multiPath) {\n        path = multiPath;\n      }\n    }\n\n    let method;\n    let contract;\n    let value;\n    let params;\n    let minOut;\n    if (shouldRaiseGasError(getTokenInfo(infoTokens, fromTokenAddress), fromAmount)) {\n      setIsSubmitting(false);\n      setIsPendingConfirmation(true);\n      helperToast.error(\n        `Leave at least ${formatAmount(DUST_BNB, 18, 3)} ${getConstant(chainId, \"nativeTokenSymbol\")} for gas`\n      );\n      return;\n    }\n\n    if (!isMarketOrder) {\n      minOut = toAmount;\n      Api.createSwapOrder(chainId, library, path, fromAmount, minOut, triggerRatio, nativeTokenAddress, {\n        sentMsg: t`Swap Order submitted!`,\n        successMsg: t`Swap Order created!`,\n        failMsg: t`Swap Order creation failed.`,\n        pendingTxns,\n        setPendingTxns,\n      })\n        .then(() => {\n          setIsConfirming(false);\n        })\n        .finally(() => {\n          setIsSubmitting(false);\n          setIsPendingConfirmation(false);\n        });\n      return;\n    }\n\n    path = replaceNativeTokenAddress(path, nativeTokenAddress);\n    method = \"swap\";\n    value = bigNumberify(0);\n    if (toTokenAddress === AddressZero) {\n      method = \"swapTokensToETH\";\n    }\n\n    minOut = toAmount.mul(BASIS_POINTS_DIVISOR - allowedSlippage).div(BASIS_POINTS_DIVISOR);\n    params = [path, fromAmount, minOut, account];\n    if (fromTokenAddress === AddressZero) {\n      method = \"swapETHToTokens\";\n      value = fromAmount;\n      params = [path, minOut, account];\n    }\n    contract = new ethers.Contract(routerAddress, Router.abi, library.getSigner());\n\n    callContract(chainId, contract, method, params, {\n      value,\n      sentMsg: `Swap ${!isMarketOrder ? \" order \" : \"\"} submitted!`,\n      successMsg: `Swapped ${formatAmount(fromAmount, fromToken.decimals, 4, true)} ${\n        fromToken.symbol\n      } for ${formatAmount(toAmount, toToken.decimals, 4, true)} ${toToken.symbol}!`,\n      failMsg: t`Swap failed.`,\n      setPendingTxns,\n    })\n      .then(async () => {\n        setIsConfirming(false);\n      })\n      .finally(() => {\n        setIsSubmitting(false);\n        setIsPendingConfirmation(false);\n      });\n  };\n\n  const createIncreaseOrder = () => {\n    let path = [fromTokenAddress];\n\n    if (path[0] === USDG_ADDRESS) {\n      if (isLong) {\n        const stableToken = getMostAbundantStableToken(chainId, infoTokens);\n        path.push(stableToken.address);\n      } else {\n        path.push(shortCollateralAddress);\n      }\n    }\n\n    const minOut = 0;\n    const indexToken = getToken(chainId, indexTokenAddress);\n    const successMsg = t`\n      Created limit order for ${indexToken.symbol} ${isLong ? \"Long\" : \"Short\"}: ${formatAmount(\n      toUsdMax,\n      USD_DECIMALS,\n      2\n    )} USD!\n    `;\n    return Api.createIncreaseOrder(\n      chainId,\n      library,\n      nativeTokenAddress,\n      path,\n      fromAmount,\n      indexTokenAddress,\n      minOut,\n      toUsdMax,\n      collateralTokenAddress,\n      isLong,\n      triggerPriceUsd,\n      {\n        pendingTxns,\n        setPendingTxns,\n        sentMsg: t`Limit order submitted!`,\n        successMsg,\n        failMsg: t`Limit order creation failed.`,\n      }\n    )\n      .then(() => {\n        setIsConfirming(false);\n      })\n      .finally(() => {\n        setIsSubmitting(false);\n        setIsPendingConfirmation(false);\n      });\n  };\n\n  let referralCode = ethers.constants.HashZero;\n  if (!attachedOnChain && userReferralCode) {\n    referralCode = userReferralCode;\n  }\n\n  const increasePosition = async () => {\n    setIsSubmitting(true);\n    const tokenAddress0 = fromTokenAddress === AddressZero ? nativeTokenAddress : fromTokenAddress;\n    const indexTokenAddress = toTokenAddress === AddressZero ? nativeTokenAddress : toTokenAddress;\n    let path = [indexTokenAddress]; // assume long\n    if (toTokenAddress !== fromTokenAddress) {\n      path = [tokenAddress0, indexTokenAddress];\n    }\n\n    if (fromTokenAddress === AddressZero && toTokenAddress === nativeTokenAddress) {\n      path = [nativeTokenAddress];\n    }\n\n    if (fromTokenAddress === nativeTokenAddress && toTokenAddress === AddressZero) {\n      path = [nativeTokenAddress];\n    }\n\n    if (isShort) {\n      path = [shortCollateralAddress];\n      if (tokenAddress0 !== shortCollateralAddress) {\n        path = [tokenAddress0, shortCollateralAddress];\n      }\n    }\n\n    const refPrice = isLong ? toTokenInfo.maxPrice : toTokenInfo.minPrice;\n    const priceBasisPoints = isLong ? BASIS_POINTS_DIVISOR + allowedSlippage : BASIS_POINTS_DIVISOR - allowedSlippage;\n    const priceLimit = refPrice.mul(priceBasisPoints).div(BASIS_POINTS_DIVISOR);\n\n    const boundedFromAmount = fromAmount ? fromAmount : bigNumberify(0);\n\n\n    if (fromAmount && fromAmount.gt(0) && fromTokenAddress === USDG_ADDRESS && isLong) {\n      const { amount: nextToAmount, path: multiPath } = getNextToAmount(\n        chainId,\n        fromAmount,\n        fromTokenAddress,\n        indexTokenAddress,\n        infoTokens,\n        undefined,\n        undefined,\n        usdgSupply,\n        totalTokenWeights,\n        isSwap\n      );\n      if (nextToAmount.eq(0)) {\n        helperToast.error(t`Insufficient liquidity`);\n        return;\n      }\n      if (multiPath) {\n        path = replaceNativeTokenAddress(multiPath);\n      }\n    }\n\n    let params = [\n      path, // _path\n      indexTokenAddress, // _indexToken\n      boundedFromAmount, // _amountIn\n      0, // _minOut\n      toUsdMax, // _sizeDelta\n      isLong, // _isLong\n      priceLimit, // _acceptablePrice\n      minExecutionFee, // _executionFee\n      referralCode, // _referralCode\n      AddressZero, // _callbackTarget\n    ];\n\n    let method = \"createIncreasePosition\";\n    let value = minExecutionFee;\n    if (fromTokenAddress === AddressZero) {\n      method = \"createIncreasePositionETH\";\n      value = boundedFromAmount.add(minExecutionFee);\n      params = [\n        path, // _path\n        indexTokenAddress, // _indexToken\n        0, // _minOut\n        toUsdMax, // _sizeDelta\n        isLong, // _isLong\n        priceLimit, // _acceptablePrice\n        minExecutionFee, // _executionFee\n        referralCode, // _referralCode\n        AddressZero, // _callbackTarget\n      ];\n    }\n\n    if (shouldRaiseGasError(getTokenInfo(infoTokens, fromTokenAddress), fromAmount)) {\n      setIsSubmitting(false);\n      setIsPendingConfirmation(false);\n      helperToast.error(\n        t`Leave at least ${formatAmount(DUST_BNB, 18, 3)} ${getConstant(chainId, \"nativeTokenSymbol\")} for gas`\n      );\n      return;\n    }\n\n    const contractAddress = getContract(chainId, \"PositionRouter\");\n    const contract = new ethers.Contract(contractAddress, PositionRouter.abi, library.getSigner());\n    \n    const indexToken = getTokenInfo(infoTokens, indexTokenAddress);\n    const tokenSymbol = indexToken.isWrapped ? getConstant(chainId, \"nativeTokenSymbol\") : indexToken.symbol;\n    const successMsg = t`Requested increase of ${tokenSymbol} ${isLong ? \"Long\" : \"Short\"} by ${formatAmount(\n      toUsdMax,\n      USD_DECIMALS,\n      2\n    )} USD.`;\n\n    callContract(chainId, contract, method, params, {\n      value,\n      setPendingTxns,\n      sentMsg: `${isLong ? \"Long\" : \"Short\"} submitted.`,\n      failMsg: `${isLong ? \"Long\" : \"Short\"} failed.`,\n      successMsg,\n      // for Arbitrum, sometimes the successMsg shows after the position has already been executed\n      // hide the success message for Arbitrum as a workaround\n      hideSuccessMsg: chainId === ARBITRUM,\n    })\n      .then(async () => {\n        setIsConfirming(false);\n\n        const key = getPositionKey(account, path[path.length - 1], indexTokenAddress, isLong);\n        let nextSize = toUsdMax;\n        if (hasExistingPosition) {\n          nextSize = existingPosition.size.add(toUsdMax);\n        }\n\n        pendingPositions[key] = {\n          updatedAt: Date.now(),\n          pendingChanges: {\n            size: nextSize,\n          },\n        };\n\n        setPendingPositions({ ...pendingPositions });\n      })\n      .finally(() => {\n        setIsSubmitting(false);\n        setIsPendingConfirmation(false);\n      });\n  };\n\n  const onSwapOptionChange = (opt) => {\n    setSwapOption(opt);\n    if (orderOption === STOP) {\n      setOrderOption(MARKET);\n    }\n    setAnchorOnFromAmount(true);\n    setFromValue(\"\");\n    setToValue(\"\");\n    setTriggerPriceValue(\"\");\n    setTriggerRatioValue(\"\");\n\n    if (opt === SHORT && infoTokens) {\n      const fromToken = getToken(chainId, tokenSelection[opt].from);\n      if (fromToken && fromToken.isStable) {\n        setShortCollateralAddress(fromToken.address);\n      } else {\n        const stableToken = getMostAbundantStableToken(chainId, infoTokens);\n        setShortCollateralAddress(stableToken.address);\n      }\n    }\n  };\n\n  const onConfirmationClick = () => {\n    if (!active) {\n      props.connectWallet();\n      return;\n    }\n\n    if (needOrderBookApproval && suitableMarket?.name === 'GMX') {\n      approveOrderBook();\n      return;\n    }\n\n    if (isSwap) {\n      swap();\n      return;\n    }\n\n    switch(suitableMarket.name) {\n      case 'GMX':\n        if (orderOption === LIMIT) {\n          createIncreaseOrder();\n          return;\n        }\n        increasePosition();\n        return;\n      case 'GNS':\n        if (orderOption === LIMIT) {\n          openTrade(triggerPriceUsd);\n          return;\n        }\n        openTrade();\n        return;\n      default:\n        return;\n    }\n\n  };\n\n\n  function approveFromToken() {\n    const address = suitableMarket?.name === 'GMX'\n      ? routerAddress\n      : GNS_Storage.address;\n\n    approveTokens({\n      setIsApproving,\n      library,\n      tokenAddress: fromToken.address,\n      spender: address,\n      chainId: chainId,\n      onApproveSubmitted: () => {\n        setIsWaitingForApproval(true);\n      },\n      infoTokens,\n      getTokenInfo,\n      pendingTxns,\n      setPendingTxns,\n    });\n  }\n\n  const onClickPrimary = () => {\n    if (isStopOrder) {\n      setOrderOption(MARKET);\n      return;\n    }\n\n    if (!active) {\n      props.connectWallet();\n      return;\n    }\n\n    if (needPositionRouterApproval && suitableMarket?.name === 'GMX') {\n      approvePositionRouter({\n        sentMsg: t`Enable leverage sent.`,\n        failMsg: t`Enable leverage failed.`,\n      });\n      return;\n    }\n\n    if (needApproval) {\n      approveFromToken();\n      return;\n    }\n\n    if (needOrderBookApproval && suitableMarket?.name === 'GMX') {\n      approveOrderBook();\n      return;\n    }\n\n    const [error, modal, errorCode] = getError();\n\n    if (modal) {\n      setModalError(errorCode);\n      return;\n    }\n\n    if (isSwap) {\n      if (fromTokenAddress === AddressZero && toTokenAddress === nativeTokenAddress) {\n        wrap();\n        return;\n      }\n\n      if (fromTokenAddress === nativeTokenAddress && toTokenAddress === AddressZero) {\n        unwrap();\n        return;\n      }\n    }\n\n    setIsConfirming(true);\n    setIsHigherSlippageAllowed(false);\n  };\n\n  const isStopOrder = orderOption === STOP;\n  const showFromAndToSection = !isStopOrder;\n  const showTriggerPriceSection = !isSwap && !isMarketOrder && !isStopOrder;\n  const showTriggerRatioSection = isSwap && !isMarketOrder && !isStopOrder;\n\n\n  let fees;\n  let feesUsd;\n  let feeBps;\n  let swapFees;\n  let positionFee;\n  if (isSwap) {\n    if (fromAmount) {\n      const { feeBasisPoints } = getNextToAmount(\n        chainId,\n        fromAmount,\n        fromTokenAddress,\n        toTokenAddress,\n        infoTokens,\n        undefined,\n        undefined,\n        usdgSupply,\n        totalTokenWeights,\n        isSwap\n      );\n      if (feeBasisPoints !== undefined) {\n        fees = fromAmount.mul(feeBasisPoints).div(BASIS_POINTS_DIVISOR);\n        const feeTokenPrice =\n          fromTokenInfo.address === USDG_ADDRESS ? expandDecimals(1, USD_DECIMALS) : fromTokenInfo.maxPrice;\n        feesUsd = fees.mul(feeTokenPrice).div(expandDecimals(1, fromTokenInfo.decimals));\n      }\n      feeBps = feeBasisPoints;\n    }\n  } else if (toUsdMax && fromAmount) {\n    positionFee = toUsdMax.mul(MARGIN_FEE_BASIS_POINTS).div(BASIS_POINTS_DIVISOR);\n    if (suitableMarket?.name === 'GMX') {\n      feesUsd = positionFee;\n    } else if (suitableMarket?.name === 'GNS') {\n      feesUsd = expandDecimals(BigNumber.from(formatAmount(fromAmount.mul(leverage / 10**4), 4, 0, 0)).mul(8), 12);\n    }\n    \n\n    const { feeBasisPoints } = getNextToAmount(\n      chainId,\n      fromAmount,\n      fromTokenAddress,\n      collateralTokenAddress,\n      infoTokens,\n      undefined,\n      undefined,\n      usdgSupply,\n      totalTokenWeights,\n      isSwap\n    );\n    if (feeBasisPoints) {\n      swapFees = fromUsdMin.mul(feeBasisPoints).div(BASIS_POINTS_DIVISOR);\n      feesUsd = feesUsd.add(swapFees);\n    }\n    feeBps = feeBasisPoints;\n  }\n\n  const [TPValue, setTPValue] = useState('');\n  const [SLValue, setSLValue] = useState('');\n  const [TPHasError, setTPHasError] = useState(false);\n  const [SLHasError, setSLHasError] = useState(false);\n  \n  const openTrade = async (price) => {\n    setIsSubmitting(true);\n    \n    const pairIndex = GNS_PAIRS[toToken.symbol];\n    const posSize = ethers.utils.parseEther(fromValue);\n    const openPrice = formatAmount(price ?? toTokenInfo.maxPrice, 20, 0, 0);\n    const roundLeverage = leverage / 10**4;\n    const typeOfOrder = isMarketOrder ? 0 : 1;\n    const slippage = userSlippage * 10**10;\n\n    const takeProfit = TPValue ? (formatForContract(TPValue, 10)).toFixed(0) : '0';\n    const stopLoss = SLValue ? (formatForContract(SLValue, 10)).toFixed(0) : '0';\n    \n    const fees = BigNumber.from(formatAmount(feesUsd, 12, 0, 0));\n    \n    const key = `${pairIndex}${roundLeverage}`;\n    \n    const contract = new ethers.Contract(GNS_Trading.address, GNS_Trading.abi, library.getSigner());\n    contract.openTrade(\n      [account, pairIndex, 0, 0, posSize, openPrice, isLong, roundLeverage, takeProfit, stopLoss],\n      typeOfOrder,\n      0,\n      slippage,\n      account\n    ).then(tsc => {\n      if (isMarketOrder) {\n        pendingPositionsGNS[key] = {\n          pairIndex,\n          isLong,\n          leverage,\n          positionSizeDai: posSize.sub(fees),\n        };\n        setPendingPositionsGNS(pendingPositionsGNS);\n      }\n      \n      setIsConfirming(false);\n      console.log(tsc);\n      \n      tsc.wait()\n        .then(() => {\n          notifySuccess(`${isMarketOrder ? 'Position' : 'Limit Order'} submitted!`, tsc.hash);\n        })\n    }, errAlert)\n    .finally(() => {\n      setIsSubmitting(false);\n      setIsPendingConfirmation(false);\n      setTPValue('');\n      setSLValue('');\n    });\n  };\n\n  const leverageStorage = {\n    GMX: {\n      marks: {\n        2: \"2x\",\n        5: \"5x\",\n        10: \"10x\",\n        15: \"15x\",\n        20: \"20x\",\n        25: \"25x\",\n        30: \"30x\",\n        35: \"35x\",\n        40: \"40x\",\n        45: \"45x\",\n        50: \"50x\",\n      },\n      min: 2,\n      max: 50,\n    },\n    GNS: {\n      marks: {\n        2: \"2x\",\n        25: \"25x\",\n        50: \"50x\",\n        75: \"75x\",\n        100: \"100x\",\n        125: \"125x\",\n        150: \"150x\",\n      },\n      min: 2,\n      max: 150,\n    }\n  };\n  const curLeverage = leverageStorage[suitableMarket?.name];\n\n  if (!fromToken || !toToken) {\n    return null;\n  }\n\n  let hasZeroBorrowFee = false;\n  let borrowFeeText;\n  if (isLong && toTokenInfo && toTokenInfo.fundingRate) {\n    borrowFeeText = formatAmount(toTokenInfo.fundingRate, 4, 4) + \"% / 1h\";\n    if (toTokenInfo.fundingRate.eq(0)) {\n      // hasZeroBorrowFee = true\n    }\n  }\n  if (isShort && shortCollateralToken && shortCollateralToken.fundingRate) {\n    borrowFeeText = formatAmount(shortCollateralToken.fundingRate, 4, 4) + \"% / 1h\";\n    if (shortCollateralToken.fundingRate.eq(0)) {\n      // hasZeroBorrowFee = true\n    }\n  }\n\n  function setFromValueToMaximumAvailable() {\n    if (!fromToken || !fromBalance) {\n      return;\n    }\n\n    const maxAvailableAmount = fromToken.isNative ? fromBalance.sub(bigNumberify(DUST_BNB).mul(2)) : fromBalance;\n    setFromValue(formatAmountFree(maxAvailableAmount, fromToken.decimals, fromToken.decimals));\n    setAnchorOnFromAmount(true);\n  }\n\n  function shouldShowMaxButton() {\n    if (!fromToken || !fromBalance) {\n      return false;\n    }\n    const maxAvailableAmount = fromToken.isNative ? fromBalance.sub(bigNumberify(DUST_BNB).mul(2)) : fromBalance;\n    return fromValue !== formatAmountFree(maxAvailableAmount, fromToken.decimals, fromToken.decimals);\n  }\n\n\n  return (\n    <div className=\"Exchange-swap-box\">\n      {/* <div className=\"Exchange-swap-wallet-box App-box\">\n        {active && <div className=\"Exchange-swap-account\" >\n        </div>}\n      </div> */}\n      <div className=\"Exchange-swap-box-inner App-box\">\n        <div>\n          <div className=\"Exchange-swap-box__settings\">\n            <Tab\n              icons={SWAP_ICONS}\n              options={SWAP_OPTIONS}\n              option={swapOption}\n              onChange={onSwapOptionChange}\n              className={\"Exchange-swap-option-tabs\"}\n            />\n            <button className=\"btn Exchange-swap-box__settings-btn\"\n              onClick={() => {\n                openModal('Choose-Market');\n              }}>\n              <img src={icon_settings} alt=\"Settings icon\" />\n            </button>\n          </div>\n          \n          {flagOrdersEnabled && (\n            <div className=\"Tab-inline-container\">\n              <Tab\n                options={orderOptions}\n                optionLabels={orderOptionLabels}\n                className=\"Exchange-swap-order-type-tabs\"\n                type=\"inline\"\n                option={orderOption}\n                onChange={onOrderOptionChange}\n              />\n            </div>\n            \n          )}\n        </div>\n        {showFromAndToSection && (\n          <React.Fragment>\n            <div className={\"Exchange-swap-section\"\n               + (hasInputError ? \" error\" : \"\") + (hasInputFocus ? \" hlight\" : \"\")}>\n              <div className=\"Exchange-swap-section-top\">\n                <div className=\"muted\">\n                  {fromUsdMin && (\n                    <div className=\"Exchange-swap-usd\">Pay: {formatAmount(fromUsdMin, USD_DECIMALS, 2, true)} {suitableMarket?.name === 'GMX' && 'USD'}{suitableMarket?.name === 'GNS' && 'DAI'}</div>\n                  )}\n                  {!fromUsdMin && \"Pay\"}\n                </div>\n                {fromBalance && (\n                  <div className=\"muted align-right clickable\" onClick={setFromValueToMaximumAvailable}>\n                    Balance: {formatAmount(fromBalance, fromToken.decimals, 4, true)}\n                  </div>\n                )}\n              </div>\n              <div className=\"Exchange-swap-section-bottom\">\n                <div className=\"Exchange-swap-input-container\">\n                  <input\n                    type=\"number\"\n                    min=\"0\"\n                    placeholder=\"0.0\"\n                    className=\"Exchange-swap-input\"\n                    value={fromValue}\n                    onChange={onFromValueChange}\n                    onFocus={(e) => {\n                      setHasInputFocus(true);\n                    }}\n                    onBlur={(e) => {\n                      setHasInputFocus(false);\n                    }}\n                  />\n                  {shouldShowMaxButton() && (\n                    <div className=\"Exchange-swap-max\" onClick={setFromValueToMaximumAvailable}>\n                      Max\n                    </div>\n                  )}\n                </div>\n                <div>\n                  {/* Tokens control */}\n                  {suitableMarket?.name === 'GMX' &&\n                    <TokenSelector\n                      label=\"Pay\"\n                      chainId={chainId}\n                      tokenAddress={fromTokenAddress}\n                      onSelectToken={onSelectFromToken}\n                      tokens={fromTokens}\n                      infoTokens={infoTokens}\n                      showMintingCap={false}\n                      showTokenImgInDropdown={true}\n                    />}\n                  {suitableMarket?.name === 'GNS' &&\n                    <div className=\"TokenSelector-dummy\">DAI</div>\n                  }\n                </div>\n              </div>\n            </div>\n            {/* <div className=\"Exchange-swap-ball-container\">\n              <div className=\"Exchange-swap-ball\" onClick={switchTokens}>\n                <IoMdSwap className=\"Exchange-swap-ball-icon\" />\n              </div>\n            </div> */}\n            <div className=\"Exchange-swap-section\">\n              <div className=\"Exchange-swap-section-top\">\n                <div className=\"muted\">\n                  {toUsdMax && suitableMarket?.name === 'GMX' && (\n                    <div className=\"Exchange-swap-usd\">\n                      {getToLabel()}: {formatAmount(toUsdMax, USD_DECIMALS, 2, true)} USD\n                    </div>\n                  )}\n                  {toUsdMax && fromAmount && suitableMarket?.name === 'GNS' && (\n                    <div className=\"Exchange-swap-usd\">\n                      {getToLabel()}: {formatAmount(fromAmount.mul(leverage / 10**4), USDG_DECIMALS, 2, true)} USD\n                    </div>\n                  )}\n                  {!toUsdMax && getToLabel()}\n                </div>\n                {toBalance && isSwap && (\n                  <div className=\"muted align-right\">\n                    <Trans>Balance</Trans>: {formatAmount(toBalance, toToken.decimals, 4, true)}\n                  </div>\n                )}\n              </div>\n              <div className=\"Exchange-swap-section-bottom\">\n                <div>\n                  <input\n                    type=\"number\"\n                    min=\"0\"\n                    placeholder=\"0.0\"\n                    className=\"Exchange-swap-input\"\n                    value={toValue}\n                    onChange={onToValueChange}\n                    onFocus={(e) => {\n                      e.target.parentElement.parentElement.parentElement.classList.add('hlight');\n                    }}\n                    onBlur={(e) => {\n                      e.target.parentElement.parentElement.parentElement.classList.remove('hlight');\n                    }}\n                  />\n                </div>\n                <div>\n                  <TokenSelector\n                    label={getTokenLabel()}\n                    chainId={chainId}\n                    tokenAddress={toTokenAddress}\n                    onSelectToken={onSelectToToken}\n                    tokens={toTokens}\n                    infoTokens={infoTokens}\n                    showTokenImgInDropdown={true}\n                  />\n                </div>\n              </div>\n            </div>\n          </React.Fragment>\n        )}\n        {showTriggerRatioSection && (\n          <div className=\"Exchange-swap-section\">\n            <div className=\"Exchange-swap-section-top\">\n              <div className=\"muted\">\n                <Trans>Price</Trans>\n              </div>\n              {fromTokenInfo && toTokenInfo && (\n                <div\n                  className=\"muted align-right clickable\"\n                  onClick={() => {\n                    setTriggerRatioValue(\n                      formatAmountFree(\n                        getExchangeRate(fromTokenInfo, toTokenInfo, triggerRatioInverted),\n                        USD_DECIMALS,\n                        10\n                      )\n                    );\n                  }}\n                >\n                  {formatAmount(getExchangeRate(fromTokenInfo, toTokenInfo, triggerRatioInverted), USD_DECIMALS, 4)}\n                </div>\n              )}\n            </div>\n            <div className=\"Exchange-swap-section-bottom\">\n              <div className=\"Exchange-swap-input-container\">\n                <input\n                  type=\"number\"\n                  min=\"0\"\n                  placeholder=\"0.0\"\n                  className=\"Exchange-swap-input small\"\n                  value={triggerRatioValue}\n                  onChange={onTriggerRatioChange}\n                  onFocus={(e) => {\n                    e.target.parentElement.parentElement.parentElement.classList.add('hlight');\n                  }}\n                  onBlur={(e) => {\n                    e.target.parentElement.parentElement.parentElement.classList.remove('hlight');\n                  }}\n                />\n              </div>\n              {(() => {\n                if (!toTokenInfo) return;\n                if (!fromTokenInfo) return;\n                const [tokenA, tokenB] = triggerRatioInverted\n                  ? [toTokenInfo, fromTokenInfo]\n                  : [fromTokenInfo, toTokenInfo];\n                return (\n                  <div className=\"PositionEditor-token-symbol\">\n                    {tokenA.symbol}&nbsp;per&nbsp;{tokenB.symbol}\n                  </div>\n                );\n              })()}\n            </div>\n          </div>\n        )}\n        {showTriggerPriceSection && (\n          <div className=\"Exchange-swap-section\">\n            <div className=\"Exchange-swap-section-top\">\n              <div className=\"muted\">\n                <Trans>Price</Trans>\n              </div>\n              <div\n                className=\"muted align-right clickable\"\n                onClick={() => {\n                  setTriggerPriceValue(formatAmountFree(entryMarkPrice, USD_DECIMALS, 2));\n                }}\n              >\n                Mark: {formatAmount(entryMarkPrice, USD_DECIMALS, 2, true)}\n              </div>\n            </div>\n            <div className=\"Exchange-swap-section-bottom\">\n              <div className=\"Exchange-swap-input-container\">\n                <input\n                  type=\"number\"\n                  min=\"0\"\n                  placeholder=\"0.0\"\n                  className=\"Exchange-swap-input\"\n                  value={triggerPriceValue}\n                  onChange={onTriggerPriceChange}\n                  onFocus={(e) => {\n                    e.target.parentElement.parentElement.parentElement.classList.add('hlight');\n                  }}\n                  onBlur={(e) => {\n                    e.target.parentElement.parentElement.parentElement.classList.remove('hlight');\n                  }}\n                />\n              </div>\n              <div className=\"PositionEditor-token-symbol\">USD</div>\n            </div>\n          </div>\n        )}\n        {isSwap && (\n          <div className=\"Exchange-swap-box-info\">\n            <ExchangeInfoRow label=\"Fees\">\n              <div>\n                {!fees && \"-\"}\n                {fees && (\n                  <div>\n                    {formatAmount(feeBps, 2, 2, false)}%&nbsp; ({formatAmount(fees, fromToken.decimals, 4, true)}{\" \"}\n                    {fromToken.symbol}: ${formatAmount(feesUsd, USD_DECIMALS, 2, true)})\n                  </div>\n                )}\n              </div>\n            </ExchangeInfoRow>\n          </div>\n        )}\n        {(isLong || isShort) && !isStopOrder && (\n          <div className=\"Exchange-leverage-box\">\n            <div className=\"Exchange-leverage-slider-settings\">\n              <div>Leverage</div>\n              {(isLong || isShort) && hasLeverageOption && (\n                <div className=\"Exchange-leverage-value\">\n                  {parseFloat(leverageOption).toFixed(2)}x\n                </div>\n              )}\n            </div>\n            {isLeverageSliderEnabled && (\n              <div\n                className={cx(\"Exchange-leverage-slider\", \"App-slider\", {\n                  positive: isLong,\n                  negative: isShort,\n                })}\n              >\n                <Slider\n                  min={curLeverage?.min}\n                  max={curLeverage?.max}\n                  step={1}\n                  marks={curLeverage?.marks}\n                  handle={leverageSliderHandle}\n                  onChange={(value) => setLeverageOption(value)}\n                  value={leverageOption}\n                  defaultValue={leverageOption}\n                />\n              </div>\n            )}\n            <div className=\"Exchange-info-row\">\n              <div className=\"Exchange-info-label\">\n                <Tooltip\n                  className=\"has-hint-tooltip nowrap\"\n                  handle=\"Liquidity Source\"\n                  position=\"left-bottom\"\n                  enabled={true}\n                  renderContent={() => {\n                    return (\n                      <div className=\"Tooltip__text\">\n                        DeDeLend will automatically <br />choose an appropriate <br />liquidity source\n                      </div>\n                    );\n                  }}\n                />\n              </div>\n              <div className=\"align-right\">\n                <Selector\n                  items={marketsList.map(market => market.name)}\n                  chosenItem={suitableMarket?.name}\n                  onSelect={onMarketSelect}\n                  hideChosenItem={true}\n                />\n              </div>\n            </div>\n            <div className=\"Exchange-info-row\">\n              <div className=\"Exchange-info-label\">\n                Available Liquidity\n              </div>\n              <div className=\"align-right icon-container\">\n                ${suitableMarket && liquidity && (\n                  liquidity[suitableMarket?.name]?.formattedValue\n                )}\n              </div>\n            </div>\n            {isShort && (\n              <div className=\"Exchange-info-row Exchange-info-row_relative\">\n                <div className=\"Exchange-info-label\">\n                  <Trans>Collateral In</Trans>\n                </div>\n\n                <div className=\"align-right\">\n                  {\n                    suitableMarket?.name === 'GMX' &&\n                      <TokenSelector\n                        label=\"Collateral In\"\n                        chainId={chainId}\n                        tokenAddress={shortCollateralAddress}\n                        onSelectToken={onSelectShortCollateralAddress}\n                        tokens={stableTokens}\n                        showTokenImgInDropdown={true}\n                        disabled={false}\n                      />\n                  }\n                  {\n                    suitableMarket?.name === 'GNS' &&\n                      'DAI'\n                  }\n                </div>\n              </div>\n            )}\n            {isLong && (\n              <div className=\"Exchange-info-row\">\n                <div className=\"Exchange-info-label\">\n                  <Trans>Collateral In</Trans>\n                </div>\n                <div className=\"align-right\">\n                  {\n                    suitableMarket?.name === 'GMX' &&\n                      'USD'\n                  }\n                  {\n                    suitableMarket?.name === 'GNS' &&\n                      'DAI'\n                  }\n                </div>\n              </div>\n            )}\n            <div className=\"Exchange-info-row\">\n              <div className=\"Exchange-info-label\">\n                <Trans>Entry Price</Trans>\n              </div>\n              <div className=\"align-right\">\n                  {\n                    suitableMarket?.name === 'GMX' &&\n                    hasExistingPosition && toAmount && toAmount.gt(0) && (\n                      <div className=\"inline-block muted\">\n                        ${formatAmount(existingPosition.averagePrice, USD_DECIMALS, 2, true)}\n                        <BsArrowRight className=\"transition-arrow\" />\n                      </div>\n                    )\n                  }\n                {nextAveragePrice && `$${formatAmount(nextAveragePrice, USD_DECIMALS, 2, true)}`}\n                {!nextAveragePrice && `-`}\n              </div>\n            </div>\n            <div className=\"Exchange-info-row\">\n              <div className=\"Exchange-info-label\">\n                <Trans>Liq. Price</Trans>\n              </div>\n              <div className=\"align-right\">\n                {\n                  suitableMarket?.name === 'GMX' &&\n                  hasExistingPosition && toAmount && toAmount.gt(0) && (\n                    <div className=\"inline-block muted\">\n                      ${formatAmount(existingLiquidationPrice, USD_DECIMALS, 2, true)}\n                      <BsArrowRight className=\"transition-arrow\" />\n                    </div>\n                  )\n                }\n                {toAmount &&\n                  displayLiquidationPrice &&\n                  `$${formatAmount(displayLiquidationPrice, USD_DECIMALS, 2, true)}`}\n                {!toAmount && displayLiquidationPrice && `-`}\n                {!displayLiquidationPrice && `-`}\n              </div>\n            </div>\n            <ExchangeInfoRow label=\"Fees\">\n              <div>\n                {!feesUsd && \"-\"}\n                {feesUsd && (\n                  <Tooltip\n                    handle={`${suitableMarket?.name === 'GMX' ? '$' : ''}${formatAmount(feesUsd, USD_DECIMALS, 2, true)}${suitableMarket?.name === 'GNS' ? ' DAI' : ''}`}\n                    position=\"right-bottom\"\n                    renderContent={() => {\n                      return (\n                        <div>\n                          {swapFees && (\n                            <div>\n                              {collateralToken.symbol} is required for collateral. <br />\n                              <br />\n                              <StatsTooltipRow\n                                label={`Swap ${fromToken.symbol} to ${collateralToken.symbol} Fee`}\n                                value={formatAmount(swapFees, USD_DECIMALS, 2, true)}\n                              />\n                              <br />\n                            </div>\n                          )}\n                          <div>\n                            <StatsTooltipRow\n                              label={`Position Fee (0.1% of position size)`}\n                              value={formatAmount(positionFee, USD_DECIMALS, 2, true)}\n                            />\n                          </div>\n                        </div>\n                      );\n                    }}\n                  />\n                )}\n              </div>\n            </ExchangeInfoRow>\n          </div>\n        )}\n        {isStopOrder && (\n          <div className=\"Exchange-swap-section Exchange-trigger-order-info\">\n            Take-profit and stop-loss orders can be set after opening a position. <br />\n            <br />\n            There will be a \"Close\" button on each position row, clicking this will display the option to set trigger\n            orders. <br />\n            <br />\n            For screenshots and more information, please see the{\" \"}\n            <a\n              href=\"https://gmxio.gitbook.io/gmx/trading#stop-loss-take-profit-orders\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              docs\n            </a>\n            .\n          </div>\n        )}\n        <div className=\"Exchange-swap-button-container\">\n          <button className={cx(\"Exchange-swap-button btn\", isPrimaryEnabled() && \" btn_hlight\")} onClick={onClickPrimary} disabled={!isPrimaryEnabled()}>\n            {getPrimaryText()}\n          </button>\n        </div>\n      </div>\n      {/* {isSwap && (\n        <div className=\"Exchange-swap-market-box App-box App-box-border\">\n          <div className=\"Exchange-swap-market-box-title\">\n            <Trans>Swap</Trans>\n          </div>\n          <div className=\"App-card-divider\"></div>\n          <div className=\"Exchange-info-row\">\n            <div className=\"Exchange-info-label\">{fromToken.symbol} Price</div>\n            <div className=\"align-right\">\n              ${fromTokenInfo && formatAmount(fromTokenInfo.minPrice, USD_DECIMALS, 2, true)}\n            </div>\n          </div>\n          <div className=\"Exchange-info-row\">\n            <div className=\"Exchange-info-label\">{toToken.symbol} Price</div>\n            <div className=\"align-right\">\n              ${toTokenInfo && formatAmount(toTokenInfo.maxPrice, USD_DECIMALS, 2, true)}\n            </div>\n          </div>\n          <div className=\"Exchange-info-row\">\n            <div className=\"Exchange-info-label\">\n              <Trans>Available Liquidity</Trans>\n            </div>\n\n            <div className=\"align-right al-swap\">\n              <Tooltip\n                handle={`$${formatAmount(maxSwapAmountUsd, USD_DECIMALS, 2, true)}`}\n                position=\"right-bottom\"\n                renderContent={() => {\n                  return (\n                    <div>\n                      <StatsTooltipRow\n                        label={`Max ${fromTokenInfo.symbol} in`}\n                        value={[\n                          `${formatAmount(maxFromTokenIn, fromTokenInfo.decimals, 0, true)} ${fromTokenInfo.symbol}`,\n                          `($${formatAmount(maxFromTokenInUSD, USD_DECIMALS, 0, true)})`,\n                        ]}\n                      />\n                      <StatsTooltipRow\n                        label={`Max ${toTokenInfo.symbol} out`}\n                        value={[\n                          `${formatAmount(maxToTokenOut, toTokenInfo.decimals, 0, true)} ${toTokenInfo.symbol}`,\n                          `($${formatAmount(maxToTokenOutUSD, USD_DECIMALS, 0, true)})`,\n                        ]}\n                      />\n                    </div>\n                  );\n                }}\n              />\n            </div>\n          </div>\n          {!isMarketOrder && (\n            <ExchangeInfoRow label=\"Price\">\n              {getExchangeRateDisplay(getExchangeRate(fromTokenInfo, toTokenInfo), fromToken, toToken)}\n            </ExchangeInfoRow>\n          )}\n        </div>\n      )}\n      {(isLong || isShort) && (\n        <div className=\"Exchange-swap-market-box App-box App-box-border\">\n          <div className=\"Exchange-swap-market-box-title\">\n            {isLong ? \"Long\" : \"Short\"}&nbsp;{toToken.symbol}\n          </div>\n          {renderAvailableLongLiquidity()}\n          {isShort && toTokenInfo.hasMaxAvailableShort && (\n            <div className=\"Exchange-info-row\">\n              <div className=\"Exchange-info-label\">\n                <Trans>Available Liquidity</Trans>\n              </div>\n              <div className=\"align-right\">\n                <Tooltip\n                  handle={`$${formatAmount(toTokenInfo.maxAvailableShort, USD_DECIMALS, 2, true)}`}\n                  position=\"right-bottom\"\n                  renderContent={() => {\n                    return (\n                      <>\n                        <StatsTooltipRow\n                          label={`Max ${toTokenInfo.symbol} short capacity`}\n                          value={formatAmount(toTokenInfo.maxGlobalShortSize, USD_DECIMALS, 0, true)}\n                        />\n                        <StatsTooltipRow\n                          label={`Current ${toTokenInfo.symbol} shorts`}\n                          value={formatAmount(toTokenInfo.globalShortSize, USD_DECIMALS, 0, true)}\n                        />\n                      </>\n                    );\n                  }}\n                ></Tooltip>\n              </div>\n            </div>\n          )}\n        </div>\n      )} */}\n      {isConfirming && (\n        <ConfirmationBox\n          library={library}\n          isHigherSlippageAllowed={isHigherSlippageAllowed}\n          setIsHigherSlippageAllowed={setIsHigherSlippageAllowed}\n          orders={orders}\n          isSwap={isSwap}\n          isLong={isLong}\n          isMarketOrder={isMarketOrder}\n          orderOption={orderOption}\n          isShort={isShort}\n          fromToken={fromToken}\n          fromTokenInfo={fromTokenInfo}\n          toToken={toToken}\n          toTokenInfo={toTokenInfo}\n          toAmount={toAmount}\n          fromAmount={fromAmount}\n          feeBps={feeBps}\n          onConfirmationClick={onConfirmationClick}\n          setIsConfirming={setIsConfirming}\n          hasExistingPosition={hasExistingPosition}\n          shortCollateralAddress={USDC.address}\n          shortCollateralToken={shortCollateralToken}\n          leverage={leverage}\n          existingPosition={existingPosition}\n          existingLiquidationPrice={existingLiquidationPrice}\n          displayLiquidationPrice={displayLiquidationPrice}\n          nextAveragePrice={nextAveragePrice}\n          triggerPriceUsd={triggerPriceUsd}\n          triggerRatio={triggerRatio}\n          fees={fees}\n          feesUsd={feesUsd}\n          isSubmitting={isSubmitting}\n          isPendingConfirmation={isPendingConfirmation}\n          fromUsdMin={fromUsdMin}\n          toUsdMax={toUsdMax}\n          collateralTokenAddress={collateralTokenAddress}\n          infoTokens={infoTokens}\n          chainId={chainId}\n          setPendingTxns={setPendingTxns}\n          pendingTxns={pendingTxns}\n          minExecutionFee={minExecutionFee}\n          minExecutionFeeUSD={minExecutionFeeUSD}\n          minExecutionFeeErrorMessage={minExecutionFeeErrorMessage}\n          savedSlippageAmount={savedSlippageAmount}\n          userSlippage={userSlippage}\n          setUserSlippage={setUserSlippage}\n          allowedSlippage={allowedSlippage}\n          market={suitableMarket?.name}\n          TPValue={TPValue}\n          setTPValue={setTPValue}\n          SLValue={SLValue}\n          setSLValue={setSLValue}\n          SLHasError={SLHasError}\n          setSLHasError={setSLHasError}\n          TPHasError={TPHasError}\n          setTPHasError={setTPHasError}\n          liquidity={liquidity}\n        />\n      )}\n      {renderModal()}\n    </div>\n  );\n}","import React from \"react\";\nimport { Menu } from \"@headlessui/react\";\nimport { FaChevronDown } from \"react-icons/fa\";\nimport cx from \"classnames\";\nimport \"./ChartTokenSelector.scss\";\nimport \"../AddressDropdown/AddressDropdown.css\";\nimport { getTokens, getWhitelistedTokens } from \"../../config/Tokens\";\nimport { LONG, SHORT, SWAP } from \"../../lib/legacy\";\nimport { ethers } from 'ethers';\n\nexport default function ChartTokenSelector(props) {\n  const { chainId, selectedToken, onSelectToken, swapOption } = props;\n\n  const isLong = swapOption === LONG;\n  const isShort = swapOption === SHORT;\n  const isSwap = swapOption === SWAP;\n\n  let options = getTokens(chainId);\n  const whitelistedTokens = getWhitelistedTokens(chainId);\n\n  const indexTokens = whitelistedTokens.filter((token) => !token.isStable && !token.isWrapped);\n  const shortableTokens = indexTokens.filter((token) => token.isShortable);\n\n  if (isLong) {\n    options = indexTokens;\n  }\n  if (isShort) {\n    options = shortableTokens;\n  }\n\n  const onSelect = async (token) => {\n    onSelectToken(token);\n  };\n\n  const value = selectedToken;\n  let icon;\n  if (value.symbol) {\n    icon = require(\"../../img/ddl/ic_\" + value.symbol?.toLowerCase() + \"_40.svg\")?.default;\n  }\n\n  return (\n    <Menu>\n      <Menu.Button as=\"div\" disabled={isSwap}>\n        <button className={cx(\"App-cta small transparent chart-token-selector\", { \"default-cursor\": isSwap /* \"default-cursor\": \"default\" */ })}>\n          <div className=\"chart-token-selector--name\">\n            <img src={icon} className=\"chart-token-selector--icon\" alt={value.symbol + ' icon'} />\n            <span className=\"chart-token-selector--current\">{value.symbol}/USD</span>\n          </div>\n          \n          {!isSwap && (\n            <svg className=\"chevron-down\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"21\" viewBox=\"0 0 20 21\" fill=\"none\">\n              <path d=\"M4 8L10 13L16 8\" stroke=\"white\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n            </svg>\n          )}\n        </button>\n      </Menu.Button>\n      <div className=\"chart-token-menu\">\n        <Menu.Items as=\"div\" className=\"menu-items chart-token-menu-items divided\">\n          {options.map((option, index) => {\n            let tokenPopupImage;\n            try {\n              tokenPopupImage = require(\"../../img/ddl/ic_\" + option.symbol.toLowerCase() + \"_40.svg\");\n            } catch (error) {\n              tokenPopupImage = require(\"../../img/ddl/ic_eth_40.svg\");\n            }\n            \n            return (<Menu.Item key={index}>\n              <div\n                className={\"menu-item\" + (option.symbol === value.symbol ? ' chosen' : '')}\n                onClick={() => {\n                  onSelect(option);\n                }}\n              >\n                <img src={tokenPopupImage?.default} alt={option.symbol + ' icon'} className=\"token-icon\" />\n                <span style={{ marginLeft: 7, marginRight: 35 }} className=\"token-label\">\n                  {option.symbol} / USD\n                </span>\n              </div>\n            </Menu.Item>)\n          })}\n        </Menu.Items>\n      </div>\n    </Menu>\n  );\n}\n","import React, { useEffect, useRef } from 'react';\r\nimport cx from \"classnames\";\r\nimport \"./TradingView.scss\";\r\n\r\nlet tvScriptLoadingPromise;\r\n\r\nexport default function TradingViewWidget({ className, style, chartToken }) {\r\n  const onLoadScriptRef = useRef();\r\n\r\n  useEffect(\r\n    () => {\r\n      onLoadScriptRef.current = createWidget;\r\n\r\n      if (!tvScriptLoadingPromise) {\r\n        tvScriptLoadingPromise = new Promise((resolve) => {\r\n          const script = document.createElement('script');\r\n          script.id = 'tradingview-widget-loading-script';\r\n          script.src = 'https://s3.tradingview.com/tv.js';\r\n          script.type = 'text/javascript';\r\n          script.onload = resolve;\r\n\r\n          document.head.appendChild(script);\r\n        });\r\n      }\r\n\r\n      tvScriptLoadingPromise.then(() => onLoadScriptRef.current && onLoadScriptRef.current());\r\n\r\n      return () => onLoadScriptRef.current = null;\r\n\r\n      function createWidget() {\r\n        if (document.getElementById('tradingview_15468') && 'TradingView' in window) {\r\n          new window.TradingView.widget({\r\n            autosize: true,\r\n            symbol: `BINANCE:${chartToken.symbol}USDT`,\r\n            interval: \"240\",\r\n            timezone: \"Etc/UTC\",\r\n            theme: \"dark\",\r\n            style: \"1\",\r\n            locale: \"en\",\r\n            toolbar_bg: \"#f1f3f6\",\r\n            enable_publishing: false,\r\n            hide_side_toolbar: false,\r\n            container_id: \"tradingview_15468\",\r\n            allow_symbol_change: true,\r\n          });\r\n        }\r\n      }\r\n    },\r\n    [chartToken?.symbol]\r\n  );\r\n\r\n  return (\r\n    <div className={cx('tradingview-widget-container', className)} style={style}>\r\n      <div id='tradingview_15468' />\r\n      <div className='TradingView__copyright text-inline'>\r\n        <a href=\"https://www.tradingview.com/symbols/ETHUSDT/?exchange=BINANCE\" rel=\"noopener\" target=\"_blank\"><span>ETHUSDT chart</span></a> by TradingView\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n","import React, { useState } from 'react';\r\nimport Tab from '../Tab/Tab';\r\nimport TradingView from './TradingView';\r\nimport cx from \"classnames\";\r\nimport './ChartSelector.scss';\r\nimport { useLocalStorage } from 'react-use';\r\n\r\nconst ChartSelector = (props) => {\r\n\tconst {\r\n\t\tCHART_PERIODS,\r\n\t\tperiod,\r\n\t\tsetPeriod,\r\n\t\tcandleStatsHtml,\r\n\t\tchartRef,\r\n\t\tchartToken,\r\n\t} = props;\r\n\r\n\tconst CHARTS = [\"simple\", \"trading\"];\r\n\tconst CHARTS_LABELS = {\r\n\t\tsimple: \"Simple chart\",\r\n\t\ttrading: \"Trading View\",\r\n\t};\r\n\tconst [chart, setChart] = useLocalStorage(\"Exchange-chart\", \"simple\");\r\n\r\n\tconst onChartOptionChange = (chart) => {\r\n\t\tsetChart(chart);\r\n\t}\r\n\r\n\tconst isTrading = chart === \"trading\";\r\n\t\r\n\treturn (\r\n\t\t<div className={cx(\"ExchangeChart-bottom App-box App-box-border\", isTrading && \"ExchangeChart_trading-active\")}>\r\n\t\t\t<Tab\r\n\t\t\t\toptions={CHARTS}\r\n\t\t\t\toptionLabels={CHARTS_LABELS}\r\n\t\t\t\toption={chart}\r\n\t\t\t\tonChange={onChartOptionChange}\r\n\t\t\t\tclassName={\"Exchange-chart-tabs\"}\r\n\t\t\t/>\r\n\t\t\t<div className='ExchangeChart__simple'>\r\n\t\t\t\t<div className=\"ExchangeChart-bottom-header\">\r\n\t\t\t\t\t<div className=\"ExchangeChart-bottom-controls\">\r\n\t\t\t\t\t\t<Tab options={Object.keys(CHART_PERIODS)} option={period} setOption={setPeriod} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{candleStatsHtml}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"ExchangeChart-bottom-content\" ref={chartRef}></div>\r\n\t\t\t</div>\r\n\t\t\t<TradingView\r\n\t\t\t\tclassName={\"ExchangeChart__trading\"}\r\n\t\t\t\tchartToken={chartToken}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ChartSelector;","import React, { useEffect, useState, useRef, useCallback, useMemo } from \"react\";\nimport cx from \"classnames\";\n\nimport { createChart } from \"krasulya-lightweight-charts\";\n\nimport {\n  USD_DECIMALS,\n  SWAP,\n  INCREASE,\n  CHART_PERIODS,\n  getTokenInfo,\n  formatAmount,\n  formatDateTime,\n  usePrevious,\n  getLiquidationPrice,\n  useLocalStorageSerializeKey,\n  numberWithCommas,\n} from \"../../lib/legacy\";\nimport { useChartPrices } from \"../../domain/legacy\";\nimport Tab from \"../Tab/Tab\";\n\nimport { getTokens, getToken } from \"../../config/Tokens\";\nimport ChartTokenSelector from \"./ChartTokenSelector\";\nimport Tooltip from './../Tooltip/Tooltip';\nimport ChartSelector from './ChartSelector';\n\n\nconst timezoneOffset = -new Date().getTimezoneOffset() * 60;\n\nexport function getChartToken(swapOption, fromToken, toToken, chainId) {\n  if (!fromToken || !toToken) {\n    return;\n  }\n\n  if (swapOption !== SWAP) {\n    return toToken;\n  }\n\n  if (fromToken.isUsdg && toToken.isUsdg) {\n    return getTokens(chainId).find((t) => t.isStable);\n  }\n  if (fromToken.isUsdg) {\n    return toToken;\n  }\n  if (toToken.isUsdg) {\n    return fromToken;\n  }\n\n  if (fromToken.isStable && toToken.isStable) {\n    return toToken;\n  }\n  if (fromToken.isStable) {\n    return toToken;\n  }\n  if (toToken.isStable) {\n    return fromToken;\n  }\n\n  return toToken;\n}\n\nconst DEFAULT_PERIOD = \"4h\";\n\nconst RED_COLOR = \"#C75E4B\";\nconst GREEN_COLOR = \"#46956A\";\n\nconst getSeriesOptions = () => ({\n  // https://github.com/tradingview/lightweight-charts/blob/master/docs/area-series.md\n  lineColor: \"#5472cc\",\n  topColor: \"rgba(49, 69, 131, 0.4)\",\n  bottomColor: \"rgba(42, 64, 103, 0.0)\",\n  lineWidth: 2,\n  priceLineColor: \"#384263\",\n  downColor: RED_COLOR,\n  wickDownColor: RED_COLOR,\n  upColor: GREEN_COLOR,\n  wickUpColor: GREEN_COLOR,\n  borderVisible: false,\n});\n\nconst getChartOptions = (width, height) => ({\n  width,\n  height,\n  layout: {\n    backgroundColor: \"rgba(255, 255, 255, 0)\",\n    textColor: \"#747FA6\",\n    fontFamily: \"Gantari\",\n  },\n  localization: {\n    // https://github.com/tradingview/lightweight-charts/blob/master/docs/customization.md#time-format\n    timeFormatter: (businessDayOrTimestamp) => {\n      return formatDateTime(businessDayOrTimestamp - timezoneOffset);\n    },\n  },\n  grid: {\n    vertLines: {\n      visible: true,\n      color: \"rgba(35, 38, 59, 1)\",\n      style: 2,\n    },\n    horzLines: {\n      visible: true,\n      color: \"rgba(35, 38, 59, 1)\",\n      style: 2,\n    },\n  },\n  // https://github.com/tradingview/lightweight-charts/blob/master/docs/time-scale.md#time-scale\n  timeScale: {\n    rightOffset: 5,\n    borderVisible: false,\n    barSpacing: 5,\n    timeVisible: true,\n    fixLeftEdge: true,\n  },\n  // https://github.com/tradingview/lightweight-charts/blob/master/docs/customization.md#price-axis\n  priceScale: {\n    borderVisible: false,\n  },\n  crosshair: {\n    horzLine: {\n      color: \"#aaa\",\n    },\n    vertLine: {\n      color: \"#aaa\",\n    },\n    mode: 0,\n  },\n});\n\nexport default function ExchangeTVChart(props) {\n  const {\n    swapOption,\n    fromTokenAddress,\n    toTokenAddress,\n    infoTokens,\n    chainId,\n    positions,\n    savedShouldShowPositionLines,\n    orders,\n    setToTokenAddress,\n  } = props;\n  const [currentChart, setCurrentChart] = useState();\n  const [currentSeries, setCurrentSeries] = useState();\n\n  let [period, setPeriod] = useLocalStorageSerializeKey([chainId, \"Chart-period\"], DEFAULT_PERIOD);\n  if (!(period in CHART_PERIODS)) {\n    period = DEFAULT_PERIOD;\n  }\n\n  const [hoveredCandlestick, setHoveredCandlestick] = useState();\n\n  const fromToken = getTokenInfo(infoTokens, fromTokenAddress);\n  const toToken = getTokenInfo(infoTokens, toTokenAddress);\n\n  const [chartToken, setChartToken] = useState({\n    maxPrice: null,\n    minPrice: null,\n  });\n  useEffect(() => {\n    const tmp = getChartToken(swapOption, fromToken, toToken, chainId);\n    setChartToken(tmp);\n  }, [swapOption, fromToken, toToken, chainId]);\n\n  const symbol = chartToken ? (chartToken.isWrapped ? chartToken.baseSymbol : chartToken.symbol) : undefined;\n  const marketName = chartToken ? symbol + \"_USD\" : undefined;\n  const previousMarketName = usePrevious(marketName);\n\n  const currentOrders = useMemo(() => {\n    if (swapOption === SWAP || !chartToken) {\n      return [];\n    }\n\n    return orders.filter((order) => {\n      if (order.type === SWAP) {\n        // we can't show non-stable to non-stable swap orders with existing charts\n        // so to avoid users confusion we'll show only long/short orders\n        return false;\n      }\n\n      const indexToken = getToken(chainId, order.indexToken);\n      return order.indexToken === chartToken.address || (chartToken.isNative && indexToken.isWrapped);\n    });\n  }, [orders, chartToken, swapOption, chainId]);\n\n  const ref = useRef(null);\n  const chartRef = useRef(null);\n\n  const currentAveragePrice =\n    chartToken.maxPrice && chartToken.minPrice ? chartToken.maxPrice.add(chartToken.minPrice).div(2) : null;\n  const [priceData, updatePriceData] = useChartPrices(\n    chainId,\n    chartToken.symbol,\n    chartToken.isStable,\n    period,\n    currentAveragePrice\n  );\n\n  const [chartInited, setChartInited] = useState(false);\n  useEffect(() => {\n    if (marketName !== previousMarketName) {\n      setChartInited(false);\n    }\n  }, [marketName, previousMarketName]);\n\n  const scaleChart = useCallback(() => {\n    const from = Date.now() / 1000 - (7 * 24 * CHART_PERIODS[period]) / 2 + timezoneOffset;\n    const to = Date.now() / 1000 + timezoneOffset;\n    currentChart.timeScale().setVisibleRange({ from, to });\n  }, [currentChart, period]);\n\n  const onCrosshairMove = useCallback(\n    (evt) => {\n      if (!evt.time) {\n        setHoveredCandlestick(null);\n        return;\n      }\n\n      for (const point of evt.seriesPrices.values()) {\n        setHoveredCandlestick((hoveredCandlestick) => {\n          if (hoveredCandlestick && hoveredCandlestick.time === evt.time) {\n            // rerender optimisations\n            return hoveredCandlestick;\n          }\n          return {\n            time: evt.time,\n            ...point,\n          };\n        });\n        break;\n      }\n    },\n    [setHoveredCandlestick]\n  );\n\n  useEffect(() => {\n    if (!ref.current || !priceData || !priceData.length || currentChart) {\n      return;\n    }\n\n    const chart = createChart(\n      chartRef.current,\n      getChartOptions(chartRef.current.offsetWidth, chartRef.current.offsetHeight)\n    );\n\n    chart.subscribeCrosshairMove(onCrosshairMove);\n\n    const series = chart.addCandlestickSeries(getSeriesOptions());\n\n    setCurrentChart(chart);\n    setCurrentSeries(series);\n  }, [ref, priceData, currentChart, onCrosshairMove]);\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      updatePriceData(undefined, true);\n    }, 10 * 1000);\n    return () => clearInterval(interval);\n  }, [updatePriceData]);\n\n  useEffect(() => {\n    if (!currentChart) {\n      return;\n    }\n    const resizeChart = () => {\n      currentChart.resize(chartRef.current.offsetWidth, chartRef.current.offsetHeight);\n    };\n    window.addEventListener(\"resize\", resizeChart);\n    return () => window.removeEventListener(\"resize\", resizeChart);\n  }, [currentChart]);\n\n  useEffect(() => {\n    if (currentSeries && priceData && priceData.length) {\n      currentSeries.setData(priceData);\n\n      if (!chartInited) {\n        scaleChart();\n        setChartInited(true);\n      }\n    }\n  }, [priceData, currentSeries, chartInited, scaleChart]);\n\n  useEffect(() => {\n    const lines = [];\n    if (currentSeries && savedShouldShowPositionLines) {\n      if (currentOrders && currentOrders.length > 0) {\n        currentOrders.forEach((order) => {\n          const indexToken = getToken(chainId, order.indexToken);\n          let tokenSymbol;\n          if (indexToken && indexToken.symbol) {\n            tokenSymbol = indexToken.isWrapped ? indexToken.baseSymbol : indexToken.symbol;\n          }\n          const title = `${order.type === INCREASE ? \"Inc.\" : \"Dec.\"} ${tokenSymbol} ${\n            order.isLong ? \"Long\" : \"Short\"\n          }`;\n          const color = \"#3a3e5e\";\n          /* lines.push(\n            currentSeries.createPriceLine({\n              price: parseFloat(formatAmount(order.triggerPrice, USD_DECIMALS, 2)),\n              color,\n              title: title.padEnd(PRICE_LINE_TEXT_WIDTH, \" \"),\n            })\n          ); */\n        });\n      }\n      if (positions && positions.length > 0) {\n        const color = \"#3a3e5e\";\n\n        positions.forEach((position) => {\n          /* lines.push(\n            currentSeries.createPriceLine({\n              price: parseFloat(formatAmount(position.averagePrice, USD_DECIMALS, 2)),\n              color,\n              title: `Open ${position.indexToken.symbol} ${position.isLong ? \"Long\" : \"Short\"}`.padEnd(\n                PRICE_LINE_TEXT_WIDTH,\n                \" \"\n              ),\n            })\n          ); */\n\n          const liquidationPrice = getLiquidationPrice(position);\n          /* lines.push(\n            currentSeries.createPriceLine({\n              price: parseFloat(formatAmount(liquidationPrice, USD_DECIMALS, 2)),\n              color,\n              title: `Liq. ${position.indexToken.symbol} ${position.isLong ? \"Long\" : \"Short\"}`.padEnd(\n                PRICE_LINE_TEXT_WIDTH,\n                \" \"\n              ),\n            })\n          ); */\n        });\n      }\n    }\n    return () => {\n      lines.forEach((line) => currentSeries.removePriceLine(line));\n    };\n  }, [currentOrders, positions, currentSeries, chainId, savedShouldShowPositionLines]);\n\n  const candleStatsHtml = useMemo(() => {\n    if (!priceData) {\n      return null;\n    }\n    const candlestick = hoveredCandlestick || priceData[priceData.length - 1];\n    if (!candlestick) {\n      return null;\n    }\n\n    const className = cx({\n      \"ExchangeChart-bottom-stats\": true,\n      positive: candlestick.open <= candlestick.close,\n      negative: candlestick.open > candlestick.close,\n      [`length-${String(parseInt(candlestick.close)).length}`]: true,\n    });\n\n    const toFixedNumbers = 2;\n\n    return (\n      <div className={className}>\n        <span className=\"ExchangeChart-bottom-stats-label\">O</span>\n        <span className=\"ExchangeChart-bottom-stats-value\">{candlestick.open.toFixed(toFixedNumbers)}</span>\n        <span className=\"ExchangeChart-bottom-stats-label\">H</span>\n        <span className=\"ExchangeChart-bottom-stats-value\">{candlestick.high.toFixed(toFixedNumbers)}</span>\n        <span className=\"ExchangeChart-bottom-stats-label\">L</span>\n        <span className=\"ExchangeChart-bottom-stats-value\">{candlestick.low.toFixed(toFixedNumbers)}</span>\n        <span className=\"ExchangeChart-bottom-stats-label\">C</span>\n        <span className=\"ExchangeChart-bottom-stats-value\">{candlestick.close.toFixed(toFixedNumbers)}</span>\n      </div>\n    );\n  }, [hoveredCandlestick, priceData]);\n\n  let high;\n  let low;\n  let deltaPrice;\n  let delta;\n  let deltaPercentage;\n  let deltaPercentageStr;\n\n  const now = parseInt(Date.now() / 1000);\n  const timeThreshold = now - 24 * 60 * 60;\n\n  if (priceData) {\n    for (let i = priceData.length - 1; i > 0; i--) {\n      const price = priceData[i];\n      if (price.time < timeThreshold) {\n        break;\n      }\n      if (!low) {\n        low = price.low;\n      }\n      if (!high) {\n        high = price.high;\n      }\n\n      if (price.high > high) {\n        high = price.high;\n      }\n      if (price.low < low) {\n        low = price.low;\n      }\n\n      deltaPrice = price.open;\n    }\n  }\n\n  if (deltaPrice && currentAveragePrice) {\n    const average = parseFloat(formatAmount(currentAveragePrice, USD_DECIMALS, 2));\n    delta = average - deltaPrice;\n    deltaPercentage = (delta * 100) / average;\n    if (deltaPercentage > 0) {\n      deltaPercentageStr = `+${deltaPercentage.toFixed(2)}%`;\n    } else {\n      deltaPercentageStr = `${deltaPercentage.toFixed(2)}%`;\n    }\n    if (deltaPercentage === 0) {\n      deltaPercentageStr = \"0.00\";\n    }\n  }\n\n  if (!chartToken) {\n    return null;\n  }\n\n  const onSelectToken = (token) => {\n    const tmp = getTokenInfo(infoTokens, token.address);\n    setChartToken(tmp);\n    setToTokenAddress(swapOption, token.address);\n  };\n\n  return (\n    <div className=\"ExchangeChart tv\" ref={ref}>\n      <div className=\"ExchangeChart-top App-box App-box-border\">\n        <div className=\"ExchangeChart-top-inner\">\n          <div>\n            <div className=\"ExchangeChart-title\">\n              <ChartTokenSelector\n                chainId={chainId}\n                selectedToken={chartToken}\n                swapOption={swapOption}\n                infoTokens={infoTokens}\n                onSelectToken={onSelectToken}\n                className=\"chart-token-selector pos-relative\"\n              />\n            </div>\n          </div>\n          <div className=\"ExchangeChart-stats-container\">\n            <div>\n              <div className=\"ExchangeChart-info-label\">\n                <Tooltip\n                  className=\"has-hint-tooltip nowrap cur-price-tooltip\"\n                  handle=\"Current Price\"\n                  position=\"left-bottom\"\n                  enabled={true}\n                  renderContent={() => {\n                    return (\n                      <div className=\"Tooltip__text\">\n                        Asset price is taken from GMX\n                      </div>\n                    );\n                  }}\n                />\n              </div>\n              \n              {/* <div className=\"ExchangeChart-info-label\">\n                Current Price\n              </div> */}\n              <div className=\"ExchangeChart-main-price\">\n                ${chartToken.maxPrice && formatAmount(chartToken.maxPrice, USD_DECIMALS, 2, true)}\n              </div>\n            </div>\n            <div>\n              <div className=\"ExchangeChart-info-label\">24h Change</div>\n              <div className={cx({ positive: deltaPercentage > 0, negative: deltaPercentage < 0 })}>\n                {!deltaPercentageStr && \"-\"}\n                {deltaPercentageStr && deltaPercentageStr}\n              </div>\n            </div>\n            <div className=\"ExchangeChart-additional-info\">\n              <div className=\"ExchangeChart-info-label\">24h High</div>\n              <div>\n                {!high && \"-\"}\n                {high && numberWithCommas(high.toFixed(2))}\n              </div>\n            </div>\n            <div className=\"ExchangeChart-additional-info\">\n              <div className=\"ExchangeChart-info-label\">24h Low</div>\n              <div>\n                {!low && \"-\"}\n                {low && numberWithCommas(low.toFixed(2))}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <ChartSelector\n        CHART_PERIODS={CHART_PERIODS}\n        period={period}\n        setPeriod={setPeriod}\n        candleStatsHtml={candleStatsHtml}\n        chartRef={chartRef}\n        chartToken={chartToken}\n      />\n    </div>\n  );\n}\n","import React, { useState, useCallback, useEffect, useMemo } from \"react\";\nimport { ethers } from \"ethers\";\nimport cx from \"classnames\";\nimport { Trans, t } from \"@lingui/macro\";\nimport { BsArrowRight } from \"react-icons/bs\";\n\nimport {\n  formatAmount,\n  bigNumberify,\n  ARBITRUM,\n  DEFAULT_SLIPPAGE_AMOUNT,\n  DEFAULT_HIGHER_SLIPPAGE_AMOUNT,\n  USD_DECIMALS,\n  DUST_USD,\n  BASIS_POINTS_DIVISOR,\n  USDG_ADDRESS,\n  SLIPPAGE_BPS_KEY,\n  TRIGGER_PREFIX_BELOW,\n  TRIGGER_PREFIX_ABOVE,\n  MIN_PROFIT_TIME,\n  usePrevious,\n  formatAmountFree,\n  parseValue,\n  expandDecimals,\n  getTokenInfo,\n  getLiquidationPrice,\n  getLeverage,\n  getMarginFee,\n  PRECISION,\n  MARKET,\n  STOP,\n  DECREASE,\n  useLocalStorageSerializeKey,\n  calculatePositionDelta,\n  getDeltaStr,\n  getProfitPrice,\n  formatDateTime,\n  getTimeRemaining,\n  getNextToAmount,\n  getUsd,\n  USDG_DECIMALS,\n  CLOSE_POSITION_RECEIVE_TOKEN_KEY,\n  useLocalStorageByChainId,\n  adjustForDecimals,\n  IS_NETWORK_DISABLED,\n  getChainName,\n  MAX_ALLOWED_LEVERAGE,\n} from \"../../lib/legacy\";\nimport { getConstant } from \"../../config/chains\";\nimport { createDecreaseOrder, useHasOutdatedUi } from \"../../domain/legacy\";\nimport { getContract } from \"../../config/Addresses\";\nimport PositionRouter from \"../../abis/PositionRouter.json\";\nimport Checkbox from \"../Checkbox/Checkbox\";\nimport Tab from \"../Tab/Tab\";\nimport Modal from \"../Modal/Modal\";\nimport ExchangeInfoRow from \"./ExchangeInfoRow\";\nimport Tooltip from \"../Tooltip/Tooltip\";\nimport TokenSelector from \"./TokenSelector\";\nimport { getTokens } from \"../../config/Tokens\";\nimport \"./PositionSeller.css\";\nimport StatsTooltipRow from \"../StatsTooltip/StatsTooltipRow\";\nimport { callContract } from \"../../lib/contracts/callContract\";\n\nimport marketImg from '../../img/ddl/icon_market.svg'\nimport marketActiveImg from '../../img/ddl/icon_market_active.svg'\nimport triggerImg from '../../img/ddl/icon_trigger.svg'\nimport triggerActiveImg from '../../img/ddl/icon_trigger_active.svg'\nimport SlippageInput from './../SlippageInput/SlippageInput';\n\nconst CLOSE_ICONS = {\n  Market: marketImg,\n  Market_active: marketActiveImg,\n  Stop: triggerImg,\n  Stop_active: triggerActiveImg,\n}\n\nconst { AddressZero } = ethers.constants;\nconst ORDER_SIZE_DUST_USD = expandDecimals(1, USD_DECIMALS - 1); // $0.10\n\nconst orderOptionLabels = {\n  [MARKET]: \"Market\",\n  [STOP]: \"Trigger\",\n};\n\nfunction getTokenAmount(usdAmount, tokenAddress, max, infoTokens) {\n  if (!usdAmount) {\n    return;\n  }\n  if (tokenAddress === USDG_ADDRESS) {\n    return usdAmount.mul(expandDecimals(1, 18)).div(PRECISION);\n  }\n  const info = getTokenInfo(infoTokens, tokenAddress);\n  if (!info) {\n    return;\n  }\n  if (max && !info.maxPrice) {\n    return;\n  }\n  if (!max && !info.minPrice) {\n    return;\n  }\n\n  return usdAmount.mul(expandDecimals(1, info.decimals)).div(max ? info.minPrice : info.maxPrice);\n}\n\nfunction shouldSwap(collateralToken, receiveToken) {\n  // If position collateral is WETH in contract, then position.collateralToken is { symbol: “ETH”, isNative: true, … }\n  // @see https://github.com/gmx-io/gmx-interface/blob/master/src/pages/Exchange/Exchange.js#L162\n  // meaning if collateralToken.isNative === true in reality position has WETH as a collateral\n  // and if collateralToken.isNative === true and receiveToken.isNative === true then position’s WETH will be unwrapped and user will receive native ETH\n  const isCollateralWrapped = collateralToken.isNative;\n\n  const isSameToken =\n    collateralToken.address === receiveToken.address || (isCollateralWrapped && receiveToken.isWrapped);\n\n  const isUnwrap = isCollateralWrapped && receiveToken.isNative;\n\n  return !isSameToken && !isUnwrap;\n}\n\nfunction getSwapLimits(infoTokens, fromTokenAddress, toTokenAddress) {\n  const fromInfo = getTokenInfo(infoTokens, fromTokenAddress);\n  const toInfo = getTokenInfo(infoTokens, toTokenAddress);\n\n  let maxInUsd;\n  let maxIn;\n  let maxOut;\n  let maxOutUsd;\n\n  if (!fromInfo?.maxUsdgAmount) {\n    maxInUsd = bigNumberify(0);\n    maxIn = bigNumberify(0);\n  } else {\n    maxInUsd = fromInfo.maxUsdgAmount\n      .sub(fromInfo.usdgAmount)\n      .mul(expandDecimals(1, USD_DECIMALS))\n      .div(expandDecimals(1, USDG_DECIMALS));\n\n    maxIn = maxInUsd.mul(expandDecimals(1, fromInfo.decimals)).div(fromInfo.maxPrice).toString();\n  }\n\n  if (!toInfo?.poolAmount || !toInfo?.bufferAmount) {\n    maxOut = bigNumberify(0);\n    maxOutUsd = bigNumberify(0);\n  } else {\n    maxOut = toInfo.availableAmount.gt(toInfo.poolAmount.sub(toInfo.bufferAmount))\n      ? toInfo.poolAmount.sub(toInfo.bufferAmount)\n      : toInfo.availableAmount;\n\n    maxOutUsd = getUsd(maxOut, toInfo.address, false, infoTokens);\n  }\n\n  return {\n    maxIn,\n    maxInUsd,\n    maxOut,\n    maxOutUsd,\n  };\n}\n\nexport default function PositionSeller(props) {\n  const {\n    pendingPositions,\n    setPendingPositions,\n    positionsMap,\n    positionKey,\n    isVisible,\n    setIsVisible,\n    account,\n    library,\n    infoTokens,\n    setPendingTxns,\n    flagOrdersEnabled,\n    savedIsPnlInLeverage,\n    chainId,\n    nativeTokenAddress,\n    orders,\n    isWaitingForPluginApproval,\n    isPluginApproving,\n    orderBookApproved,\n    setOrdersToaOpen,\n    positionRouterApproved,\n    isWaitingForPositionRouterApproval,\n    isPositionRouterApproving,\n    approvePositionRouter,\n    isHigherSlippageAllowed,\n    setIsHigherSlippageAllowed,\n    minExecutionFee,\n    minExecutionFeeErrorMessage,\n    usdgSupply,\n    totalTokenWeights,\n    initTab,\n  } = props;\n\n  const [savedSlippageAmount] = useLocalStorageSerializeKey([chainId, SLIPPAGE_BPS_KEY], DEFAULT_SLIPPAGE_AMOUNT);\n\n  const [keepLeverage, setKeepLeverage] = useLocalStorageSerializeKey([chainId, \"Exchange-keep-leverage\"], true);\n  const position = positionsMap && positionKey ? positionsMap[positionKey] : undefined;\n  const [fromValue, setFromValue] = useState(\"\");\n\n  const [userSlippage, setUserSlippage] = useState('')\n  \n  const [isProfitWarningAccepted, setIsProfitWarningAccepted] = useState(false);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const prevIsVisible = usePrevious(isVisible);\n  const positionRouterAddress = getContract(chainId, \"PositionRouter\");\n  const nativeTokenSymbol = getConstant(chainId, \"nativeTokenSymbol\");\n  const toTokens = getTokens(chainId);\n\n  const [savedRecieveTokenAddress, setSavedRecieveTokenAddress] = useLocalStorageByChainId(\n    chainId,\n    `${CLOSE_POSITION_RECEIVE_TOKEN_KEY}-${position.indexToken.symbol}-${position?.isLong ? \"long\" : \"short\"}`\n  );\n\n  const [swapToToken, setSwapToToken] = useState(() =>\n    savedRecieveTokenAddress ? toTokens.find((token) => token.address === savedRecieveTokenAddress) : undefined\n  );\n\n  // Slippage Edit\n  // let allowedSlippage = savedSlippageAmount;\n  let allowedSlippage = DEFAULT_SLIPPAGE_AMOUNT;\n  // if (isHigherSlippageAllowed) {\n  //   allowedSlippage = DEFAULT_HIGHER_SLIPPAGE_AMOUNT;\n  // }\n  if (userSlippage !== '') {\n    allowedSlippage = userSlippage * 100;\n  }\n\n  const orderOptions = [MARKET, STOP];\n  let [orderOption, setOrderOption] = useState(initTab ?? MARKET);\n\n  if (!flagOrdersEnabled) {\n    orderOption = MARKET;\n  }\n\n  const needPositionRouterApproval = !positionRouterApproved && orderOption === MARKET;\n\n  const onOrderOptionChange = (option) => {\n    setOrderOption(option);\n  };\n\n  const onTriggerPriceChange = (evt) => {\n    setTriggerPriceValue(evt.target.value || \"\");\n  };\n\n  const [triggerPriceValue, setTriggerPriceValue] = useState(\"\");\n  const triggerPriceUsd = orderOption === MARKET ? 0 : parseValue(triggerPriceValue, USD_DECIMALS);\n\n  const [nextDelta, nextHasProfit = bigNumberify(0)] = useMemo(() => {\n    if (!position) {\n      return [bigNumberify(0), false];\n    }\n\n    if (orderOption !== STOP) {\n      return [position.delta, position.hasProfit, position.deltaPercentage];\n    }\n\n    if (!triggerPriceUsd) {\n      return [bigNumberify(0), false];\n    }\n\n    const { delta, hasProfit, deltaPercentage } = calculatePositionDelta(triggerPriceUsd, position);\n    return [delta, hasProfit, deltaPercentage];\n  }, [position, orderOption, triggerPriceUsd]);\n\n  const existingOrders = useMemo(() => {\n    if (orderOption === STOP && (!triggerPriceUsd || triggerPriceUsd.eq(0))) {\n      return [];\n    }\n    if (!orders || !position) {\n      return [];\n    }\n\n    const ret = [];\n    for (const order of orders) {\n      // only Stop orders can't be executed without corresponding opened position\n      if (order.type !== DECREASE) continue;\n\n      // if user creates Stop-Loss we need only Stop-Loss orders and vice versa\n      if (orderOption === STOP) {\n        const triggerAboveThreshold = triggerPriceUsd.gt(position.markPrice);\n        if (triggerAboveThreshold !== order.triggerAboveThreshold) continue;\n      }\n\n      const sameToken =\n        order.indexToken === nativeTokenAddress\n          ? position.indexToken.isNative\n          : order.indexToken === position.indexToken.address;\n      if (order.isLong === position.isLong && sameToken) {\n        ret.push(order);\n      }\n    }\n    return ret;\n  }, [position, orders, triggerPriceUsd, orderOption, nativeTokenAddress]);\n\n  const existingOrder = existingOrders[0];\n\n  const needOrderBookApproval = orderOption === STOP && !orderBookApproved;\n\n  const isSwapAllowed = orderOption === MARKET;\n\n  const { data: hasOutdatedUi } = useHasOutdatedUi();\n\n  let collateralToken;\n  let receiveToken;\n  let maxAmount;\n  let maxAmountFormatted;\n  let maxAmountFormattedFree;\n  let fromAmount;\n\n  let convertedAmount;\n  let convertedAmountFormatted;\n\n  let nextLeverage;\n  let liquidationPrice;\n  let nextLiquidationPrice;\n  let isClosing;\n  let sizeDelta;\n\n  let nextCollateral;\n  let collateralDelta = bigNumberify(0);\n  let receiveAmount = bigNumberify(0);\n  let convertedReceiveAmount = bigNumberify(0);\n  let adjustedDelta = bigNumberify(0);\n\n  let isNotEnoughReceiveTokenLiquidity;\n  let isCollateralPoolCapacityExceeded;\n\n  let title;\n  let fundingFee;\n  let positionFee;\n  let swapFeeToken;\n  let swapFee;\n  let totalFees = bigNumberify(0);\n\n  let executionFee = orderOption === STOP ? getConstant(chainId, \"DECREASE_ORDER_EXECUTION_GAS_FEE\") : minExecutionFee;\n\n  let executionFeeUsd = getUsd(executionFee, nativeTokenAddress, false, infoTokens) || bigNumberify(0);\n\n  if (position) {\n    fundingFee = position.fundingFee;\n    fromAmount = parseValue(fromValue, USD_DECIMALS);\n    sizeDelta = fromAmount;\n\n    title = `Close ${position.isLong ? \"Long\" : \"Short\"} ${position.indexToken.symbol}`;\n    collateralToken = position.collateralToken;\n    liquidationPrice = getLiquidationPrice(position);\n\n    if (fromAmount) {\n      isClosing = position.size.sub(fromAmount).lt(DUST_USD);\n      positionFee = getMarginFee(fromAmount);\n    }\n\n    if (isClosing) {\n      sizeDelta = position.size;\n      receiveAmount = position.collateral;\n    } else if (orderOption === STOP && sizeDelta && existingOrders.length > 0) {\n      let residualSize = position.size;\n      for (const order of existingOrders) {\n        residualSize = residualSize.sub(order.sizeDelta);\n      }\n      if (residualSize.sub(sizeDelta).abs().lt(ORDER_SIZE_DUST_USD)) {\n        sizeDelta = residualSize;\n      }\n    }\n\n    if (sizeDelta) {\n      adjustedDelta = nextDelta.mul(sizeDelta).div(position.size);\n    }\n\n    if (nextHasProfit) {\n      receiveAmount = receiveAmount.add(adjustedDelta);\n    } else {\n      if (receiveAmount.gt(adjustedDelta)) {\n        receiveAmount = receiveAmount.sub(adjustedDelta);\n      } else {\n        receiveAmount = bigNumberify(0);\n      }\n    }\n\n    if (keepLeverage && sizeDelta && !isClosing) {\n      collateralDelta = sizeDelta.mul(position.collateral).div(position.size);\n      // if the position will be realising a loss then reduce collateralDelta by the realised loss\n      if (!nextHasProfit) {\n        const deductions = adjustedDelta.add(positionFee).add(fundingFee);\n        if (collateralDelta.gt(deductions)) {\n          collateralDelta = collateralDelta = collateralDelta.sub(deductions);\n        } else {\n          collateralDelta = bigNumberify(0);\n        }\n      }\n    }\n\n    maxAmount = position.size;\n    maxAmountFormatted = formatAmount(maxAmount, USD_DECIMALS, 2, true);\n    maxAmountFormattedFree = formatAmountFree(maxAmount, USD_DECIMALS, 2);\n\n    if (fromAmount && collateralToken.maxPrice) {\n      convertedAmount = fromAmount.mul(expandDecimals(1, collateralToken.decimals)).div(collateralToken.maxPrice);\n      convertedAmountFormatted = formatAmount(convertedAmount, collateralToken.decimals, 4, true);\n    }\n\n    totalFees = totalFees.add(positionFee || bigNumberify(0)).add(fundingFee || bigNumberify(0));\n\n    receiveAmount = receiveAmount.add(collateralDelta);\n\n    if (sizeDelta) {\n      if (receiveAmount.gt(totalFees)) {\n        receiveAmount = receiveAmount.sub(totalFees);\n      } else {\n        receiveAmount = bigNumberify(0);\n      }\n    }\n\n    receiveToken = isSwapAllowed && swapToToken ? swapToToken : collateralToken;\n\n    // Calculate swap fees\n    if (isSwapAllowed && swapToToken) {\n      const { feeBasisPoints } = getNextToAmount(\n        chainId,\n        convertedAmount,\n        collateralToken.address,\n        receiveToken.address,\n        infoTokens,\n        undefined,\n        undefined,\n        usdgSupply,\n        totalTokenWeights,\n        true\n      );\n\n      if (feeBasisPoints) {\n        swapFee = receiveAmount.mul(feeBasisPoints).div(BASIS_POINTS_DIVISOR);\n        swapFeeToken = getTokenAmount(swapFee, collateralToken.address, false, infoTokens);\n        totalFees = totalFees.add(swapFee || bigNumberify(0));\n        receiveAmount = receiveAmount.sub(swapFee);\n      }\n    }\n\n    convertedReceiveAmount = getTokenAmount(receiveAmount, receiveToken.address, false, infoTokens);\n\n    // Check swap limits (max in / max out)\n    if (isSwapAllowed && shouldSwap(collateralToken, receiveToken)) {\n      const collateralInfo = getTokenInfo(infoTokens, collateralToken.address);\n      const receiveTokenInfo = getTokenInfo(infoTokens, receiveToken.address);\n\n      isNotEnoughReceiveTokenLiquidity =\n        receiveTokenInfo.availableAmount.lt(convertedReceiveAmount) ||\n        receiveTokenInfo.bufferAmount.gt(receiveTokenInfo.poolAmount.sub(convertedReceiveAmount));\n\n      if (\n        collateralInfo.maxUsdgAmount &&\n        collateralInfo.maxUsdgAmount.gt(0) &&\n        collateralInfo.usdgAmount &&\n        collateralInfo.maxPrice\n      ) {\n        const usdgFromAmount = adjustForDecimals(receiveAmount, USD_DECIMALS, USDG_DECIMALS);\n        const nextUsdgAmount = collateralInfo.usdgAmount.add(usdgFromAmount);\n\n        if (nextUsdgAmount.gt(collateralInfo.maxUsdgAmount)) {\n          isCollateralPoolCapacityExceeded = true;\n        }\n      }\n    }\n\n    if (isClosing) {\n      nextCollateral = bigNumberify(0);\n    } else {\n      if (position.collateral) {\n        nextCollateral = position.collateral;\n        if (collateralDelta && collateralDelta.gt(0)) {\n          nextCollateral = position.collateral.sub(collateralDelta);\n        } else if (position.delta && position.delta.gt(0) && sizeDelta) {\n          if (!position.hasProfit) {\n            nextCollateral = nextCollateral.sub(adjustedDelta);\n          }\n        }\n      }\n    }\n\n    if (fromAmount) {\n      if (!isClosing && !keepLeverage) {\n        nextLeverage = getLeverage({\n          size: position.size,\n          sizeDelta,\n          collateral: position.collateral,\n          entryFundingRate: position.entryFundingRate,\n          cumulativeFundingRate: position.cumulativeFundingRate,\n          hasProfit: nextHasProfit,\n          delta: nextDelta,\n          includeDelta: savedIsPnlInLeverage,\n        });\n        nextLiquidationPrice = getLiquidationPrice({\n          isLong: position.isLong,\n          size: position.size,\n          sizeDelta,\n          collateral: position.collateral,\n          averagePrice: position.averagePrice,\n          entryFundingRate: position.entryFundingRate,\n          cumulativeFundingRate: position.cumulativeFundingRate,\n          delta: nextDelta,\n          hasProfit: nextHasProfit,\n          includeDelta: true,\n        });\n      }\n    }\n  }\n\n  const [deltaStr, deltaPercentageStr] = useMemo(() => {\n    if (!position || !position.markPrice) {\n      return [\"-\", \"-\"];\n    }\n    if (orderOption !== STOP) {\n      const { pendingDelta, pendingDeltaPercentage, hasProfit } = calculatePositionDelta(\n        position.markPrice,\n        position,\n        fromAmount\n      );\n      const { deltaStr, deltaPercentageStr } = getDeltaStr({\n        delta: pendingDelta,\n        deltaPercentage: pendingDeltaPercentage,\n        hasProfit,\n      });\n      return [deltaStr, deltaPercentageStr];\n    }\n    if (!triggerPriceUsd || triggerPriceUsd.eq(0)) {\n      return [\"-\", \"-\"];\n    }\n\n    const { pendingDelta, pendingDeltaPercentage, hasProfit } = calculatePositionDelta(\n      triggerPriceUsd,\n      position,\n      fromAmount\n    );\n\n    const { deltaStr, deltaPercentageStr } = getDeltaStr({\n      delta: pendingDelta,\n      deltaPercentage: pendingDeltaPercentage,\n      hasProfit,\n    });\n    return [deltaStr, deltaPercentageStr];\n  }, [position, triggerPriceUsd, orderOption, fromAmount]);\n\n  const getError = () => {\n    if (IS_NETWORK_DISABLED[chainId]) {\n      if (orderOption === STOP) return [t`Trigger order disabled, pending ${getChainName(chainId)} upgrade`];\n      return [t`Position close disabled, pending ${getChainName(chainId)} upgrade`];\n    }\n    if (hasOutdatedUi) {\n      return t`Page outdated, please refresh`;\n    }\n    if (!fromAmount) {\n      return t`Enter an amount`;\n    }\n    if (nextLeverage && nextLeverage.eq(0)) {\n      return t`Enter an amount`;\n    }\n    if (orderOption === STOP) {\n      if (!triggerPriceUsd || triggerPriceUsd.eq(0)) {\n        return t`Enter Price`;\n      }\n      if (position.isLong && triggerPriceUsd.lte(liquidationPrice)) {\n        return t`Price below Liq. Price`;\n      }\n      if (!position.isLong && triggerPriceUsd.gte(liquidationPrice)) {\n        return t`Price above Liq. Price`;\n      }\n\n      if (profitPrice && nextDelta.eq(0) && nextHasProfit) {\n        return t`Invalid price, see warning`;\n      }\n    }\n\n    if (isNotEnoughReceiveTokenLiquidity) {\n      return \"Insufficient receive token liquidity\";\n    }\n\n    if (isCollateralPoolCapacityExceeded) {\n      return `${collateralToken.symbol} pool exceeded, can only Receive ${collateralToken.symbol}`;\n    }\n\n    if (!isClosing && position && position.size && fromAmount) {\n      if (position.size.sub(fromAmount).lt(expandDecimals(10, USD_DECIMALS))) {\n        return t`Leftover position below 10 USD`;\n      }\n      if (nextCollateral && nextCollateral.lt(expandDecimals(5, USD_DECIMALS))) {\n        return t`Leftover collateral below 5 USD`;\n      }\n    }\n\n    if (position && position.size && position.size.lt(fromAmount)) {\n      return t`Max close amount exceeded`;\n    }\n\n    if (nextLeverage && nextLeverage.lt(1.1 * BASIS_POINTS_DIVISOR)) {\n      return t`Min leverage: 1.1x`;\n    }\n\n    if (nextLeverage && nextLeverage.gt(MAX_ALLOWED_LEVERAGE)) {\n      return t`Max leverage: ${(MAX_ALLOWED_LEVERAGE / BASIS_POINTS_DIVISOR).toFixed(1)}x`;\n    }\n\n    if (hasPendingProfit && orderOption !== STOP && !isProfitWarningAccepted) {\n      return t`Forfeit profit not checked`;\n    }\n  };\n\n  const isPrimaryEnabled = () => {\n    const error = getError();\n    if (error) {\n      return false;\n    }\n    if (isSubmitting) {\n      return false;\n    }\n    if (needOrderBookApproval && isWaitingForPluginApproval) {\n      return false;\n    }\n    if (isPluginApproving) {\n      return false;\n    }\n    if (needPositionRouterApproval && isWaitingForPositionRouterApproval) {\n      return false;\n    }\n    if (isPositionRouterApproving) {\n      return false;\n    }\n\n    return true;\n  };\n\n  const hasPendingProfit = MIN_PROFIT_TIME > 0 && position.delta.eq(0) && position.pendingDelta.gt(0);\n\n  const getPrimaryText = () => {\n    const error = getError();\n    if (error) {\n      return error;\n    }\n\n    if (orderOption === STOP) {\n      if (isSubmitting) return t`Creating Order...`;\n\n      if (needOrderBookApproval && isWaitingForPluginApproval) {\n        return t`Enabling Orders...`;\n      }\n      if (isPluginApproving) {\n        return t`Enabling Orders...`;\n      }\n      if (needOrderBookApproval) {\n        return t`Enable Orders`;\n      }\n\n      return t`Create Order`;\n    }\n\n    if (needPositionRouterApproval && isWaitingForPositionRouterApproval) {\n      return t`Enabling Leverage...`;\n    }\n\n    if (isPositionRouterApproving) {\n      return t`Enabling Leverage...`;\n    }\n\n    if (needPositionRouterApproval) {\n      return t`Enable Leverage`;\n    }\n\n    if (hasPendingProfit) {\n      return t`Close without profit`;\n    }\n    return isSubmitting ? t`Closing...` : t`Close`;\n  };\n\n  const resetForm = () => {\n    setFromValue(\"\");\n    setIsProfitWarningAccepted(false);\n  };\n\n  useEffect(() => {\n    if (prevIsVisible !== isVisible) {\n      resetForm();\n    }\n  }, [prevIsVisible, isVisible]);\n\n  const onClickPrimary = async () => {\n    if (needOrderBookApproval) {\n      setOrdersToaOpen(true);\n      return;\n    }\n\n    if (needPositionRouterApproval) {\n      approvePositionRouter({\n        sentMsg: t`Enable leverage sent.`,\n        failMsg: t`Enable leverage failed.`,\n      });\n      return;\n    }\n\n    setIsSubmitting(true);\n\n    const collateralTokenAddress = position.collateralToken.isNative\n      ? nativeTokenAddress\n      : position.collateralToken.address;\n    const indexTokenAddress = position.indexToken.isNative ? nativeTokenAddress : position.indexToken.address;\n\n    if (orderOption === STOP) {\n      const triggerAboveThreshold = triggerPriceUsd.gt(position.markPrice);\n\n      createDecreaseOrder(\n        chainId,\n        library,\n        indexTokenAddress,\n        sizeDelta,\n        collateralTokenAddress,\n        collateralDelta,\n        position.isLong,\n        triggerPriceUsd,\n        triggerAboveThreshold,\n        {\n          sentMsg: t`Order submitted!`,\n          successMsg: t`Order created!`,\n          failMsg: t`Order creation failed.`,\n          setPendingTxns,\n        }\n      )\n        .then(() => {\n          setFromValue(\"\");\n          setIsVisible(false);\n        })\n        .finally(() => {\n          setIsSubmitting(false);\n        });\n      return;\n    }\n\n    const priceBasisPoints = position.isLong\n      ? BASIS_POINTS_DIVISOR - allowedSlippage\n      : BASIS_POINTS_DIVISOR + allowedSlippage;\n    const refPrice = position.isLong ? position.indexToken.minPrice : position.indexToken.maxPrice;\n    let priceLimit = refPrice.mul(priceBasisPoints).div(BASIS_POINTS_DIVISOR);\n    const minProfitExpiration = position.lastIncreasedTime + MIN_PROFIT_TIME;\n    const minProfitTimeExpired = parseInt(Date.now() / 1000) > minProfitExpiration;\n\n    if (nextHasProfit && !minProfitTimeExpired && !isProfitWarningAccepted) {\n      if ((position.isLong && priceLimit.lt(profitPrice)) || (!position.isLong && priceLimit.gt(profitPrice))) {\n        priceLimit = profitPrice;\n      }\n    }\n\n    const tokenAddress0 = collateralTokenAddress === AddressZero ? nativeTokenAddress : collateralTokenAddress;\n\n    const path = [tokenAddress0];\n\n    const isUnwrap = receiveToken.address === AddressZero;\n    const isSwap = receiveToken.address !== tokenAddress0;\n\n    if (isSwap) {\n      if (isUnwrap && tokenAddress0 !== nativeTokenAddress) {\n        path.push(nativeTokenAddress);\n      } else if (!isUnwrap) {\n        path.push(receiveToken.address);\n      }\n    }\n\n    const withdrawETH = isUnwrap;\n\n    const params = [\n      path, // _path\n      indexTokenAddress, // _indexToken\n      collateralDelta, // _collateralDelta\n      sizeDelta, // _sizeDelta\n      position.isLong, // _isLong\n      account, // _receiver\n      priceLimit, // _acceptablePrice\n      0, // _minOut\n      minExecutionFee, // _executionFee\n      withdrawETH, // _withdrawETH\n      AddressZero, // _callbackTarget\n    ];\n\n    const successMsg = t`Requested decrease of ${position.indexToken.symbol} ${\n      position.isLong ? \"Long\" : \"Short\"\n    } by ${formatAmount(sizeDelta, USD_DECIMALS, 2)} USD.`;\n\n    const contract = new ethers.Contract(positionRouterAddress, PositionRouter.abi, library.getSigner());\n\n    callContract(chainId, contract, \"createDecreasePosition\", params, {\n      value: minExecutionFee,\n      sentMsg: t`Close submitted!`,\n      successMsg,\n      failMsg: t`Close failed.`,\n      setPendingTxns,\n      // for Arbitrum, sometimes the successMsg shows after the position has already been executed\n      // hide the success message for Arbitrum as a workaround\n      hideSuccessMsg: chainId === ARBITRUM,\n    })\n      .then(async (res) => {\n        setFromValue(\"\");\n        setIsVisible(false);\n\n        let nextSize = position.size.sub(sizeDelta);\n\n        pendingPositions[position.key] = {\n          updatedAt: Date.now(),\n          pendingChanges: {\n            size: nextSize,\n          },\n        };\n\n        setPendingPositions({ ...pendingPositions });\n      })\n      .finally(() => {\n        setIsSubmitting(false);\n      });\n  };\n\n  const renderExistingOrderWarning = useCallback(() => {\n    if (!existingOrder) {\n      return;\n    }\n    const indexToken = getTokenInfo(infoTokens, existingOrder.indexToken);\n    const sizeInToken = formatAmount(\n      existingOrder.sizeDelta.mul(PRECISION).div(existingOrder.triggerPrice),\n      USD_DECIMALS,\n      4,\n      true\n    );\n    const prefix = existingOrder.triggerAboveThreshold ? TRIGGER_PREFIX_ABOVE : TRIGGER_PREFIX_BELOW;\n    return (\n      <div className=\"Confirmation-box-warning\">\n        You have an active order to decrease {existingOrder.isLong ? \"Long\" : \"Short\"} {sizeInToken} {indexToken.symbol}{\" \"}\n        ($\n        {formatAmount(existingOrder.sizeDelta, USD_DECIMALS, 2, true)}) at {prefix}{\" \"}\n        {formatAmount(existingOrder.triggerPrice, USD_DECIMALS, 2, true)}\n      </div>\n    );\n  }, [existingOrder, infoTokens]);\n\n  function renderMinProfitWarning() {\n    if (MIN_PROFIT_TIME === 0) {\n      return null;\n    }\n\n    if (profitPrice && nextDelta.eq(0) && nextHasProfit) {\n      const minProfitExpiration = position.lastIncreasedTime + MIN_PROFIT_TIME;\n\n      if (orderOption === MARKET) {\n        return (\n          <div className=\"Confirmation-box-warning\">\n            Reducing the position at the current price will forfeit a&nbsp;\n            <a\n              href=\"https://gmxio.gitbook.io/gmx/trading#minimum-price-change\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              pending profit\n            </a>{\" \"}\n            of {deltaStr}. <br />\n            <br />\n            Profit price: {position.isLong ? \">\" : \"<\"} ${formatAmount(profitPrice, USD_DECIMALS, 2, true)}. This rule\n            applies for the next {getTimeRemaining(minProfitExpiration)}, until {formatDateTime(minProfitExpiration)}.\n          </div>\n        );\n      }\n      return (\n        <div className=\"Confirmation-box-warning\">\n          This order will forfeit a&nbsp;\n          <a href=\"https://gmxio.gitbook.io/gmx/trading#minimum-price-change\" target=\"_blank\" rel=\"noopener noreferrer\">\n            profit\n          </a>{\" \"}\n          of {deltaStr}. <br />\n          Profit price: {position.isLong ? \">\" : \"<\"} ${formatAmount(profitPrice, USD_DECIMALS, 2, true)}. This rule\n          applies for the next {getTimeRemaining(minProfitExpiration)}, until {formatDateTime(minProfitExpiration)}.\n        </div>\n      );\n    }\n  }\n\n  const profitPrice = getProfitPrice(orderOption === MARKET ? position.markPrice : triggerPriceUsd, position);\n\n  let triggerPricePrefix;\n  if (triggerPriceUsd) {\n    triggerPricePrefix = triggerPriceUsd.gt(position.markPrice) ? TRIGGER_PREFIX_ABOVE : TRIGGER_PREFIX_BELOW;\n  }\n\n  const shouldShowExistingOrderWarning = false;\n\n  const [hasInputFocus, setHasInputFocus] = useState(false);\n  const [hasInputError, setHasInputError] = useState(false);\n  const checkInputError = (inputVal) => {\n    if (!isPrimaryEnabled() && inputVal !== '') {\n      setHasInputError(true);\n    } else {\n      setHasInputError(false);\n    }\n  }\n\n  useEffect(() => {\n    checkInputError(fromValue);\n  }, [fromValue])\n\n  return (\n    <div className=\"PositionEditor\">\n      {position && (\n        <Modal\n          className=\"PositionSeller-modal\"\n          isVisible={isVisible}\n          setIsVisible={setIsVisible}\n          label={title}\n          allowContentTouchMove\n          isNifty={true}\n        >\n          {flagOrdersEnabled && (\n            <Tab\n              options={orderOptions}\n              option={orderOption}\n              optionLabels={orderOptionLabels}\n              onChange={onOrderOptionChange}\n              icons={CLOSE_ICONS}\n            />\n          )}\n          <div className={\"Exchange-swap-section\"\n            + (hasInputError ? \" error\" : \"\") + (hasInputFocus ? \" hlight\" : \"\")}>\n            <div className=\"Exchange-swap-section-top\">\n              <div className=\"muted\">\n                {convertedAmountFormatted && (\n                  <div className=\"Exchange-swap-usd\">\n                    Close: {convertedAmountFormatted} {position.collateralToken.symbol}\n                  </div>\n                )}\n                {!convertedAmountFormatted && \"Close\"}\n              </div>\n              {maxAmount && (\n                <div className=\"muted align-right clickable\" onClick={() => setFromValue(maxAmountFormattedFree)}>\n                  Max: {maxAmountFormatted}\n                </div>\n              )}\n            </div>\n            <div className=\"Exchange-swap-section-bottom\">\n              <div className=\"Exchange-swap-input-container\">\n                <input\n                  type=\"number\"\n                  min=\"0\"\n                  placeholder=\"0.0\"\n                  className=\"Exchange-swap-input\"\n                  value={fromValue}\n                  onChange={(e) => setFromValue(e.target.value)}\n                  onFocus={(e) => {\n                    setHasInputFocus(true);\n                  }}\n                  onBlur={(e) => {\n                    setHasInputFocus(false);\n                  }}\n                />\n                {fromValue !== maxAmountFormattedFree && (\n                  <div\n                    className=\"Exchange-swap-max\"\n                    onClick={() => {\n                      setFromValue(maxAmountFormattedFree);\n                    }}\n                  >\n                    MAX\n                  </div>\n                )}\n              </div>\n              <div className=\"PositionEditor-token-symbol\">USD</div>\n            </div>\n          </div>\n          {orderOption === MARKET && (\n            <SlippageInput \n              value={userSlippage}\n              setValue={setUserSlippage} \n            />\n          )}\n          {orderOption === STOP && (\n            <div className=\"Exchange-swap-section\">\n              <div className=\"Exchange-swap-section-top\">\n                <div className=\"muted\">\n                  <Trans>Price</Trans>\n                </div>\n                <div\n                  className=\"muted align-right clickable\"\n                  onClick={() => {\n                    setTriggerPriceValue(formatAmountFree(position.markPrice, USD_DECIMALS, 2));\n                  }}\n                >\n                  Mark: {formatAmount(position.markPrice, USD_DECIMALS, 2, true)}\n                </div>\n              </div>\n              <div className=\"Exchange-swap-section-bottom\">\n                <div className=\"Exchange-swap-input-container\">\n                  <input\n                    type=\"number\"\n                    min=\"0\"\n                    placeholder=\"0.0\"\n                    className=\"Exchange-swap-input\"\n                    value={triggerPriceValue}\n                    onChange={onTriggerPriceChange}\n                    onFocus={(e) => {\n                      e.target.parentElement.parentElement.parentElement.classList.add('hlight');\n                    }}\n                    onBlur={(e) => {\n                      e.target.parentElement.parentElement.parentElement.classList.remove('hlight');\n                    }}\n                  />\n                </div>\n                <div className=\"PositionEditor-token-symbol\">USD</div>\n              </div>\n            </div>\n          )}\n          {renderMinProfitWarning()}\n          {shouldShowExistingOrderWarning && renderExistingOrderWarning()}\n          <div className=\"PositionEditor-info-box\">\n            {minExecutionFeeErrorMessage && (\n              <div className=\"Confirmation-box-warning\">{minExecutionFeeErrorMessage}</div>\n            )}\n            {hasPendingProfit && orderOption !== STOP && (\n              <div className=\"PositionEditor-accept-profit-warning\">\n                <Checkbox isChecked={isProfitWarningAccepted} setIsChecked={setIsProfitWarningAccepted}>\n                  <span className=\"muted\">Forfeit profit</span>\n                </Checkbox>\n              </div>\n            )}\n            {/* <div className=\"PositionEditor-keep-leverage-settings\">\n              <Checkbox isChecked={keepLeverage} setIsChecked={setKeepLeverage}>\n                <span className=\"muted font-sm\">Keep leverage at {formatAmount(position.leverage, 4, 2)}x</span>\n              </Checkbox>\n            </div> */}\n            {/* {orderOption === MARKET && (\n              <div className=\"PositionEditor-allow-higher-slippage\">\n                <Checkbox isChecked={isHigherSlippageAllowed} setIsChecked={setIsHigherSlippageAllowed}>\n                  <span className=\"muted font-sm\">Allow up to 1% slippage</span>\n                </Checkbox>\n              </div>\n            )} */}\n            {orderOption === MARKET && (\n              <div>\n                <ExchangeInfoRow label=\"Allowed Slippage\" className=\"Slippage-row\">\n                  <Tooltip\n                    handle={`${formatAmount(allowedSlippage, 2, 2)}%`}\n                    position=\"right-bottom\"\n                    renderContent={() => {\n                      return (\n                        <>\n                          You can change this in the settings menu on the top right of the page.\n                          <br />\n                          <br />\n                          Note that a low allowed slippage, e.g. less than 0.5%, may result in failed orders if prices\n                          are volatile.\n                        </>\n                      );\n                    }}\n                  />\n                </ExchangeInfoRow>\n              </div>\n            )}\n            {orderOption === STOP && (\n              <div className=\"Exchange-info-row\">\n                <div className=\"Exchange-info-label\">\n                  <Trans>Trigger Price</Trans>\n                </div>\n                <div className=\"align-right\">\n                  {!triggerPriceUsd && \"-\"}\n                  {triggerPriceUsd && `${triggerPricePrefix} ${formatAmount(triggerPriceUsd, USD_DECIMALS, 2, true)}`}\n                </div>\n              </div>\n            )}\n            <div className=\"Exchange-info-row top-line\">\n              <div className=\"Exchange-info-label\">\n                <Trans>Mark Price</Trans>\n              </div>\n              <div className=\"align-right\">${formatAmount(position.markPrice, USD_DECIMALS, 2, true)}</div>\n            </div>\n            <div className=\"Exchange-info-row\">\n              <div className=\"Exchange-info-label\">\n                <Trans>Entry Price</Trans>\n              </div>\n              <div className=\"align-right\">${formatAmount(position.averagePrice, USD_DECIMALS, 2, true)}</div>\n            </div>\n            <div className=\"Exchange-info-row\">\n              <div className=\"Exchange-info-label\">\n                <Trans>Liq. Price</Trans>\n              </div>\n              <div className=\"align-right\">\n                {isClosing && orderOption !== STOP && \"-\"}\n                {(!isClosing || orderOption === STOP) && (\n                  <div>\n                    {(!nextLiquidationPrice || nextLiquidationPrice.eq(liquidationPrice)) && (\n                      <div>{`$${formatAmount(liquidationPrice, USD_DECIMALS, 2, true)}`}</div>\n                    )}\n                    {nextLiquidationPrice && !nextLiquidationPrice.eq(liquidationPrice) && (\n                      <div>\n                        <div className=\"inline-block muted\">\n                          ${formatAmount(liquidationPrice, USD_DECIMALS, 2, true)}\n                          <BsArrowRight className=\"transition-arrow\" />\n                        </div>\n                        ${formatAmount(nextLiquidationPrice, USD_DECIMALS, 2, true)}\n                      </div>\n                    )}\n                  </div>\n                )}\n              </div>\n            </div>\n            <div className=\"Exchange-info-row top-line\">\n              <div className=\"Exchange-info-label\">\n                <Trans>Size</Trans>\n              </div>\n              <div className=\"align-right\">\n                {position && position.size && fromAmount && (\n                  <div>\n                    <div className=\"inline-block muted\">\n                      ${formatAmount(position.size, USD_DECIMALS, 2, true)}\n                      <BsArrowRight className=\"transition-arrow\" />\n                    </div>\n                    ${formatAmount(position.size.sub(fromAmount), USD_DECIMALS, 2, true)}\n                  </div>\n                )}\n                {position && position.size && !fromAmount && (\n                  <div>${formatAmount(position.size, USD_DECIMALS, 2, true)}</div>\n                )}\n              </div>\n            </div>\n            <div className=\"Exchange-info-row\">\n              <div className=\"Exchange-info-label\">\n                <Trans>Collateral ({collateralToken.symbol})</Trans>\n              </div>\n              <div className=\"align-right\">\n                {nextCollateral && !nextCollateral.eq(position.collateral) ? (\n                  <div>\n                    <div className=\"inline-block muted\">\n                      ${formatAmount(position.collateral, USD_DECIMALS, 2, true)}\n                      <BsArrowRight className=\"transition-arrow\" />\n                    </div>\n                    ${formatAmount(nextCollateral, USD_DECIMALS, 2, true)}\n                  </div>\n                ) : (\n                  `$${formatAmount(position.collateral, USD_DECIMALS, 4, true)}`\n                )}\n              </div>\n            </div>\n            {!keepLeverage && (\n              <div className=\"Exchange-info-row\">\n                <div className=\"Exchange-info-label\">\n                  <Trans>Leverage</Trans>\n                </div>\n                <div className=\"align-right\">\n                  {isClosing && \"-\"}\n                  {!isClosing && (\n                    <div>\n                      {!nextLeverage && <div>{formatAmount(position.leverage, 4, 2)}x</div>}\n                      {nextLeverage && (\n                        <div>\n                          <div className=\"inline-block muted\">\n                            {formatAmount(position.leverage, 4, 2)}x\n                            <BsArrowRight className=\"transition-arrow\" />\n                          </div>\n                          {formatAmount(nextLeverage, 4, 2)}x\n                        </div>\n                      )}\n                    </div>\n                  )}\n                </div>\n              </div>\n            )}\n            <div className=\"Exchange-info-row\">\n              <div className=\"Exchange-info-label\">\n                <Trans>PnL</Trans>\n              </div>\n              <div className=\"align-right\">\n                {deltaStr} ({deltaPercentageStr})\n              </div>\n            </div>\n\n            <div className=\"Exchange-info-row\">\n              <div className=\"Exchange-info-label\">\n                <Trans>Fees</Trans>\n              </div>\n              <div className=\"align-right\">\n                <Tooltip\n                  position=\"right-top\"\n                  className=\"PositionSeller-fees-tooltip\"\n                  handle={\n                    <div>\n                      {totalFees ? `$${formatAmount(totalFees.add(executionFeeUsd), USD_DECIMALS, 2, true)}` : \"-\"}\n                    </div>\n                  }\n                  renderContent={() => (\n                    <div>\n                      {fundingFee && (\n                        <StatsTooltipRow label=\"Borrow fee\" value={formatAmount(fundingFee, USD_DECIMALS, 2, true)} />\n                      )}\n\n                      {positionFee && (\n                        <StatsTooltipRow label=\"Closing fee\" value={formatAmount(positionFee, USD_DECIMALS, 2, true)} />\n                      )}\n\n                      {swapFee && (\n                        <StatsTooltipRow\n                          label=\"Swap fee\"\n                          showDollar={false}\n                          value={`${formatAmount(swapFeeToken, collateralToken.decimals, 5)} ${collateralToken.symbol}\n                           ($${formatAmount(swapFee, USD_DECIMALS, 2, true)})`}\n                        />\n                      )}\n\n                      <StatsTooltipRow\n                        label=\"Execution fee\"\n                        showDollar={false}\n                        value={`${formatAmount(executionFee, 18, 5, true)} ${nativeTokenSymbol} ($${formatAmount(\n                          executionFeeUsd,\n                          USD_DECIMALS,\n                          2\n                        )})`}\n                      />\n\n                      <br />\n\n                      <div className=\"PositionSeller-fee-item\">\n                        <a href=\"https://gmxio.gitbook.io/gmx/trading#fees\" target=\"_blank\" rel=\"noopener noreferrer\">\n                          More Info\n                        </a>{\" \"}\n                        about fees.\n                      </div>\n                    </div>\n                  )}\n                />\n              </div>\n            </div>\n            <div className=\"Exchange-info-row PositionSeller-receive-row top-line\">\n              <div className=\"Exchange-info-label\">\n                <Trans>Receive</Trans>\n              </div>\n\n              {!isSwapAllowed && receiveToken && (\n                <div className=\"align-right PositionSelector-selected-receive-token\">\n                  {formatAmount(convertedReceiveAmount, receiveToken.decimals, 4, true)}&nbsp;{receiveToken.symbol} ($\n                  {formatAmount(receiveAmount, USD_DECIMALS, 2, true)})\n                </div>\n              )}\n\n              {isSwapAllowed && receiveToken && (\n                <div className=\"align-right\">\n                  <TokenSelector\n                    // Scroll lock lead to side effects\n                    // if it applied on modal inside another modal\n                    disableBodyScrollLock={true}\n                    className={cx(\"PositionSeller-token-selector\", {\n                      warning: isNotEnoughReceiveTokenLiquidity || isCollateralPoolCapacityExceeded,\n                    })}\n                    label={\"Receive\"}\n                    showBalances={false}\n                    chainId={chainId}\n                    tokenAddress={receiveToken.address}\n                    onSelectToken={(token) => {\n                      setSwapToToken(token);\n                      setSavedRecieveTokenAddress(token.address);\n                    }}\n                    tokens={toTokens}\n                    getTokenState={(tokenOptionInfo) => {\n                      if (!shouldSwap(collateralToken, tokenOptionInfo)) {\n                        return;\n                      }\n\n                      const convertedTokenAmount = getTokenAmount(\n                        receiveAmount,\n                        tokenOptionInfo.address,\n                        false,\n                        infoTokens\n                      );\n\n                      const isNotEnoughLiquidity =\n                        tokenOptionInfo.availableAmount.lt(convertedTokenAmount) ||\n                        tokenOptionInfo.bufferAmount.gt(tokenOptionInfo.poolAmount.sub(convertedTokenAmount));\n\n                      if (isNotEnoughLiquidity) {\n                        const { maxIn, maxOut, maxInUsd, maxOutUsd } = getSwapLimits(\n                          infoTokens,\n                          collateralToken.address,\n                          tokenOptionInfo.address\n                        );\n\n                        const collateralInfo = getTokenInfo(infoTokens, collateralToken.address);\n\n                        return {\n                          disabled: true,\n                          message: (\n                            <div>\n                              Insufficient Available Liquidity to swap to {tokenOptionInfo.symbol}:\n                              <br />\n                              <br />\n                              <StatsTooltipRow\n                                label={`Max ${collateralInfo.symbol} in`}\n                                value={[\n                                  `${formatAmount(maxIn, collateralInfo.decimals, 0, true)} ${collateralInfo.symbol}`,\n                                  `($${formatAmount(maxInUsd, USD_DECIMALS, 0, true)})`,\n                                ]}\n                              />\n                              <br />\n                              <StatsTooltipRow\n                                label={`Max ${tokenOptionInfo.symbol} out`}\n                                value={[\n                                  `${formatAmount(maxOut, tokenOptionInfo.decimals, 0, true)} ${\n                                    tokenOptionInfo.symbol\n                                  }`,\n                                  `($${formatAmount(maxOutUsd, USD_DECIMALS, 0, true)})`,\n                                ]}\n                              />\n                            </div>\n                          ),\n                        };\n                      }\n                    }}\n                    infoTokens={infoTokens}\n                    showTokenImgInDropdown={true}\n                    selectedTokenLabel={\n                      <span className=\"PositionSelector-selected-receive-token\">\n                        {formatAmount(convertedReceiveAmount, receiveToken.decimals, 4, true)}&nbsp;\n                        {receiveToken.symbol} (${formatAmount(receiveAmount, USD_DECIMALS, 2, true)})\n                      </span>\n                    }\n                  />\n                </div>\n              )}\n            </div>\n          </div>\n          <div className=\"Exchange-swap-button-container\">\n            <button className={\"App-cta Exchange-swap-button\" + (isPrimaryEnabled() ? \" hlight\" : \"\")} onClick={onClickPrimary} disabled={!isPrimaryEnabled()}>\n              {getPrimaryText()}\n            </button>\n          </div>\n        </Modal>\n      )}\n    </div>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport useSWR from \"swr\";\nimport { Trans, t } from \"@lingui/macro\";\nimport { ethers } from \"ethers\";\nimport { BsArrowRight } from \"react-icons/bs\";\n\nimport {\n  USD_DECIMALS,\n  BASIS_POINTS_DIVISOR,\n  DEPOSIT_FEE,\n  DUST_BNB,\n  helperToast,\n  formatAmount,\n  bigNumberify,\n  usePrevious,\n  formatAmountFree,\n  parseValue,\n  expandDecimals,\n  shouldRaiseGasError,\n  getTokenInfo,\n  getLiquidationPrice,\n  approveTokens,\n  IS_NETWORK_DISABLED,\n  getChainName,\n  MAX_ALLOWED_LEVERAGE,\n} from \"../../lib/legacy\";\nimport { getContract } from \"../../config/Addresses\";\nimport Tab from \"../Tab/Tab\";\nimport Modal from \"../Modal/Modal\";\n\nimport PositionRouter from \"../../abis/PositionRouter.json\";\nimport Token from \"../../abis/Token.json\";\nimport Tooltip from \"../Tooltip/Tooltip\";\n\nimport { getConstant } from \"../../config/chains\";\nimport StatsTooltipRow from \"../StatsTooltip/StatsTooltipRow\";\nimport { fetcher } from \"../../lib/contracts/fetcher\";\nimport { callContract } from \"../../lib/contracts/callContract\";\n\nimport depositImg from '../../img/ddl/icon_dollar.svg'\nimport depositActiveImg from '../../img/ddl/icon_dollar_active.svg'\nimport withdrawImg from '../../img/ddl/icon_withdraw.svg'\nimport withdrawActiveImg from '../../img/ddl/icon_withdraw_active.svg'\n\nconst DEPOSIT = t`Deposit`;\nconst WITHDRAW = t`Withdraw`;\nconst EDIT_OPTIONS = [DEPOSIT, WITHDRAW];\nconst EDIT_ICONS = {\n  [DEPOSIT]: depositImg,\n  [WITHDRAW]: withdrawImg,\n  [DEPOSIT + '_active']: depositActiveImg,\n  [WITHDRAW + '_active']: withdrawActiveImg,\n\n}\nconst { AddressZero } = ethers.constants;\n\nexport default function PositionEditor(props) {\n  const {\n    pendingPositions,\n    setPendingPositions,\n    positionsMap,\n    positionKey,\n    isVisible,\n    setIsVisible,\n    infoTokens,\n    active,\n    account,\n    library,\n    collateralTokenAddress,\n    pendingTxns,\n    setPendingTxns,\n    getUsd,\n    getLeverage,\n    savedIsPnlInLeverage,\n    positionRouterApproved,\n    isWaitingForPositionRouterApproval,\n    isPositionRouterApproving,\n    approvePositionRouter,\n    chainId,\n    minExecutionFee,\n    minExecutionFeeUSD,\n    minExecutionFeeErrorMessage,\n  } = props;\n  const nativeTokenAddress = getContract(chainId, \"NATIVE_TOKEN\");\n  const position = positionsMap && positionKey ? positionsMap[positionKey] : undefined;\n  const [option, setOption] = useState(DEPOSIT);\n  const [fromValue, setFromValue] = useState(\"\");\n  const [isApproving, setIsApproving] = useState(false);\n  const [isSwapping, setIsSwapping] = useState(false);\n  const prevIsVisible = usePrevious(isVisible);\n\n  const routerAddress = getContract(chainId, \"Router\");\n  const positionRouterAddress = getContract(chainId, \"PositionRouter\");\n\n  const { data: tokenAllowance } = useSWR(\n    [active, chainId, collateralTokenAddress, \"allowance\", account, routerAddress],\n    {\n      fetcher: fetcher(library, Token),\n    }\n  );\n\n  // const { data: minExecutionFee } = useSWR([active, chainId, positionRouterAddress, \"minExecutionFee\"], {\n  //   fetcher: fetcher(library, PositionRouter),\n  // });\n\n  const isDeposit = option === DEPOSIT;\n  const isWithdrawal = option === WITHDRAW;\n\n  const needPositionRouterApproval = !positionRouterApproved;\n\n  let collateralToken;\n  let maxAmount;\n  let maxAmountFormatted;\n  let maxAmountFormattedFree;\n  let fromAmount;\n  let needApproval;\n\n  let convertedAmount;\n  let convertedAmountFormatted;\n\n  let nextLeverage;\n  let nextLeverageExcludingPnl;\n  let liquidationPrice;\n  let nextLiquidationPrice;\n  let nextCollateral;\n\n  let title;\n  let collateralDelta;\n  if (position) {\n    title = `Edit ${position.isLong ? \"Long\" : \"Short\"} ${position.indexToken.symbol}`;\n    collateralToken = position.collateralToken;\n    liquidationPrice = getLiquidationPrice(position);\n\n    if (isDeposit) {\n      fromAmount = parseValue(fromValue, collateralToken.decimals);\n      maxAmount = collateralToken ? collateralToken.balance : bigNumberify(0);\n      maxAmountFormatted = formatAmount(maxAmount, collateralToken.decimals, 4, true);\n      maxAmountFormattedFree = formatAmountFree(maxAmount, collateralToken.decimals, 8);\n      if (fromAmount) {\n        convertedAmount = getUsd(fromAmount, position.collateralToken.address, false, infoTokens);\n        convertedAmountFormatted = formatAmount(convertedAmount, USD_DECIMALS, 2);\n      }\n    } else {\n      fromAmount = parseValue(fromValue, USD_DECIMALS);\n      maxAmount = position.collateral;\n      maxAmountFormatted = formatAmount(maxAmount, USD_DECIMALS, 2, true);\n      maxAmountFormattedFree = formatAmountFree(maxAmount, USD_DECIMALS, 2);\n      if (fromAmount) {\n        convertedAmount = fromAmount.mul(expandDecimals(1, collateralToken.decimals)).div(collateralToken.maxPrice);\n        convertedAmountFormatted = formatAmount(convertedAmount, collateralToken.decimals, 4, true);\n      }\n    }\n    needApproval = isDeposit && tokenAllowance && fromAmount && fromAmount.gt(tokenAllowance);\n\n    if (fromAmount) {\n      collateralDelta = isDeposit ? convertedAmount : fromAmount;\n      if (position.isLong) {\n        collateralDelta = collateralDelta.mul(BASIS_POINTS_DIVISOR - DEPOSIT_FEE).div(BASIS_POINTS_DIVISOR);\n      }\n      nextLeverage = getLeverage({\n        size: position.size,\n        collateral: position.collateral,\n        collateralDelta,\n        increaseCollateral: isDeposit,\n        entryFundingRate: position.entryFundingRate,\n        cumulativeFundingRate: position.cumulativeFundingRate,\n        hasProfit: position.hasProfit,\n        delta: position.delta,\n        includeDelta: savedIsPnlInLeverage,\n      });\n      nextLeverageExcludingPnl = getLeverage({\n        size: position.size,\n        collateral: position.collateral,\n        collateralDelta,\n        increaseCollateral: isDeposit,\n        entryFundingRate: position.entryFundingRate,\n        cumulativeFundingRate: position.cumulativeFundingRate,\n        hasProfit: position.hasProfit,\n        delta: position.delta,\n        includeDelta: false,\n      });\n\n      nextLiquidationPrice = getLiquidationPrice({\n        isLong: position.isLong,\n        size: position.size,\n        collateral: position.collateral,\n        averagePrice: position.averagePrice,\n        entryFundingRate: position.entryFundingRate,\n        cumulativeFundingRate: position.cumulativeFundingRate,\n        collateralDelta,\n        increaseCollateral: isDeposit,\n      });\n\n      nextCollateral = isDeposit ? position.collateral.add(collateralDelta) : position.collateral.sub(collateralDelta);\n    }\n  }\n\n  const getError = () => {\n    if (IS_NETWORK_DISABLED[chainId]) {\n      if (isDeposit) return [t`Deposit disabled, pending ${getChainName(chainId)} upgrade`];\n      return [t`Withdraw disabled, pending ${getChainName(chainId)} upgrade`];\n    }\n    if (!fromAmount) {\n      return t`Enter an amount`;\n    }\n    if (nextLeverage && nextLeverage.eq(0)) {\n      return t`Enter an amount`;\n    }\n\n    if (!isDeposit && fromAmount) {\n      if (fromAmount.gte(position.collateral)) {\n        return t`Min order: 10 USD`;\n      }\n      if (position.collateral.sub(fromAmount).lt(expandDecimals(10, USD_DECIMALS))) {\n        return t`Min order: 10 USD`;\n      }\n    }\n\n    if (!isDeposit && fromAmount && nextLiquidationPrice) {\n      if (position.isLong && position.markPrice.lt(nextLiquidationPrice)) {\n        return t`Invalid liq. price`;\n      }\n      if (!position.isLong && position.markPrice.gt(nextLiquidationPrice)) {\n        return t`Invalid liq. price`;\n      }\n    }\n\n    if (nextLeverageExcludingPnl && nextLeverageExcludingPnl.lt(1.1 * BASIS_POINTS_DIVISOR)) {\n      return t`Min leverage: 1.1x`;\n    }\n\n    if (nextLeverageExcludingPnl && nextLeverageExcludingPnl.gt(MAX_ALLOWED_LEVERAGE)) {\n      return t`Max leverage: ${(MAX_ALLOWED_LEVERAGE / BASIS_POINTS_DIVISOR).toFixed(1)}x`;\n    }\n  };\n\n  const isPrimaryEnabled = () => {\n    const error = getError();\n    if (error) {\n      return false;\n    }\n    if (isSwapping) {\n      return false;\n    }\n    if (needPositionRouterApproval && isWaitingForPositionRouterApproval) {\n      return false;\n    }\n    if (isPositionRouterApproving) {\n      return false;\n    }\n\n    return true;\n  };\n\n  const getPrimaryText = () => {\n    const error = getError();\n    if (error) {\n      return error;\n    }\n    if (isSwapping) {\n      if (isDeposit) {\n        return t`Depositing...`;\n      }\n      return t`Withdrawing...`;\n    }\n\n    if (isApproving) {\n      return t`Approving ${position.collateralToken.symbol}...`;\n    }\n    if (needApproval) {\n      return t`Approve ${position.collateralToken.symbol}`;\n    }\n\n    if (needPositionRouterApproval && isWaitingForPositionRouterApproval) {\n      return t`Enabling Leverage`;\n    }\n\n    if (isPositionRouterApproving) {\n      return t`Enabling Leverage...`;\n    }\n\n    if (needPositionRouterApproval) {\n      return t`Enable Leverage`;\n    }\n\n    if (isDeposit) {\n      return t`Deposit`;\n    }\n\n    return t`Withdraw`;\n  };\n\n  const resetForm = () => {\n    setFromValue(\"\");\n  };\n\n  useEffect(() => {\n    if (prevIsVisible !== isVisible) {\n      resetForm();\n    }\n  }, [prevIsVisible, isVisible]);\n\n  const depositCollateral = async () => {\n    setIsSwapping(true);\n    const tokenAddress0 = collateralTokenAddress === AddressZero ? nativeTokenAddress : collateralTokenAddress;\n    const path = [tokenAddress0];\n    const indexTokenAddress =\n      position.indexToken.address === AddressZero ? nativeTokenAddress : position.indexToken.address;\n\n    const priceBasisPoints = position.isLong ? 11000 : 9000;\n    const priceLimit = position.indexToken.maxPrice.mul(priceBasisPoints).div(10000);\n\n    const referralCode = ethers.constants.HashZero;\n    let params = [\n      path, // _path\n      indexTokenAddress, // _indexToken\n      fromAmount, // _amountIn\n      0, // _minOut\n      0, // _sizeDelta\n      position.isLong, // _isLong\n      priceLimit, // _acceptablePrice\n      minExecutionFee, // _executionFee\n      referralCode, // _referralCode\n      AddressZero, // _callbackTarget\n    ];\n\n    let method = \"createIncreasePosition\";\n    let value = minExecutionFee;\n    if (collateralTokenAddress === AddressZero) {\n      method = \"createIncreasePositionETH\";\n      value = fromAmount.add(minExecutionFee);\n      params = [\n        path, // _path\n        indexTokenAddress, // _indexToken\n        0, // _minOut\n        0, // _sizeDelta\n        position.isLong, // _isLong\n        priceLimit, // _acceptablePrice\n        minExecutionFee, // _executionFee\n        referralCode, // _referralCode\n        AddressZero, // _callbackTarget\n      ];\n    }\n\n    if (shouldRaiseGasError(getTokenInfo(infoTokens, collateralTokenAddress), fromAmount)) {\n      setIsSwapping(false);\n      helperToast.error(`Leave at least ${formatAmount(DUST_BNB, 18, 3)} ETH for gas`);\n      return;\n    }\n\n    const contract = new ethers.Contract(positionRouterAddress, PositionRouter.abi, library.getSigner());\n    callContract(chainId, contract, method, params, {\n      value,\n      sentMsg: t`Deposit submitted.`,\n      successMsg: t`Requested deposit of ${formatAmount(fromAmount, position.collateralToken.decimals, 4)} ${\n        position.collateralToken.symbol\n      } into ${position.indexToken.symbol} ${position.isLong ? \"Long\" : \"Short\"}.`,\n      failMsg: t`Deposit failed.`,\n      setPendingTxns,\n    })\n      .then(async (res) => {\n        setFromValue(\"\");\n        setIsVisible(false);\n\n        pendingPositions[position.key] = {\n          updatedAt: Date.now(),\n          pendingChanges: {\n            collateralSnapshot: position.collateral,\n            expectingCollateralChange: true,\n          },\n        };\n\n        setPendingPositions({ ...pendingPositions });\n      })\n      .finally(() => {\n        setIsSwapping(false);\n      });\n  };\n\n  const withdrawCollateral = async () => {\n    setIsSwapping(true);\n    const tokenAddress0 = collateralTokenAddress === AddressZero ? nativeTokenAddress : collateralTokenAddress;\n    const indexTokenAddress =\n      position.indexToken.address === AddressZero ? nativeTokenAddress : position.indexToken.address;\n    const priceBasisPoints = position.isLong ? 9000 : 11000;\n    const priceLimit = position.indexToken.maxPrice.mul(priceBasisPoints).div(10000);\n\n    const withdrawETH = collateralTokenAddress === AddressZero || collateralTokenAddress === nativeTokenAddress;\n    const params = [\n      [tokenAddress0], // _path\n      indexTokenAddress, // _indexToken\n      fromAmount, // _collateralDelta\n      0, // _sizeDelta\n      position.isLong, // _isLong\n      account, // _receiver\n      priceLimit, // _acceptablePrice\n      0, // _minOut\n      minExecutionFee, // _executionFee\n      withdrawETH, // _withdrawETH\n      AddressZero, // _callbackTarget\n    ];\n\n    const method = \"createDecreasePosition\";\n\n    const contract = new ethers.Contract(positionRouterAddress, PositionRouter.abi, library.getSigner());\n    callContract(chainId, contract, method, params, {\n      value: minExecutionFee,\n      sentMsg: t`Withdrawal submitted.`,\n      successMsg: t`Requested withdrawal of ${formatAmount(fromAmount, USD_DECIMALS, 2)} USD from ${\n        position.indexToken.symbol\n      } ${position.isLong ? \"Long\" : \"Short\"}.`,\n      failMsg: t`Withdrawal failed.`,\n      setPendingTxns,\n    })\n      .then(async (res) => {\n        setFromValue(\"\");\n        setIsVisible(false);\n\n        pendingPositions[position.key] = {\n          updatedAt: Date.now(),\n          pendingChanges: {\n            collateralSnapshot: position.collateral,\n            expectingCollateralChange: true,\n          },\n        };\n      })\n      .finally(() => {\n        setIsSwapping(false);\n      });\n  };\n\n  const onClickPrimary = () => {\n    if (needApproval) {\n      approveTokens({\n        setIsApproving,\n        library,\n        tokenAddress: collateralTokenAddress,\n        spender: routerAddress,\n        chainId: chainId,\n        infoTokens,\n        getTokenInfo,\n        pendingTxns,\n        setPendingTxns,\n      });\n      return;\n    }\n\n    if (needPositionRouterApproval) {\n      approvePositionRouter({\n        sentMsg: isDeposit ? t`Enable deposit sent.` : t`Enable withdraw sent.`,\n        failMsg: isDeposit ? t`Enable deposit failed.` : t`Enable withdraw failed.`,\n      });\n      return;\n    }\n\n    if (isDeposit) {\n      depositCollateral();\n      return;\n    }\n\n    withdrawCollateral();\n  };\n  const nativeTokenSymbol = getConstant(chainId, \"nativeTokenSymbol\");\n\n\n  const [hasInputFocus, setHasInputFocus] = useState(false);\n  const [hasInputError, setHasInputError] = useState(false);\n  const checkInputError = (inputVal) => {\n    if (!isPrimaryEnabled() && inputVal !== '') {\n      setHasInputError(true);\n    } else {\n      setHasInputError(false);\n    }\n  }\n\n  useEffect(() => {\n    checkInputError(fromValue);\n  }, [fromValue])\n\n  return (\n    <div className=\"PositionEditor\">\n      {position && (\n        <Modal isVisible={isVisible} setIsVisible={setIsVisible} label={title} isNifty={true}>\n          <div>\n            <Tab options={EDIT_OPTIONS} option={option} setOption={setOption} onChange={resetForm}\n              icons={EDIT_ICONS} />\n            {(isDeposit || isWithdrawal) && (\n              <div>\n                <div className={\"Exchange-swap-section\"\n                  + (hasInputError ? \" error\" : \"\") + (hasInputFocus ? \" hlight\" : \"\")}>\n                  <div className=\"Exchange-swap-section-top\">\n                    <div className=\"muted\">\n                      {convertedAmountFormatted && (\n                        <div className=\"Exchange-swap-usd\">\n                          {isDeposit ? t`Deposit` : t`Withdraw`}: {convertedAmountFormatted}{\" \"}\n                          {isDeposit ? \"USD\" : position.collateralToken.symbol}\n                        </div>\n                      )}\n                      {!convertedAmountFormatted && `${isDeposit ? t`Deposit` : t`Withdraw`}`}\n                    </div>\n                    {maxAmount && (\n                      <div className=\"muted align-right clickable\" onClick={() => setFromValue(maxAmountFormattedFree)}>\n                        Max: {maxAmountFormatted}\n                      </div>\n                    )}\n                  </div>\n                  <div className=\"Exchange-swap-section-bottom\">\n                    <div className=\"Exchange-swap-input-container\">\n                      <input\n                        type=\"number\"\n                        min=\"0\"\n                        placeholder=\"0.0\"\n                        className=\"Exchange-swap-input\"\n                        value={fromValue}\n                        onChange={(e) => setFromValue(e.target.value)}\n                        onFocus={(e) => {\n                          setHasInputFocus(true);\n                        }}\n                        onBlur={(e) => {\n                          setHasInputFocus(false);\n                        }}\n                      />\n                      {fromValue !== maxAmountFormattedFree && (\n                        <div\n                          className=\"Exchange-swap-max\"\n                          onClick={() => {\n                            setFromValue(maxAmountFormattedFree);\n                          }}\n                        >\n                          MAX\n                        </div>\n                      )}\n                    </div>\n                    <div className=\"PositionEditor-token-symbol\">\n                      {isDeposit ? position.collateralToken.symbol : \"USD\"}\n                    </div>\n                  </div>\n                </div>\n                <div className=\"PositionEditor-info-box\">\n                  {minExecutionFeeErrorMessage && (\n                    <div className=\"Confirmation-box-warning\">{minExecutionFeeErrorMessage}</div>\n                  )}\n                  <div className=\"Exchange-info-row\">\n                    <div className=\"Exchange-info-label\">\n                      <Trans>Size</Trans>\n                    </div>\n                    <div className=\"align-right\">{formatAmount(position.size, USD_DECIMALS, 2, true)} USD</div>\n                  </div>\n                  <div className=\"Exchange-info-row\">\n                    <div className=\"Exchange-info-label\">\n                      <Trans>Collateral</Trans>\n                    </div>\n                    <div className=\"align-right\">\n                      {!nextCollateral && <div>${formatAmount(position.collateral, USD_DECIMALS, 2, true)}</div>}\n                      {nextCollateral && (\n                        <div>\n                          <div className=\"inline-block muted\">\n                            ${formatAmount(position.collateral, USD_DECIMALS, 2, true)}\n                            <BsArrowRight className=\"transition-arrow\" />\n                          </div>\n                          ${formatAmount(nextCollateral, USD_DECIMALS, 2, true)}\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                  <div className=\"Exchange-info-row\">\n                    <div className=\"Exchange-info-label\">\n                      <Trans>Leverage</Trans>\n                    </div>\n                    <div className=\"align-right\">\n                      {!nextLeverage && <div>{formatAmount(position.leverage, 4, 2, true)}x</div>}\n                      {nextLeverage && (\n                        <div>\n                          <div className=\"inline-block muted\">\n                            {formatAmount(position.leverage, 4, 2, true)}x\n                            <BsArrowRight className=\"transition-arrow\" />\n                          </div>\n                          {formatAmount(nextLeverage, 4, 2, true)}x\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                  <div className=\"Exchange-info-row\">\n                    <div className=\"Exchange-info-label\">\n                      <Trans>Mark Price</Trans>\n                    </div>\n                    <div className=\"align-right\">${formatAmount(position.markPrice, USD_DECIMALS, 2, true)}</div>\n                  </div>\n                  <div className=\"Exchange-info-row\">\n                    <div className=\"Exchange-info-label\">\n                      <Trans>Liq. Price</Trans>\n                    </div>\n                    <div className=\"align-right\">\n                      {!nextLiquidationPrice && (\n                        <div>\n                          {!fromAmount && `$${formatAmount(liquidationPrice, USD_DECIMALS, 2, true)}`}\n                          {fromAmount && \"-\"}\n                        </div>\n                      )}\n                      {nextLiquidationPrice && (\n                        <div>\n                          <div className=\"inline-block muted\">\n                            ${formatAmount(liquidationPrice, USD_DECIMALS, 2, true)}\n                            <BsArrowRight className=\"transition-arrow\" />\n                          </div>\n                          ${formatAmount(nextLiquidationPrice, USD_DECIMALS, 2, true)}\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                  <div className=\"Exchange-info-row\">\n                    <div className=\"Exchange-info-label\">\n                      <Trans>Execution Fee</Trans>\n                    </div>\n                    <div className=\"align-right\">\n                      <Tooltip\n                        handle={`${formatAmountFree(minExecutionFee, 18, 5)} ${nativeTokenSymbol}`}\n                        position=\"right-top\"\n                        renderContent={() => {\n                          return (\n                            <>\n                              <StatsTooltipRow\n                                label=\"Network fee\"\n                                showDollar={false}\n                                value={`${formatAmountFree(\n                                  minExecutionFee,\n                                  18,\n                                  5\n                                )} ${nativeTokenSymbol} ($${formatAmount(minExecutionFeeUSD, USD_DECIMALS, 2)})`}\n                              />\n                              <br />\n                              This is the network cost required to execute the {isDeposit\n                                ? \"deposit\"\n                                : \"withdrawal\"}.{\" \"}\n                              <a\n                                href=\"https://gmxio.gitbook.io/gmx/trading#execution-fee\"\n                                target=\"_blank\"\n                                rel=\"noopener noreferrer\"\n                              >\n                                More Info\n                              </a>\n                            </>\n                          );\n                        }}\n                      />\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"Exchange-swap-button-container\">\n                  <button\n                    className={\"App-cta Exchange-swap-button\" + (isPrimaryEnabled() ? \" hlight\" : \"\")}\n                    onClick={onClickPrimary}\n                    disabled={!isPrimaryEnabled()}\n                  >\n                    {getPrimaryText()}\n                  </button>\n                </div>\n              </div>\n            )}\n          </div>\n        </Modal>\n      )}\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\nimport { Trans, t } from \"@lingui/macro\";\nimport Modal from \"../Modal/Modal\";\nimport Checkbox from \"../Checkbox/Checkbox\";\n\nimport \"./OrdersToa.css\";\n\nexport default function OrdersToa(props) {\n  const { setIsVisible, isPluginApproving, approveOrderBook } = props;\n\n  const [isChecked, setIsChecked] = useState(false);\n\n  const onConfirmationClick = () => {\n    approveOrderBook().then(() => {\n      setIsVisible(false);\n    });\n  };\n\n  const getPrimaryText = () => {\n    if (isPluginApproving) {\n      return t`Enabling Orders...`;\n    }\n    if (!isChecked) {\n      return t`Accept terms to enable orders`;\n    }\n    return t`Enable Orders`;\n  };\n\n  const isPrimaryEnabled = () => {\n    if (isPluginApproving) {\n      return false;\n    }\n    return isChecked;\n  };\n\n  return null;\n}\n","import \"./SpinningLoader.css\";\n\nimport { ImSpinner2 } from \"react-icons/im\";\n\nfunction SpinningLoader({ size = \"1.25rem\" }) {\n  return <ImSpinner2 className=\"spin spinning-loader\" style={{ fontSize: size }} />;\n}\n\nexport default SpinningLoader;\n","import { useEffect, useRef, useState } from \"react\";\nimport { Trans } from \"@lingui/macro\";\nimport { toJpeg } from \"html-to-image\";\nimport cx from \"classnames\";\nimport { BiCopy } from \"react-icons/bi\";\nimport { RiFileDownloadLine } from \"react-icons/ri\";\nimport { FiTwitter } from \"react-icons/fi\";\nimport { useCopyToClipboard } from \"react-use\";\nimport Modal from \"../Modal/Modal\";\nimport gmxLogo from \"../../img/gmx-logo-with-name.svg\";\nimport \"./PositionShare.css\";\nimport { QRCodeSVG } from \"qrcode.react\";\nimport {\n  formatAmount,\n  getHomeUrl,\n  getRootShareApiUrl,\n  getTwitterIntentURL,\n  helperToast,\n  USD_DECIMALS,\n} from \"../../lib/legacy\";\nimport { useAffiliateCodes } from \"../../domain/referrals\";\nimport SpinningLoader from \"../Common/SpinningLoader\";\nimport useLoadImage from \"../../lib/useLoadImage\";\nimport shareBgImg from \"../../img/position-share-bg.png\";\n\nconst ROOT_SHARE_URL = getRootShareApiUrl();\nconst UPLOAD_URL = ROOT_SHARE_URL + \"/api/upload\";\nconst UPLOAD_SHARE = ROOT_SHARE_URL + \"/api/s\";\nconst config = { quality: 0.95, canvasWidth: 1036, canvasHeight: 584 };\n\nfunction getShareURL(imageInfo, ref) {\n  if (!imageInfo) return;\n  let url = `${UPLOAD_SHARE}?id=${imageInfo.id}`;\n  if (ref.success) {\n    url = url + `&ref=${ref.code}`;\n  }\n  return url;\n}\n\nfunction PositionShare({ setIsPositionShareModalOpen, isPositionShareModalOpen, positionToShare, account, chainId }) {\n  const userAffiliateCode = useAffiliateCodes(chainId, account);\n  const [uploadedImageInfo, setUploadedImageInfo] = useState();\n  const [uploadedImageError, setUploadedImageError] = useState();\n  const [, copyToClipboard] = useCopyToClipboard();\n  const sharePositionBgImg = useLoadImage(shareBgImg);\n  const positionRef = useRef();\n  const tweetLink = getTwitterIntentURL(\n    `Latest $${positionToShare?.indexToken?.symbol} trade on @GMX_IO`,\n    getShareURL(uploadedImageInfo, userAffiliateCode)\n  );\n\n  useEffect(() => {\n    (async function () {\n      const element = positionRef.current;\n      if (element && userAffiliateCode.success && sharePositionBgImg && positionToShare) {\n        const image = await toJpeg(element, config);\n        try {\n          const imageInfo = await fetch(UPLOAD_URL, { method: \"POST\", body: image }).then((res) => res.json());\n          setUploadedImageInfo(imageInfo);\n        } catch {\n          setUploadedImageInfo(null);\n          setUploadedImageError(\"Image generation error, please refresh and try again.\");\n        }\n      }\n    })();\n  }, [userAffiliateCode, sharePositionBgImg, positionToShare]);\n\n  async function handleDownload() {\n    const { indexToken, isLong } = positionToShare;\n    const element = positionRef.current;\n    if (!element) return;\n    const dataUrl = await toJpeg(element, config);\n    const link = document.createElement(\"a\");\n    link.download = `${indexToken.symbol}-${isLong ? \"long\" : \"short\"}.jpeg`;\n    link.href = dataUrl;\n    document.body.appendChild(link);\n    link.click();\n  }\n\n  function handleCopy() {\n    if (!uploadedImageInfo) return;\n    const url = getShareURL(uploadedImageInfo, userAffiliateCode);\n    copyToClipboard(url);\n    helperToast.success(\"Link copied to clipboard.\");\n  }\n  return (\n    <Modal\n      className=\"position-share-modal\"\n      isVisible={isPositionShareModalOpen}\n      setIsVisible={setIsPositionShareModalOpen}\n      label=\"Share Position\"\n    >\n      <PositionShareCard\n        userAffiliateCode={userAffiliateCode}\n        positionRef={positionRef}\n        position={positionToShare}\n        chainId={chainId}\n        account={account}\n        uploadedImageInfo={uploadedImageInfo}\n        uploadedImageError={uploadedImageError}\n        sharePositionBgImg={sharePositionBgImg}\n      />\n      {uploadedImageError && <span className=\"error\">{uploadedImageError}</span>}\n\n      <div className=\"actions\">\n        <button disabled={!uploadedImageInfo} className=\"mr-base App-button-option\" onClick={handleCopy}>\n          <BiCopy className=\"icon\" />\n          <Trans>Copy</Trans>\n        </button>\n        <button className=\"mr-base App-button-option\" onClick={handleDownload}>\n          <RiFileDownloadLine className=\"icon\" />\n          <Trans>Download</Trans>\n        </button>\n        <div className={cx(\"tweet-link-container\", { disabled: !uploadedImageInfo })}>\n          <a\n            target=\"_blank\"\n            className={cx(\"tweet-link App-button-option\", { disabled: !uploadedImageInfo })}\n            rel=\"noreferrer\"\n            href={tweetLink}\n          >\n            <FiTwitter className=\"icon\" />\n            <Trans>Tweet</Trans>\n          </a>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n\nfunction PositionShareCard({\n  positionRef,\n  position,\n  userAffiliateCode,\n  uploadedImageInfo,\n  uploadedImageError,\n  sharePositionBgImg,\n}) {\n  const { code, success } = userAffiliateCode;\n  const { deltaAfterFeesPercentageStr, isLong, leverage, indexToken, averagePrice, markPrice } = position;\n  const homeURL = getHomeUrl();\n  return (\n    <div className=\"relative\">\n      <div ref={positionRef} className=\"position-share\" style={{ backgroundImage: `url(${sharePositionBgImg})` }}>\n        <img className=\"logo\" src={gmxLogo} alt=\"GMX Logo\" />\n        <ul className=\"info\">\n          <li className=\"side\">{isLong ? \"LONG\" : \"SHORT\"}</li>\n          <li>{formatAmount(leverage, 4, 2, true)}x&nbsp;</li>\n          <li>{indexToken.symbol} USD</li>\n        </ul>\n        <h3 className=\"pnl\">{deltaAfterFeesPercentageStr}</h3>\n        <div className=\"prices\">\n          <div>\n            <p>Entry Price</p>\n            <p className=\"price\">${formatAmount(averagePrice, USD_DECIMALS, 2, true)}</p>\n          </div>\n          <div>\n            <p>Index Price</p>\n            <p className=\"price\">${formatAmount(markPrice, USD_DECIMALS, 2, true)}</p>\n          </div>\n        </div>\n        <div className=\"referral-code\">\n          <div>\n            <QRCodeSVG size={32} value={success ? `${homeURL}/#/?ref=${code}` : `${homeURL}`} />\n          </div>\n          <div className=\"referral-code-info\">\n            {success ? (\n              <>\n                <p className=\"label\">Referral Code:</p>\n                <p className=\"code\">{code}</p>\n              </>\n            ) : (\n              <p className=\"code\">https://gmx.io</p>\n            )}\n          </div>\n        </div>\n      </div>\n      {!uploadedImageInfo && !uploadedImageError && (\n        <div className=\"image-overlay-wrapper\">\n          <div className=\"image-overlay\">\n            <SpinningLoader />\n            <p className=\"loading-text\">Generating shareable image...</p>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default PositionShare;\n","import { useEffect, useState } from \"react\";\n\nexport default function useLoadImage(src) {\n  const [sourceLoaded, setSourceLoaded] = useState(null);\n\n  useEffect(() => {\n    const img = new Image();\n    img.src = src;\n    img.onload = () => setSourceLoaded(src);\n  }, [src]);\n\n  return sourceLoaded;\n}\n","import React, { useState } from 'react';\nimport Tooltip from './../Tooltip/Tooltip';\nimport { formatAmount } from '../../lib/legacy';\nimport { ImSpinner2 } from 'react-icons/im';\nimport { t } from '@lingui/macro';\nimport { USD_DECIMALS, INCREASE, STOP } from './../../lib/legacy';\nimport StatsTooltipRow from '../StatsTooltip/StatsTooltipRow';\nimport { Trans } from '@lingui/macro';\nimport './PositionsItem.scss';\nimport icon_edit from '../../../../img/icon-edit.svg';\n\nconst PositionsItem = (props) => {\n\tconst {\n\t\tposition,\n\t\tonPositionClick,\n\t\tsetListSection,\n\t\tpositionOrders,\n\t\tshowPnlAfterFees,\n\t\thasPositionProfit,\n\t\tpositionDelta,\n\t\thasOrderError,\n\t\tliquidationPrice,\n\t\tcx,\n\t\tborrowFeeUSD,\n\t\teditPosition,\n\t\tsellPosition,\n\t\tisLarge,\n\t\tisPending,\n\t\topenSLTPModal,\n\t} = props;\n\n\tconst [isCloseLoading, setIsCloseLoading] = useState(false);\n\n\tconst marketImg = require(`../../../../img/icon-${position.market}.svg`).default;\n\n\tif (position.market === 'GNS') {\n\t\tposition.hasPendingChanges = isPending;\n\t}\n\n\tconst openOrderModal = (market, isTP, position) => {\n\t\tif (market === 'GNS') {\n\t\t\topenSLTPModal(isTP, position);\n\t\t}\n\t\tif (market === 'GMX') {\n\t\t\tconst orderName = isTP ? 'TP' : 'SL';\n\t\t\tif (triggerPricesGMX[orderName]) {\n\t\t\t\tsetListSection && setListSection(\"Orders\");\n\t\t\t} else {\n\t\t\t\tsellPosition(position, setIsCloseLoading, STOP);\n\t\t\t}\n\t\t\t\n\t\t}\n\t}\n\n\tconst triggerOrdersGMX = positionOrders?.filter(order => {\n\t\treturn order.type === 'Decrease';\n\t});\n\tconst triggerPricesGMX = {\n\t\tSL: undefined,\n\t\tTP: undefined,\n\t}\n\ttriggerOrdersGMX.map(order => {\n\t\tconst price = order.triggerPrice;\n\n\t\tif (position.isLong) {\n\t\t\tif (price.gt(position.averagePrice)) {\n\t\t\t\ttriggerPricesGMX.TP = price;\n\t\t\t} else if (price.lt(position.averagePrice)) {\n\t\t\t\ttriggerPricesGMX.SL = price;\n\t\t\t}\n\t\t} else {\n\t\t\tif (price.gt(position.averagePrice)) {\n\t\t\t\ttriggerPricesGMX.SL = price;\n\t\t\t} else if (price.lt(position.averagePrice)) {\n\t\t\t\ttriggerPricesGMX.TP = price;\n\t\t\t}\n\t\t}\n\t})\n\t\n\treturn (\n\t\t<>\n\t\t\t{isLarge ?\n\t\t\t\t<tr>\n\t\t\t\t\t<td className=\"clickable\" onClick={() => onPositionClick(position)}>\n\t\t\t\t\t\t<div className=\"Exchange-list-title\">\n\t\t\t\t\t\t\t{position.indexToken.symbol}\n\t\t\t\t\t\t\t{position.hasPendingChanges && <ImSpinner2 className=\"spin position-loading-icon\" style={{marginLeft: 7}} />}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"Exchange-list-info-label\">\n\t\t\t\t\t\t\t<img className='market-logo' src={marketImg} alt={`${position.market} icon`} />\n\t\t\t\t\t\t\t{position.leverage && (\n\t\t\t\t\t\t\t\t<span className=\"muted\">{formatAmount(position.leverage, 4, 2, true)}x&nbsp;</span>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<span className={cx({ positive: position.isLong, negative: !position.isLong })}>\n\t\t\t\t\t\t\t\t{position.isLong ? \"Long\" : \"Short\"}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<div>${formatAmount(position.size, USD_DECIMALS, 2, true)}</div>\n\t\t\t\t\t\t{positionOrders?.length > 0 && (\n\t\t\t\t\t\t\t<div onClick={() => setListSection && setListSection(\"Orders\")}>\n\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\thandle={`Orders (${positionOrders.length})`}\n\t\t\t\t\t\t\t\t\tposition=\"left-bottom\"\n\t\t\t\t\t\t\t\t\thandleClassName={cx(\n\t\t\t\t\t\t\t\t\t\t[\"Exchange-list-info-label\", \"Exchange-position-list-orders\", \"plain\", \"clickable\"],\n\t\t\t\t\t\t\t\t\t\t{ muted: !hasOrderError, negative: hasOrderError }\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\trenderContent={() => {\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>Active Orders</strong>\n\t\t\t\t\t\t\t\t\t\t\t\t{positionOrders.map((order) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={`${order.isLong}-${order.type}-${order.index}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"Position-list-order\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{order.triggerAboveThreshold ? \">\" : \"<\"}{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{formatAmount(order.triggerPrice, 30, 2, true)}:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{order.type === INCREASE ? \" +\" : \" -\"}${formatAmount(order.sizeDelta, 30, 2, true)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{order.error && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t, <span className=\"negative\">{order.error}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\thandle={`$${formatAmount(position.collateral, USD_DECIMALS, 2, true)}`}\n\t\t\t\t\t\t\tposition=\"left-bottom\"\n\t\t\t\t\t\t\thandleClassName={cx(\"plain\", { negative: position.hasLowCollateral })}\n\t\t\t\t\t\t\trenderContent={() => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t{position.hasLowCollateral && (\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<Trans>\n\t\t\t\t\t\t\t\t\t\t\t\t\tWARNING: This position has a low amount of collateral after deducting borrowing fees,\n\t\t\t\t\t\t\t\t\t\t\t\t\tdeposit more collateral to reduce the position's liquidation risk.\n\t\t\t\t\t\t\t\t\t\t\t\t</Trans>\n\t\t\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t\t\t<StatsTooltipRow\n\t\t\t\t\t\t\t\t\t\t\tlabel={t`Initial Collateral`}\n\t\t\t\t\t\t\t\t\t\t\tvalue={formatAmount(position.collateral, USD_DECIMALS, 2, true)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<StatsTooltipRow\n\t\t\t\t\t\t\t\t\t\t\tlabel={t`Borrow Fee`}\n\t\t\t\t\t\t\t\t\t\t\tvalue={formatAmount(position.fundingFee, USD_DECIMALS, 2, true)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<StatsTooltipRow label={t`Borrow Fee / Day`} value={borrowFeeUSD} />\n\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t\t<Trans>Use the \"Edit\" button to deposit or withdraw collateral.</Trans>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{position.market === 'GMX' && (\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName='edit-btn'\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\teditPosition(position);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<img src={icon_edit} alt=\"Edit position button\" />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</td>\n\t\t\t\t\t<td onClick={() => {\n\t\t\t\t\t\t// onPositionClick(position)\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}} style={{width: 135}}>\n\t\t\t\t\t\t{`$${formatAmount(position.markPrice, USD_DECIMALS, 2, true)}`}\n\t\t\t\t\t</td>\n\t\t\t\t\t<td className=\"\" onClick={() => {\n\t\t\t\t\t\t// onPositionClick(position)\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}}>\n\t\t\t\t\t\t{`$${formatAmount(position.averagePrice, USD_DECIMALS, 2, true)}`}\n\t\t\t\t\t</td>\n\t\t\t\t\t<td className=\"\" onClick={() => {\n\t\t\t\t\t\t// onPositionClick(position)\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}}>\n\t\t\t\t\t\t{`$${formatAmount(liquidationPrice, USD_DECIMALS, 2, true)}`}\n\t\t\t\t\t</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<div style={{ width: 100, display: 'block' }}>\n\t\t\t\t\t\t\t{position.deltaStr && (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName={cx(\"Exchange-list-info-label\", {\n\t\t\t\t\t\t\t\t\t\tpositive: hasPositionProfit && positionDelta.gt(0),\n\t\t\t\t\t\t\t\t\t\tnegative: !hasPositionProfit && positionDelta.gt(0),\n\t\t\t\t\t\t\t\t\t\tmuted: positionDelta.eq(0),\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{position.deltaAfterFeesStr ?? position.deltaStr} ({position.deltaAfterFeesPercentageStr ?? position.deltaPercentageStr})\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\n\t\t\t\t\t</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t{position.market === 'GNS' && position.sl &&\n\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t!position.sl?.eq(0) &&\n\t\t\t\t\t\t\t\t\t('$' + formatAmount(position.sl, 10, 2, true))\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{position.market === 'GMX' && (triggerPricesGMX.SL \n\t\t\t\t\t\t\t? ('$' + formatAmount(triggerPricesGMX.SL, USD_DECIMALS, 2, true))\n\t\t\t\t\t\t\t: '')\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName=\"Exchange-list-action\"\n\t\t\t\t\t\t\tonClick={() => openOrderModal(position.market, false, position)}\n\t\t\t\t\t\t\tdisabled={!position.size || isPending}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{((!position.sl || position.sl?.eq(0)) && !triggerPricesGMX.SL)\n\t\t\t\t\t\t\t\t? 'Set SL'\n\t\t\t\t\t\t\t\t: <img src={icon_edit} alt=\"Edit Stop Loss button\" />}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t{position.market === 'GNS' && position.tp &&\n\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t!position.tp?.eq(0) &&\n\t\t\t\t\t\t\t\t\t('$' + formatAmount(position.tp, 10, 2, true))\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{position.market === 'GMX' && (triggerPricesGMX.TP \n\t\t\t\t\t\t\t? ('$' + formatAmount(triggerPricesGMX.TP, USD_DECIMALS, 2, true))\n\t\t\t\t\t\t\t: '')\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName=\"Exchange-list-action\"\n\t\t\t\t\t\t\tonClick={() => openOrderModal(position.market, true, position)}\n\t\t\t\t\t\t\tdisabled={!position.size || isPending}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{((!position.tp || position.tp?.eq(0)) && !triggerPricesGMX.TP)\n\t\t\t\t\t\t\t\t? 'Set TP'\n\t\t\t\t\t\t\t\t: <img src={icon_edit} alt=\"Edit Take Profit button\" />}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td className=\"td-btn pos-relative\">\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tisCloseLoading ?\n\t\t\t\t\t\t\t\t<ImSpinner2 className=\"spin position-loading-icon\" />\n\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t!isPending &&\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclassName=\"Exchange-list-action\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\tsetIsCloseLoading(true);\n\t\t\t\t\t\t\t\t\t\t\tsellPosition(position, setIsCloseLoading);\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tdisabled={position.size.eq(0)}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tClose\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t}\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t:\n\t\t\t<div className=\"App-card\">\n\t\t\t\t<div className=\"App-card-divider\"></div>\n\t\t\t\t<div className=\"App-card-content\">\n\t\t\t\t\t<div className=\"App-card-row\">\n\t\t\t\t\t\t<div className=\"label\">\n\t\t\t\t\t\t\t<Trans>Position</Trans>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div className=\"Exchange-list-token\">\n\t\t\t\t\t\t\t\t{position.hasPendingChanges && <ImSpinner2 className=\"spin position-loading-icon\" style={{marginRight: 10}} />}\n\t\t\t\t\t\t\t\t{position.indexToken.symbol}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<img className='market-logo' src={marketImg} alt={`${position.market} icon`} />\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tclassName={cx(\"Exchange-list-side\", {\n\t\t\t\t\t\t\t\t\tpositive: position.isLong,\n\t\t\t\t\t\t\t\t\tnegative: !position.isLong,\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t><span className=\"Exchange-list-leverage\">{formatAmount(position.leverage, 4, 2, true)}x&nbsp;</span>\n\t\t\t\t\t\t\t\t{position.isLong ? t`Long` : t`Short`}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"App-card-row\">\n\t\t\t\t\t\t<div className=\"label\">\n\t\t\t\t\t\t\tSize\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>${formatAmount(position.size, USD_DECIMALS, 2, true)}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t</div>\n\t\t\t\t<div className=\"App-card-divider\"></div>\n\t\t\t\t<div className=\"App-card-content\">\n\t\t\t\t\t<div className=\"App-card-row\">\n\t\t\t\t\t\t<div className=\"label\">\n\t\t\t\t\t\t\t<Trans>Mark Price</Trans>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>${formatAmount(position.markPrice, USD_DECIMALS, 2, true)}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"App-card-row\">\n\t\t\t\t\t\t<div className=\"label\">\n\t\t\t\t\t\t\t<Trans>Entry Price</Trans>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>${formatAmount(position.averagePrice, USD_DECIMALS, 2, true)}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"App-card-row\">\n\t\t\t\t\t\t<div className=\"label\">\n\t\t\t\t\t\t\t<Trans>Liq. Price</Trans>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>${formatAmount(liquidationPrice, USD_DECIMALS, 2, true)}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"App-card-row\">\n\t\t\t\t\t\t<div className=\"label\">\n\t\t\t\t\t\t\tPNL (ROE %)\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{position.deltaStr && (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName={cx(\"Exchange-list-info-label\", {\n\t\t\t\t\t\t\t\t\t\tpositive: hasPositionProfit && positionDelta.gt(0),\n\t\t\t\t\t\t\t\t\t\tnegative: !hasPositionProfit && positionDelta.gt(0),\n\t\t\t\t\t\t\t\t\t\tmuted: positionDelta.eq(0),\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{position.deltaAfterFeesStr ?? position.deltaStr} ({position.deltaAfterFeesPercentageStr ?? position.deltaPercentageStr})\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"App-card-row App-card-row_edit-btn\">\n\t\t\t\t\t\t<div className=\"label\">\n\t\t\t\t\t\t\tStop Loss\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{position.market === 'GNS' && position.sl &&\n\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t!position.sl?.eq(0) &&\n\t\t\t\t\t\t\t\t\t\t('$' + formatAmount(position.sl, 10, 2, true))\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{position.market === 'GMX' && (triggerPricesGMX.SL \n\t\t\t\t\t\t\t\t? ('$' + formatAmount(triggerPricesGMX.SL, USD_DECIMALS, 2, true))\n\t\t\t\t\t\t\t\t: '')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName=\"Exchange-list-action\"\n\t\t\t\t\t\t\tonClick={() => openOrderModal(position.market, false, position)}\n\t\t\t\t\t\t\tdisabled={!position.size || isPending}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{((!position.sl || position.sl?.eq(0)) && !triggerPricesGMX.SL)\n\t\t\t\t\t\t\t\t? 'Set SL'\n\t\t\t\t\t\t\t\t: <img src={icon_edit} alt=\"Edit Stop Loss button\" />}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"App-card-row App-card-row_edit-btn\">\n\t\t\t\t\t\t<div className=\"label\">\n\t\t\t\t\t\t\tTake Profit\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{position.market === 'GNS' && position.tp &&\n\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t!position.tp?.eq(0) &&\n\t\t\t\t\t\t\t\t\t\t('$' + formatAmount(position.tp, 10, 2, true))\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{position.market === 'GMX' && (triggerPricesGMX.TP \n\t\t\t\t\t\t\t\t? ('$' + formatAmount(triggerPricesGMX.TP, USD_DECIMALS, 2, true))\n\t\t\t\t\t\t\t\t: '')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName=\"Exchange-list-action\"\n\t\t\t\t\t\t\tonClick={() => openOrderModal(position.market, true, position)}\n\t\t\t\t\t\t\tdisabled={!position.size || isPending}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{((!position.tp || position.tp?.eq(0)) && !triggerPricesGMX.TP)\n\t\t\t\t\t\t\t\t? 'Set TP'\n\t\t\t\t\t\t\t\t: <img src={icon_edit} alt=\"Edit Take Profit button\" />}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"App-card-divider\"></div>\n\t\t\t\t<div className=\"App-card-options\">\n\t\t\t\t\t<div className=\"App-button-option pos-relative\">\n\t\t\t\t\t\t{!isPending &&\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\"App-button-option App-card-option\"\n\t\t\t\t\t\t\t\tdisabled={position.size.eq(0)}\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tsellPosition(position, setIsCloseLoading);\n\t\t\t\t\t\t\t\t\tsetIsCloseLoading(true);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tClose\n\t\t\t\t\t\t\t</button>}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>}\n\t\t</>\n\t);\n};\n\nexport default PositionsItem;","import React, { useState } from \"react\";\nimport cx from \"classnames\";\nimport { Trans, t } from \"@lingui/macro\";\nimport Tooltip from \"../Tooltip/Tooltip\";\nimport PositionSeller from \"./PositionSeller\";\nimport PositionEditor from \"./PositionEditor\";\nimport OrdersToa from \"./OrdersToa\";\n\nimport { ImSpinner2 } from \"react-icons/im\";\n\nimport {\n  helperToast,\n  bigNumberify,\n  getLiquidationPrice,\n  getUsd,\n  getLeverage,\n  formatAmount,\n  getOrderError,\n  USD_DECIMALS,\n  FUNDING_RATE_PRECISION,\n  SWAP,\n  LONG,\n  SHORT,\n  INCREASE,\n  DECREASE,\n  BASIS_POINTS_DIVISOR,\n  getDeltaStr,\n} from \"../../lib/legacy\";\nimport PositionShare from \"./PositionShare\";\nimport PositionsItem from './PositionsItem';\nimport { ADDRESS_ZERO } from '@uniswap/v3-sdk';\nimport { GNS_PAIRS } from './../../lib/GNS_legacy';\nimport GNS_Trading from '../../abis/GNS/GNS_Trading.json';\nimport { errAlert, notifySuccess } from './../../../../components/utils/notifications';\nimport { ethers } from 'ethers';\nimport { BigNumber } from 'ethers';\nimport { getTokenBySymbol } from \"../../config/Tokens\";\nimport { expandDecimals, MARKET } from './../../lib/legacy';\nimport { GNS_FEES_MULTIPLIER } from './../../../../components/utils/constants';\nimport SLTPModal from './../../../../components/UI/modal/SLTPModal';\nimport { formatForContract } from \"../../../../components/utils/math\";\n\nconst getOrdersForPosition = (account, position, orders, nativeTokenAddress) => {\n  if (!orders || orders.length === 0) {\n    return [];\n  }\n  /* eslint-disable array-callback-return */\n  return orders\n    .filter((order) => {\n      if (order.type === SWAP) {\n        return false;\n      }\n      const hasMatchingIndexToken =\n        order.indexToken === nativeTokenAddress\n          ? position.indexToken.isNative\n          : order.indexToken === position.indexToken.address;\n      const hasMatchingCollateralToken =\n        order.collateralToken === nativeTokenAddress\n          ? position.collateralToken.isNative\n          : order.collateralToken === position.collateralToken.address;\n      if (order.isLong === position.isLong && hasMatchingIndexToken && hasMatchingCollateralToken) {\n        return true;\n      }\n    })\n    .map((order) => {\n      order.error = getOrderError(account, order, undefined, position);\n      if (order.type === DECREASE && order.sizeDelta.gt(position.size)) {\n        order.error = \"Order size is bigger than position, will only be executable if position increases\";\n      }\n      return order;\n    });\n};\n\nexport default function PositionsList(props) {\n  const {\n    pendingPositions,\n    setPendingPositions,\n    positionsGNS,\n    positions,\n    positionsDataIsLoading,\n    positionsMap,\n    infoTokens,\n    active,\n    account,\n    library,\n    pendingTxns,\n    setPendingTxns,\n    setListSection,\n    flagOrdersEnabled,\n    savedIsPnlInLeverage,\n    chainId,\n    nativeTokenAddress,\n    orders,\n    setIsWaitingForPluginApproval,\n    approveOrderBook,\n    isPluginApproving,\n    isWaitingForPluginApproval,\n    orderBookApproved,\n    positionRouterApproved,\n    isWaitingForPositionRouterApproval,\n    isPositionRouterApproving,\n    approvePositionRouter,\n    showPnlAfterFees,\n    setMarket,\n    minExecutionFee,\n    minExecutionFeeUSD,\n    minExecutionFeeErrorMessage,\n    usdgSupply,\n    totalTokenWeights,\n    positionsLoading,\n    pendingPositionsGNS,\n  } = props;\n\n  const hasPositions = Boolean(positions?.length || positionsGNS?.length || Object.keys(pendingPositionsGNS).length);\n\n  const [modalVisible, setModalVisible] = useState(false);\n  const [SLTPModalInfo, setSLTPModalInfo] = useState([]);\n\n\n  const renderSLTPModal = () => {\n    const [isTP, position, title, btnText] = SLTPModalInfo;\n    const onApply = (val, setIsLoading) => {\n      setSLTP(isTP, val, position, setIsLoading);\n    }\n    \n    return (\n      <SLTPModal\n        visible={modalVisible}\n        setVisible={setModalVisible}\n        title={title}\n        btnText={btnText}\n        onApply={onApply}\n        isTP={isTP}\n        position={position}\n      />\n    );\n  }\n  const openSLTPModal = (isTP, position) => {\n    const curVal = isTP ? position.tp : position.sl;\n    const orderName = isTP ? 'Take Profit' : 'Stop Loss';\n    const title = `${!curVal?.eq(0) ? 'Edit' : 'Set'} ${orderName}`;\n    const btnText = !curVal?.eq(0) ? 'Save changes' : title;\n\n\t\tsetSLTPModalInfo([\n\t\t\tisTP, position, title, btnText\n\t\t]);\n    setModalVisible(true);\n  }\n\n  \n  const setSLTP = (isTP, value, position, setIsLoading) => {\n    const pairIndex = position.pairIndex;\n    const index = position.index;\n    const newValue = value ? formatForContract(value, 10) : '0';\n    \n    const contract = new ethers.Contract(GNS_Trading.address, GNS_Trading.abi, library.getSigner());\n    const method = isTP ? 'updateTp' : 'updateSl';\n\n    contract[method](pairIndex, index, newValue)\n      .then(tsc => {\n        console.log(tsc);\n      \n        tsc.wait()\n          .then(() => {\n            notifySuccess(`${isTP ? 'Take Profit' : 'Stop Loss'} update submitted!`, tsc.hash);\n            setModalVisible(false);\n          })\n      }, errAlert).finally(() => setIsLoading(false));\n  }\n\n  const [positionToEditKey, setPositionToEditKey] = useState(undefined);\n  const [positionToSellKey, setPositionToSellKey] = useState(undefined);\n  const [positionToShare, setPositionToShare] = useState(null);\n  const [isPositionEditorVisible, setIsPositionEditorVisible] = useState(undefined);\n  const [isPositionSellerVisible, setIsPositionSellerVisible] = useState(undefined);\n  const [positionSellerTab, setPositionSellerTab] = useState(MARKET);\n  const [collateralTokenAddress, setCollateralTokenAddress] = useState(undefined);\n  const [isPositionShareModalOpen, setIsPositionShareModalOpen] = useState(false);\n  const [ordersToaOpen, setOrdersToaOpen] = useState(false);\n  const [isHigherSlippageAllowed, setIsHigherSlippageAllowed] = useState(false);\n\n  const editPosition = (position) => {\n    setCollateralTokenAddress(position.collateralToken.address);\n    setPositionToEditKey(position.key);\n    setIsPositionEditorVisible(true);\n  };\n\n  const sellPosition = (position, setLoading, initTab) => {\n    if (position.market === 'GMX') {\n      setPositionToSellKey(position.key);\n      setIsPositionSellerVisible(true);\n      setPositionSellerTab(initTab);\n      setIsHigherSlippageAllowed(false);\n      setLoading(false);\n    } else if (position.market === 'GNS') {\n      const contract = new ethers.Contract(GNS_Trading.address, GNS_Trading.abi, library.getSigner());\n\n      contract.closeTradeMarket(\n        position.pairIndex,\n        position.index\n      ).then(tsc => {\n        console.log(tsc);\n\n        tsc.wait().then(() => {\n          notifySuccess('Position closed!', tsc.hash);\n        })\n      }, err => {\n        errAlert(err);\n        setLoading(false);\n      });\n    }\n  };\n  \n  const onPositionClick = (position) => {\n    helperToast.success(`${position.isLong ? \"Long\" : \"Short\"} ${position.indexToken.symbol} market selected`);\n    setMarket(position.isLong ? LONG : SHORT, position.indexToken.address);\n  };\n\n  const getStatusLabel = () => {\n    if (!hasPositions && !positionsLoading) {\n      return `No open positions`;\n    } else {\n      return `Loading...`;\n    }\n  }\n\n  return (\n    <div className=\"PositionsList\">\n      <PositionEditor\n        pendingPositions={pendingPositions}\n        setPendingPositions={setPendingPositions}\n        positionsMap={positionsMap}\n        positionKey={positionToEditKey}\n        isVisible={isPositionEditorVisible}\n        setIsVisible={setIsPositionEditorVisible}\n        infoTokens={infoTokens}\n        active={active}\n        account={account}\n        library={library}\n        collateralTokenAddress={collateralTokenAddress}\n        pendingTxns={pendingTxns}\n        setPendingTxns={setPendingTxns}\n        getUsd={getUsd}\n        getLeverage={getLeverage}\n        savedIsPnlInLeverage={savedIsPnlInLeverage}\n        positionRouterApproved={positionRouterApproved}\n        isPositionRouterApproving={isPositionRouterApproving}\n        isWaitingForPositionRouterApproval={isWaitingForPositionRouterApproval}\n        approvePositionRouter={approvePositionRouter}\n        chainId={chainId}\n        minExecutionFee={minExecutionFee}\n        minExecutionFeeUSD={minExecutionFeeUSD}\n        minExecutionFeeErrorMessage={minExecutionFeeErrorMessage}\n      />\n      {ordersToaOpen && (\n        <OrdersToa\n          setIsVisible={setOrdersToaOpen}\n          approveOrderBook={approveOrderBook}\n          isPluginApproving={isPluginApproving}\n        />\n      )}\n      {isPositionShareModalOpen && (\n        <PositionShare\n          setIsPositionShareModalOpen={setIsPositionShareModalOpen}\n          isPositionShareModalOpen={isPositionShareModalOpen}\n          positionToShare={positionToShare}\n          chainId={chainId}\n          account={account}\n        />\n      )}\n      {ordersToaOpen && (\n        <OrdersToa\n          setIsVisible={setOrdersToaOpen}\n          approveOrderBook={approveOrderBook}\n          isPluginApproving={isPluginApproving}\n        />\n      )}\n      {isPositionSellerVisible && (\n        <PositionSeller\n          pendingPositions={pendingPositions}\n          setPendingPositions={setPendingPositions}\n          setIsWaitingForPluginApproval={setIsWaitingForPluginApproval}\n          approveOrderBook={approveOrderBook}\n          isPluginApproving={isPluginApproving}\n          isWaitingForPluginApproval={isWaitingForPluginApproval}\n          orderBookApproved={orderBookApproved}\n          positionsMap={positionsMap}\n          positionKey={positionToSellKey}\n          isVisible={isPositionSellerVisible}\n          setIsVisible={setIsPositionSellerVisible}\n          infoTokens={infoTokens}\n          active={active}\n          account={account}\n          orders={orders}\n          library={library}\n          pendingTxns={pendingTxns}\n          setPendingTxns={setPendingTxns}\n          flagOrdersEnabled={flagOrdersEnabled}\n          savedIsPnlInLeverage={savedIsPnlInLeverage}\n          chainId={chainId}\n          nativeTokenAddress={nativeTokenAddress}\n          setOrdersToaOpen={setOrdersToaOpen}\n          positionRouterApproved={positionRouterApproved}\n          isPositionRouterApproving={isPositionRouterApproving}\n          isWaitingForPositionRouterApproval={isWaitingForPositionRouterApproval}\n          approvePositionRouter={approvePositionRouter}\n          isHigherSlippageAllowed={isHigherSlippageAllowed}\n          setIsHigherSlippageAllowed={setIsHigherSlippageAllowed}\n          minExecutionFee={minExecutionFee}\n          minExecutionFeeUSD={minExecutionFeeUSD}\n          minExecutionFeeErrorMessage={minExecutionFeeErrorMessage}\n          usdgSupply={usdgSupply}\n          totalTokenWeights={totalTokenWeights}\n          initTab={positionSellerTab}\n        />\n      )}\n      {renderSLTPModal()}\n      <div className=\"Exchange-list small\">\n        <div>\n          {!hasPositions && (\n            <div className=\"Exchange-list-empty-note App-card\">\n              {getStatusLabel()}\n            </div>\n          )}\n          {positions.map((position) => {\n            position.market = \"GMX\";\n            \n            const positionOrders = getOrdersForPosition(account, position, orders, nativeTokenAddress);\n            const liquidationPrice = getLiquidationPrice(position);\n            const hasPositionProfit = position[showPnlAfterFees ? \"hasProfitAfterFees\" : \"hasProfit\"];\n            const positionDelta =\n              position[showPnlAfterFees ? \"pendingDeltaAfterFees\" : \"pendingDelta\"] || bigNumberify(0);\n            let borrowFeeUSD;\n            if (position.collateralToken && position.collateralToken.fundingRate) {\n              const borrowFeeRate = position.collateralToken.fundingRate\n                .mul(position.size)\n                .mul(24)\n                .div(FUNDING_RATE_PRECISION);\n              borrowFeeUSD = formatAmount(borrowFeeRate, USD_DECIMALS, 2);\n            }\n\n            return (\n              <PositionsItem\n                openSLTPModal={openSLTPModal}\n                key={position.key}\n                position={position}\n                onPositionClick={onPositionClick}\n                setListSection={setListSection}\n                positionOrders={positionOrders}\n                showPnlAfterFees={showPnlAfterFees}\n                hasPositionProfit={hasPositionProfit}\n                positionDelta={positionDelta}\n                liquidationPrice={liquidationPrice}\n                cx={cx}\n                borrowFeeUSD={borrowFeeUSD}\n                editPosition={editPosition}\n                sellPosition={sellPosition}\n                setSLTP={setSLTP}\n                isLarge={false}\n              />\n            );\n          })}\n          {positionsGNS?.map(pos => {\n            if (!pos.trader || pos.trader === ADDRESS_ZERO) {\n              return;\n            }\n            \n            const position = Object.assign({}, pos);\n\n            position.market = \"GNS\";\n            const key = `${position.pairIndex}${position.index}`;\n            const isLong = position.buy;\n            position.isLong = isLong;\n\n            const tokenSymb = Object.keys(GNS_PAIRS).find(symb => GNS_PAIRS[symb] === Number(position.pairIndex));\n            position.indexToken = getTokenBySymbol(chainId, tokenSymb);\n            const tokenAddr = position.indexToken.address;\n            const curPrice = infoTokens[tokenAddr].maxPrice;\n\n            position.size = BigNumber.from(position.positionSizeDai + '0'.repeat(12)).mul(position.leverage);\n            position.markPrice = curPrice;\n            position.averagePrice = BigNumber.from(position.openPrice + '0'.repeat(20));\n            position.collateral = BigNumber.from(position.positionSizeDai + '0'.repeat(12));\n            \n            position.initCollateral = expandDecimals(position.positionSizeDai.div(10000 - position.leverage.mul(GNS_FEES_MULTIPLIER * 10**4)), 16);\n            position.fees = position.initCollateral.sub(position.collateral);\n            \n            \n            let hasPositionProfit;\n            if (isLong) {\n              hasPositionProfit = position.markPrice.gte(position.averagePrice);\n            } else {\n              hasPositionProfit = position.markPrice.lte(position.averagePrice);\n            }\n            position.hasProfit = hasPositionProfit;\n            \n            const priceDelta = position.averagePrice.gt(position.markPrice)\n            ? position.averagePrice.sub(position.markPrice)\n            : position.markPrice.sub(position.averagePrice);\n            position.delta = position.size.mul(priceDelta).div(position.averagePrice);\n            \n            position.deltaPercentage = position.delta.mul(BASIS_POINTS_DIVISOR).div(position.collateral);\n\n            let pendingDeltaAfterFees;\n            if (position.hasProfit) {\n              if (position.delta.gt(position.fees)) {\n                hasPositionProfit = true;\n                pendingDeltaAfterFees = position.delta.sub(position.fees);\n              } else {\n                hasPositionProfit = false;\n                pendingDeltaAfterFees = position.fees.sub(position.delta);\n              }\n            } else {\n              hasPositionProfit = false;\n              pendingDeltaAfterFees = position.delta.add(position.fees);\n            }\n      \n            position.hasProfit = hasPositionProfit;\n            position.delta = pendingDeltaAfterFees;\n            position.deltaPercentage = pendingDeltaAfterFees\n              .mul(BASIS_POINTS_DIVISOR)\n              .div(position.collateral);\n            \n            const { deltaStr, deltaPercentageStr } = getDeltaStr({\n              delta: position.delta,\n              deltaPercentage: position.deltaPercentage,\n              hasProfit: position.hasProfit,\n            });\n\n            position.deltaStr = deltaStr;\n            position.deltaPercentageStr = deltaPercentageStr;\n            position.deltaBeforeFeesStr = deltaStr;\n            \n            const entryPrice = position.averagePrice;\n            const collateral = position.collateral.mul(position.leverage);\n            const liqPriceDistance = (entryPrice.mul(collateral.mul(9).div(10)).div(collateral).div(position.leverage));\n            \n            const liqPrice = isLong ?\n                entryPrice.sub(liqPriceDistance)\n                : entryPrice.add(liqPriceDistance);\n            \n            position.leverage = position.leverage * 10**4;\n\n            const positionOrders = [];\n            return (\n              <PositionsItem\n                openSLTPModal={openSLTPModal}\n                key={key}\n                position={position}\n                onPositionClick={onPositionClick}\n                setListSection={setListSection}\n                positionOrders={positionOrders}\n                showPnlAfterFees={showPnlAfterFees}\n                hasPositionProfit={hasPositionProfit}\n                positionDelta={position.delta}\n                liquidationPrice={liqPrice}\n                cx={cx}\n                // borrowFeeUSD={borrowFeeUSD}\n                editPosition={editPosition}\n                sellPosition={sellPosition}\n                setSLTP={setSLTP}\n                isLarge={false}\n              />\n            );\n          })}\n          {Object.keys(pendingPositionsGNS)?.map(posKey => {\n            if (!posKey) {\n              return;\n            }\n\n            const position = Object.assign({}, pendingPositionsGNS[posKey]);\n\n            position.market = \"GNS\";\n            const key = `${position.pairIndex}`;\n\n            const tokenSymb = Object.keys(GNS_PAIRS).find(symb => GNS_PAIRS[symb] === Number(position.pairIndex));\n            \n            position.indexToken = getTokenBySymbol(chainId, tokenSymb);\n            const tokenAddr = position.indexToken.address;\n            const curPrice = infoTokens[tokenAddr].maxPrice;\n\n            position.size = BigNumber.from(position.positionSizeDai + '0'.repeat(12)).mul(position.leverage / 10**4);\n            position.markPrice = curPrice;\n            position.averagePrice = 0;\n            position.collateral = BigNumber.from(position.positionSizeDai + '0'.repeat(12));\n            \n            const hasPositionProfit = undefined;\n            position.hasProfit = hasPositionProfit;\n\n            const positionOrders = [];\n            return (\n              <PositionsItem\n                openSLTPModal={openSLTPModal}\n                key={key}\n                position={position}\n                onPositionClick={onPositionClick}\n                setListSection={setListSection}\n                positionOrders={positionOrders}\n                showPnlAfterFees={showPnlAfterFees}\n                hasPositionProfit={hasPositionProfit}\n                positionDelta={0}\n                liquidationPrice={0}\n                cx={cx}\n                // borrowFeeUSD={borrowFeeUSD}\n                editPosition={editPosition}\n                sellPosition={sellPosition}\n                setSLTP={setSLTP}\n                isLarge={true}\n                isPending={true}\n              />\n            );\n          })}\n        </div>\n      </div>\n      <table className=\"Exchange-list large App-box\" cellSpacing={0}>\n        <tbody>\n          {hasPositions && (\n            <tr className=\"Exchange-list-header\">\n              <th>\n                <Trans>Position</Trans>\n              </th>\n              <th>\n                <Trans>Size</Trans>\n              </th>\n              <th>\n                <Trans>Collateral</Trans>\n              </th>\n              <th>\n                <Trans>Mark Price</Trans>\n              </th>\n              <th>\n                <Trans>Entry Price</Trans>\n              </th>\n              <th>\n                <Trans>Liq. Price</Trans>\n              </th>\n              <th>\n                PNL (ROE %)\n              </th>\n              <th>\n                Stop Loss\n              </th>\n              <th>\n                Take Profit\n              </th>\n              <th></th>\n            </tr>\n          )}\n          {!hasPositions && (\n            <tr>\n              <td colSpan=\"15\" className=\"Exchange-list-empty-note\">\n                {getStatusLabel()}\n              </td>\n            </tr>\n          )}\n          {positions.map((position) => {\n            const liquidationPrice = getLiquidationPrice(position) || bigNumberify(0);\n            const positionOrders = getOrdersForPosition(account, position, orders, nativeTokenAddress);\n            const hasOrderError = !!positionOrders.find((order) => order.error);\n            const hasPositionProfit = position[showPnlAfterFees ? \"hasProfitAfterFees\" : \"hasProfit\"];\n            const positionDelta =\n              position[showPnlAfterFees ? \"pendingDeltaAfterFees\" : \"pendingDelta\"] || bigNumberify(0);\n            let borrowFeeUSD;\n            if (position.collateralToken && position.collateralToken.fundingRate) {\n              const borrowFeeRate = position.collateralToken.fundingRate\n                .mul(position.size)\n                .mul(24)\n                .div(FUNDING_RATE_PRECISION);\n              borrowFeeUSD = formatAmount(borrowFeeRate, USD_DECIMALS, 2);\n            }\n\n\n            return (\n              <PositionsItem\n                openSLTPModal={openSLTPModal}\n                key={position.key}\n                position={position}\n                onPositionClick={onPositionClick}\n                setListSection={setListSection}\n                positionOrders={positionOrders}\n                showPnlAfterFees={showPnlAfterFees}\n                hasPositionProfit={hasPositionProfit}\n                positionDelta={positionDelta}\n                liquidationPrice={liquidationPrice}\n                cx={cx}\n                borrowFeeUSD={borrowFeeUSD}\n                editPosition={editPosition}\n                sellPosition={sellPosition}\n                setSLTP={setSLTP}\n                isLarge={true}\n              />\n            );\n          })}\n          {positionsGNS?.map(pos => {\n            if (!pos.trader || pos.trader === ADDRESS_ZERO) {\n              return;\n            }\n            \n            const position = Object.assign({}, pos);\n\n            position.market = \"GNS\";\n            const key = `${position.pairIndex}${position.index}`;\n            const isLong = position.buy;\n            position.isLong = isLong;\n\n            const tokenSymb = Object.keys(GNS_PAIRS).find(symb => GNS_PAIRS[symb] === Number(position.pairIndex));\n            position.indexToken = getTokenBySymbol(chainId, tokenSymb);\n            const tokenAddr = position.indexToken.address;\n            const curPrice = infoTokens[tokenAddr].maxPrice;\n\n            position.size = BigNumber.from(position.positionSizeDai + '0'.repeat(12)).mul(position.leverage);\n            position.markPrice = curPrice;\n            position.averagePrice = BigNumber.from(position.openPrice + '0'.repeat(20));\n            position.collateral = BigNumber.from(position.positionSizeDai + '0'.repeat(12));\n            \n            position.initCollateral = expandDecimals(position.positionSizeDai.div(10000 - position.leverage.mul(GNS_FEES_MULTIPLIER * 10**4)), 16);\n            position.fees = position.initCollateral.sub(position.collateral);\n            \n            \n            let hasPositionProfit;\n            if (isLong) {\n              hasPositionProfit = position.markPrice.gte(position.averagePrice);\n            } else {\n              hasPositionProfit = position.markPrice.lte(position.averagePrice);\n            }\n            position.hasProfit = hasPositionProfit;\n            \n            const priceDelta = position.averagePrice.gt(position.markPrice)\n            ? position.averagePrice.sub(position.markPrice)\n            : position.markPrice.sub(position.averagePrice);\n            position.delta = position.size.mul(priceDelta).div(position.averagePrice);\n            \n            position.deltaPercentage = position.delta.mul(BASIS_POINTS_DIVISOR).div(position.collateral);\n\n            let pendingDeltaAfterFees;\n            if (position.hasProfit) {\n              if (position.delta.gt(position.fees)) {\n                hasPositionProfit = true;\n                pendingDeltaAfterFees = position.delta.sub(position.fees);\n              } else {\n                hasPositionProfit = false;\n                pendingDeltaAfterFees = position.fees.sub(position.delta);\n              }\n            } else {\n              hasPositionProfit = false;\n              pendingDeltaAfterFees = position.delta.add(position.fees);\n            }\n      \n            position.hasProfit = hasPositionProfit;\n            position.delta = pendingDeltaAfterFees;\n            position.deltaPercentage = pendingDeltaAfterFees\n              .mul(BASIS_POINTS_DIVISOR)\n              .div(position.collateral);\n            \n            const { deltaStr, deltaPercentageStr } = getDeltaStr({\n              delta: position.delta,\n              deltaPercentage: position.deltaPercentage,\n              hasProfit: position.hasProfit,\n            });\n\n            position.deltaStr = deltaStr;\n            position.deltaPercentageStr = deltaPercentageStr;\n            position.deltaBeforeFeesStr = deltaStr;\n            \n            const entryPrice = position.averagePrice;\n            const collateral = position.collateral.mul(position.leverage);\n            const liqPriceDistance = (entryPrice.mul(collateral.mul(9).div(10)).div(collateral).div(position.leverage));\n            \n            const liqPrice = isLong ?\n                entryPrice.sub(liqPriceDistance)\n                : entryPrice.add(liqPriceDistance);\n            \n            position.leverage = position.leverage * 10**4;\n\n            const positionOrders = [];\n            return (\n              <PositionsItem\n                openSLTPModal={openSLTPModal}\n                key={key}\n                position={position}\n                onPositionClick={onPositionClick}\n                setListSection={setListSection}\n                positionOrders={positionOrders}\n                showPnlAfterFees={showPnlAfterFees}\n                hasPositionProfit={hasPositionProfit}\n                positionDelta={position.delta}\n                liquidationPrice={liqPrice}\n                cx={cx}\n                // borrowFeeUSD={borrowFeeUSD}\n                editPosition={editPosition}\n                sellPosition={sellPosition}\n                setSLTP={setSLTP}\n                isLarge={true}\n              />\n            );\n          })}\n          {Object.keys(pendingPositionsGNS)?.map(posKey => {\n            if (!posKey) {\n              return;\n            }\n            \n            const position = Object.assign({}, pendingPositionsGNS[posKey]);\n\n            position.market = \"GNS\";\n            const key = `${position.pairIndex}`;\n\n            const tokenSymb = Object.keys(GNS_PAIRS).find(symb => GNS_PAIRS[symb] === Number(position.pairIndex));\n            \n            position.indexToken = getTokenBySymbol(chainId, tokenSymb);\n            const tokenAddr = position.indexToken.address;\n            const curPrice = infoTokens[tokenAddr].maxPrice;\n\n            position.size = BigNumber.from(position.positionSizeDai + '0'.repeat(12)).mul(position.leverage / 10**4);\n            position.markPrice = curPrice;\n            position.averagePrice = 0;\n            position.collateral = BigNumber.from(position.positionSizeDai + '0'.repeat(12));\n            \n            const hasPositionProfit = undefined;\n            position.hasProfit = hasPositionProfit;\n\n            const positionOrders = [];\n            return (\n              <PositionsItem\n                openSLTPModal={openSLTPModal}\n                key={key}\n                position={position}\n                onPositionClick={onPositionClick}\n                setListSection={setListSection}\n                positionOrders={positionOrders}\n                showPnlAfterFees={showPnlAfterFees}\n                hasPositionProfit={hasPositionProfit}\n                positionDelta={0}\n                liquidationPrice={0}\n                cx={cx}\n                // borrowFeeUSD={borrowFeeUSD}\n                editPosition={editPosition}\n                sellPosition={sellPosition}\n                setSLTP={setSLTP}\n                isLarge={true}\n                isPending={true}\n              />\n            );\n          })}\n          \n        </tbody>\n      </table>\n    </div>\n  );\n}","import React, { useState, useMemo } from \"react\";\nimport { BsArrowRight } from \"react-icons/bs\";\n\nimport {\n  PRECISION,\n  USD_DECIMALS,\n  SWAP,\n  TRIGGER_PREFIX_ABOVE,\n  TRIGGER_PREFIX_BELOW,\n  MIN_PROFIT_TIME,\n  DECREASE,\n  INCREASE,\n  useChainId,\n  getTokenInfo,\n  isTriggerRatioInverted,\n  bigNumberify,\n  formatAmountFree,\n  parseValue,\n  getNextToAmount,\n  getExchangeRate,\n  formatAmount,\n  getExchangeRateDisplay,\n  calculatePositionDelta,\n  getLiquidationPrice,\n  formatDateTime,\n  getDeltaStr,\n  getProfitPrice,\n  getTimeRemaining,\n} from \"../../lib/legacy\";\nimport { updateSwapOrder, updateIncreaseOrder, updateDecreaseOrder } from \"../../domain/legacy\";\nimport Modal from \"../Modal/Modal\";\nimport ExchangeInfoRow from \"./ExchangeInfoRow\";\nimport { getContract } from \"../../config/Addresses\";\n\nexport default function OrderEditor(props) {\n  const {\n    account,\n    order,\n    setEditingOrder,\n    infoTokens,\n    pendingTxns,\n    setPendingTxns,\n    library,\n    totalTokenWeights,\n    usdgSupply,\n    getPositionForOrder,\n    positionsMap,\n    savedShouldDisableValidationForTesting,\n  } = props;\n\n  const { chainId } = useChainId();\n\n  const position = order.type !== SWAP ? getPositionForOrder(account, order, positionsMap) : null;\n  const liquidationPrice = order.type === DECREASE && position ? getLiquidationPrice(position) : null;\n\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  const nativeTokenAddress = getContract(chainId, \"NATIVE_TOKEN\");\n  const fromTokenInfo = order.type === SWAP ? getTokenInfo(infoTokens, order.path[0], true, nativeTokenAddress) : null;\n  const toTokenInfo =\n    order.type === SWAP\n      ? getTokenInfo(infoTokens, order.path[order.path.length - 1], order.shouldUnwrap, nativeTokenAddress)\n      : null;\n\n  const triggerRatioInverted = useMemo(() => {\n    if (order.type !== SWAP) {\n      return null;\n    }\n\n    return isTriggerRatioInverted(fromTokenInfo, toTokenInfo);\n  }, [toTokenInfo, fromTokenInfo, order.type]);\n\n  let initialRatio = 0;\n  if (order.triggerRatio) {\n    initialRatio = triggerRatioInverted ? PRECISION.mul(PRECISION).div(order.triggerRatio) : order.triggerRatio;\n  }\n  const [triggerRatioValue, setTriggerRatioValue] = useState(formatAmountFree(initialRatio, USD_DECIMALS, 6));\n\n  const [triggerPriceValue, setTriggerPriceValue] = useState(formatAmountFree(order.triggerPrice, USD_DECIMALS, 4));\n  const triggerPrice = useMemo(() => {\n    return triggerPriceValue ? parseValue(triggerPriceValue, USD_DECIMALS) : 0;\n  }, [triggerPriceValue]);\n\n  const triggerRatio = useMemo(() => {\n    if (!triggerRatioValue) {\n      return bigNumberify(0);\n    }\n    let ratio = parseValue(triggerRatioValue, USD_DECIMALS);\n    if (triggerRatioInverted) {\n      ratio = PRECISION.mul(PRECISION).div(ratio);\n    }\n    return ratio;\n  }, [triggerRatioValue, triggerRatioInverted]);\n\n  const indexTokenMarkPrice = useMemo(() => {\n    if (order.type === SWAP) {\n      return;\n    }\n    const toTokenInfo = getTokenInfo(infoTokens, order.indexToken);\n    return order.isLong ? toTokenInfo.maxPrice : toTokenInfo.minPrice;\n  }, [infoTokens, order]);\n\n  let toAmount;\n  if (order.type === SWAP) {\n    const { amount } = getNextToAmount(\n      chainId,\n      order.amountIn,\n      order.path[0],\n      order.path[order.path.length - 1],\n      infoTokens,\n      undefined,\n      triggerRatio,\n      usdgSupply,\n      totalTokenWeights\n    );\n    toAmount = amount;\n  }\n\n  const onClickPrimary = () => {\n    setIsSubmitting(true);\n\n    let func;\n    let params;\n\n    if (order.type === SWAP) {\n      func = updateSwapOrder;\n      params = [chainId, library, order.index, toAmount, triggerRatio, order.triggerAboveThreshold];\n    } else if (order.type === DECREASE) {\n      func = updateDecreaseOrder;\n      params = [\n        chainId,\n        library,\n        order.index,\n        order.collateralDelta,\n        order.sizeDelta,\n        triggerPrice,\n        order.triggerAboveThreshold,\n      ];\n    } else if (order.type === INCREASE) {\n      func = updateIncreaseOrder;\n      params = [chainId, library, order.index, order.sizeDelta, triggerPrice, order.triggerAboveThreshold];\n    }\n\n    params.push({\n      successMsg: \"Order updated!\",\n      failMsg: \"Order update failed.\",\n      sentMsg: \"Order update submitted!\",\n      pendingTxns,\n      setPendingTxns,\n    });\n\n    return func(...params)\n      .then(() => {\n        setEditingOrder(null);\n      })\n      .finally(() => {\n        setIsSubmitting(false);\n      });\n  };\n\n  const onTriggerRatioChange = (evt) => {\n    setTriggerRatioValue(evt.target.value || \"\");\n  };\n\n  const onTriggerPriceChange = (evt) => {\n    setTriggerPriceValue(evt.target.value || \"\");\n  };\n\n  const getError = () => {\n    if ((!triggerRatio || triggerRatio.eq(0)) && (!triggerPrice || triggerPrice.eq(0))) {\n      return \"Enter Price\";\n    }\n    if (order.type === SWAP && triggerRatio.eq(order.triggerRatio)) {\n      return \"Enter new Price\";\n    }\n    if (order.type !== SWAP && triggerPrice.eq(order.triggerPrice)) {\n      return \"Enter new Price\";\n    }\n    if (position) {\n      if (order.type === DECREASE) {\n        if (position.isLong && triggerPrice.lte(liquidationPrice)) {\n          return \"Price below Liq. Price\";\n        }\n        if (!position.isLong && triggerPrice.gte(liquidationPrice)) {\n          return \"Price above Liq. Price\";\n        }\n      }\n\n      const { delta, hasProfit } = calculatePositionDelta(triggerPrice, position);\n      if (hasProfit && delta.eq(0)) {\n        return \"Invalid price, see warning\";\n      }\n    }\n\n    if (order.type !== SWAP && indexTokenMarkPrice && !savedShouldDisableValidationForTesting) {\n      if (order.triggerAboveThreshold && indexTokenMarkPrice.gt(triggerPrice)) {\n        return \"Price below Mark Price\";\n      }\n      if (!order.triggerAboveThreshold && indexTokenMarkPrice.lt(triggerPrice)) {\n        return \"Price above Mark Price\";\n      }\n    }\n\n    if (order.type === SWAP) {\n      const currentRate = getExchangeRate(fromTokenInfo, toTokenInfo);\n      if (currentRate && !currentRate.gte(triggerRatio)) {\n        return `Price is ${triggerRatioInverted ? \"below\" : \"above\"} Mark Price`;\n      }\n    }\n  };\n\n  const renderMinProfitWarning = () => {\n    if (MIN_PROFIT_TIME === 0 || order.type === SWAP || !position || !triggerPrice || triggerPrice.eq(0)) {\n      return null;\n    }\n\n    const { delta, pendingDelta, pendingDeltaPercentage, hasProfit } = calculatePositionDelta(triggerPrice, position);\n    if (hasProfit && delta.eq(0)) {\n      const { deltaStr } = getDeltaStr({\n        delta: pendingDelta,\n        deltaPercentage: pendingDeltaPercentage,\n        hasProfit,\n      });\n      const profitPrice = getProfitPrice(triggerPrice, position);\n      const minProfitExpiration = position.lastIncreasedTime + MIN_PROFIT_TIME;\n      return (\n        <div className=\"Confirmation-box-warning\">\n          This order will forfeit a&nbsp;\n          <a href=\"https://gmxio.gitbook.io/gmx/trading#minimum-price-change\" target=\"_blank\" rel=\"noopener noreferrer\">\n            profit\n          </a>{\" \"}\n          of {deltaStr}. <br />\n          Profit price: {position.isLong ? \">\" : \"<\"} ${formatAmount(profitPrice, USD_DECIMALS, 2, true)}. This rule\n          only applies for the next {getTimeRemaining(minProfitExpiration)}, until {formatDateTime(minProfitExpiration)}\n          .\n        </div>\n      );\n    }\n  };\n\n  const isPrimaryEnabled = () => {\n    if (isSubmitting) {\n      return false;\n    }\n    const error = getError();\n    if (error) {\n      return false;\n    }\n\n    return true;\n  };\n\n  const getPrimaryText = () => {\n    const error = getError();\n    if (error) {\n      return error;\n    }\n\n    if (isSubmitting) {\n      return \"Updating Order...\";\n    }\n    return \"Update Order\";\n  };\n\n  if (order.type !== SWAP) {\n    const triggerPricePrefix = order.triggerAboveThreshold ? TRIGGER_PREFIX_ABOVE : TRIGGER_PREFIX_BELOW;\n    return (\n      <Modal\n        isVisible={true}\n        className=\"Exchange-list-modal\"\n        setIsVisible={() => setEditingOrder(null)}\n        label=\"Edit order\"\n\n        isNifty={true}\n      >\n        {renderMinProfitWarning()}\n        <div className=\"Exchange-swap-section\">\n          <div className=\"Exchange-swap-section-top\">\n            <div className=\"muted\">Price</div>\n            <div\n              className=\"muted align-right clickable\"\n              onClick={() => {\n                setTriggerPriceValue(formatAmountFree(indexTokenMarkPrice, USD_DECIMALS, 2));\n              }}\n            >\n              Mark: {formatAmount(indexTokenMarkPrice, USD_DECIMALS, 2)}\n            </div>\n          </div>\n          <div className=\"Exchange-swap-section-bottom\">\n            <div className=\"Exchange-swap-input-container\">\n              <input\n                type=\"number\"\n                min=\"0\"\n                placeholder=\"0.0\"\n                className=\"Exchange-swap-input\"\n                value={triggerPriceValue}\n                onChange={onTriggerPriceChange}\n                onFocus={(e) => {\n                  e.target.parentElement.parentElement.parentElement.classList.add('hlight');\n                }}\n                onBlur={(e) => {\n                  e.target.parentElement.parentElement.parentElement.classList.remove('hlight');\n                }}\n              />\n            </div>\n            <div className=\"PositionEditor-token-symbol\">USD</div>\n          </div>\n        </div>\n        <ExchangeInfoRow label=\"Price\">\n          {triggerPrice && !triggerPrice.eq(order.triggerPrice) ? (\n            <>\n              <span className=\"muted\">\n                {triggerPricePrefix} {formatAmount(order.triggerPrice, USD_DECIMALS, 2, true)}\n              </span>\n              &nbsp;\n              <BsArrowRight />\n              &nbsp;\n              {triggerPricePrefix} {formatAmount(triggerPrice, USD_DECIMALS, 2, true)}\n            </>\n          ) : (\n            <span>\n              {triggerPricePrefix} {formatAmount(order.triggerPrice, USD_DECIMALS, 2, true)}\n            </span>\n          )}\n        </ExchangeInfoRow>\n        {liquidationPrice && (\n          <div className=\"Exchange-info-row\">\n            <div className=\"Exchange-info-label\">Liq. Price</div>\n            <div className=\"align-right\">{`$${formatAmount(liquidationPrice, USD_DECIMALS, 2, true)}`}</div>\n          </div>\n        )}\n        <div className=\"Exchange-swap-button-container\">\n          <button\n            className={\"App-cta Exchange-swap-button Exchange-list-modal-button\" + (isPrimaryEnabled() ? \" hlight\" : \"\")}\n            onClick={onClickPrimary}\n            disabled={!isPrimaryEnabled()}\n          >\n            {getPrimaryText()}\n          </button>\n        </div>\n      </Modal>\n    );\n  }\n\n  return (\n    <Modal\n      isVisible={true}\n      className=\"Exchange-list-modal\"\n      setIsVisible={() => setEditingOrder(null)}\n      label=\"Edit order\"\n      isNifty={true}\n    >\n      <div className=\"Exchange-swap-section\">\n        <div className=\"Exchange-swap-section-top\">\n          <div className=\"muted\">Price</div>\n          {fromTokenInfo && toTokenInfo && (\n            <div\n              className=\"muted align-right clickable\"\n              onClick={() => {\n                setTriggerRatioValue(\n                  formatAmountFree(getExchangeRate(fromTokenInfo, toTokenInfo, triggerRatioInverted), USD_DECIMALS, 10)\n                );\n              }}\n            >\n              Mark Price:{\" \"}\n              {formatAmount(getExchangeRate(fromTokenInfo, toTokenInfo, triggerRatioInverted), USD_DECIMALS, 2)}\n            </div>\n          )}\n        </div>\n        <div className=\"Exchange-swap-section-bottom\">\n          <div className=\"Exchange-swap-input-container\">\n            <input\n              type=\"number\"\n              min=\"0\"\n              placeholder=\"0.0\"\n              className=\"Exchange-swap-input\"\n              value={triggerRatioValue}\n              onChange={onTriggerRatioChange}\n              onFocus={(e) => {\n                e.target.parentElement.parentElement.parentElement.classList.add('hlight');\n              }}\n              onBlur={(e) => {\n                e.target.parentElement.parentElement.parentElement.classList.remove('hlight');\n              }}\n            />\n          </div>\n          {(() => {\n            if (!toTokenInfo) return;\n            if (!fromTokenInfo) return;\n            const [tokenA, tokenB] = triggerRatioInverted ? [toTokenInfo, fromTokenInfo] : [fromTokenInfo, toTokenInfo];\n            return (\n              <div className=\"PositionEditor-token-symbol\">\n                {tokenA.symbol}&nbsp;/&nbsp;{tokenB.symbol}\n              </div>\n            );\n          })()}\n        </div>\n      </div>\n      <ExchangeInfoRow label=\"Minimum received\">\n        {triggerRatio && !triggerRatio.eq(order.triggerRatio) ? (\n          <>\n            <span className=\"muted\">{formatAmount(order.minOut, toTokenInfo.decimals, 4, true)}</span>\n            &nbsp;\n            <BsArrowRight />\n            &nbsp;\n            {formatAmount(toAmount, toTokenInfo.decimals, 4, true)}\n          </>\n        ) : (\n          formatAmount(order.minOut, toTokenInfo.decimals, 4, true)\n        )}\n        &nbsp;{toTokenInfo.symbol}\n      </ExchangeInfoRow>\n      <ExchangeInfoRow label=\"Price\">\n        {triggerRatio && !triggerRatio.eq(0) && !triggerRatio.eq(order.triggerRatio) ? (\n          <>\n            <span className=\"muted\">\n              {getExchangeRateDisplay(order.triggerRatio, fromTokenInfo, toTokenInfo, {\n                omitSymbols: !triggerRatio || !triggerRatio.eq(order.triggerRatio),\n              })}\n            </span>\n            &nbsp;\n            <BsArrowRight />\n            &nbsp;\n            {getExchangeRateDisplay(triggerRatio, fromTokenInfo, toTokenInfo)}\n          </>\n        ) : (\n          getExchangeRateDisplay(order.triggerRatio, fromTokenInfo, toTokenInfo, {\n            omitSymbols: !triggerRatio || !triggerRatio.eq(order.triggerRatio),\n          })\n        )}\n      </ExchangeInfoRow>\n      {fromTokenInfo && (\n        <div className=\"Exchange-info-row\">\n          <div className=\"Exchange-info-label\">{fromTokenInfo.symbol} price</div>\n          <div className=\"align-right\">{formatAmount(fromTokenInfo.minPrice, USD_DECIMALS, 2, true)} USD</div>\n        </div>\n      )}\n      {toTokenInfo && (\n        <div className=\"Exchange-info-row\">\n          <div className=\"Exchange-info-label\">{toTokenInfo.symbol} price</div>\n          <div className=\"align-right\">{formatAmount(toTokenInfo.maxPrice, USD_DECIMALS, 2, true)} USD</div>\n        </div>\n      )}\n      <div className=\"Exchange-swap-button-container\">\n        <button\n          className=\"App-cta Exchange-swap-button Exchange-list-modal-button\"\n          onClick={onClickPrimary}\n          disabled={!isPrimaryEnabled()}\n        >\n          {getPrimaryText()}\n        </button>\n      </div>\n    </Modal>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport { formatForContract } from '../../../../components/utils/math';\nimport { convertInputNum } from '../../../../components/utils/sepThousands';\nimport { formatAmount, formatAmountFree, USD_DECIMALS } from '../../lib/legacy';\nimport Modal from './../../../../components/UI/modal/Modal';\nimport GNS_Trading from '../../abis/GNS/GNS_Trading.json';\nimport { ethers } from 'ethers';\nimport { errAlert, notifySuccess } from '../../../../components/utils/notifications';\n\nconst OrderEditorGNS = (props) => {\n\tconst {\n\t\tvisible,\n\t\tsetVisible,\n\t\torder,\n\t\tlibrary\n\t} = props;\n\t\n\tconst [priceValue, setPriceValue] = useState('');\n\tconst [TPValue, setTPValue] = useState('');\n\tconst [SLValue, setSLValue] = useState('');\n\n\tconst [isSubmitting, setIsSubmitting] = useState(false);\n\n\tuseEffect(() => {\n\t\tif (order) {\n\t\t\tsetPriceValue(convertInputNum(formatAmountFree(order.triggerPrice, 30, 2)));\n\t\t\tif (!order.tp.eq(0)) {\n\t\t\t\tsetTPValue(convertInputNum(formatAmountFree(order.tp, 10, 2)));\n\t\t\t}\n\t\t\tif (!order.sl.eq(0)) {\n\t\t\t\tsetSLValue(convertInputNum(formatAmountFree(order.sl, 10, 2)));\n\t\t\t}\n\t\t}\n\t}, [order]);\n\n\tconst btnText = 'Update order';\n\t\n\tconst getError = () => {\n\t\tif (!order) {\n\t\t\treturn btnText;\n\t\t}\n\n\t\tif (isSubmitting) {\n\t\t\treturn `Updating...`;\n\t\t}\n\n\t\tif (!priceValue && !TPValue && !SLValue) {\n\t\t\treturn btnText;\n\t\t}\n\n\t\tconst isLong = order.isLong;\n\t\tconst triggerPrice = priceValue \n\t\t\t? formatForContract(priceValue, 10)\n\t\t\t: Number(formatAmount(order.triggerPrice, 20, 0, 0));\n\n\t\tconst SLVal = formatForContract(SLValue, 10);\n\t\tconst TPVal = formatForContract(TPValue, 10);\n\n\t\tif (SLVal) {\n\t\t\tif ((isLong && SLVal > triggerPrice) || (!isLong && SLVal < triggerPrice)) {\n\t\t\t\treturn `${isLong ? 'Long' : 'Short'} SL can't be ${isLong ? 'greater' : 'less'} than trigger price.`;\n\t\t\t}\n\t\t}\n\t\tif (TPVal) {\n\t\t\tif ((isLong && TPVal < triggerPrice) || (!isLong && TPVal > triggerPrice)) {\n\t\t\t\treturn `${isLong ? 'Long' : 'Short'} TP can't be ${isLong ? 'less' : 'greater'} than trigger price.`;\n\t\t\t}\n\t\t}\n\t}\n\n\tconst getBtnText = () => {\n\t\tconst error = getError();\n\t\tif (error) {\n\t\t\treturn error;\n\t\t}\n\n\t\treturn btnText;\n\t}\n\tconst isBtnEnabled = () => {\n\t\tconst hasError = Boolean(getError());\n\t\t\n\t\tif (hasError) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tconst onApply = () => {\n\t\tsetIsSubmitting(true);\n\t\t\n\t\tconst price = priceValue ? formatForContract(priceValue, 10) : '0';\n\t\tconst TP = TPValue ? formatForContract(TPValue, 10) : '0';\n\t\tconst SL = SLValue ? formatForContract(SLValue, 10) : '0';\n\t\t\n\t\tconst contract = new ethers.Contract(GNS_Trading.address, GNS_Trading.abi, library.getSigner());\n\n\t\tcontract.updateOpenLimitOrder(\n\t\t\torder.pairIndex,\n\t\t\torder.index,\n\t\t\tprice,\n\t\t\tTP,\n\t\t\tSL\n\t\t).then(tsc => {\n\t\t\tconsole.log(tsc);\n      \n\t\t\ttsc.wait()\n\t\t\t\t.then(() => {\n\t\t\t\t\tnotifySuccess(`Order update submitted!`, tsc.hash);\n\t\t\t\t\tsetVisible(false);\n\t\t\t\t})\n\t\t}, errAlert).finally(() => setIsSubmitting(false));\n\t}\n\n\tconst reset = () => {\n\t\tsetPriceValue('');\n\t\tsetTPValue('');\n\t\tsetSLValue('');\n\t}\n\t\n\treturn (\n\t\t<Modal\n\t\t\tclassName=\"OrderEditorModal\"\n\t\t\tvisible={visible}\n\t\t\tsetVisible={setVisible}\n\t\t\tresetModal={reset}\n\t\t>\n\t\t\t<h1 className=\"modal__title\">Edit Order</h1>\n\t\t\t<div className=\"modal__body\">\n\t\t\t\t<div className=\"Exchange-swap-section\">\n\t\t\t\t\t<div className=\"Exchange-swap-section-top\">\n\t\t\t\t\t\t<div className=\"muted\">\n\t\t\t\t\t\t\t<div className=\"Exchange-swap-usd\">\n\t\t\t\t\t\t\t\tPrice\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName=\"muted align-right clickable\"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tsetPriceValue(formatAmountFree(order?.markPrice, USD_DECIMALS, 2));\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tMark: {formatAmount(order?.markPrice, USD_DECIMALS, 2, true)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"Exchange-swap-section-bottom\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tplaceholder=\"0.0\"\n\t\t\t\t\t\t\t\tclassName=\"Exchange-swap-input\"\n\t\t\t\t\t\t\t\tvalue={priceValue}\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tsetPriceValue(convertInputNum(e.target.value));\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonFocus={(e) => {\n\t\t\t\t\t\t\t\t\te.target.parentElement.parentElement.parentElement.classList.add('hlight');\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonBlur={(e) => {\n\t\t\t\t\t\t\t\t\te.target.parentElement.parentElement.parentElement.classList.remove('hlight');\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"Exchange-swap-section\">\n\t\t\t\t\t<div className=\"Exchange-swap-section-top\">\n\t\t\t\t\t\t<div className=\"muted\">\n\t\t\t\t\t\t\t<div className=\"Exchange-swap-usd\">\n\t\t\t\t\t\t\t\tTake Profit\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"Exchange-swap-section-bottom\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tplaceholder=\"0.0\"\n\t\t\t\t\t\t\t\tclassName=\"Exchange-swap-input\"\n\t\t\t\t\t\t\t\tvalue={TPValue}\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tsetTPValue(convertInputNum(e.target.value));\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonFocus={(e) => {\n\t\t\t\t\t\t\t\t\te.target.parentElement.parentElement.parentElement.classList.add('hlight');\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonBlur={(e) => {\n\t\t\t\t\t\t\t\t\te.target.parentElement.parentElement.parentElement.classList.remove('hlight');\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"Exchange-swap-section\">\n\t\t\t\t\t<div className=\"Exchange-swap-section-top\">\n\t\t\t\t\t\t<div className=\"muted\">\n\t\t\t\t\t\t\t<div className=\"Exchange-swap-usd\">\n\t\t\t\t\t\t\t\tStop Loss\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"Exchange-swap-section-bottom\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tplaceholder=\"0.0\"\n\t\t\t\t\t\t\t\tclassName=\"Exchange-swap-input\"\n\t\t\t\t\t\t\t\tvalue={SLValue}\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tsetSLValue(convertInputNum(e.target.value));\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonFocus={(e) => {\n\t\t\t\t\t\t\t\t\te.target.parentElement.parentElement.parentElement.classList.add('hlight');\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonBlur={(e) => {\n\t\t\t\t\t\t\t\t\te.target.parentElement.parentElement.parentElement.classList.remove('hlight');\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<button \n\t\t\t\t\tclassName=\"modal__btn btn btn_hlight\"\n\t\t\t\t\tonClick={onApply}\n\t\t\t\t\tdisabled={!isBtnEnabled()}\n\t\t\t\t>\n\t\t\t\t\t{getBtnText()}\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</Modal>\n\t);\n};\n\nexport default OrderEditorGNS;","import React, { useState, useCallback } from \"react\";\nimport { Trans } from \"@lingui/macro\";\n\nimport {\n  SWAP,\n  INCREASE,\n  DECREASE,\n  USD_DECIMALS,\n  formatAmount,\n  getOrderError,\n  TRIGGER_PREFIX_ABOVE,\n  TRIGGER_PREFIX_BELOW,\n  getExchangeRateDisplay,\n  getTokenInfo,\n  getExchangeRate,\n  getPositionForOrder,\n  getUsd,\n  USDG_DECIMALS,\n} from \"../../lib/legacy.js\";\nimport { handleCancelOrder } from \"../../domain/legacy\";\nimport { getContract } from \"../../config/Addresses\";\n\nimport Tooltip from \"../Tooltip/Tooltip\";\nimport OrderEditor from \"./OrderEditor\";\n\nimport \"./OrdersList.css\";\nimport Checkbox from \"../Checkbox/Checkbox\";\nimport StatsTooltipRow from \"../StatsTooltip/StatsTooltipRow\";\nimport { GNS_PAIRS } from './../../lib/GNS_legacy';\nimport { getTokenBySymbol } from \"../../config/Tokens.js\";\nimport { expandDecimals } from './../../lib/legacy';\nimport GNS_Trading from '../../abis/GNS/GNS_Trading.json';\nimport { ethers } from 'ethers';\nimport { errAlert, notifySuccess } from './../../../../components/utils/notifications';\nimport OrderEditorGNS from './OrderEditorGNS';\n\nexport default function OrdersList(props) {\n  const {\n    account,\n    library,\n    setPendingTxns,\n    pendingTxns,\n    infoTokens,\n    positionsMap,\n    totalTokenWeights,\n    usdgSupply,\n    orders,\n    ordersGNS,\n    hideActions,\n    chainId,\n    savedShouldDisableValidationForTesting,\n    cancelOrderIdList,\n    setCancelOrderIdList,\n  } = props;\n\n  const hasOrders = Boolean(orders.length || ordersGNS.length);\n  const marketIconGNS = require('../../../../img/icon-GNS.svg').default;\n  const marketIconGMX = require('../../../../img/icon-GMX.svg').default;  \n\n  const [editingOrder, setEditingOrder] = useState(null);\n  const [editingOrderGNS, setEditingOrderGNS] = useState(null);\n  const [orderEditorGNSVisible, setOrderEditorGNSVisible] = useState();\n\n  const onCancelClick = useCallback(\n    (order, market = 'GMX') => {\n      if (market === 'GMX') {\n        handleCancelOrder(chainId, library, order, { pendingTxns, setPendingTxns });\n      }\n      if (market === 'GNS') {\n        const contract = new ethers.Contract(GNS_Trading.address, GNS_Trading.abi, library.getSigner());\n\n        contract.cancelOpenLimitOrder(order.pairIndex, order.index)\n          .then(tsc => {\n            console.log(tsc);\n      \n            tsc.wait()\n              .then(() => {\n                notifySuccess(`Limit order cancelled!`, tsc.hash);\n              })\n          }, errAlert)\n      }\n    },\n    [library, pendingTxns, setPendingTxns, chainId]\n  );\n\n  const onEditClick = useCallback(\n    (order, market = 'GMX') => {\n      if (market === 'GMX') {\n        setEditingOrder(order);\n      }\n      if (market === 'GNS') {\n        setEditingOrderGNS(order);\n        setOrderEditorGNSVisible(true);\n      }\n    },\n    [setEditingOrder]\n  );\n\n  const renderHead = useCallback(() => {\n    if (!hasOrders) {\n      return;\n    }\n    \n    const isAllOrdersSelected = cancelOrderIdList?.length > 0 && cancelOrderIdList?.length === orders.length;\n    return (\n      <tr className=\"Exchange-list-header\">\n        <th>\n          <div>\n            <Trans>Type</Trans>\n          </div>\n        </th>\n        <th>\n          <div>\n            <Trans>Order</Trans>\n          </div>\n        </th>\n        <th>\n          <div>\n            <Trans>Price</Trans>\n          </div>\n        </th>\n        <th>\n          <div>\n            <Trans>Mark Price</Trans>\n          </div>\n        </th>\n      </tr>\n    );\n  }, [cancelOrderIdList, orders, ordersGNS, setCancelOrderIdList]);\n\n  const renderEmptyRow = useCallback(() => {\n    if (hasOrders) {\n      return null;\n    }\n\n    return (\n      <tr>\n        <td colSpan=\"5\" className=\"Exchange-list-empty-note\">\n          <Trans>No open orders</Trans>\n        </td>\n      </tr>\n    );\n  }, [orders, ordersGNS]);\n\n  const renderActions = useCallback(\n    (order, market) => {\n      return (\n        <>\n          <td>\n            <button className=\"Exchange-list-action\" onClick={() => onEditClick(order, market)}>\n              <Trans>Edit</Trans>\n            </button>\n          </td>\n          <td>\n            <button className=\"Exchange-list-action\" onClick={() => onCancelClick(order, market)}>\n              <Trans>Cancel</Trans>\n            </button>\n          </td>\n        </>\n      );\n    },\n    [onEditClick, onCancelClick]\n  );\n\n  const renderLargeList = useCallback(() => {\n    if (!orders || !orders.length) {\n      return null;\n    }\n    return orders.map((order) => {\n      const indexToken = getTokenInfo(infoTokens, order.indexToken);\n\n      // Longs Increase: max price\n      // Longs Decrease: min price\n      // Short Increase: min price\n      // Short Decrease: max price\n      const maximisePrice = (order.type === INCREASE && order.isLong) || (order.type === DECREASE && !order.isLong);\n\n      const markPrice = maximisePrice ? indexToken.contractMaxPrice : indexToken.contractMinPrice;\n      const triggerPricePrefix = order.triggerAboveThreshold ? TRIGGER_PREFIX_ABOVE : TRIGGER_PREFIX_BELOW;\n      const indexTokenSymbol = indexToken.isWrapped ? indexToken.baseSymbol : indexToken.symbol;\n\n      const error = getOrderError(account, order, positionsMap);\n      const orderId = `${order.type}-${order.index}`;\n      const orderText = (\n        <>\n          {order.type === INCREASE ? \"Increase\" : \"Decrease\"} {indexTokenSymbol} {order.isLong ? \"Long\" : \"Short\"}\n          &nbsp;by ${formatAmount(order.sizeDelta, USD_DECIMALS, 2, true)}\n          {error && <div className=\"Exchange-list-item-error\">{error}</div>}\n        </>\n      );\n\n      return (\n        <tr className=\"Exchange-list-item\" key={`${order.isLong}-${order.type}-${order.index}`}>\n          <td className=\"Exchange-list-item-type\">\n            <div className=\"icon-container\">\n              <img src={marketIconGMX} alt=\"GMX Icon\" style={{width: 15}} />\n              {order.type === INCREASE ? \"Limit\" : \"Trigger\"}\n            </div>\n          </td>\n          <td>\n            {order.type === DECREASE ? (\n              orderText\n            ) : (\n              <Tooltip\n                handle={orderText}\n                position=\"right-bottom\"\n                renderContent={() => {\n                  const collateralTokenInfo = getTokenInfo(infoTokens, order.purchaseToken);\n                  const collateralUSD = getUsd(order.purchaseTokenAmount, order.purchaseToken, false, infoTokens);\n                  return (\n                    <StatsTooltipRow\n                      label=\"Collateral\"\n                      value={`${formatAmount(collateralUSD, USD_DECIMALS, 2, true)} (${formatAmount(\n                        order.purchaseTokenAmount,\n                        collateralTokenInfo.decimals,\n                        4,\n                        true\n                      )}\n                      ${collateralTokenInfo.baseSymbol || collateralTokenInfo.symbol})`}\n                    />\n                  );\n                }}\n              />\n            )}\n          </td>\n          <td className=\"nowrap\">\n            {triggerPricePrefix} {formatAmount(order.triggerPrice, USD_DECIMALS, 2, true)}\n          </td>\n          <td>\n            <Tooltip\n              handle={formatAmount(markPrice, USD_DECIMALS, 2, true)}\n              position=\"right-bottom\"\n              renderContent={() => {\n                return (\n                  <Trans>\n                    The price that orders can be executed at may differ slightly from the chart price, as market orders\n                    update oracle prices, while limit/trigger orders do not.\n                  </Trans>\n                );\n              }}\n            />\n          </td>\n          {!hideActions && renderActions(order)}\n        </tr>\n      );\n    });\n  }, [\n    orders,\n    renderActions,\n    infoTokens,\n    positionsMap,\n    hideActions,\n    chainId,\n    account,\n    cancelOrderIdList,\n    setCancelOrderIdList,\n  ]);\n\n  const renderLargeListGNS = useCallback(() => {\n    if (!ordersGNS || !ordersGNS.length) {\n      return null;\n    }\n    return ordersGNS.map((ord) => {\n      const order = Object.assign({}, ord);\n      \n      order.type = INCREASE;\n      order.isLong = order.buy;\n      const indexTokenSymbol = Object.keys(GNS_PAIRS).find(symb => GNS_PAIRS[symb] === order.pairIndex.toNumber());\n      const indexToken = getTokenBySymbol(chainId, indexTokenSymbol);\n\n      const triggerPricePrefix = order.isLong ? TRIGGER_PREFIX_BELOW : TRIGGER_PREFIX_ABOVE;\n\n      const markPrice = infoTokens[indexToken.address].maxPrice;\n      order.markPrice = markPrice;\n      order.triggerPrice = expandDecimals(order.maxPrice ?? order.minPrice, 20);\n      \n      order.positionSize = order.positionSize.mul(order.leverage)\n      \n      const orderText = (\n        <>\n          {order.type === INCREASE ? \"Increase\" : \"Decrease\"} {indexTokenSymbol} {order.isLong ? \"Long\" : \"Short\"}\n          &nbsp;by ${formatAmount(order.positionSize, USDG_DECIMALS, 2, true)}\n          <div>{!order.tp?.eq(0) && `Take Profit: $${formatAmount(order.tp, 10, 2, 1)}`}</div>\n          <div>{!order.sl?.eq(0) && `Stop Loss: $${formatAmount(order.sl, 10, 2, 1)}`}</div>\n        </>\n      );\n\n      return (\n        <tr className=\"Exchange-list-item\" key={`${order.buy}-${order.type}-${order.index}`}>\n          <td className=\"Exchange-list-item-type\">\n            <div className=\"icon-container\">\n              <img src={marketIconGNS} alt=\"GNS Icon\" style={{width: 15}} />\n              {order.type === INCREASE ? \"Limit\" : \"Trigger\"}\n            </div>\n          </td>\n          <td>\n            {orderText}\n          </td>\n          <td className=\"nowrap\">\n            {triggerPricePrefix} {formatAmount(order.triggerPrice, USD_DECIMALS, 2, true)}\n          </td>\n          <td>\n            {formatAmount(markPrice, USD_DECIMALS, 2, true)}\n          </td>\n          {!hideActions && renderActions(order, 'GNS')}\n        </tr>\n      );\n    });\n  }, [\n    orders,\n    renderActions,\n    infoTokens,\n    positionsMap,\n    hideActions,\n    chainId,\n    account,\n    cancelOrderIdList,\n    setCancelOrderIdList,\n  ]);\n\n  const renderSmallListGNS = useCallback(() => {\n    if (!ordersGNS || !ordersGNS.length) {\n      return null;\n    }\n    return ordersGNS.map((ord) => {\n      const order = Object.assign({}, ord);\n      \n      order.type = INCREASE;\n      order.isLong = order.buy;\n      const indexTokenSymbol = Object.keys(GNS_PAIRS).find(symb => GNS_PAIRS[symb] === order.pairIndex.toNumber());\n      const indexToken = getTokenBySymbol(chainId, indexTokenSymbol);\n\n      const triggerPricePrefix = order.isLong ? TRIGGER_PREFIX_BELOW : TRIGGER_PREFIX_ABOVE;\n\n      const markPrice = infoTokens[indexToken.address].maxPrice;\n      order.triggerPrice = expandDecimals(order.maxPrice ?? order.minPrice, 20);\n      \n      const orderText = (\n        <>\n          {order.type === INCREASE ? \"Increase\" : \"Decrease\"} {indexTokenSymbol} {order.isLong ? \"Long\" : \"Short\"}\n          &nbsp;by ${formatAmount(order.positionSize, USDG_DECIMALS, 2, true)}\n          <div style={{color: '#384263'}}>{!order.tp?.eq(0) && `Take Profit: $${formatAmount(order.tp, 10, 2, 1)}`}</div>\n          <div style={{color: '#384263'}}>{!order.sl?.eq(0) && `Stop Loss: $${formatAmount(order.sl, 10, 2, 1)}`}</div>\n        </>\n      );\n\n      return (\n        <div key={`${order.isLong}-${order.type}-${order.index}`} className=\"App-card\">\n          <div className=\"App-card-title-small\">\n            {orderText}\n          </div>\n          <div className=\"App-card-divider\"></div>\n          <div className=\"App-card-content\">\n            <div className=\"App-card-row\">\n              <div className=\"label\">\n                <Trans>Type</Trans>\n              </div>\n              <div className=\"icon-container\">\n                <img src={marketIconGNS} alt=\"GNS Icon\" style={{width: 15}} />\n                {order.type === INCREASE && 'Limit'}\n              </div>\n            </div>\n            <div className=\"App-card-row\">\n              <div className=\"label\">\n                <Trans>Price</Trans>\n              </div>\n              <div>\n                {triggerPricePrefix} {formatAmount(order.triggerPrice, USD_DECIMALS, 2, true)}\n              </div>\n            </div>\n            <div className=\"App-card-row\">\n              <div className=\"label\">\n                <Trans>Mark Price</Trans>\n              </div>\n              <div>\n                {formatAmount(markPrice, USD_DECIMALS, 2, true)}\n              </div>\n            </div>\n            {!hideActions && (\n              <>\n                <div className=\"App-card-divider\"></div>\n                <div className=\"App-card-options\">\n                  <button className=\"App-button-option App-card-option\" onClick={() => onEditClick(order, 'GNS')} disabled={true}>\n                    <Trans>Edit</Trans>\n                  </button>\n                  <button className=\"App-button-option App-card-option\" onClick={() => onCancelClick(order, 'GNS')}>\n                    <Trans>Cancel</Trans>\n                  </button>\n                </div>\n              </>\n            )}\n          </div>\n        </div>\n      );\n    });\n  }, [orders, ordersGNS, onEditClick, onCancelClick, infoTokens, positionsMap, hideActions, chainId, account]);\n\n  const renderSmallList = useCallback(() => {\n    if (!orders || !orders.length) {\n      return null;\n    }\n\n    return orders.map((order) => {\n      const indexToken = getTokenInfo(infoTokens, order.indexToken);\n      const maximisePrice = (order.type === INCREASE && order.isLong) || (order.type === DECREASE && !order.isLong);\n      const markPrice = maximisePrice ? indexToken.contractMaxPrice : indexToken.contractMinPrice;\n      const triggerPricePrefix = order.triggerAboveThreshold ? TRIGGER_PREFIX_ABOVE : TRIGGER_PREFIX_BELOW;\n      const indexTokenSymbol = indexToken.isWrapped ? indexToken.baseSymbol : indexToken.symbol;\n\n      const collateralTokenInfo = getTokenInfo(infoTokens, order.purchaseToken);\n      const collateralUSD = getUsd(order.purchaseTokenAmount, order.purchaseToken, true, infoTokens);\n\n      const error = getOrderError(account, order, positionsMap);\n\n      return (\n        <div key={`${order.isLong}-${order.type}-${order.index}`} className=\"App-card\">\n          <div className=\"App-card-title-small\">\n            {order.type === INCREASE ? \"Increase\" : \"Decrease\"} {indexTokenSymbol} {order.isLong ? \"Long\" : \"Short\"}\n            &nbsp;by ${formatAmount(order.sizeDelta, USD_DECIMALS, 2, true)}\n            {error && <div className=\"Exchange-list-item-error\">{error}</div>}\n          </div>\n          <div className=\"App-card-divider\"></div>\n          <div className=\"App-card-content\">\n            <div className=\"App-card-row\">\n              <div className=\"label\">\n                <Trans>Type</Trans>\n              </div>\n              <div className=\"icon-container\">\n                <img src={marketIconGMX} alt=\"GMX Icon\" style={{width: 15}} />\n                {order.type === INCREASE ? \"Limit\" : \"Trigger\"}\n              </div>\n            </div>\n            <div className=\"App-card-row\">\n              <div className=\"label\">\n                <Trans>Price</Trans>\n              </div>\n              <div>\n                {triggerPricePrefix} {formatAmount(order.triggerPrice, USD_DECIMALS, 2, true)}\n              </div>\n            </div>\n            <div className=\"App-card-row\">\n              <div className=\"label\">\n                <Trans>Mark Price</Trans>\n              </div>\n              <div>\n                <Tooltip\n                  handle={formatAmount(markPrice, USD_DECIMALS, 2, true)}\n                  position=\"right-bottom\"\n                  renderContent={() => {\n                    return (\n                      <Trans>\n                        The price that the order can be executed at may differ slightly from the chart price as market\n                        orders can change the price while limit / trigger orders cannot.\n                      </Trans>\n                    );\n                  }}\n                />\n              </div>\n            </div>\n            {order.type === INCREASE && (\n              <div className=\"App-card-row\">\n                <div className=\"label\">\n                  <Trans>Collateral</Trans>\n                </div>\n                <div>\n                  ${formatAmount(collateralUSD, USD_DECIMALS, 2, true)} (\n                  {formatAmount(order.purchaseTokenAmount, collateralTokenInfo.decimals, 4, true)}{\" \"}\n                  {collateralTokenInfo.baseSymbol || collateralTokenInfo.symbol})\n                </div>\n              </div>\n            )}\n            {!hideActions && (\n              <>\n                <div className=\"App-card-divider\"></div>\n                <div className=\"App-card-options\">\n                  <button className=\"App-button-option App-card-option\" onClick={() => onEditClick(order)}>\n                    <Trans>Edit</Trans>\n                  </button>\n                  <button className=\"App-button-option App-card-option\" onClick={() => onCancelClick(order)}>\n                    <Trans>Cancel</Trans>\n                  </button>\n                </div>\n              </>\n            )}\n          </div>\n        </div>\n      );\n    });\n  }, [orders, onEditClick, onCancelClick, infoTokens, positionsMap, hideActions, chainId, account]);\n\n  return (\n    <React.Fragment>\n      <table className=\"Exchange-list Orders App-box large\" cellSpacing={0}>\n        <tbody>\n          {renderHead()}\n          {renderEmptyRow()}\n          {renderLargeList()}\n          {renderLargeListGNS()}\n        </tbody>\n      </table>\n      <div className=\"Exchange-list Orders small\">\n        {(!hasOrders) && (\n          <div className=\"Exchange-empty-positions-list-note App-card\">No open orders</div>\n        )}\n        {renderSmallList()}\n        {renderSmallListGNS()}\n      </div>\n      {editingOrder && (\n        <OrderEditor\n          account={account}\n          order={editingOrder}\n          setEditingOrder={setEditingOrder}\n          infoTokens={infoTokens}\n          pendingTxns={pendingTxns}\n          setPendingTxns={setPendingTxns}\n          getPositionForOrder={getPositionForOrder}\n          positionsMap={positionsMap}\n          library={library}\n          totalTokenWeights={totalTokenWeights}\n          usdgSupply={usdgSupply}\n          savedShouldDisableValidationForTesting={savedShouldDisableValidationForTesting}\n        />\n      )}\n      <OrderEditorGNS\n        visible={orderEditorGNSVisible}\n        setVisible={setOrderEditorGNSVisible}\n        order={editingOrderGNS}\n        library={library}\n      />\n    </React.Fragment>\n  );\n}\n","import React, { useState, useEffect, useCallback, useMemo } from \"react\";\nimport { ethers } from \"ethers\";\nimport { Link } from \"react-router-dom\";\nimport Tooltip from \"../../components/Tooltip/Tooltip\";\nimport cx from 'classnames';\n\nimport {\n  USD_DECIMALS,\n  MAX_LEVERAGE,\n  BASIS_POINTS_DIVISOR,\n  LIQUIDATION_FEE,\n  TRADES_PAGE_SIZE,\n  formatAmount,\n  getExplorerUrl,\n  formatDateTime,\n  deserialize,\n  getExchangeRateDisplay,\n  bigNumberify,\n} from \"../../lib/legacy\";\nimport { useTrades, useLiquidationsData } from \"../../domain/legacy\";\nimport { getContract } from \"../../config/Addresses\";\n\nimport \"./TradeHistory.scss\";\n\nconst { AddressZero } = ethers.constants;\n\nfunction getPositionDisplay(increase, indexToken, isLong, sizeDelta) {\n  const symbol = indexToken ? (indexToken.isWrapped ? indexToken.baseSymbol : indexToken.symbol) : \"\";\n  return `\n    ${increase ? \"Increase\" : \"Decrease\"} ${symbol} ${isLong ? \"Long\" : \"Short\"}\n    ${increase ? \"+\" : \"-\"}${formatAmount(sizeDelta, USD_DECIMALS, 2, true)} USD`;\n}\n\nfunction getOrderActionTitle(action) {\n  let actionDisplay;\n\n  if (action.startsWith(\"Create\")) {\n    actionDisplay = \"Create\";\n  } else if (action.startsWith(\"Cancel\")) {\n    actionDisplay = \"Cancel\";\n  } else {\n    actionDisplay = \"Update\";\n  }\n\n  return `${actionDisplay} Order`;\n}\n\nfunction renderLiquidationTooltip(liquidationData, label) {\n  const minCollateral = liquidationData.size.mul(BASIS_POINTS_DIVISOR).div(MAX_LEVERAGE);\n  const text =\n    liquidationData.type === \"full\"\n      ? \"This position was liquidated as the max leverage of 100x was exceeded\"\n      : \"Max leverage of 100x was exceeded, the remaining collateral after deducting losses and fees have been sent back to your account\";\n  return (\n    <Tooltip\n      position=\"left-top\"\n      handle={label}\n      renderContent={() => (\n        <>\n          {text}\n          <br />\n          <br />\n          Initial collateral: ${formatAmount(liquidationData.collateral, USD_DECIMALS, 2, true)}\n          <br />\n          Min required collateral: ${formatAmount(minCollateral, USD_DECIMALS, 2, true)}\n          <br />\n          Borrow fee: ${formatAmount(liquidationData.borrowFee, USD_DECIMALS, 2, true)}\n          <br />\n          PnL: -${formatAmount(liquidationData.loss, USD_DECIMALS, 2, true)}\n          {liquidationData.type === \"full\" && <div>Liquidation fee: ${formatAmount(LIQUIDATION_FEE, 30, 2, true)}</div>}\n        </>\n      )}\n    />\n  );\n}\n\nfunction getLiquidationData(liquidationsDataMap, key, timestamp) {\n  return liquidationsDataMap && liquidationsDataMap[`${key}:${timestamp}`];\n}\n\nexport default function TradeHistory(props) {\n  const { account, infoTokens, getTokenInfo, chainId, nativeTokenAddress, shouldShowPaginationButtons } = props;\n  const [pageIds, setPageIds] = useState({});\n  const [pageIndex, setPageIndex] = useState(0);\n\n  const getAfterId = () => {\n    return pageIds[pageIndex];\n  };\n\n  const { trades, updateTrades } = useTrades(chainId, account, props.forSingleAccount, getAfterId());\n\n  const liquidationsData = useLiquidationsData(chainId, account);\n  const liquidationsDataMap = useMemo(() => {\n    if (!liquidationsData) {\n      return null;\n    }\n    return liquidationsData.reduce((memo, item) => {\n      const liquidationKey = `${item.key}:${item.timestamp}`;\n      memo[liquidationKey] = item;\n      return memo;\n    }, {});\n  }, [liquidationsData]);\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      updateTrades(undefined, true);\n    }, 10 * 1000);\n    return () => clearInterval(interval);\n  }, [updateTrades]);\n\n  const loadNextPage = () => {\n    if (!trades || trades.length === 0) {\n      return;\n    }\n\n    const lastTrade = trades[trades.length - 1];\n    pageIds[pageIndex + 1] = lastTrade.id;\n    setPageIds(pageIds);\n    setPageIndex(pageIndex + 1);\n  };\n\n  const loadPrevPage = () => {\n    setPageIndex(pageIndex - 1);\n  };\n\n  const getMsg = useCallback(\n    (trade) => {\n      const tradeData = trade.data;\n      const params = JSON.parse(tradeData.params);\n      const defaultMsg = \"\";\n\n      if (tradeData.action === \"BuyUSDG\") {\n        const token = getTokenInfo(infoTokens, params.token, true, nativeTokenAddress);\n        if (!token) {\n          return defaultMsg;\n        }\n        return `Swap ${formatAmount(params.tokenAmount, token.decimals, 4, true)} ${token.symbol} for ${formatAmount(\n          params.usdgAmount,\n          18,\n          4,\n          true\n        )} USDG`;\n      }\n\n      if (tradeData.action === \"SellUSDG\") {\n        const token = getTokenInfo(infoTokens, params.token, true, nativeTokenAddress);\n        if (!token) {\n          return defaultMsg;\n        }\n        return `Swap ${formatAmount(params.usdgAmount, 18, 4, true)} USDG for ${formatAmount(\n          params.tokenAmount,\n          token.decimals,\n          4,\n          true\n        )} ${token.symbol}`;\n      }\n\n      if (tradeData.action === \"Swap\") {\n        const tokenIn = getTokenInfo(infoTokens, params.tokenIn, true, nativeTokenAddress);\n        const tokenOut = getTokenInfo(infoTokens, params.tokenOut, true, nativeTokenAddress);\n        if (!tokenIn || !tokenOut) {\n          return defaultMsg;\n        }\n        return `Swap ${formatAmount(params.amountIn, tokenIn.decimals, 4, true)} ${tokenIn.symbol} for ${formatAmount(\n          params.amountOut,\n          tokenOut.decimals,\n          4,\n          true\n        )} ${tokenOut.symbol}`;\n      }\n\n      if (tradeData.action === \"CreateIncreasePosition\") {\n        const indexToken = getTokenInfo(infoTokens, params.indexToken, true, nativeTokenAddress);\n        if (!indexToken) {\n          return defaultMsg;\n        }\n\n        if (bigNumberify(params.sizeDelta).eq(0)) {\n          return `Request deposit into ${indexToken.symbol} ${params.isLong ? \"Long\" : \"Short\"}`;\n        }\n\n        return `Request increase ${indexToken.symbol} ${params.isLong ? \"Long\" : \"Short\"}, +${formatAmount(\n          params.sizeDelta,\n          USD_DECIMALS,\n          2,\n          true\n        )} USD, Acceptable Price: ${params.isLong ? \"<\" : \">\"} ${formatAmount(\n          params.acceptablePrice,\n          USD_DECIMALS,\n          2,\n          true\n        )} USD`;\n      }\n\n      if (tradeData.action === \"CreateDecreasePosition\") {\n        const indexToken = getTokenInfo(infoTokens, params.indexToken, true, nativeTokenAddress);\n        if (!indexToken) {\n          return defaultMsg;\n        }\n\n        if (bigNumberify(params.sizeDelta).eq(0)) {\n          return `Request withdrawal from ${indexToken.symbol} ${params.isLong ? \"Long\" : \"Short\"}`;\n        }\n\n        return `Request decrease ${indexToken.symbol} ${params.isLong ? \"Long\" : \"Short\"}, -${formatAmount(\n          params.sizeDelta,\n          USD_DECIMALS,\n          2,\n          true\n        )} USD, Acceptable Price: ${params.isLong ? \">\" : \"<\"} ${formatAmount(\n          params.acceptablePrice,\n          USD_DECIMALS,\n          2,\n          true\n        )} USD`;\n      }\n\n      if (tradeData.action === \"CancelIncreasePosition\") {\n        const indexToken = getTokenInfo(infoTokens, params.indexToken, true, nativeTokenAddress);\n        if (!indexToken) {\n          return defaultMsg;\n        }\n\n        if (bigNumberify(params.sizeDelta).eq(0)) {\n          return (\n            <>\n              Could not execute deposit into {indexToken.symbol} {params.isLong ? \"Long\" : \"Short\"}\n            </>\n          );\n        }\n\n        return (\n          <>\n            Could not increase {indexToken.symbol} {params.isLong ? \"Long\" : \"Short\"},\n            {`+${formatAmount(params.sizeDelta, USD_DECIMALS, 2, true)}`} USD, Acceptable Price:&nbsp;\n            {params.isLong ? \"<\" : \">\"}&nbsp;\n            <Tooltip\n              position=\"left-top\"\n              handle={`${formatAmount(params.acceptablePrice, USD_DECIMALS, 2, true)} USD`}\n              renderContent={() => <>Try increasing the \"Allowed Slippage\", under the Settings menu on the top right</>}\n            />\n          </>\n        );\n      }\n\n      if (tradeData.action === \"CancelDecreasePosition\") {\n        const indexToken = getTokenInfo(infoTokens, params.indexToken, true, nativeTokenAddress);\n        if (!indexToken) {\n          return defaultMsg;\n        }\n\n        if (bigNumberify(params.sizeDelta).eq(0)) {\n          return `Could not execute withdrawal from ${indexToken.symbol} ${params.isLong ? \"Long\" : \"Short\"}`;\n        }\n\n        return (\n          <>\n            Could not decrease {indexToken.symbol} {params.isLong ? \"Long\" : \"Short\"},\n            {`+${formatAmount(params.sizeDelta, USD_DECIMALS, 2, true)}`} USD, Acceptable Price:&nbsp;\n            {params.isLong ? \">\" : \"<\"}&nbsp;\n            <Tooltip\n              position=\"left-top\"\n              handle={`${formatAmount(params.acceptablePrice, USD_DECIMALS, 2, true)} USD`}\n              renderContent={() => <>Try increasing the \"Allowed Slippage\", under the Settings menu on the top right</>}\n            />\n          </>\n        );\n      }\n\n      if (tradeData.action === \"IncreasePosition-Long\" || tradeData.action === \"IncreasePosition-Short\") {\n        if (params.flags?.isOrderExecution) {\n          return;\n        }\n\n        const indexToken = getTokenInfo(infoTokens, params.indexToken, true, nativeTokenAddress);\n        if (!indexToken) {\n          return defaultMsg;\n        }\n        if (bigNumberify(params.sizeDelta).eq(0)) {\n          return `Deposit ${formatAmount(params.collateralDelta, USD_DECIMALS, 2, true)} USD into ${\n            indexToken.symbol\n          } ${params.isLong ? \"Long\" : \"Short\"}`;\n        }\n        return `Increase ${indexToken.symbol} ${params.isLong ? \"Long\" : \"Short\"}, +${formatAmount(\n          params.sizeDelta,\n          USD_DECIMALS,\n          2,\n          true\n        )} USD, ${indexToken.symbol} Price: ${formatAmount(params.price, USD_DECIMALS, 2, true)} USD`;\n      }\n\n      if (tradeData.action === \"DecreasePosition-Long\" || tradeData.action === \"DecreasePosition-Short\") {\n        if (params.flags?.isOrderExecution) {\n          return;\n        }\n\n        const indexToken = getTokenInfo(infoTokens, params.indexToken, true, nativeTokenAddress);\n        if (!indexToken) {\n          return defaultMsg;\n        }\n        if (bigNumberify(params.sizeDelta).eq(0)) {\n          return `Withdraw ${formatAmount(params.collateralDelta, USD_DECIMALS, 2, true)} USD from ${\n            indexToken.symbol\n          } ${params.isLong ? \"Long\" : \"Short\"}`;\n        }\n        const isLiquidation = params.flags?.isLiquidation;\n        const liquidationData = getLiquidationData(liquidationsDataMap, params.key, tradeData.timestamp);\n\n        if (isLiquidation && liquidationData) {\n          return (\n            <>\n              {renderLiquidationTooltip(liquidationData, \"Partial Liquidation\")} {indexToken.symbol}{\" \"}\n              {params.isLong ? \"Long\" : \"Short\"}, -{formatAmount(params.sizeDelta, USD_DECIMALS, 2, true)} USD,{\" \"}\n              {indexToken.symbol}&nbsp; Price: ${formatAmount(params.price, USD_DECIMALS, 2, true)} USD\n            </>\n          );\n        }\n        const actionDisplay = isLiquidation ? \"Partially Liquidated\" : \"Decreased\";\n        return `\n        ${actionDisplay} ${indexToken.symbol} ${params.isLong ? \"Long\" : \"Short\"},\n        -${formatAmount(params.sizeDelta, USD_DECIMALS, 2, true)} USD,\n        ${indexToken.symbol} Price: ${formatAmount(params.price, USD_DECIMALS, 2, true)} USD\n      `;\n      }\n\n      if (tradeData.action === \"LiquidatePosition-Long\" || tradeData.action === \"LiquidatePosition-Short\") {\n        const indexToken = getTokenInfo(infoTokens, params.indexToken, true, nativeTokenAddress);\n        if (!indexToken) {\n          return defaultMsg;\n        }\n        const liquidationData = getLiquidationData(liquidationsDataMap, params.key, tradeData.timestamp);\n        if (liquidationData) {\n          return (\n            <>\n              {renderLiquidationTooltip(liquidationData, \"Liquidated\")} {indexToken.symbol}{\" \"}\n              {params.isLong ? \"Long\" : \"Short\"}, -{formatAmount(params.size, USD_DECIMALS, 2, true)} USD,&nbsp;\n              {indexToken.symbol} Price: ${formatAmount(params.markPrice, USD_DECIMALS, 2, true)} USD\n            </>\n          );\n        }\n        return `\n        Liquidated ${indexToken.symbol} ${params.isLong ? \"Long\" : \"Short\"},\n        -${formatAmount(params.size, USD_DECIMALS, 2, true)} USD,\n        ${indexToken.symbol} Price: ${formatAmount(params.markPrice, USD_DECIMALS, 2, true)} USD\n      `;\n      }\n\n      if ([\"ExecuteIncreaseOrder\", \"ExecuteDecreaseOrder\"].includes(tradeData.action)) {\n        const order = deserialize(params.order);\n        const indexToken = getTokenInfo(infoTokens, order.indexToken, true, nativeTokenAddress);\n        if (!indexToken) {\n          return defaultMsg;\n        }\n        const longShortDisplay = order.isLong ? \"Long\" : \"Short\";\n        const executionPriceDisplay = formatAmount(order.executionPrice, USD_DECIMALS, 2, true);\n        const sizeDeltaDisplay = `${order.type === \"Increase\" ? \"+\" : \"-\"}${formatAmount(\n          order.sizeDelta,\n          USD_DECIMALS,\n          2,\n          true\n        )}`;\n\n        return `\n        Execute Order: ${order.type} ${indexToken.symbol} ${longShortDisplay}\n        ${sizeDeltaDisplay} USD, Price: ${executionPriceDisplay} USD\n      `;\n      }\n\n      if (\n        [\n          \"CreateIncreaseOrder\",\n          \"CancelIncreaseOrder\",\n          \"UpdateIncreaseOrder\",\n          \"CreateDecreaseOrder\",\n          \"CancelDecreaseOrder\",\n          \"UpdateDecreaseOrder\",\n        ].includes(tradeData.action)\n      ) {\n        const order = deserialize(params.order);\n        const indexToken = getTokenInfo(infoTokens, order.indexToken);\n        if (!indexToken) {\n          return defaultMsg;\n        }\n        const increase = tradeData.action.includes(\"Increase\");\n        const priceDisplay = `${order.triggerAboveThreshold ? \">\" : \"<\"} ${formatAmount(\n          order.triggerPrice,\n          USD_DECIMALS,\n          2,\n          true\n        )}`;\n        return `\n        ${getOrderActionTitle(tradeData.action)}:\n        ${getPositionDisplay(increase, indexToken, order.isLong, order.sizeDelta)},\n        Price: ${priceDisplay}\n      `;\n      }\n\n      if (tradeData.action === \"ExecuteSwapOrder\") {\n        const order = deserialize(params.order);\n        const nativeTokenAddress = getContract(chainId, \"NATIVE_TOKEN\");\n        const fromToken = getTokenInfo(infoTokens, order.path[0] === nativeTokenAddress ? AddressZero : order.path[0]);\n        const toToken = getTokenInfo(infoTokens, order.shouldUnwrap ? AddressZero : order.path[order.path.length - 1]);\n        if (!fromToken || !toToken) {\n          return defaultMsg;\n        }\n        const fromAmountDisplay = formatAmount(order.amountIn, fromToken.decimals, fromToken.isStable ? 2 : 4, true);\n        const toAmountDisplay = formatAmount(order.amountOut, toToken.decimals, toToken.isStable ? 2 : 4, true);\n        return `\n        Execute Order: Swap ${fromAmountDisplay} ${fromToken.symbol} for ${toAmountDisplay} ${toToken.symbol}\n      `;\n      }\n\n      if ([\"CreateSwapOrder\", \"UpdateSwapOrder\", \"CancelSwapOrder\"].includes(tradeData.action)) {\n        const order = deserialize(params.order);\n        const nativeTokenAddress = getContract(chainId, \"NATIVE_TOKEN\");\n        const fromToken = getTokenInfo(infoTokens, order.path[0] === nativeTokenAddress ? AddressZero : order.path[0]);\n        const toToken = getTokenInfo(infoTokens, order.shouldUnwrap ? AddressZero : order.path[order.path.length - 1]);\n        if (!fromToken || !toToken) {\n          return defaultMsg;\n        }\n        const amountInDisplay = fromToken\n          ? formatAmount(order.amountIn, fromToken.decimals, fromToken.isStable ? 2 : 4, true)\n          : \"\";\n        const minOutDisplay = toToken\n          ? formatAmount(order.minOut, toToken.decimals, toToken.isStable ? 2 : 4, true)\n          : \"\";\n\n        return `\n        ${getOrderActionTitle(tradeData.action)}:\n        Swap ${amountInDisplay} ${fromToken?.symbol || \"\"} for ${minOutDisplay} ${toToken?.symbol || \"\"},\n        Price: ${getExchangeRateDisplay(order.triggerRatio, fromToken, toToken)}`;\n      }\n    },\n    [getTokenInfo, infoTokens, nativeTokenAddress, chainId, liquidationsDataMap]\n  );\n\n  const tradesWithMessages = useMemo(() => {\n    if (!trades) {\n      return [];\n    }\n\n    return trades\n      .map((trade) => ({\n        msg: getMsg(trade),\n        ...trade,\n      }))\n      .filter((trade) => trade.msg);\n  }, [trades, getMsg]);\n\n  return (\n    <div className=\"TradeHistory\" style={tradesWithMessages.length === 0 ? { border: \"none\" } : {}}>\n      {tradesWithMessages.length === 0 && <div className=\"App-card Exchange-list-empty-note\">No trades yet</div>}\n      {tradesWithMessages.length > 0 &&\n        tradesWithMessages.map((trade, index) => {\n          const tradeData = trade.data;\n          const txUrl = getExplorerUrl(chainId) + \"tx/\" + tradeData.txhash;\n\n          let msg = getMsg(trade);\n\n          if (!msg) {\n            return null;\n          }\n\n          return (\n            <div className=\"TradeHistory-row App-box App-box_no-border\" key={index}>\n              <div>\n                <div className=\"muted TradeHistory-time\">\n                  {formatDateTime(tradeData.timestamp)}\n                  {(!account || account.length === 0) && (\n                    <span>\n                      {\" \"}\n                      (<Link to={`/actions/${tradeData.account}`}>{tradeData.account}</Link>)\n                    </span>\n                  )}\n                </div>\n                <a className=\"plain\" href={txUrl} target=\"_blank\" rel=\"noopener noreferrer\">\n                  {msg}\n                </a>\n              </div>\n            </div>\n          );\n        })}\n      {shouldShowPaginationButtons && trades && trades.length >= TRADES_PAGE_SIZE && (\n        <div>\n          {pageIndex > 0 && (\n            <button className=\"App-button-option App-card-option\" onClick={loadPrevPage}>\n              Prev\n            </button>\n          )}\n          {trades && trades.length >= TRADES_PAGE_SIZE && (\n            <button className=\"App-button-option App-card-option\" onClick={loadNextPage}>\n              Next\n            </button>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n","import React from \"react\";\n\nimport \"./ExchangeBanner.css\";\n\nexport default function ExchangeBanner(props) {\n  const { hideBanner } = props;\n\n  return (\n    <div className=\"ExchangeBanner\">\n      <p className=\"ExchangeBanner-text\">\n        Trade on GMX and win <span className=\"ExchangeBanner-price\">$250.000</span> in prizes! Live until November 30th,{\" \"}\n        <a\n          href=\"https://medium.com/@gmx.io/gmx-trading-competition-win-250-000-usd-in-prizes-1346504b96f6\"\n          target=\"_blank\"\n          className=\"ExchangeBanner-link\"\n          rel=\"noreferrer\"\n        >\n          click here\n        </a>{\" \"}\n        to learn more.\n      </p>\n      <span\n        className=\"ExchangeBanner-close\"\n        onClick={(e) => {\n          hideBanner();\n        }}\n      >\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"11.25\" height=\"11.25\" viewBox=\"0 0 11.25 11.25\">\n          <path\n            id=\"ic_close\"\n            d=\"M11-2.565,6.818-6.75,11-10.935a.844.844,0,0,0,0-1.193.844.844,0,0,0-1.193,0L5.625-7.943,1.44-12.128a.844.844,0,0,0-1.193,0,.844.844,0,0,0,0,1.193L4.432-6.75.247-2.565a.844.844,0,0,0,0,1.193.844.844,0,0,0,1.193,0L5.625-5.557,9.81-1.372a.844.844,0,0,0,1.193,0A.844.844,0,0,0,11-2.565Z\"\n            transform=\"translate(0 12.375)\"\n            fill=\"#fff\"\n          />\n        </svg>\n      </span>\n    </div>\n  );\n}\n","import React, { useEffect, useState, useMemo, useCallback, forwardRef, useImperativeHandle } from \"react\";\nimport { Trans, t } from \"@lingui/macro\";\nimport { useWeb3React } from \"@web3-react/core\";\nimport useSWR from \"swr\";\nimport { ethers } from \"ethers\";\nimport useWebSocket from 'react-use-websocket';\n\nimport {\n  FUNDING_RATE_PRECISION,\n  BASIS_POINTS_DIVISOR,\n  MARGIN_FEE_BASIS_POINTS,\n  SWAP,\n  LONG,\n  SHORT,\n  USD_DECIMALS,\n  getExplorerUrl,\n  helperToast,\n  formatAmount,\n  bigNumberify,\n  getTokenInfo,\n  getPositionKey,\n  getPositionContractKey,\n  getLeverage,\n  useLocalStorageSerializeKey,\n  useLocalStorageByChainId,\n  getDeltaStr,\n  useChainId,\n  useAccountOrders,\n  getPageTitle,\n} from \"../../lib/legacy\";\nimport { getConstant } from \"../../config/chains\";\nimport { approvePlugin, useInfoTokens, useMinExecutionFee, cancelMultipleOrders } from \"../../domain/legacy\";\n\nimport { getContract } from \"../../config/Addresses\";\nimport { getTokens, getToken, getWhitelistedTokens, getTokenBySymbol } from \"../../config/Tokens\";\n\nimport Reader from \"../../abis/ReaderV2.json\";\nimport VaultV2 from \"../../abis/VaultV2.json\";\nimport Router from \"../../abis/Router.json\";\nimport Token from \"../../abis/Token.json\";\n\nimport SwapBox from \"../../components/Exchange/SwapBox\";\nimport ExchangeTVChart, { getChartToken } from \"../../components/Exchange/ExchangeTVChart\";\nimport PositionsList from \"../../components/Exchange/PositionsList\";\nimport OrdersList from \"../../components/Exchange/OrdersList\";\nimport TradeHistory from \"../../components/Exchange/TradeHistory\";\nimport ExchangeWalletTokens from \"../../components/Exchange/ExchangeWalletTokens\";\nimport ExchangeBanner from \"../../components/Exchange/ExchangeBanner\";\nimport Tab from \"../../components/Tab/Tab\";\n\nimport \"./Exchange.scss\";\nimport \"../../components/Exchange/Exchange-lists.scss\";\nimport { fetcher } from \"../../lib/contracts/fetcher\";\nimport GNS_Storage from \"../../abis/GNS/GNS_Storage.json\";\nimport { GNS_PAIRS } from './../../lib/GNS_legacy';\nimport { ADDRESS_ZERO } from '@uniswap/v3-sdk';\nimport { signer } from './../../../../components/utils/providers';\n\n\nconst { AddressZero } = ethers.constants;\n\nconst PENDING_POSITION_VALID_DURATION = 600 * 1000;\nconst UPDATED_POSITION_VALID_DURATION = 60 * 1000;\n\nconst notifications = {};\n\nfunction pushSuccessNotification(chainId, message, e) {\n  const { transactionHash } = e;\n  const id = ethers.utils.id(message + transactionHash);\n  if (notifications[id]) {\n    return;\n  }\n\n  notifications[id] = true;\n\n  const txUrl = getExplorerUrl(chainId) + \"tx/\" + transactionHash;\n  helperToast.success(\n    <div>\n      {message}{\" \"}\n      <a href={txUrl} target=\"_blank\" rel=\"noopener noreferrer\">\n        View\n      </a>\n    </div>\n  );\n}\n\nfunction pushErrorNotification(chainId, message, e) {\n  const { transactionHash } = e;\n  const id = ethers.utils.id(message + transactionHash);\n  if (notifications[id]) {\n    return;\n  }\n\n  notifications[id] = true;\n\n  const txUrl = getExplorerUrl(chainId) + \"tx/\" + transactionHash;\n  helperToast.error(\n    <div>\n      {message}{\" \"}\n      <a href={txUrl} target=\"_blank\" rel=\"noopener noreferrer\">\n        View\n      </a>\n    </div>\n  );\n}\n\nfunction getFundingFee(data) {\n  let { entryFundingRate, cumulativeFundingRate, size } = data;\n  if (entryFundingRate && cumulativeFundingRate) {\n    return size.mul(cumulativeFundingRate.sub(entryFundingRate)).div(FUNDING_RATE_PRECISION);\n  }\n  return;\n}\n\nconst getTokenAddress = (token, nativeTokenAddress) => {\n  if (token.address === AddressZero) {\n    return nativeTokenAddress;\n  }\n  return token.address;\n};\n\nfunction applyPendingChanges(position, pendingPositions) {\n  if (!pendingPositions) {\n    return;\n  }\n  const { key } = position;\n\n  if (\n    pendingPositions[key] &&\n    pendingPositions[key].updatedAt &&\n    pendingPositions[key].pendingChanges &&\n    pendingPositions[key].updatedAt + PENDING_POSITION_VALID_DURATION > Date.now()\n  ) {\n    const { pendingChanges } = pendingPositions[key];\n    if (pendingChanges.size && position.size.eq(pendingChanges.size)) {\n      return;\n    }\n\n    if (pendingChanges.expectingCollateralChange && !position.collateral.eq(pendingChanges.collateralSnapshot)) {\n      return;\n    }\n\n    position.hasPendingChanges = true;\n    position.pendingChanges = pendingChanges;\n  }\n}\n\nexport function getPositions(\n  chainId,\n  positionQuery,\n  positionData,\n  infoTokens,\n  includeDelta,\n  showPnlAfterFees,\n  account,\n  pendingPositions,\n  updatedPositions,\n) {\n  const propsLength = getConstant(chainId, \"positionReaderPropsLength\");\n  const positions = [];\n  const positionsMap = {};\n  if (!positionData) {\n    return { positions, positionsMap };\n  }\n  const { collateralTokens, indexTokens, isLong } = positionQuery;\n  for (let i = 0; i < collateralTokens.length; i++) {\n    const collateralToken = getTokenInfo(infoTokens, collateralTokens[i], true, getContract(chainId, \"NATIVE_TOKEN\"));\n    const indexToken = getTokenInfo(infoTokens, indexTokens[i], true, getContract(chainId, \"NATIVE_TOKEN\"));\n    const key = getPositionKey(account, collateralTokens[i], indexTokens[i], isLong[i]);\n    let contractKey;\n    if (account) {\n      contractKey = getPositionContractKey(account, collateralTokens[i], indexTokens[i], isLong[i]);\n    }\n\n\n    const position = {\n      key,\n      contractKey,\n      collateralToken,\n      indexToken,\n      isLong: isLong[i],\n      size: positionData[i * propsLength],\n      collateral: positionData[i * propsLength + 1],\n      averagePrice: positionData[i * propsLength + 2],\n      entryFundingRate: positionData[i * propsLength + 3],\n      cumulativeFundingRate: collateralToken.cumulativeFundingRate,\n      hasRealisedProfit: positionData[i * propsLength + 4].eq(1),\n      realisedPnl: positionData[i * propsLength + 5],\n      lastIncreasedTime: positionData[i * propsLength + 6].toNumber(),\n      hasProfit: positionData[i * propsLength + 7].eq(1),\n      delta: positionData[i * propsLength + 8],\n      markPrice: isLong[i] ? indexToken.minPrice : indexToken.maxPrice,\n      market: 'GMX',\n    };\n\n\n    if (\n      updatedPositions &&\n      updatedPositions[key] &&\n      updatedPositions[key].updatedAt &&\n      updatedPositions[key].updatedAt + UPDATED_POSITION_VALID_DURATION > Date.now()\n    ) {\n      const updatedPosition = updatedPositions[key];\n      position.size = updatedPosition.size;\n      position.collateral = updatedPosition.collateral;\n      position.averagePrice = updatedPosition.averagePrice;\n      position.entryFundingRate = updatedPosition.entryFundingRate;\n    }\n\n    let fundingFee = getFundingFee(position);\n    position.fundingFee = fundingFee ? fundingFee : bigNumberify(0);\n    position.collateralAfterFee = position.collateral.sub(position.fundingFee);\n\n    position.closingFee = position.size.mul(MARGIN_FEE_BASIS_POINTS).div(BASIS_POINTS_DIVISOR);\n    position.positionFee = position.size.mul(MARGIN_FEE_BASIS_POINTS).mul(2).div(BASIS_POINTS_DIVISOR);\n    position.totalFees = position.positionFee.add(position.fundingFee);\n\n    position.pendingDelta = position.delta;\n\n    if (position.collateral.gt(0)) {\n      position.hasLowCollateral =\n        position.collateralAfterFee.lt(0) || position.size.div(position.collateralAfterFee.abs()).gt(50);\n\n      if (position.averagePrice && position.markPrice) {\n        const priceDelta = position.averagePrice.gt(position.markPrice)\n          ? position.averagePrice.sub(position.markPrice)\n          : position.markPrice.sub(position.averagePrice);\n        position.pendingDelta = position.size.mul(priceDelta).div(position.averagePrice);\n\n        position.delta = position.pendingDelta;\n\n        if (position.isLong) {\n          position.hasProfit = position.markPrice.gte(position.averagePrice);\n        } else {\n          position.hasProfit = position.markPrice.lte(position.averagePrice);\n        }\n      }\n\n      position.deltaPercentage = position.pendingDelta.mul(BASIS_POINTS_DIVISOR).div(position.collateral);\n\n      const { deltaStr, deltaPercentageStr } = getDeltaStr({\n        delta: position.pendingDelta,\n        deltaPercentage: position.deltaPercentage,\n        hasProfit: position.hasProfit,\n      });\n\n      position.deltaStr = deltaStr;\n      position.deltaPercentageStr = deltaPercentageStr;\n      position.deltaBeforeFeesStr = deltaStr;\n\n      let hasProfitAfterFees;\n      let pendingDeltaAfterFees;\n\n      if (position.hasProfit) {\n        if (position.pendingDelta.gt(position.totalFees)) {\n          hasProfitAfterFees = true;\n          pendingDeltaAfterFees = position.pendingDelta.sub(position.totalFees);\n        } else {\n          hasProfitAfterFees = false;\n          pendingDeltaAfterFees = position.totalFees.sub(position.pendingDelta);\n        }\n      } else {\n        hasProfitAfterFees = false;\n        pendingDeltaAfterFees = position.pendingDelta.add(position.totalFees);\n      }\n\n      position.hasProfitAfterFees = hasProfitAfterFees;\n      position.pendingDeltaAfterFees = pendingDeltaAfterFees;\n      position.deltaPercentageAfterFees = position.pendingDeltaAfterFees\n        .mul(BASIS_POINTS_DIVISOR)\n        .div(position.collateral);\n\n      const { deltaStr: deltaAfterFeesStr, deltaPercentageStr: deltaAfterFeesPercentageStr } = getDeltaStr({\n        delta: position.pendingDeltaAfterFees,\n        deltaPercentage: position.deltaPercentageAfterFees,\n        hasProfit: hasProfitAfterFees,\n      });\n\n      position.deltaAfterFeesStr = deltaAfterFeesStr;\n      position.deltaAfterFeesPercentageStr = deltaAfterFeesPercentageStr;\n\n      if (showPnlAfterFees) {\n        position.deltaStr = position.deltaAfterFeesStr;\n        position.deltaPercentageStr = position.deltaAfterFeesPercentageStr;\n      }\n\n      let netValue = position.hasProfit\n        ? position.collateral.add(position.pendingDelta)\n        : position.collateral.sub(position.pendingDelta);\n\n      netValue = netValue.sub(position.fundingFee);\n\n      if (showPnlAfterFees) {\n        netValue = netValue.sub(position.closingFee);\n      }\n\n      position.netValue = netValue;\n    }\n\n    position.leverage = getLeverage({\n      size: position.size,\n      collateral: position.collateral,\n      entryFundingRate: position.entryFundingRate,\n      cumulativeFundingRate: position.cumulativeFundingRate,\n      hasProfit: position.hasProfit,\n      delta: position.delta,\n      includeDelta,\n    });\n\n    positionsMap[key] = position;\n\n    applyPendingChanges(position, pendingPositions);\n\n    if (position.size.gt(0) || position.hasPendingChanges) {\n      positions.push(position);\n    }\n  }\n\n  return { positions, positionsMap };\n}\n\nexport function getPositionQuery(tokens, nativeTokenAddress) {\n  const collateralTokens = [];\n  const indexTokens = [];\n  const isLong = [];\n\n  for (let i = 0; i < tokens.length; i++) {\n    const token = tokens[i];\n    if (token.isStable) {\n      continue;\n    }\n    if (token.isWrapped) {\n      continue;\n    }\n    collateralTokens.push(getTokenAddress(token, nativeTokenAddress));\n    indexTokens.push(getTokenAddress(token, nativeTokenAddress));\n    isLong.push(true);\n  }\n\n  for (let i = 0; i < tokens.length; i++) {\n    const stableToken = tokens[i];\n    if (!stableToken.isStable) {\n      continue;\n    }\n\n    for (let j = 0; j < tokens.length; j++) {\n      const token = tokens[j];\n      if (token.isStable) {\n        continue;\n      }\n      if (token.isWrapped) {\n        continue;\n      }\n      collateralTokens.push(stableToken.address);\n      indexTokens.push(getTokenAddress(token, nativeTokenAddress));\n      isLong.push(false);\n    }\n  }\n\n  return { collateralTokens, indexTokens, isLong };\n}\n\nexport const Exchange = forwardRef((props, ref) => {\n  const {\n    savedIsPnlInLeverage,\n    setSavedIsPnlInLeverage,\n    savedShowPnlAfterFees,\n    savedSlippageAmount,\n    pendingTxns,\n    setPendingTxns,\n    savedShouldShowPositionLines,\n    setSavedShouldShowPositionLines,\n    connectWallet,\n    savedShouldDisableValidationForTesting,\n  } = props;\n  const [showBanner, setShowBanner] = useLocalStorageSerializeKey(\"showBanner\", true);\n  const [bannerHidden, setBannerHidden] = useLocalStorageSerializeKey(\"bannerHidden\", null);\n\n  const [pendingPositions, setPendingPositions] = useState({});\n  const [updatedPositions, setUpdatedPositions] = useState({});\n\n  const hideBanner = () => {\n    const hiddenLimit = new Date(new Date().getTime() + 2 * 24 * 60 * 60 * 1000);\n    setBannerHidden(hiddenLimit);\n    setShowBanner(false);\n  };\n\n  useEffect(() => {\n    if (new Date() > new Date(\"2021-11-30\")) {\n      setShowBanner(false);\n    } else {\n      if (bannerHidden && new Date(bannerHidden) > new Date()) {\n        setShowBanner(false);\n      } else {\n        setBannerHidden(null);\n        setShowBanner(true);\n      }\n    }\n  }, [showBanner, bannerHidden, setBannerHidden, setShowBanner]);\n\n  const { account, library } = useWeb3React();\n  const active = Boolean(props.walletAddress);\n  const { chainId } = useChainId();\n  const currentAccount = account;\n\n  const nativeTokenAddress = getContract(chainId, \"NATIVE_TOKEN\");\n\n  const vaultAddress = getContract(chainId, \"Vault\");\n  const positionRouterAddress = getContract(chainId, \"PositionRouter\");\n  const readerAddress = getContract(chainId, \"Reader\");\n  const usdgAddress = getContract(chainId, \"USDG\");\n\n  const whitelistedTokens = getWhitelistedTokens(chainId);\n  const whitelistedTokenAddresses = whitelistedTokens.map((token) => token.address);\n\n  const positionQuery = getPositionQuery(whitelistedTokens, nativeTokenAddress);\n\n  const defaultCollateralSymbol = getConstant(chainId, \"defaultCollateralSymbol\");\n  const defaultTokenSelection = useMemo(\n    () => ({\n      [SWAP]: {\n        from: AddressZero,\n        to: getTokenBySymbol(chainId, defaultCollateralSymbol).address,\n      },\n      [LONG]: {\n        from: AddressZero,\n        to: AddressZero,\n      },\n      [SHORT]: {\n        from: getTokenBySymbol(chainId, defaultCollateralSymbol).address,\n        to: AddressZero,\n      },\n    }),\n    [chainId, defaultCollateralSymbol]\n  );\n\n  const [tokenSelection, setTokenSelection] = useLocalStorageByChainId(\n    chainId,\n    \"Exchange-token-selection-v2\",\n    defaultTokenSelection\n  );\n\n  \n  \n  const [swapOption, setSwapOption] = useLocalStorageByChainId(chainId, \"Swap-option-v2\", LONG);\n\n  const fromTokenAddress = tokenSelection[swapOption].from;\n  const toTokenAddress = tokenSelection[swapOption].to;\n\n  const tokens = getTokens(chainId);\n  const stableTokens = tokens.filter((token) => token.isStable);\n\n  const setFromTokenAddress = useCallback(\n    (selectedSwapOption, address) => {\n      const newTokenSelection = JSON.parse(JSON.stringify(tokenSelection));\n      newTokenSelection[selectedSwapOption].from = address;\n      setTokenSelection(newTokenSelection);\n    },\n    [tokenSelection, setTokenSelection]\n  );\n\n  const setToTokenAddress = useCallback(\n    (selectedSwapOption, address) => {\n      const newTokenSelection = JSON.parse(JSON.stringify(tokenSelection));\n      \n      // ETH/USDC disabling\n      // address = AddressZero;\n      \n      newTokenSelection[selectedSwapOption].to = address;\n      if (selectedSwapOption === LONG || selectedSwapOption === SHORT) {\n        newTokenSelection[LONG].to = address;\n        newTokenSelection[SHORT].to = address;\n      }\n      setTokenSelection(newTokenSelection);\n    },\n    [tokenSelection, setTokenSelection]\n  );\n\n  const setMarket = (selectedSwapOption, toTokenAddress) => {\n    // ETH/USDC disabling\n    // toTokenAddress = AddressZero;\n    \n    setSwapOption(selectedSwapOption);\n    const newTokenSelection = JSON.parse(JSON.stringify(tokenSelection));\n    newTokenSelection[selectedSwapOption].to = toTokenAddress;\n    if (selectedSwapOption === LONG || selectedSwapOption === SHORT) {\n      newTokenSelection[LONG].to = toTokenAddress;\n      newTokenSelection[SHORT].to = toTokenAddress;\n    }\n    setTokenSelection(newTokenSelection);\n  };\n\n  const [isConfirming, setIsConfirming] = useState(false);\n  const [isPendingConfirmation, setIsPendingConfirmation] = useState(false);\n\n  const tokenAddresses = tokens.map((token) => token.address);\n  const { data: tokenBalances } = useSWR(active && [active, chainId, readerAddress, \"getTokenBalances\", account], {\n    fetcher: fetcher(library, Reader, [tokenAddresses]),\n  });\n\n  const { data: positionData, error: positionDataError } = useSWR(\n    active && [active, chainId, readerAddress, \"getPositions\", vaultAddress, account],\n    {\n      fetcher: fetcher(library, Reader, [\n        positionQuery.collateralTokens,\n        positionQuery.indexTokens,\n        positionQuery.isLong,\n      ]),\n    }\n  );\n\n  \n  const [pendingPositionsGNS, setPendingPositionsGNS] = useState([]);\n  const [positionsGNSLoading, setPositionsGNSLoading] = useState(true);\n  const { data: positionsGNS, error: positionsGNSError } = useSWR(\n    active && [active, chainId, GNS_Storage.address, pendingPositionsGNS, \"getPositionsGNS\", account],\n    async () => {\n      const positions = [];\n      let position;\n\n      const contract = new ethers.Contract(GNS_Storage.address, GNS_Storage.abi, library.getSigner());\n      const keys = [];\n      \n      for (let i = 0; i < Object.keys(GNS_PAIRS).length; i++) {\n        const pair = Object.keys(GNS_PAIRS)[i];\n        let pairIndex = GNS_PAIRS[pair];\n        \n        for (let j = 0; j < 3; j++) {\n          const index = j;\n          position = await contract.openTrades(account, pairIndex, index);\n          if (position.trader === ADDRESS_ZERO) {\n            continue;\n          }\n\n          positions.push(position);\n          \n          const key = `${pairIndex}${position.leverage}`;\n          keys.push(key);\n        }\n      }\n\n      setPositionsGNSLoading(false);\n\n      keys.forEach(key => {\n        if (pendingPositionsGNS[key]) {\n          delete pendingPositionsGNS[key];\n          setPendingPositionsGNS(pendingPositionsGNS);\n        }\n      })\n      return positions;\n    }\n  );\n  \n  const positionsDataIsLoading = active && ((!positionData && !positionDataError) || (!positionsGNS && !positionsGNSError));\n\n  const { data: fundingRateInfo } = useSWR([active, chainId, readerAddress, \"getFundingRates\"], {\n    fetcher: fetcher(library, Reader, [vaultAddress, nativeTokenAddress, whitelistedTokenAddresses]),\n  });\n\n  const { data: totalTokenWeights } = useSWR(\n    [`Exchange:totalTokenWeights:${active}`, chainId, vaultAddress, \"totalTokenWeights\"],\n    {\n      fetcher: fetcher(library, VaultV2),\n    }\n  );\n\n  const { data: usdgSupply } = useSWR([`Exchange:usdgSupply:${active}`, chainId, usdgAddress, \"totalSupply\"], {\n    fetcher: fetcher(library, Token),\n  });\n\n  const orderBookAddress = getContract(chainId, \"OrderBook\");\n  const routerAddress = getContract(chainId, \"Router\");\n  const { data: orderBookApproved } = useSWR(\n    active && [active, chainId, routerAddress, \"approvedPlugins\", account, orderBookAddress],\n    {\n      fetcher: fetcher(library, Router),\n    }\n  );\n\n  const { data: positionRouterApproved } = useSWR(\n    active && [active, chainId, routerAddress, \"approvedPlugins\", account, positionRouterAddress],\n    {\n      fetcher: fetcher(library, Router),\n    }\n  );\n\n\n  const { infoTokens } = useInfoTokens(library, chainId, active, tokenBalances, fundingRateInfo);\n  const { minExecutionFee, minExecutionFeeUSD, minExecutionFeeErrorMessage } = useMinExecutionFee(\n    library,\n    active,\n    chainId,\n    infoTokens\n  );\n  \n\n  useEffect(() => {\n    const fromToken = getTokenInfo(infoTokens, fromTokenAddress);\n    const toToken = getTokenInfo(infoTokens, toTokenAddress);\n    let selectedToken = getChartToken(swapOption, fromToken, toToken, chainId);\n    let currentTokenPriceStr = formatAmount(selectedToken.maxPrice, USD_DECIMALS, 2, true);\n    let title = getPageTitle(currentTokenPriceStr + ` | ${selectedToken.symbol}${selectedToken.isStable ? \"\" : \"USD\"}`);\n    document.title = title;\n  }, [tokenSelection, swapOption, infoTokens, chainId, fromTokenAddress, toTokenAddress]);\n\n  const { positions, positionsMap } = getPositions(\n    chainId,\n    positionQuery,\n    positionData,\n    infoTokens,\n    savedIsPnlInLeverage,\n    savedShowPnlAfterFees,\n    account,\n    pendingPositions,\n    updatedPositions,\n    account,\n  )\n\n  useImperativeHandle(ref, () => ({\n    onUpdatePosition(key, size, collateral, averagePrice, entryFundingRate, reserveAmount, realisedPnl) {\n      for (let i = 0; i < positions.length; i++) {\n        const position = positions[i];\n        if (position.contractKey === key) {\n          updatedPositions[position.key] = {\n            size,\n            collateral,\n            averagePrice,\n            entryFundingRate,\n            reserveAmount,\n            realisedPnl,\n            updatedAt: Date.now(),\n          };\n          setUpdatedPositions({ ...updatedPositions });\n          break;\n        }\n      }\n    },\n    onClosePosition(key, size, collateral, averagePrice, entryFundingRate, reserveAmount, realisedPnl, e) {\n      for (let i = 0; i < positions.length; i++) {\n        const position = positions[i];\n        if (position.contractKey === key) {\n          updatedPositions[position.key] = {\n            size: bigNumberify(0),\n            collateral: bigNumberify(0),\n            averagePrice,\n            entryFundingRate,\n            reserveAmount,\n            realisedPnl,\n            updatedAt: Date.now(),\n          };\n          setUpdatedPositions({ ...updatedPositions });\n          break;\n        }\n      }\n    },\n\n    onIncreasePosition(key, account, collateralToken, indexToken, collateralDelta, sizeDelta, isLong, price, fee, e) {\n      if (account !== currentAccount) {\n        return;\n      }\n\n      const indexTokenItem = getToken(chainId, indexToken);\n      const tokenSymbol = indexTokenItem.isWrapped ? getConstant(chainId, \"nativeTokenSymbol\") : indexTokenItem.symbol;\n\n      let message;\n      if (sizeDelta.eq(0)) {\n        message = `Deposited ${formatAmount(collateralDelta, USD_DECIMALS, 2, true)} USD into ${tokenSymbol} ${\n          isLong ? \"Long\" : \"Short.\"\n        }`;\n      } else {\n        message = `Increased ${tokenSymbol} ${isLong ? \"Long\" : \"Short\"}, +${formatAmount(\n          sizeDelta,\n          USD_DECIMALS,\n          2,\n          true\n        )} USD.`;\n      }\n\n      pushSuccessNotification(chainId, message, e);\n    },\n\n    onDecreasePosition(key, account, collateralToken, indexToken, collateralDelta, sizeDelta, isLong, price, fee, e) {\n      if (account !== currentAccount) {\n        return;\n      }\n\n      const indexTokenItem = getToken(chainId, indexToken);\n      const tokenSymbol = indexTokenItem.isWrapped ? getConstant(chainId, \"nativeTokenSymbol\") : indexTokenItem.symbol;\n\n      let message;\n      if (sizeDelta.eq(0)) {\n        message = `Withdrew ${formatAmount(collateralDelta, USD_DECIMALS, 2, true)} USD from ${tokenSymbol} ${\n          isLong ? \"Long\" : \"Short\"\n        }.`;\n      } else {\n        message = `Decreased ${tokenSymbol} ${isLong ? \"Long\" : \"Short\"}, -${formatAmount(\n          sizeDelta,\n          USD_DECIMALS,\n          2,\n          true\n        )} USD.`;\n      }\n\n      pushSuccessNotification(chainId, message, e);\n    },\n\n    onCancelIncreasePosition(\n      account,\n      path,\n      indexToken,\n      amountIn,\n      minOut,\n      sizeDelta,\n      isLong,\n      acceptablePrice,\n      executionFee,\n      blockGap,\n      timeGap,\n      e\n    ) {\n      if (account !== currentAccount) {\n        return;\n      }\n      const indexTokenItem = getToken(chainId, indexToken);\n      const tokenSymbol = indexTokenItem.isWrapped ? getConstant(chainId, \"nativeTokenSymbol\") : indexTokenItem.symbol;\n\n      const message = `Could not increase ${tokenSymbol} ${\n        isLong ? \"Long\" : \"Short\"\n      } within the allowed slippage, you can adjust the allowed slippage in the settings on the top right of the page.`;\n\n      pushErrorNotification(chainId, message, e);\n\n      const key = getPositionKey(account, path[path.length - 1], indexToken, isLong);\n      pendingPositions[key] = {};\n      setPendingPositions({ ...pendingPositions });\n    },\n\n    onCancelDecreasePosition(\n      account,\n      path,\n      indexToken,\n      collateralDelta,\n      sizeDelta,\n      isLong,\n      receiver,\n      acceptablePrice,\n      minOut,\n      executionFee,\n      blockGap,\n      timeGap,\n      e\n    ) {\n      if (account !== currentAccount) {\n        return;\n      }\n      const indexTokenItem = getToken(chainId, indexToken);\n      const tokenSymbol = indexTokenItem.isWrapped ? getConstant(chainId, \"nativeTokenSymbol\") : indexTokenItem.symbol;\n\n      const message = `Could not decrease ${tokenSymbol} ${\n        isLong ? \"Long\" : \"Short\"\n      } within the allowed slippage, you can adjust the allowed slippage in the settings on the top right of the page.`;\n\n      pushErrorNotification(chainId, message, e);\n\n      const key = getPositionKey(account, path[path.length - 1], indexToken, isLong);\n      pendingPositions[key] = {};\n      setPendingPositions({ ...pendingPositions });\n    },\n  }));\n\n  const flagOrdersEnabled = true;\n  const [orders] = useAccountOrders(flagOrdersEnabled, account);\n  \n  const { data: ordersGNSData, error: ordersGNSDataError } = useSWR(\n    active && [active, chainId, GNS_Storage.address, \"getOrders\", \"getOrdersGNS\", account],\n    async () => {\n      const orders = [];\n      let order;\n\n      const contract = new ethers.Contract(GNS_Storage.address, GNS_Storage.abi, library.getSigner());\n\n      for (let i = 0; i < Object.keys(GNS_PAIRS).length; i++) {\n        const pair = Object.keys(GNS_PAIRS)[i];\n        let pairIndex = GNS_PAIRS[pair];\n        \n        for (let j = 0; j < 3; j++) {\n          const index = j;\n\n          try {\n            order = await contract.getOpenLimitOrder(account, pairIndex, index);\n            orders.push(order);\n          } catch(e) {\n          }\n        }\n      }\n      \n      return orders;\n    }\n  );\n  \n  const [ordersGNS, setOrdersGNS] = useState([]);\n  useEffect(() => {\n    if (!ordersGNSData) {\n      return;\n    }\n    \n    setOrdersGNS(ordersGNSData);\n  }, [ordersGNSData]);\n\n  const [isWaitingForPluginApproval, setIsWaitingForPluginApproval] = useState(false);\n  const [isWaitingForPositionRouterApproval, setIsWaitingForPositionRouterApproval] = useState(false);\n  const [isPluginApproving, setIsPluginApproving] = useState(false);\n  const [isPositionRouterApproving, setIsPositionRouterApproving] = useState(false);\n  const [isCancelMultipleOrderProcessing, setIsCancelMultipleOrderProcessing] = useState(false);\n  const [cancelOrderIdList, setCancelOrderIdList] = useState([]);\n\n  const onMultipleCancelClick = useCallback(\n    async function () {\n      setIsCancelMultipleOrderProcessing(true);\n      try {\n        const tx = await cancelMultipleOrders(chainId, library, cancelOrderIdList, {\n          successMsg: t`Orders cancelled.`,\n          failMsg: t`Cancel failed.`,\n          sentMsg: t`Cancel submitted.`,\n          pendingTxns,\n          setPendingTxns,\n        });\n        const receipt = await tx.wait();\n        if (receipt.status === 1) {\n          setCancelOrderIdList([]);\n        }\n      } catch (error) {\n        console.error(error);\n      } finally {\n        setIsCancelMultipleOrderProcessing(false);\n      }\n    },\n    [\n      chainId,\n      library,\n      pendingTxns,\n      setPendingTxns,\n      setCancelOrderIdList,\n      cancelOrderIdList,\n      setIsCancelMultipleOrderProcessing,\n    ]\n  );\n\n  const approveOrderBook = () => {\n    setIsPluginApproving(true);\n    return approvePlugin(chainId, orderBookAddress, {\n      library,\n      pendingTxns,\n      setPendingTxns,\n      sentMsg: t`Enable orders sent.`,\n      failMsg: t`Enable orders failed.`,\n    })\n      .then(() => {\n        setIsWaitingForPluginApproval(true);\n      })\n      .finally(() => {\n        setIsPluginApproving(false);\n      });\n  };\n\n  const approvePositionRouter = ({ sentMsg, failMsg }) => {\n    setIsPositionRouterApproving(true);\n    return approvePlugin(chainId, positionRouterAddress, {\n      library,\n      pendingTxns,\n      setPendingTxns,\n      sentMsg,\n      failMsg,\n    })\n      .then(() => {\n        setIsWaitingForPositionRouterApproval(true);\n      })\n      .finally(() => {\n        setIsPositionRouterApproving(false);\n      });\n  };\n\n  const posLength = positions?.length + positionsGNS?.length;\n  const ordersLength = orders?.length + ordersGNS?.length;\n\n  const LIST_SECTIONS = [\"Positions\", flagOrdersEnabled ? \"Orders\" : undefined, \"Trades\"].filter(Boolean);\n  let [listSection, setListSection] = useLocalStorageByChainId(chainId, \"List-section-v2\", LIST_SECTIONS[0]);\n  const LIST_SECTIONS_LABELS = {\n    Orders: ordersLength ? `Orders (${ordersLength})` : undefined,\n    Positions: posLength ? `Positions (${posLength})` : undefined,\n  };\n  if (!LIST_SECTIONS.includes(listSection)) {\n    listSection = LIST_SECTIONS[0];\n  }\n\n  if (!getToken(chainId, toTokenAddress)) {\n    return null;\n  }\n\n  const renderCancelOrderButton = () => {\n    const orderText = cancelOrderIdList.length > 1 ? t`orders` : t`order`;\n    if (cancelOrderIdList.length === 0) return;\n    return (\n      <button\n        className=\"muted font-base cancel-order-btn\"\n        disabled={isCancelMultipleOrderProcessing}\n        type=\"button\"\n        onClick={onMultipleCancelClick}\n      >\n        <Trans>\n          Cancel {cancelOrderIdList.length} {orderText}\n        </Trans>\n      </button>\n    );\n  };\n\n  const getListSection = () => {\n    return (\n      <div>\n        <div className=\"Exchange-list-tab-container\">\n          <Tab\n            options={LIST_SECTIONS}\n            optionLabels={LIST_SECTIONS_LABELS}\n            option={listSection}\n            onChange={(section) => setListSection(section)}\n            type=\"inline\"\n            className=\"Exchange-list-tabs\"\n          />\n        </div>\n        {listSection === \"Positions\" && (\n          <PositionsList\n            positionsDataIsLoading={positionsDataIsLoading}\n            pendingPositions={pendingPositions}\n            setPendingPositions={setPendingPositions}\n            setListSection={setListSection}\n            setIsWaitingForPluginApproval={setIsWaitingForPluginApproval}\n            setIsWaitingForPositionRouterApproval={setIsWaitingForPositionRouterApproval}\n            approveOrderBook={approveOrderBook}\n            approvePositionRouter={approvePositionRouter}\n            isPluginApproving={isPluginApproving}\n            isPositionRouterApproving={isPositionRouterApproving}\n            isWaitingForPluginApproval={isWaitingForPluginApproval}\n            isWaitingForPositionRouterApproval={isWaitingForPositionRouterApproval}\n            orderBookApproved={orderBookApproved}\n            positionRouterApproved={positionRouterApproved}\n            positionsLoading={positionsGNSLoading}\n            positionsGNS={positionsGNS}\n            pendingPositionsGNS={pendingPositionsGNS}\n            setPendingPositionsGNS={setPendingPositionsGNS}\n            positions={positions}\n            positionsMap={positionsMap}\n            infoTokens={infoTokens}\n            active={active}\n            account={account}\n            library={library}\n            pendingTxns={pendingTxns}\n            setPendingTxns={setPendingTxns}\n            flagOrdersEnabled={flagOrdersEnabled}\n            savedIsPnlInLeverage={savedIsPnlInLeverage}\n            chainId={chainId}\n            nativeTokenAddress={nativeTokenAddress}\n            setMarket={setMarket}\n            orders={orders}\n            showPnlAfterFees={true}\n            minExecutionFee={minExecutionFee}\n            minExecutionFeeUSD={minExecutionFeeUSD}\n            minExecutionFeeErrorMessage={minExecutionFeeErrorMessage}\n            usdgSupply={usdgSupply}\n            totalTokenWeights={totalTokenWeights}\n          />\n        )}\n        {listSection === \"Orders\" && (\n          <OrdersList\n            account={account}\n            active={active}\n            library={library}\n            pendingTxns={pendingTxns}\n            setPendingTxns={setPendingTxns}\n            infoTokens={infoTokens}\n            positionsMap={positionsMap}\n            chainId={chainId}\n            orders={orders}\n            ordersGNS={ordersGNS}\n            totalTokenWeights={totalTokenWeights}\n            usdgSupply={usdgSupply}\n            savedShouldDisableValidationForTesting={savedShouldDisableValidationForTesting}\n            cancelOrderIdList={cancelOrderIdList}\n            setCancelOrderIdList={setCancelOrderIdList}\n          />\n        )}\n        {listSection === \"Trades\" && (\n          <TradeHistory\n            account={account}\n            forSingleAccount={true}\n            infoTokens={infoTokens}\n            getTokenInfo={getTokenInfo}\n            chainId={chainId}\n            nativeTokenAddress={nativeTokenAddress}\n            shouldShowPaginationButtons={true}\n          />\n        )}\n      </div>\n    );\n  };\n\n  const onSelectWalletToken = (token) => {\n    setFromTokenAddress(swapOption, token.address);\n  };\n\n  const renderChart = () => {\n    return (\n      <ExchangeTVChart\n        fromTokenAddress={fromTokenAddress}\n        toTokenAddress={toTokenAddress}\n        infoTokens={infoTokens}\n        swapOption={swapOption}\n        chainId={chainId}\n        positions={positions}\n        // savedShouldShowPositionLines={savedShouldShowPositionLines}\n        savedShouldShowPositionLines={true}\n        orders={orders}\n        setToTokenAddress={setToTokenAddress}\n      />\n    );\n  };\n\n  return (\n    <div className=\"Exchange page-layout\">\n      {showBanner && <ExchangeBanner hideBanner={hideBanner} />}\n      <div className=\"Exchange-content\">\n        <div className=\"Exchange-left\">\n          {renderChart()}\n        </div>\n        <div className=\"Exchange-right\">\n          <SwapBox\n            positions={positions}\n            pendingPositions={pendingPositions}\n            setPendingPositions={setPendingPositions}\n            setIsWaitingForPluginApproval={setIsWaitingForPluginApproval}\n            setIsWaitingForPositionRouterApproval={setIsWaitingForPositionRouterApproval}\n            approveOrderBook={approveOrderBook}\n            approvePositionRouter={approvePositionRouter}\n            isPluginApproving={isPluginApproving}\n            isPositionRouterApproving={isPositionRouterApproving}\n            isWaitingForPluginApproval={isWaitingForPluginApproval}\n            isWaitingForPositionRouterApproval={isWaitingForPositionRouterApproval}\n            orderBookApproved={orderBookApproved}\n            positionRouterApproved={positionRouterApproved}\n            orders={orders}\n            flagOrdersEnabled={flagOrdersEnabled}\n            chainId={chainId}\n            infoTokens={infoTokens}\n            active={active}\n            connectWallet={connectWallet}\n            library={library}\n            account={account}\n            positionsMap={positionsMap}\n            fromTokenAddress={fromTokenAddress}\n            setFromTokenAddress={setFromTokenAddress}\n            toTokenAddress={toTokenAddress}\n            setToTokenAddress={setToTokenAddress}\n            swapOption={swapOption}\n            setSwapOption={setSwapOption}\n            pendingTxns={pendingTxns}\n            setPendingTxns={setPendingTxns}\n            tokenSelection={tokenSelection}\n            setTokenSelection={setTokenSelection}\n            isConfirming={isConfirming}\n            setIsConfirming={setIsConfirming}\n            isPendingConfirmation={isPendingConfirmation}\n            setIsPendingConfirmation={setIsPendingConfirmation}\n            savedIsPnlInLeverage={savedIsPnlInLeverage}\n            setSavedIsPnlInLeverage={setSavedIsPnlInLeverage}\n            nativeTokenAddress={nativeTokenAddress}\n            savedSlippageAmount={savedSlippageAmount}\n            totalTokenWeights={totalTokenWeights}\n            usdgSupply={usdgSupply}\n            savedShouldDisableValidationForTesting={savedShouldDisableValidationForTesting}\n            minExecutionFee={minExecutionFee}\n            minExecutionFeeUSD={minExecutionFeeUSD}\n            minExecutionFeeErrorMessage={minExecutionFeeErrorMessage}\n            positionsGNS={positionsGNS}\n            pendingPositionsGNS={pendingPositionsGNS}\n            setPendingPositionsGNS={setPendingPositionsGNS}\n          />\n        </div>\n        <div className=\"Exchange-lists large\">{getListSection()}</div>\n        <div className=\"Exchange-lists small\">{getListSection()}</div>\n      </div>\n    </div>\n  );\n});","import { useLocalStorage } from \"react-use\";\nimport toast from \"react-hot-toast\";\nimport { homeEventsData, appEventsData } from \"../../config/events\";\nimport { useEffect } from \"react\";\nimport EventToast from \"./EventToast\";\nimport { isFuture, parse } from \"date-fns\";\nimport { isHomeSite } from \"../../lib/legacy\";\n\nfunction useEventToast() {\n  const isHome = isHomeSite();\n  const [visited, setVisited] = useLocalStorage(\"visited-announcements\", []);\n\n  useEffect(() => {\n    const eventsData = isHome ? homeEventsData : appEventsData;\n\n    eventsData\n      .filter((event) => event.isActive)\n      .filter((event) => isFuture(parse(event.validTill + \", +00\", \"d MMM yyyy, H:mm, x\", new Date())))\n      .filter((event) => Array.isArray(visited) && !visited.includes(event.id))\n      .forEach((event) => {\n        toast.custom(\n          (t) => (\n            <EventToast\n              event={event}\n              id={event.id}\n              t={t}\n              onClick={() => {\n                toast.dismiss(event.id);\n                visited.push(event.id);\n                setVisited(visited);\n              }}\n            />\n          ),\n          {\n            id: event.id,\n            style: {},\n          }\n        );\n      });\n  }, [visited, setVisited, isHome]);\n}\n\nexport default useEventToast;\n","import { Toaster } from \"react-hot-toast\";\nimport { useWindowScroll, createBreakpoint } from \"react-use\";\n\nfunction EventToastContainer() {\n  let { y: scrollY } = useWindowScroll();\n  const useBreakpoint = createBreakpoint({ XL: 1033, L: 768, S: 350 });\n  const breakpoint = useBreakpoint();\n  return (\n    <Toaster\n      position=\"top-right\"\n      reverseOrder={true}\n      gutter={30}\n      containerClassName=\"event-toast-container\"\n      containerStyle={{\n        zIndex: 2,\n        transition: \"all 200ms\",\n        top: scrollY > 60 ? \"30px\" : `${93 - scrollY}px`,\n        right: breakpoint === \"XL\" ? \"30px\" : \"1rem\",\n      }}\n      toastOptions={{\n        duration: Infinity,\n      }}\n    />\n  );\n}\nexport default EventToastContainer;\n","import { Helmet } from \"react-helmet\";\nimport { DEFAULT_PAGE_TITLE } from \"../../../../components/utils/constants\";\n\nfunction SEO(props) {\n  const { children, ...customMeta } = props;\n  const meta = {\n    title: DEFAULT_PAGE_TITLE,\n    description: `Discover DeDeLend, a cutting-edge DeFi project offering a seamless trading experience for options and perpetuals, empowering users to proficiently manage their assets on a single, intuitive platform. Harness the power of decentralized finance with our user-friendly interface designed for optimal asset control, and experience unparalleled convenience in efficient options and perpetuals trading with DeDeLend.`,\n    image: \"https://terminal.dedelend.co/favicon.ico\",\n    type: \"aggregator\",\n    ...customMeta,\n  };\n  return (\n    <>\n      <Helmet>\n        <title>{meta.title}</title>\n        <meta name=\"robots\" content=\"follow, index\" />\n        <meta content={meta.description} name=\"description\" />\n        <meta property=\"og:type\" content={meta.type} />\n        <meta property=\"og:site_name\" content=\"DeDeLend Terminal\" />\n        <meta property=\"og:description\" content={meta.description} />\n        <meta property=\"og:title\" content={meta.title} />\n        <meta property=\"og:image\" content={meta.image} />\n        <meta name=\"twitter:card\" content=\"summary_large_image\" />\n        <meta name=\"twitter:site\" content=\"@DeDeLend\" />\n        <meta name=\"twitter:title\" content={meta.title} />\n        <meta name=\"twitter:description\" content={meta.description} />\n        <meta name=\"twitter:image\" content={meta.image} />\n      </Helmet>\n      {children}\n    </>\n  );\n}\n\nexport default SEO;\n","import \"./RedirectModal.css\";\nimport Modal from \"../Modal/Modal\";\nimport Checkbox from \"../Checkbox/Checkbox\";\n\nexport function RedirectPopupModal({\n  redirectModalVisible,\n  setRedirectModalVisible,\n  appRedirectUrl,\n  setRedirectPopupTimestamp,\n  setShouldHideRedirectModal,\n  shouldHideRedirectModal,\n  removeRedirectPopupTimestamp,\n}) {\n  const onClickAgree = () => {\n    if (shouldHideRedirectModal) {\n      setRedirectPopupTimestamp(Date.now());\n    }\n  };\n\n  return (\n    <Modal\n      className=\"RedirectModal\"\n      isVisible={redirectModalVisible}\n      setIsVisible={setRedirectModalVisible}\n      label=\"Launch App\"\n    >\n      You are leaving GMX.io and will be redirected to a third party, independent website.\n      <br />\n      <br />\n      The website is a community deployed and maintained instance of the open source{\" \"}\n      <a href=\"https://github.com/gmx-io/gmx-interface\" target=\"_blank\" rel=\"noopener noreferrer\">\n        GMX front end\n      </a>\n      , hosted and served on the distributed, peer-to-peer{\" \"}\n      <a href=\"https://ipfs.io/\" target=\"_blank\" rel=\"noopener noreferrer\">\n        IPFS network\n      </a>\n      .\n      <br />\n      <br />\n      Alternative links can be found in the{\" \"}\n      <a href=\"https://gmxio.gitbook.io/gmx/app-links\" target=\"_blank\" rel=\"noopener noreferrer\">\n        docs\n      </a>\n      .\n      <br />\n      <br />\n      By clicking Agree you accept the{\" \"}\n      <a href=\"https://gmx.io/#/terms-and-conditions\" target=\"_blank\" rel=\"noopener noreferrer\">\n        T&Cs\n      </a>{\" \"}\n      and{\" \"}\n      <a href=\"https://gmx.io/#/referral-terms\" target=\"_blank\" rel=\"noopener noreferrer\">\n        Referral T&Cs\n      </a>\n      .\n      <br />\n      <br />\n      <div className=\"mb-sm\">\n        <Checkbox isChecked={shouldHideRedirectModal} setIsChecked={setShouldHideRedirectModal}>\n          Don't show this message again for 30 days.\n        </Checkbox>\n      </div>\n      <a href={appRedirectUrl} className=\"App-cta Exchange-swap-button\" onClick={() => onClickAgree()}>\n        Agree\n      </a>\n    </Modal>\n  );\n}\n","import { i18n } from \"@lingui/core\";\nimport { en, es, zh, ko, ru, ja, fr } from \"make-plural/plurals\";\nimport { LANGUAGE_LOCALSTORAGE_KEY } from \"./legacy\";\n\nexport const locales = {\n  en: \"English\",\n  es: \"Spanish\",\n  // zh: \"Chinese\",\n  ko: \"Korean\",\n  // ru: \"Russian\",\n  ja: \"Japanese\",\n  // fr: \"French\",\n};\n\nexport const defaultLocale = \"en\";\n\ni18n.loadLocaleData({\n  en: { plurals: en },\n  es: { plurals: es },\n  zh: { plurals: zh },\n  ko: { plurals: ko },\n  ru: { plurals: ru },\n  ja: { plurals: ja },\n  fr: { plurals: fr },\n});\n\nexport async function dynamicActivate(locale) {\n  // const { messages } = await import(`@lingui/loader!../config/locales/${locale}/messages.po`);\n  localStorage.setItem(LANGUAGE_LOCALSTORAGE_KEY, locale);\n  // i18n.load(locale, messages);\n  i18n.activate(locale);\n}\n","import React, { useState, useEffect, useCallback, useRef } from \"react\";\nimport { SWRConfig } from \"swr\";\nimport { ethers } from \"ethers\";\nimport { Web3ReactProvider, useWeb3React } from \"@web3-react/core\";\nimport { Web3Provider } from \"@ethersproject/providers\";\n\nimport { useLocation, useNavigate } from \"react-router-dom\";\n\nimport {\n  ARBITRUM,\n  AVALANCHE,\n  DEFAULT_SLIPPAGE_AMOUNT,\n  SLIPPAGE_BPS_KEY,\n  IS_PNL_IN_LEVERAGE_KEY,\n  SHOW_PNL_AFTER_FEES_KEY,\n  BASIS_POINTS_DIVISOR,\n  SHOULD_SHOW_POSITION_LINES_KEY,\n  getAppBaseUrl,\n  isHomeSite,\n  clearWalletConnectData,\n  helperToast,\n  getAlchemyWsUrl,\n  useChainId,\n  getInjectedHandler,\n  useEagerConnect,\n  useLocalStorageSerializeKey,\n  useInactiveListener,\n  getExplorerUrl,\n  activateInjectedProvider,\n  clearWalletLinkData,\n  SHOULD_EAGER_CONNECT_LOCALSTORAGE_KEY,\n  CURRENT_PROVIDER_LOCALSTORAGE_KEY,\n  REFERRAL_CODE_KEY,\n  REFERRAL_CODE_QUERY_PARAM,\n  isDevelopment,\n  DISABLE_ORDER_VALIDATION_KEY,\n} from \"../lib/legacy\";\n\nimport { Exchange } from \"../pages/Exchange/Exchange\";\n\nimport { cssTransition, ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport Modal from \"../components/Modal/Modal\";\nimport Checkbox from \"../components/Checkbox/Checkbox\";\n\nimport \"../styles/Shared.scss\";\nimport \"../styles/Font.css\";\nimport \"./App.scss\";\nimport \"../styles/Input.scss\";\nimport useEventToast from \"../components/EventToast/useEventToast\";\nimport EventToastContainer from \"../components/EventToast/EventToastContainer\";\nimport SEO from \"../components/Common/SEO\";\nimport useRouteQuery from \"../lib/useRouteQuery\";\nimport { encodeReferralCode, decodeReferralCode } from \"../domain/referrals\";\n\nimport { getContract } from \"../config/Addresses\";\nimport VaultV2 from \"../abis/VaultV2.json\";\nimport VaultV2b from \"../abis/VaultV2b.json\";\nimport PositionRouter from \"../abis/PositionRouter.json\";\nimport { useLocalStorage } from \"react-use\";\nimport { RedirectPopupModal } from \"../components/ModalViews/RedirectModal\";\nimport { REDIRECT_POPUP_TIMESTAMP_KEY } from \"../config/ui\";\n\nimport { Trans, t } from \"@lingui/macro\";\nimport { defaultLocale, dynamicActivate } from \"../lib/i18n\";\n\nimport _AccountManager from \"../../../deployments/arbitrum_ddl/accountManager.json\";\n\nconst arbWsProvider = new ethers.providers.WebSocketProvider(getAlchemyWsUrl());\n\nconst avaxWsProvider = new ethers.providers.JsonRpcProvider(\"https://api.avax.network/ext/bc/C/rpc\");\n\nfunction getWsProvider(active, chainId) {\n  if (!active) {\n    return;\n  }\n  if (chainId === ARBITRUM) {\n    return arbWsProvider;\n  }\n\n  if (chainId === AVALANCHE) {\n    return avaxWsProvider;\n  }\n}\n\nfunction FullApp(props) {\n  const { setRegisterVisible, connectWallet } = props; \n  const exchangeRef = useRef();\n  const { chainId } = useChainId();\n  const location = useLocation();\n  const history = useNavigate();\n\n  const query = useRouteQuery();\n\n  useEffect(() => {\n    let referralCode = query.get(REFERRAL_CODE_QUERY_PARAM);\n    if (!referralCode || referralCode.length === 0) {\n      const params = new URLSearchParams(window.location.search);\n      referralCode = params.get(REFERRAL_CODE_QUERY_PARAM);\n    }\n\n    if (referralCode && referralCode.length <= 20) {\n      const encodedReferralCode = encodeReferralCode(referralCode);\n      if (encodeReferralCode !== ethers.constants.HashZero) {\n        localStorage.setItem(REFERRAL_CODE_KEY, encodedReferralCode);\n        const queryParams = new URLSearchParams(location.search);\n        if (queryParams.has(REFERRAL_CODE_QUERY_PARAM)) {\n          queryParams.delete(REFERRAL_CODE_QUERY_PARAM);\n          history.replace({\n            search: queryParams.toString(),\n          });\n        }\n      }\n    }\n  }, [query, history, location]);\n\n  const [redirectModalVisible, setRedirectModalVisible] = useState(false);\n  const [shouldHideRedirectModal, setShouldHideRedirectModal] = useState(false);\n  const [redirectPopupTimestamp, setRedirectPopupTimestamp, removeRedirectPopupTimestamp] =\n    useLocalStorage(REDIRECT_POPUP_TIMESTAMP_KEY);\n  const [selectedToPage, setSelectedToPage] = useState(\"\");\n\n  const [isSettingsVisible, setIsSettingsVisible] = useState(false);\n  const [savedSlippageAmount, setSavedSlippageAmount] = useLocalStorageSerializeKey(\n    [chainId, SLIPPAGE_BPS_KEY],\n    DEFAULT_SLIPPAGE_AMOUNT\n  );\n  \n  const [slippageAmount, setSlippageAmount] = useState(0);\n  const [isPnlInLeverage, setIsPnlInLeverage] = useState(false);\n  const [shouldDisableValidationForTesting, setShouldDisableValidationForTesting] = useState(false);\n  const [showPnlAfterFees, setShowPnlAfterFees] = useState(false);\n\n  const [savedIsPnlInLeverage, setSavedIsPnlInLeverage] = useLocalStorageSerializeKey(\n    [chainId, IS_PNL_IN_LEVERAGE_KEY],\n    false\n  );\n\n  const [savedShowPnlAfterFees, setSavedShowPnlAfterFees] = useLocalStorageSerializeKey(\n    [chainId, SHOW_PNL_AFTER_FEES_KEY],\n    false\n  );\n  const [savedShouldDisableValidationForTesting, setSavedShouldDisableValidationForTesting] =\n    useLocalStorageSerializeKey([chainId, DISABLE_ORDER_VALIDATION_KEY], false);\n\n  const [savedShouldShowPositionLines, setSavedShouldShowPositionLines] = useLocalStorageSerializeKey(\n    [chainId, SHOULD_SHOW_POSITION_LINES_KEY],\n    false\n  );\n\n  const saveAndCloseSettings = () => {\n    const slippage = parseFloat(slippageAmount);\n    if (isNaN(slippage)) {\n      helperToast.error(t`Invalid slippage value`);\n      return;\n    }\n    if (slippage > 5) {\n      helperToast.error(t`Slippage should be less than 5%`);\n      return;\n    }\n\n    const basisPoints = (slippage * BASIS_POINTS_DIVISOR) / 100;\n    if (parseInt(basisPoints) !== parseFloat(basisPoints)) {\n      helperToast.error(t`Max slippage precision is 0.01%`);\n      return;\n    }\n\n    setSavedIsPnlInLeverage(isPnlInLeverage);\n    setSavedShowPnlAfterFees(showPnlAfterFees);\n    setSavedShouldDisableValidationForTesting(shouldDisableValidationForTesting);\n    setSavedSlippageAmount(basisPoints);\n    setIsSettingsVisible(false);\n  };\n\n  const localStorageCode = window.localStorage.getItem(REFERRAL_CODE_KEY);\n  const baseUrl = getAppBaseUrl();\n  let appRedirectUrl = baseUrl + selectedToPage;\n  if (localStorageCode && localStorageCode.length > 0 && localStorageCode !== ethers.constants.HashZero) {\n    const decodedRefCode = decodeReferralCode(localStorageCode);\n    if (decodedRefCode) {\n      appRedirectUrl = `${appRedirectUrl}?ref=${decodedRefCode}`;\n    }\n  }\n\n  const [pendingTxns, setPendingTxns] = useState([]);\n\n  const { active, library } = useWeb3React();\n\n  useEffect(() => {\n    const checkPendingTxns = async () => {\n      const updatedPendingTxns = [];\n      for (let i = 0; i < pendingTxns.length; i++) {\n        const pendingTxn = pendingTxns[i];\n        const receipt = await library.getTransactionReceipt(pendingTxn.hash);\n        if (receipt) {\n          if (receipt.status === 0) {\n            const txUrl = getExplorerUrl(chainId) + \"tx/\" + pendingTxn.hash;\n            helperToast.error(\n              <div>\n                <Trans>Txn failed.</Trans>{\" \"}\n                <a href={txUrl} target=\"_blank\" rel=\"noopener noreferrer\">\n                  <Trans>View</Trans>\n                </a>\n                <br />\n              </div>\n            );\n          }\n          if (receipt.status === 1 && pendingTxn.message) {\n            const txUrl = getExplorerUrl(chainId) + \"tx/\" + pendingTxn.hash;\n            helperToast.success(\n              <div>\n                {pendingTxn.message}{\" \"}\n                <a href={txUrl} target=\"_blank\" rel=\"noopener noreferrer\">\n                  <Trans>View</Trans>\n                </a>\n                <br />\n              </div>\n            );\n          }\n          continue;\n        }\n        updatedPendingTxns.push(pendingTxn);\n      }\n\n      if (updatedPendingTxns.length !== pendingTxns.length) {\n        setPendingTxns(updatedPendingTxns);\n      }\n    };\n\n    const interval = setInterval(() => {\n      checkPendingTxns();\n    }, 2 * 1000);\n    return () => clearInterval(interval);\n  }, [library, pendingTxns, chainId]);\n\n  const vaultAddress = getContract(chainId, \"Vault\");\n  const positionRouterAddress = getContract(chainId, \"PositionRouter\");\n\n  useEffect(() => {\n    const wsVaultAbi = chainId === ARBITRUM ? VaultV2.abi : VaultV2b.abi;\n    const wsProvider = getWsProvider(active, chainId);\n    if (!wsProvider) {\n      return;\n    }\n\n    const wsVault = new ethers.Contract(vaultAddress, wsVaultAbi, wsProvider);\n    const wsPositionRouter = new ethers.Contract(positionRouterAddress, PositionRouter.abi, wsProvider);\n\n    const callExchangeRef = (method, ...args) => {\n      if (!exchangeRef || !exchangeRef.current) {\n        return;\n      }\n\n      exchangeRef.current[method](...args);\n    };\n\n    // handle the subscriptions here instead of within the Exchange component to avoid unsubscribing and re-subscribing\n    // each time the Exchange components re-renders, which happens on every data update\n    const onUpdatePosition = (...args) => callExchangeRef(\"onUpdatePosition\", ...args);\n    const onClosePosition = (...args) => callExchangeRef(\"onClosePosition\", ...args);\n    const onIncreasePosition = (...args) => callExchangeRef(\"onIncreasePosition\", ...args);\n    const onDecreasePosition = (...args) => callExchangeRef(\"onDecreasePosition\", ...args);\n    const onCancelIncreasePosition = (...args) => callExchangeRef(\"onCancelIncreasePosition\", ...args);\n    const onCancelDecreasePosition = (...args) => callExchangeRef(\"onCancelDecreasePosition\", ...args);\n\n    wsVault.on(\"UpdatePosition\", onUpdatePosition);\n    wsVault.on(\"ClosePosition\", onClosePosition);\n    wsVault.on(\"IncreasePosition\", onIncreasePosition);\n    wsVault.on(\"DecreasePosition\", onDecreasePosition);\n    wsPositionRouter.on(\"CancelIncreasePosition\", onCancelIncreasePosition);\n    wsPositionRouter.on(\"CancelDecreasePosition\", onCancelDecreasePosition);\n\n    return function cleanup() {\n      wsVault.off(\"UpdatePosition\", onUpdatePosition);\n      wsVault.off(\"ClosePosition\", onClosePosition);\n      wsVault.off(\"IncreasePosition\", onIncreasePosition);\n      wsVault.off(\"DecreasePosition\", onDecreasePosition);\n      wsPositionRouter.off(\"CancelIncreasePosition\", onCancelIncreasePosition);\n      wsPositionRouter.off(\"CancelDecreasePosition\", onCancelDecreasePosition);\n    };\n  }, [active, chainId, vaultAddress, positionRouterAddress]);\n\n  return (\n    <>\n      <div className=\"App GMX-Interface\">\n        <div className=\"App-content\">\n          <Exchange\n            ref={exchangeRef}\n            savedShowPnlAfterFees={savedShowPnlAfterFees}\n            savedIsPnlInLeverage={savedIsPnlInLeverage}\n            setSavedIsPnlInLeverage={setSavedIsPnlInLeverage}\n            savedSlippageAmount={savedSlippageAmount}\n            setPendingTxns={setPendingTxns}\n            pendingTxns={pendingTxns}\n            savedShouldShowPositionLines={savedShouldShowPositionLines}\n            setSavedShouldShowPositionLines={setSavedShouldShowPositionLines}\n            connectWallet={connectWallet}\n            savedShouldDisableValidationForTesting={savedShouldDisableValidationForTesting}\n            dgAddress={props.dgAddress}\n            walletAddress={props.walletAddress}\n            setRegisterVisible={setRegisterVisible}\n          />\n        </div>\n      </div>\n      <RedirectPopupModal\n        redirectModalVisible={redirectModalVisible}\n        setRedirectModalVisible={setRedirectModalVisible}\n        appRedirectUrl={appRedirectUrl}\n        setRedirectPopupTimestamp={setRedirectPopupTimestamp}\n        setShouldHideRedirectModal={setShouldHideRedirectModal}\n        shouldHideRedirectModal={shouldHideRedirectModal}\n        removeRedirectPopupTimestamp={removeRedirectPopupTimestamp}\n      />\n      <Modal\n        className=\"App-settings\"\n        isVisible={isSettingsVisible}\n        setIsVisible={setIsSettingsVisible}\n        label=\"Settings\"\n      >\n        <div className=\"App-settings-row\">\n          <div>\n            <Trans>Allowed Slippage</Trans>\n          </div>\n          <div className=\"App-slippage-tolerance-input-container\">\n            <input\n              type=\"number\"\n              className=\"App-slippage-tolerance-input\"\n              min=\"0\"\n              value={slippageAmount}\n              onChange={(e) => setSlippageAmount(e.target.value)}\n            />\n            <div className=\"App-slippage-tolerance-input-percent\">%</div>\n          </div>\n        </div>\n        <div className=\"Exchange-settings-row\">\n          <Checkbox isChecked={showPnlAfterFees} setIsChecked={setShowPnlAfterFees}>\n            <Trans>Display PnL after fees</Trans>\n          </Checkbox>\n        </div>\n        <div className=\"Exchange-settings-row\">\n          <Checkbox isChecked={isPnlInLeverage} setIsChecked={setIsPnlInLeverage}>\n            <Trans>Include PnL in leverage display</Trans>\n          </Checkbox>\n        </div>\n        {isDevelopment() && (\n          <div className=\"Exchange-settings-row\">\n            <Checkbox isChecked={shouldDisableValidationForTesting} setIsChecked={setShouldDisableValidationForTesting}>\n              <Trans>Disable order validations</Trans>\n            </Checkbox>\n          </div>\n        )}\n\n        <button className=\"App-cta Exchange-swap-button\" onClick={saveAndCloseSettings}>\n          <Trans>Save</Trans>\n        </button>\n      </Modal>\n    </>\n  );\n}\n\nfunction Perpetuals(props) {\n  useEffect(() => {\n    const defaultLanguage = defaultLocale;\n    dynamicActivate(defaultLanguage);\n  }, []);\n\n  return (\n    <FullApp {...props} />\n  );\n}\n\nexport default Perpetuals;","import React from \"react\";\nimport { useLocation } from \"react-router-dom\";\n\nexport default function useRouteQuery() {\n  const { search } = useLocation();\n  return React.useMemo(() => new URLSearchParams(search), [search]);\n}\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport cx from \"classnames\";\r\n\r\nimport \"./../../../gmx-test/components/Tab/Tab.css\";\r\nimport \"./TabOptions.scss\";\r\n\r\nexport default function Tab(props) {\r\n  const { options, option, setOption, onChange, type = \"block\", className, optionLabels, icons, disabled, disabledTooltip } = props;\r\n  \r\n  const onClick = (opt) => {\r\n    if (disabled) {\r\n      return;\r\n    }\r\n    \r\n    if (setOption) {\r\n      setOption(opt);\r\n    }\r\n    if (onChange) {\r\n      onChange(opt);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={cx(\"Tab\", type, className, disabled && 'disabled', type === 'inline' && icons && 'Tab-inline-icon')}>\r\n      {options.map((opt) => {\r\n        const label = optionLabels && optionLabels[opt] ? optionLabels[opt] : opt;\r\n        let disabledNode;\r\n        \r\n        if (props.disabledList) {\r\n          props.disabledList.forEach(el => {\r\n            if (el.label === label && el.disabled) {\r\n              disabledNode = (\r\n                <div className={cx(\"Tab-option\", \"tab-tooltip-container\")} onClick={() => {return}} key={opt}>\r\n                  {disabledTooltip}\r\n                  {icons && icons[opt] && <img className=\"Tab-option-icon\" src={opt === option ? (icons[opt + '_active'] ?? icons[opt]) : icons[opt]} alt={option} />}\r\n                  {label}\r\n                </div>\r\n              );\r\n            }\r\n          })\r\n        }\r\n\r\n        if (disabledNode) {\r\n          return disabledNode;\r\n        }\r\n        \r\n        return (\r\n          <div className={cx(\"Tab-option\", \"muted\", { active: opt === option })} onClick={() => onClick(opt)} key={opt}>\r\n            {icons && icons[opt] && <img className=\"Tab-option-icon\" src={opt === option ? (icons[opt + '_active'] ?? icons[opt]) : icons[opt]} alt={option} />}\r\n            {label}\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n","import Slider, { SliderTooltip } from \"rc-slider\";\r\nimport \"rc-slider/assets/index.css\";\r\nimport \"../../../gmx-test/components/Exchange/SwapBox.scss\";\r\nimport \"./SwapBoxOptions.scss\";\r\n\r\nimport cx from \"classnames\";\r\nimport { ethers, BigNumber } from \"ethers\";\r\n\r\nimport {\r\n  ARBITRUM,\r\n  expandDecimals,\r\n  formatAmountFree,\r\n  SWAP_OPTIONS,\r\n  ASSET_OPTIONS,\r\n} from \"../../lib/legacyOptions\";\r\n\r\nimport Tab from \"../Tab/TabOptions\";\r\n\r\nimport { getTokenBySymbol } from \"../../config/Tokens\";\r\n\r\nimport { SWAP_ICONS, USD_DECIMALS } from './../../lib/legacyOptions';\r\nimport { format } from \"date-fns\";\r\nimport NumberInput_v3 from './../../../../components/UI/input/NumberInput_v3';\r\nimport { daysToMs, fromBigNumber } from \"../../../../components/utils/utils\";\r\nimport { HEGIC_STRATEGIES, HegicStrategy_ABI, PRICE_CALCULATORS, PriceCalculator_ABI, HEGIC_BUY_URLS, PremiaPools, OperationalTreasury, OperationalTreasury_ABI } from './../../../../components/utils/contracts';\r\nimport Lyra from '@lyrafinance/lyra-js';\r\nimport { sepToNumber } from \"../../../../components/utils/sepThousands\";\r\nimport PremiaPool_ABI from '../../../../deployments/options/PremiaPool_ABI.json';\r\nimport DAI_ABI from '../../../../deployments/options/DAI_ABI.json';\r\nimport { fixedFromFloat, fixedToBn } from '@premia/utils';\r\nimport { tokenDecimals, PremiaStrikeRangeMultiplier, OPTION_TYPES, MAX_FRACTION_LENGTH, OPTIONS_DECIMALS, DDL_WALLET_ENCODED, DDL_WALLET, DATE_FORMAT_TEMPLATE, assetsOptions, assetsIcons } from './../../../../components/utils/constants';\r\nimport { errAlert } from \"../../../../components/utils/notifications\";\r\nimport { alchemyProvider } from './../../../../components/utils/providers';\r\n\r\n\r\nconst leverageSliderHandle = (props) => {\r\n  const { value, dragging, index, ...restProps } = props;\r\n  return (\r\n    <SliderTooltip\r\n      prefixCls=\"rc-slider-tooltip\"\r\n      overlay={`${value}`}\r\n      visible={dragging}\r\n      placement=\"top\"\r\n      key={index}\r\n    >\r\n      <Slider.Handle value={value} {...restProps} />\r\n    </SliderTooltip>\r\n  );\r\n};\r\n\r\nexport default function SwapBox(props) {\r\n  const {\r\n    active,\r\n    connectWallet,\r\n    walletAddress,\r\n    library,\r\n    infoTokens,\r\n    selectedToken,\r\n    tokenSelection,\r\n    setTokenSelection,\r\n    assetOption,\r\n    setAssetOption,\r\n    swapOption,\r\n    setSwapOption,\r\n    leverageOption,\r\n    setLeverageOption,\r\n    amountValue,\r\n    setAmountValue,\r\n    options,\r\n    setOptions,\r\n    setOptionsLength,\r\n    setOptionsExpectedLength,\r\n    isOptionsLoading,\r\n    setIsOptionsLoading,\r\n    optionPrices,\r\n    setOptionPrices,\r\n    scrollToList,\r\n    chaiMarkPrice,\r\n  } = props;\r\n  \r\n  const isCall = swapOption === 'Call';\r\n\r\n  const getError = () => {\r\n    if (!amountValue) {\r\n      return `Enter Amount`;\r\n    }\r\n\r\n    if (!chaiMarkPrice) {\r\n      return `Please, wait`;\r\n    }\r\n  };\r\n  const isPrimaryEnabled = () => {\r\n    if (!active) {\r\n      return true;\r\n    }\r\n    \r\n    if (getError()) {\r\n      return false;\r\n    }\r\n    \r\n    return true;\r\n  };\r\n  const getPrimaryText = () => {\r\n    if (!active) {\r\n      return `Connect wallet`;\r\n    }\r\n    \r\n    const err = getError();\r\n    if (err) {\r\n      return err;\r\n    }\r\n    \r\n    return `See Available Options`;\r\n  };\r\n\r\n  const period = daysToMs(leverageOption);\r\n  const expirationDate = period && (Date.now() + period);\r\n  // Options expire at 8 a.m. UTC\r\n  const expDateUTC = new Date(expirationDate);\r\n  if (expDateUTC.getUTCHours() >= 8) {\r\n    expDateUTC.setUTCDate(expDateUTC.getUTCDate() + 1);\r\n  }\r\n  expDateUTC.setUTCHours(8, 0, 0, 0);\r\n  const periodEightAM = expDateUTC.getTime() - Date.now();\r\n\r\n  // Init Option Amount\r\n  const decimals = tokenDecimals[selectedToken.symbol];\r\n  const amountStr = (sepToNumber(amountValue).toFixed(MAX_FRACTION_LENGTH) * 10**MAX_FRACTION_LENGTH).toFixed(0);\r\n  const amount = BigNumber.from(amountStr).mul(String(10**(decimals - MAX_FRACTION_LENGTH)));\r\n\r\n  const fetchHegicOptions = async (strikes = []) => {\r\n    const periodDays = leverageOption;\r\n    if (periodDays < 7 || periodDays > 90) {\r\n      return;\r\n    }\r\n\r\n    const marketName = \"Hegic\";\r\n    let strategies;\r\n    if (periodDays < 14) {\r\n      strategies = HEGIC_STRATEGIES.short;\r\n    } else if (periodDays < 30) {\r\n      strategies = HEGIC_STRATEGIES.medShort;\r\n    } else if (periodDays < 60) {\r\n      strategies = HEGIC_STRATEGIES.medLong;\r\n    } else if (periodDays <= 90) {\r\n      strategies = HEGIC_STRATEGIES.long;\r\n    }\r\n    const expectedLength = Object.keys(strategies).filter(str => {\r\n      return isCall ? str.includes('_CALL_') : !str.includes('_CALL_');\r\n    }).filter(str => {\r\n      return str.split('_')[3] === selectedToken.symbol;\r\n    }).length;\r\n    setOptionsExpectedLength(expectedLength);\r\n    \r\n    for (let i = 0; i < Object.keys(strategies).length; i++) {\r\n      const strategy = Object.keys(strategies)[i];\r\n      const [, strategySentiment, strikeScale, strategyTokenSymbol] = strategy.split('_');\r\n      const isSpread = strategySentiment.split('-').length > 1;\r\n      if (isSpread) {\r\n        continue;\r\n      }\r\n\r\n      const strategyIsCall = strategySentiment.split('-')[0] === 'CALL';\r\n      if ((isCall && !strategyIsCall) || (!isCall && strategyIsCall)) {\r\n        continue;\r\n      }\r\n      if (strategyTokenSymbol !== selectedToken.symbol) {\r\n        continue;\r\n      }\r\n      \r\n      const strike = formatAmountFree(chaiMarkPrice, 8, 2) / 100 * strikeScale;\r\n      strikes.push(expandDecimals(BigNumber.from((strike * 10**2).toFixed(0)), 16));\r\n      \r\n      const strategyAddress = strategies[strategy];\r\n      const strategyContract = new ethers.Contract(strategyAddress, HegicStrategy_ABI, alchemyProvider);\r\n      const priceName = `PriceCalculator_${strategySentiment}_${strikeScale}_${strategyTokenSymbol}`;\r\n      const priceAddress = PRICE_CALCULATORS[priceName];\r\n      const priceContract = new ethers.Contract(priceAddress, PriceCalculator_ABI, alchemyProvider);\r\n\r\n      const urlName = `${strategySentiment}_${strikeScale}_${strategyTokenSymbol}`;\r\n\r\n      const periodS = (periodEightAM / 1000).toFixed(0);\r\n      strategyContract.getAvailableContracts(periodS, [])\r\n        .then(res => {\r\n          if (res.eq(0)) {\r\n            return;\r\n          }\r\n          \r\n          // Hegic\r\n          options.push({\r\n            strategy,\r\n            market: marketName,\r\n            type: OPTION_TYPES[marketName],\r\n            isCall,\r\n            token: strategyTokenSymbol,\r\n            initSize: amount,\r\n            strike: expandDecimals((strike * 10**2).toFixed(0), 16),\r\n            hasLiquidity: true,\r\n            period: periodEightAM,\r\n            buyUrl: HEGIC_BUY_URLS[urlName] + `&period=${periodDays}`,\r\n            isBuyingEnabled: true,\r\n            contractAddress: OperationalTreasury,\r\n            buy: (size) => {\r\n              const contract = new ethers.Contract(OperationalTreasury, OperationalTreasury_ABI, library.getSigner());\r\n              const amount = size.div(BigNumber.from(10).pow(OPTIONS_DECIMALS - decimals));\r\n\r\n              return contract.buy(\r\n                strategyAddress,\r\n                walletAddress,\r\n                amount,\r\n                periodS,\r\n                [],\r\n              );\r\n            },\r\n            getPremium: (size) => {\r\n              // res format: 1e6; will be formatted in BuyPositionModal\r\n              return priceContract.calculatePremium(periodS, size, 0)\r\n                .then(res => expandDecimals(res, decimals - 6));\r\n            },\r\n          });\r\n          setOptionsLength(options.length);\r\n          setOptions(options);\r\n          if (options.length === expectedLength) {\r\n            setIsOptionsLoading(false);\r\n          }\r\n        }, console.log)\r\n      \r\n      priceContract.calculatePremium(periodS, amount, 0)\r\n        .then(res => {\r\n          const cost = expandDecimals(res, 12);\r\n          const price = expandDecimals(cost.mul(String(10**3)).div(amount), decimals - 3);\r\n          \r\n          optionPrices[strategy] = { price, cost };\r\n          setOptionPrices(Object.assign({}, optionPrices));\r\n        }, console.log)\r\n    }\r\n  }\r\n\r\n  const fetchLyraOptions = async (strikes = []) => {\r\n    const lyra = new Lyra(ARBITRUM);\r\n    const marketName = \"Lyra\";\r\n    const token = selectedToken.symbol;\r\n    const periodMs = period;\r\n\r\n    const market = (await lyra.markets()).find(mkt => {\r\n      return mkt.baseToken.symbol === `W${token}`;\r\n    });\r\n\r\n    const boardId = market.liveBoards().reduce((prevBd, curBd) => {\r\n      const prev = prevBd.expiryTimestamp * 10**3;\r\n      const cur = curBd.expiryTimestamp * 10**3;\r\n      const expDate = Date.now() + periodMs;\r\n\r\n      return Math.abs(cur - expDate) < Math.abs(prev - expDate) ? curBd : prevBd;\r\n    }).id;\r\n    const board = market.liveBoardsMap[boardId];\r\n    \r\n    board.strikes.forEach(strike => {\r\n      const { strikeId, strikePrice } = strike;\r\n      strikes.push(strikePrice);\r\n      const strategy = `Lyra_${swapOption.toUpperCase()}_${strikeId.toString()}_${token}`;\r\n\r\n      const getTrade = (size) => {\r\n        const ONE_BN = ethers.constants.WeiPerEther;\r\n        const SLIPPAGE = 0.0015;\r\n        const amount = ONE_BN.mul(size).div(BigNumber.from(10).pow(OPTIONS_DECIMALS));\r\n        \r\n        return (\r\n          market.trade(\r\n            walletAddress,\r\n            strikeId.toNumber(),\r\n            isCall,\r\n            true,\r\n            amount,\r\n            SLIPPAGE,\r\n          )\r\n        )\r\n      };\r\n      \r\n      // Lyra\r\n      options.push({\r\n        strategy,\r\n        market: marketName,\r\n        type: OPTION_TYPES[marketName],\r\n        isCall,\r\n        token,\r\n        initSize: amount,\r\n        strike: strikePrice,\r\n        strikeId,\r\n        period: board.expiry.toString() * 10**3 - Date.now(),\r\n        buyUrl: token === 'ETH'\r\n          ? `https://app.lyra.finance/#/trade/arbitrum/eth-usdc?expiry=${board.expiry.toString()}`\r\n          : `https://app.lyra.finance/#/trade/arbitrum/wbtc-usdc?expiry=${board.expiry.toString()}`,\r\n        isBuyingEnabled: true,\r\n        contractAddress: market.contractAddresses.optionMarket,\r\n        getPremium: async (size) => {\r\n          return (\r\n            (await lyra.quoteOption(market.address, strikeId, isCall, size))\r\n              .ask.premium\r\n          );\r\n        },\r\n        buy: async (size) => {\r\n          const signer = library.getSigner();\r\n          const trade = await getTrade(size);\r\n\r\n          if (trade.isDisabled) {\r\n            console.log(trade);\r\n            errAlert(new Error(trade.disabledReason));\r\n          }\r\n          \r\n          // add referrer\r\n          trade.tx.data = trade.tx.data.substring(0, trade.tx.data.length - DDL_WALLET_ENCODED.length);\r\n          trade.tx.data+= DDL_WALLET_ENCODED;\r\n          // visually\r\n          trade.params[0].referrer = DDL_WALLET;\r\n\r\n          return signer.sendTransaction(trade.tx);\r\n        }\r\n      });\r\n      setOptionsLength(options.length);\r\n      setOptions(options);\r\n\r\n      lyra.quoteOption(market.address, strikeId, isCall, amount)\r\n        .then(res => {\r\n          let index;\r\n          const opt = options.find((opt, i) => {\r\n            if (opt.strategy === strategy) {\r\n              index = i;\r\n              return true;\r\n            }\r\n          })\r\n          \r\n          const price = res.ask.pricePerOption;\r\n          const cost = expandDecimals(res.ask.premium, OPTIONS_DECIMALS - decimals);\r\n          \r\n          if (opt && (cost.eq(0) || res.ask.isDisabled)) {\r\n            options.splice(index, 1);\r\n            return;\r\n          }\r\n          opt.hasLiquidity = true;\r\n          \r\n          optionPrices[strategy] = { price, cost };\r\n          setOptionPrices(Object.assign({}, optionPrices));\r\n        })\r\n    })\r\n  }\r\n\r\n  const fetchPremiaOptions = async (strikes) => {\r\n    if (leverageOption > 90) {\r\n      return;\r\n    }\r\n    const marketName = \"Premia\";\r\n    const token = selectedToken.symbol;\r\n    const address = PremiaPools[token];\r\n    \r\n    const contract = new ethers.Contract(address, PremiaPool_ABI, alchemyProvider);\r\n    const base = (await contract.getPoolSettings()).base;\r\n    const baseContract = new ethers.Contract(base, DAI_ABI, library.getSigner());\r\n    \r\n    strikes.forEach(strike => {\r\n      const strikeFormatted = fromBigNumber(strike, OPTIONS_DECIMALS);\r\n      const rangeMultiplier = PremiaStrikeRangeMultiplier[swapOption];\r\n      const markPrice = infoTokens[tokenSelection].maxPrice;\r\n      const markPriceFormatted = fromBigNumber(markPrice, USD_DECIMALS);\r\n      \r\n      const lowerBoundary = ((markPriceFormatted * rangeMultiplier[0]) / 100).toFixed(0) * 100;\r\n      const higherBoundary = ((markPriceFormatted * rangeMultiplier[1]) / 100).toFixed(0) * 100;\r\n      if (strikeFormatted < lowerBoundary || strikeFormatted > higherBoundary) {\r\n        return;\r\n      }\r\n      const strategy = `Premia_${swapOption.toUpperCase()}_${strikeFormatted}_${token}`;\r\n      \r\n      // Premia\r\n      options.push({\r\n        strategy,\r\n        market: marketName,\r\n        type: OPTION_TYPES[marketName],\r\n        isCall,\r\n        token,\r\n        initSize: amount,\r\n        strike,\r\n        liq: null,\r\n        period: periodEightAM,\r\n        buyUrl: `https://app.premia.finance/options/W${token}-DAI`,\r\n      });\r\n      setOptionsLength(options.length);\r\n      setOptions(options);\r\n\r\n      let index;\r\n      const opt = options.find((opt, i) => {\r\n        if (opt.strategy === strategy) {\r\n          index = i;\r\n          return true;\r\n        }\r\n      });\r\n      contract.quote(\r\n        walletAddress,\r\n        expDateUTC.getTime() / 1000,\r\n        fixedFromFloat(strikeFormatted),\r\n        amount,\r\n        isCall,\r\n      ).then(res => {\r\n        let cost = fixedToBn(res.baseCost64x64).add(fixedToBn(res.feeCost64x64));\r\n        if (isCall) {\r\n          cost = cost.mul(BigNumber.from(formatAmountFree(markPrice, USD_DECIMALS, 0)));\r\n        }\r\n        const price = expandDecimals(cost.div(BigNumber.from(amountStr)), MAX_FRACTION_LENGTH);\r\n        optionPrices[strategy] = { price, cost };\r\n\r\n        setOptionPrices(Object.assign({}, optionPrices));\r\n      }, console.log);\r\n\r\n      contract.totalSupply(0)\r\n        .then(res => {\r\n          /* baseContract.totalSupply()\r\n            .then(res => {\r\n                console.log(fromBigNumber(res, 18).toFixed(0));\r\n                formatTokenId({\r\n                  tokenType: fromBigNumber(res, 18).toFixed(0),\r\n                  maturity: BigNumber.from(0),\r\n                  strike64x64: BigNumber.from(0),\r\n                })\r\n              }) */\r\n          \r\n          if (res.lt(amount)) {\r\n            options.splice(index, 1);\r\n          } else {\r\n            opt.hasLiquidity = true;\r\n          }\r\n        }, console.log)\r\n    })\r\n\r\n    setIsOptionsLoading(false);\r\n  }\r\n  \r\n  const strikes = [];\r\n  const fetchAvailableOptions = () => {\r\n    if (isOptionsLoading) {\r\n      return;\r\n    }\r\n    \r\n    strikes.splice(0, strikes.length);\r\n    options.splice(0, options.length);\r\n    setOptionsLength(0);\r\n    Object.keys(optionPrices).forEach(key => {\r\n      optionPrices[key] = undefined;\r\n    });\r\n    \r\n    setIsOptionsLoading(true);\r\n    \r\n    fetchHegicOptions(strikes);\r\n    fetchLyraOptions(strikes)\r\n      .then(() => fetchPremiaOptions(strikes));\r\n  }\r\n\r\n  const onClickPrimary = () => {\r\n    if (!active) {\r\n      connectWallet();\r\n      return;\r\n    }\r\n    \r\n    scrollToList();\r\n    fetchAvailableOptions();\r\n  };\r\n\r\n  const onAssetOptionChange = (opt) => {\r\n    setTokenSelection(getTokenBySymbol(ARBITRUM, opt).address);\r\n    setAssetOption(opt);\r\n  }\r\n  const onSwapOptionChange = (opt) => {\r\n    setSwapOption(opt);\r\n  }\r\n\r\n  if (!tokenSelection) {\r\n    return null;\r\n  }\r\n  return (\r\n    <div className={cx(\"Exchange-swap-box\")}>\r\n      <div className=\"Exchange-swap-box-inner App-box\">\r\n        <div className=\"Exchange-swap-box__settings\">\r\n          <Tab\r\n            icons={SWAP_ICONS}\r\n            options={SWAP_OPTIONS}\r\n            option={swapOption}\r\n            onChange={onSwapOptionChange}\r\n            className={\"Exchange-swap-option-tabs\"}\r\n          />\r\n        </div>\r\n        <div className=\"Exchange-info-row\" style={{ marginBottom: 15 }}>\r\n          <div className=\"Exchange-info-label\">\r\n            Asset\r\n          </div>\r\n          <Tab\r\n            className=\"align-right\"\r\n            icons={assetsIcons}\r\n            options={assetsOptions}\r\n            type=\"inline\"\r\n            option={assetOption}\r\n            onChange={onAssetOptionChange}\r\n          />\r\n        </div>\r\n        <NumberInput_v3\r\n          value={amountValue}\r\n          setValue={setAmountValue}\r\n          title=\"Amount\"\r\n        />\r\n        <div className=\"Exchange-leverage-box\">\r\n          <div className=\"Exchange-leverage-slider-settings\">\r\n            <div className=\"Exchange-leverage-name\">Period</div>\r\n            <div className=\"Exchange-leverage-value\">\r\n              {leverageOption} {`Day${leverageOption !== 1 ? 's' : ''}`}\r\n            </div>\r\n          </div>\r\n          <div\r\n            className={cx(\"Exchange-leverage-slider\", \"App-slider\")}\r\n          >\r\n            <Slider\r\n              min={1}\r\n              max={120}\r\n              step={1}\r\n              handle={leverageSliderHandle}\r\n              onChange={(value) => setLeverageOption(value)}\r\n              value={leverageOption}\r\n              defaultValue={leverageOption}\r\n            />\r\n          </div>\r\n          <div className=\"Exchange-info-row\">\r\n            <div className=\"Exchange-info-label\">\r\n              Expiration Date\r\n            </div>\r\n            <div className=\"align-right\">\r\n              {format(expDateUTC, DATE_FORMAT_TEMPLATE)}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"Exchange-swap-button-container\">\r\n          <button className={\"Exchange-swap-button btn\" + (isPrimaryEnabled() ? \" btn_hlight\" : \"\")} onClick={onClickPrimary} disabled={!isPrimaryEnabled()}>\r\n            {getPrimaryText()}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { Menu } from \"@headlessui/react\";\r\nimport cx from \"classnames\";\r\nimport \"./ChartTokenSelector.scss\";\r\nimport \"../AddressDropdown/AddressDropdown.css\";\r\nimport { getTokens, getWhitelistedTokens } from \"../../config/Tokens\";\r\n\r\nexport default function ChartTokenSelector(props) {\r\n  const { chainId, selectedToken, onSelectToken } = props;\r\n\r\n  let options = getTokens(chainId);\r\n  const whitelistedTokens = getWhitelistedTokens(chainId);\r\n\r\n  const indexTokens = whitelistedTokens.filter((token) => !token.isStable && !token.isWrapped && (token.symbol === 'ETH' || token.symbol === 'BTC'));\r\n\r\n  options = indexTokens;\r\n\r\n  const onSelect = async (token) => {\r\n    onSelectToken(token);\r\n  };\r\n\r\n  const value = selectedToken;\r\n  let icon;\r\n  if (value.symbol) {\r\n    icon = require(\"../../img/ddl/ic_\" + value.symbol?.toLowerCase() + \"_40.svg\")?.default;\r\n  }\r\n\r\n  return (\r\n    <Menu>\r\n      <Menu.Button as=\"div\">\r\n        <button className={cx(\"App-cta small transparent chart-token-selector\")}>\r\n          <div className=\"chart-token-selector--name\">\r\n            <img src={icon} className=\"chart-token-selector--icon\" alt={value.symbol + ' icon'} />\r\n            <span className=\"chart-token-selector--current\">{value.symbol}/USD</span>\r\n          </div>\r\n          <svg className=\"chevron-down\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"21\" viewBox=\"0 0 20 21\" fill=\"none\">\r\n            <path d=\"M4 8L10 13L16 8\" stroke=\"white\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n          </svg>\r\n        </button>\r\n      </Menu.Button>\r\n      <div className=\"chart-token-menu\">\r\n        <Menu.Items as=\"div\" className=\"menu-items chart-token-menu-items divided\">\r\n          {options.map((option, index) => {\r\n            let tokenPopupImage;\r\n            try {\r\n              tokenPopupImage = require(\"../../img/ddl/ic_\" + option.symbol.toLowerCase() + \"_40.svg\");\r\n            } catch (error) {\r\n              tokenPopupImage = require(\"../../img/ddl/ic_eth_40.svg\");\r\n            }\r\n            \r\n            return (<Menu.Item key={index}>\r\n              <div\r\n                className={\"menu-item\" + (option.symbol === value.symbol ? ' chosen' : '')}\r\n                onClick={() => {\r\n                  onSelect(option);\r\n                }}\r\n              >\r\n                <img src={tokenPopupImage?.default} alt={option.symbol + ' icon'} className=\"token-icon\" />\r\n                <span style={{ marginLeft: 7, marginRight: 35 }} className=\"token-label\">\r\n                  {option.symbol} / USD\r\n                </span>\r\n              </div>\r\n            </Menu.Item>)\r\n          })}\r\n        </Menu.Items>\r\n      </div>\r\n    </Menu>\r\n  );\r\n}\r\n","export const REDIRECT_POPUP_TIMESTAMP_KEY = \"redirect-popup-timestamp\";\r\n\r\nexport const IS_TOUCH = \"ontouchstart\" in window;\r\n","import cx from \"classnames\";\r\nimport { useCallback, useState, useRef } from \"react\";\r\nimport { IS_TOUCH } from \"../../config/ui\";\r\n\r\nconst OPEN_DELAY = 0;\r\nconst CLOSE_DELAY = 100;\r\n\r\nexport default function Tooltip(props) {\r\n  const { enabled } = props;\r\n  const [visible, setVisible] = useState(false);\r\n  const intervalCloseRef = useRef(null);\r\n  const intervalOpenRef = useRef(null);\r\n\r\n  const position = props.position ?? \"left-bottom\";\r\n  const trigger = props.trigger ?? \"hover\";\r\n\r\n  const onMouseEnter = useCallback(() => {\r\n    if (trigger !== \"hover\" || IS_TOUCH) return;\r\n\r\n    if (intervalCloseRef.current) {\r\n      clearInterval(intervalCloseRef.current);\r\n      intervalCloseRef.current = null;\r\n    }\r\n    if (!intervalOpenRef.current) {\r\n      intervalOpenRef.current = setTimeout(() => {\r\n        if (enabled) {\r\n          setVisible(true)\r\n        }\r\n        intervalOpenRef.current = null;\r\n      }, OPEN_DELAY);\r\n    }\r\n  }, [setVisible, intervalCloseRef, intervalOpenRef, trigger]);\r\n\r\n  const onMouseClick = useCallback(() => {\r\n    if (trigger !== \"click\" && !IS_TOUCH) return;\r\n    if (intervalCloseRef.current) {\r\n      clearInterval(intervalCloseRef.current);\r\n      intervalCloseRef.current = null;\r\n    }\r\n    if (intervalOpenRef.current) {\r\n      clearInterval(intervalOpenRef.current);\r\n      intervalOpenRef.current = null;\r\n    }\r\n\r\n    if (enabled) {\r\n      setVisible(true)\r\n    }\r\n  }, [setVisible, intervalCloseRef, trigger]);\r\n\r\n  const onMouseLeave = useCallback(() => {\r\n    intervalCloseRef.current = setTimeout(() => {\r\n      setVisible(false);\r\n      intervalCloseRef.current = null;\r\n    }, CLOSE_DELAY);\r\n    if (intervalOpenRef.current) {\r\n      clearInterval(intervalOpenRef.current);\r\n      intervalOpenRef.current = null;\r\n    }\r\n  }, [setVisible, intervalCloseRef]);\r\n\r\n  const className = cx(\"Tooltip\", props.className);\r\n\r\n  return (\r\n    <span className={className} style={props.style} onMouseEnter={onMouseEnter} onMouseLeave={onMouseLeave} onClick={onMouseClick} id={props.id}>\r\n      <span\r\n        className={cx({ \"Tooltip-handle\": !props.disableHandleStyle }, [props.handleClassName], { active: visible })}\r\n      >\r\n        {props.handle}\r\n      </span>\r\n      {visible && <div className={cx([\"Tooltip-popup\", position])}>{props.renderContent()}</div>}\r\n    </span>\r\n  );\r\n}\r\n","import { useEffect, useState, useRef, useCallback, useMemo } from \"react\";\r\nimport cx from \"classnames\";\r\n\r\nimport { createChart } from \"krasulya-lightweight-charts\";\r\n\r\nimport {\r\n  USD_DECIMALS,\r\n  CHART_PERIODS,\r\n  getTokenInfo,\r\n  formatAmount,\r\n  formatDateTime,\r\n  usePrevious,\r\n  useLocalStorageSerializeKey,\r\n  numberWithCommas,\r\n} from \"../../lib/legacyOptions\";\r\nimport { useChartPrices } from \"../../../gmx-test/domain/legacy\";\r\nimport Tab from \"../Tab/TabOptions\";\r\nimport ChartTokenSelector from \"./ChartTokenSelectorOptions\";\r\nimport Tooltip from '../Tooltip/Tooltip';\r\nimport ChartSelector from './../../../gmx-test/components/Exchange/ChartSelector';\r\n\r\nconst timezoneOffset = -new Date().getTimezoneOffset() * 60;\r\n\r\nconst DEFAULT_PERIOD = \"4h\";\r\n\r\nconst RED_COLOR = \"#C75E4B\";\r\nconst GREEN_COLOR = \"#46956A\";\r\n\r\nconst getSeriesOptions = () => ({\r\n  // https://github.com/tradingview/lightweight-charts/blob/master/docs/area-series.md\r\n  lineColor: \"#5472cc\",\r\n  topColor: \"rgba(49, 69, 131, 0.4)\",\r\n  bottomColor: \"rgba(42, 64, 103, 0.0)\",\r\n  lineWidth: 2,\r\n  priceLineColor: \"#384263\",\r\n  downColor: RED_COLOR,\r\n  wickDownColor: RED_COLOR,\r\n  upColor: GREEN_COLOR,\r\n  wickUpColor: GREEN_COLOR,\r\n  borderVisible: false,\r\n});\r\n\r\nconst getChartOptions = (width, height) => ({\r\n  width,\r\n  height,\r\n  layout: {\r\n    backgroundColor: \"rgba(255, 255, 255, 0)\",\r\n    textColor: \"#747FA6\",\r\n    fontFamily: \"Gantari\",\r\n  },\r\n  localization: {\r\n    // https://github.com/tradingview/lightweight-charts/blob/master/docs/customization.md#time-format\r\n    timeFormatter: (businessDayOrTimestamp) => {\r\n      return formatDateTime(businessDayOrTimestamp - timezoneOffset);\r\n    },\r\n  },\r\n  grid: {\r\n    vertLines: {\r\n      visible: true,\r\n      color: \"rgba(35, 38, 59, 1)\",\r\n      style: 2,\r\n    },\r\n    horzLines: {\r\n      visible: true,\r\n      color: \"rgba(35, 38, 59, 1)\",\r\n      style: 2,\r\n    },\r\n  },\r\n  // https://github.com/tradingview/lightweight-charts/blob/master/docs/time-scale.md#time-scale\r\n  timeScale: {\r\n    rightOffset: 5,\r\n    borderVisible: false,\r\n    barSpacing: 5,\r\n    timeVisible: true,\r\n    fixLeftEdge: true,\r\n  },\r\n  // https://github.com/tradingview/lightweight-charts/blob/master/docs/customization.md#price-axis\r\n  priceScale: {\r\n    borderVisible: false,\r\n  },\r\n  crosshair: {\r\n    horzLine: {\r\n      color: \"#aaa\",\r\n    },\r\n    vertLine: {\r\n      color: \"#aaa\",\r\n    },\r\n    mode: 0,\r\n  },\r\n});\r\n\r\nexport default function ExchangeTVChart(props) {\r\n  const {\r\n    infoTokens,\r\n    chainId,\r\n    tokenSelection,\r\n    setTokenSelection,\r\n  } = props;\r\n\r\n  const [currentChart, setCurrentChart] = useState();\r\n  const [currentSeries, setCurrentSeries] = useState();\r\n\r\n  let [period, setPeriod] = useLocalStorageSerializeKey([chainId, \"Chart-period\"], DEFAULT_PERIOD);\r\n  if (!(period in CHART_PERIODS)) {\r\n    period = DEFAULT_PERIOD;\r\n  }\r\n\r\n  const [hoveredCandlestick, setHoveredCandlestick] = useState();\r\n\r\n  const [chartToken, setChartToken] = useState({\r\n    maxPrice: null,\r\n    minPrice: null,\r\n  });\r\n  useEffect(() => {\r\n    const tmp = getTokenInfo(infoTokens, tokenSelection);\r\n    setChartToken(tmp);\r\n  }, [tokenSelection, infoTokens]);\r\n\r\n  const symbol = chartToken ? (chartToken.isWrapped ? chartToken.baseSymbol : chartToken.symbol) : undefined;\r\n  const marketName = chartToken ? symbol + \"_USD\" : undefined;\r\n  const previousMarketName = usePrevious(marketName);\r\n\r\n  const ref = useRef(null);\r\n  const chartRef = useRef(null);\r\n\r\n  const currentAveragePrice =\r\n    chartToken.maxPrice && chartToken.minPrice ? chartToken.maxPrice.add(chartToken.minPrice).div(2) : null;\r\n  const [priceData, updatePriceData] = useChartPrices(\r\n    chainId,\r\n    chartToken.symbol,\r\n    chartToken.isStable,\r\n    period,\r\n    currentAveragePrice\r\n  );\r\n\r\n  const [chartInited, setChartInited] = useState(false);\r\n  useEffect(() => {\r\n    if (marketName !== previousMarketName) {\r\n      setChartInited(false);\r\n    }\r\n  }, [marketName, previousMarketName]);\r\n\r\n  const scaleChart = useCallback(() => {\r\n    const from = Date.now() / 1000 - (7 * 24 * CHART_PERIODS[period]) / 2 + timezoneOffset;\r\n    const to = Date.now() / 1000 + timezoneOffset;\r\n    currentChart.timeScale().setVisibleRange({ from, to });\r\n  }, [currentChart, period]);\r\n\r\n  const onCrosshairMove = useCallback(\r\n    (evt) => {\r\n      if (!evt.time) {\r\n        setHoveredCandlestick(null);\r\n        return;\r\n      }\r\n\r\n      for (const point of evt.seriesPrices.values()) {\r\n        setHoveredCandlestick((hoveredCandlestick) => {\r\n          if (hoveredCandlestick && hoveredCandlestick.time === evt.time) {\r\n            // rerender optimisations\r\n            return hoveredCandlestick;\r\n          }\r\n          return {\r\n            time: evt.time,\r\n            ...point,\r\n          };\r\n        });\r\n        break;\r\n      }\r\n    },\r\n    [setHoveredCandlestick]\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (!ref.current || !priceData || !priceData.length || currentChart) {\r\n      return;\r\n    }\r\n\r\n    const chart = createChart(\r\n      chartRef.current,\r\n      getChartOptions(chartRef.current.offsetWidth, chartRef.current.offsetHeight)\r\n    );\r\n\r\n    chart.subscribeCrosshairMove(onCrosshairMove);\r\n\r\n    const series = chart.addCandlestickSeries(getSeriesOptions());\r\n\r\n    setCurrentChart(chart);\r\n    setCurrentSeries(series);\r\n  }, [ref, priceData, currentChart, onCrosshairMove]);\r\n\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      updatePriceData(undefined, true);\r\n    }, 10 * 1000);\r\n    return () => clearInterval(interval);\r\n  }, [updatePriceData]);\r\n\r\n  useEffect(() => {\r\n    if (!currentChart) {\r\n      return;\r\n    }\r\n    const resizeChart = () => {\r\n      currentChart.resize(chartRef.current.offsetWidth, chartRef.current.offsetHeight);\r\n    };\r\n    window.addEventListener(\"resize\", resizeChart);\r\n    return () => window.removeEventListener(\"resize\", resizeChart);\r\n  }, [currentChart]);\r\n\r\n  useEffect(() => {\r\n    if (currentSeries && priceData && priceData.length) {\r\n      currentSeries.setData(priceData);\r\n\r\n      if (!chartInited) {\r\n        scaleChart();\r\n        setChartInited(true);\r\n      }\r\n    }\r\n  }, [priceData, currentSeries, chartInited, scaleChart]);\r\n\r\n  const candleStatsHtml = useMemo(() => {\r\n    if (!priceData) {\r\n      return null;\r\n    }\r\n    const candlestick = hoveredCandlestick || priceData[priceData.length - 1];\r\n    if (!candlestick) {\r\n      return null;\r\n    }\r\n\r\n    const className = cx({\r\n      \"ExchangeChart-bottom-stats\": true,\r\n      positive: candlestick.open <= candlestick.close,\r\n      negative: candlestick.open > candlestick.close,\r\n      [`length-${String(parseInt(candlestick.close)).length}`]: true,\r\n    });\r\n\r\n    const toFixedNumbers = 2;\r\n\r\n    return (\r\n      <div className={className}>\r\n        <span className=\"ExchangeChart-bottom-stats-label\">O</span>\r\n        <span className=\"ExchangeChart-bottom-stats-value\">{candlestick.open.toFixed(toFixedNumbers)}</span>\r\n        <span className=\"ExchangeChart-bottom-stats-label\">H</span>\r\n        <span className=\"ExchangeChart-bottom-stats-value\">{candlestick.high.toFixed(toFixedNumbers)}</span>\r\n        <span className=\"ExchangeChart-bottom-stats-label\">L</span>\r\n        <span className=\"ExchangeChart-bottom-stats-value\">{candlestick.low.toFixed(toFixedNumbers)}</span>\r\n        <span className=\"ExchangeChart-bottom-stats-label\">C</span>\r\n        <span className=\"ExchangeChart-bottom-stats-value\">{candlestick.close.toFixed(toFixedNumbers)}</span>\r\n      </div>\r\n    );\r\n  }, [hoveredCandlestick, priceData]);\r\n\r\n  let high;\r\n  let low;\r\n  let deltaPrice;\r\n  let delta;\r\n  let deltaPercentage;\r\n  let deltaPercentageStr;\r\n\r\n  const now = parseInt(Date.now() / 1000);\r\n  const timeThreshold = now - 24 * 60 * 60;\r\n\r\n  if (priceData) {\r\n    for (let i = priceData.length - 1; i > 0; i--) {\r\n      const price = priceData[i];\r\n      if (price.time < timeThreshold) {\r\n        break;\r\n      }\r\n      if (!low) {\r\n        low = price.low;\r\n      }\r\n      if (!high) {\r\n        high = price.high;\r\n      }\r\n\r\n      if (price.high > high) {\r\n        high = price.high;\r\n      }\r\n      if (price.low < low) {\r\n        low = price.low;\r\n      }\r\n\r\n      deltaPrice = price.open;\r\n    }\r\n  }\r\n\r\n  if (deltaPrice && currentAveragePrice) {\r\n    const average = parseFloat(formatAmount(currentAveragePrice, USD_DECIMALS, 2));\r\n    delta = average - deltaPrice;\r\n    deltaPercentage = (delta * 100) / average;\r\n    if (deltaPercentage > 0) {\r\n      deltaPercentageStr = `+${deltaPercentage.toFixed(2)}%`;\r\n    } else {\r\n      deltaPercentageStr = `${deltaPercentage.toFixed(2)}%`;\r\n    }\r\n    if (deltaPercentage === 0) {\r\n      deltaPercentageStr = \"0.00\";\r\n    }\r\n  }\r\n\r\n  if (!chartToken) {\r\n    return null;\r\n  }\r\n\r\n  const onSelectToken = (token) => {\r\n    const tmp = getTokenInfo(infoTokens, token.address);\r\n    setChartToken(tmp);\r\n    setTokenSelection(token.address);\r\n  };\r\n\r\n  return (\r\n    <div className=\"ExchangeChart tv\" ref={ref}>\r\n      <div className=\"ExchangeChart-top App-box App-box-border\">\r\n        <div className=\"ExchangeChart-top-inner\">\r\n          <div>\r\n            <div className=\"ExchangeChart-title\">\r\n              <ChartTokenSelector\r\n                chainId={chainId}\r\n                selectedToken={chartToken}\r\n                infoTokens={infoTokens}\r\n                onSelectToken={onSelectToken}\r\n                className=\"chart-token-selector pos-relative\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"ExchangeChart-stats-container\">\r\n            <div>\r\n              <div className=\"ExchangeChart-info-label\">\r\n                <Tooltip\r\n                  className=\"has-hint-tooltip nowrap cur-price-tooltip\"\r\n                  handle=\"Current Price\"\r\n                  position=\"left-bottom\"\r\n                  enabled={true}\r\n                  renderContent={() => {\r\n                    return (\r\n                      <div className=\"Tooltip__text\">\r\n                        Asset price is taken from GMX\r\n                      </div>\r\n                    );\r\n                  }}\r\n                />\r\n              </div>\r\n              \r\n              {/* <div className=\"ExchangeChart-info-label\">\r\n                Current Price\r\n              </div> */}\r\n              <div className=\"ExchangeChart-main-price\">\r\n                ${chartToken.maxPrice && formatAmount(chartToken.maxPrice, USD_DECIMALS, 2, true)}\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <div className=\"ExchangeChart-info-label\">24h Change</div>\r\n              <div className={cx({ positive: deltaPercentage > 0, negative: deltaPercentage < 0 })}>\r\n                {!deltaPercentageStr && \"-\"}\r\n                {deltaPercentageStr && deltaPercentageStr}\r\n              </div>\r\n            </div>\r\n            <div className=\"ExchangeChart-additional-info\">\r\n              <div className=\"ExchangeChart-info-label\">24h High</div>\r\n              <div>\r\n                {!high && \"-\"}\r\n                {high && numberWithCommas(high.toFixed(2))}\r\n              </div>\r\n            </div>\r\n            <div className=\"ExchangeChart-additional-info\">\r\n              <div className=\"ExchangeChart-info-label\">24h Low</div>\r\n              <div>\r\n                {!low && \"-\"}\r\n                {low && numberWithCommas(low.toFixed(2))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <ChartSelector\r\n        CHART_PERIODS={CHART_PERIODS}\r\n        period={period}\r\n        setPeriod={setPeriod}\r\n        candleStatsHtml={candleStatsHtml}\r\n        chartRef={chartRef}\r\n        chartToken={chartToken}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { SL, TP, formatAmount } from '../../lib/legacyOptions';\r\nimport { ImSpinner2 } from 'react-icons/im';\r\nimport { USD_DECIMALS } from '../../lib/legacyOptions';\r\nimport '../../../gmx-test/components/Exchange/PositionsItem.scss';\r\nimport cx from \"classnames\";\r\nimport { DATE_FORMAT_TEMPLATE, OPTIONS_DECIMALS } from '../../../../components/utils/constants';\r\nimport { formatAmountFree } from '../../lib/legacyOptions';\r\nimport { fromBigNumber } from '../../../../components/utils/utils';\r\nimport { format } from 'date-fns';\r\nimport icon_edit from '../../../../img/icon-edit.svg';\r\nimport Tooltip from './../../../gmx-test/components/Tooltip/Tooltip';\r\n\r\nconst PositionsItem = (props) => {\r\n\tconst {\r\n\t\tposition,\r\n\t\tonPositionClick,\r\n\t\tclosePosition,\r\n\t\tmarkPrices,\r\n\t\tisLarge,\r\n\t\tpendingPositions,\r\n\t\topenSLTP,\r\n\t} = props;\r\n\r\n\tconst [isTpSubmitting, setIsTpSubmitting] = useState(false);\r\n\tconst [isSlSubmitting, setIsSlSubmitting] = useState(false);\r\n\tuseEffect(() => {\r\n\t\tsetIsTpSubmitting(false);\r\n\t\tsetIsSlSubmitting(false);\r\n\t}, [position]);\r\n\r\n\tconst markPrice = markPrices[position.token];\r\n\tconst hasTP = (position.tp && !position.tp.eq(0)) || isTpSubmitting;\r\n\tconst hasSL = (position.sl && !position.sl.eq(0)) || isSlSubmitting;\r\n\tconst getTpTooltipText = () => {\r\n\t\tif (hasTP || hasSL) {\r\n\t\t\treturn (\r\n\t\t\t\t<>\r\n\t\t\t\t\tTo set up a {hasTP ? SL : TP}, you <br />need to first remove the <br />active {hasTP ? TP : SL} order\r\n\t\t\t\t</>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\tconst getIsTooltipEnabled = (isTP) => {\r\n\t\tif (isTP ? hasSL : hasTP) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n\t\r\n\tlet delta = 0, deltaStr = '...', hasPositionProfit = false;\r\n\r\n\tif (position.pnl) {\r\n\t\tconst { unrealizedPnl, unrealizedPnlPercentage } = position.pnl;\r\n\t\tdelta = unrealizedPnl;\r\n\t\t\r\n\t\tdeltaStr = `\r\n\t\t\t${unrealizedPnl.lt(0) ? '-' : ''}$${Math.abs(fromBigNumber(unrealizedPnl, OPTIONS_DECIMALS)).toFixed(2)}\r\n\t\t\t(${formatAmount(unrealizedPnlPercentage, OPTIONS_DECIMALS - 2, 2, true)}%)\r\n\t\t`;\r\n\t\thasPositionProfit = unrealizedPnl.gt(0);\r\n\t}\r\n\r\n\tconst isPending = position.isPending || pendingPositions.find(strat => position.strategy === strat);\r\n\tconst closeBtnDisabled = position.size.eq(0) || position.isClosingDisabled || isPending || hasTP || hasSL;\r\n\tconst marketImg = require(`../../../../img/icon-${position.market}_sm.svg`).default;\r\n\r\n\tconst isSLTPDisabled = isPending;\r\n\r\n\tconst closeButton = (\r\n\t\t<Tooltip\r\n\t\t\tclassName=\"Tooltip_disabled\"\r\n\t\t\thandle={\r\n\t\t\t\t<>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName=\"btn_inline\"\r\n\t\t\t\t\t\tstyle={{marginLeft: \"auto\"}}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tclosePosition(position);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tdisabled={closeBtnDisabled}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tClose\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</>\r\n\t\t\t}\r\n\t\t\tposition=\"right-bottom\"\r\n\t\t\tenabled={hasSL || hasTP}\r\n\t\t\trenderContent={() => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className=\"Tooltip__text\">\r\n\t\t\t\t\t\tTo close the position <br />you need to remove <br />active Stop Orders\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t}}\r\n\t\t/>\r\n\t\t\r\n\t)\r\n\tconst TPButton = (\r\n\t\t<>\r\n\t\t\t{isTpSubmitting\r\n\t\t\t\t? <ImSpinner2 className=\"spin position-loading-icon\" />\r\n\t\t\t\t: <>\r\n\t\t\t\t\t\t{hasTP && `$${formatAmount(position.tp, OPTIONS_DECIMALS, 2, true)}`}\r\n\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\tclassName=\"Tooltip_take-profit Tooltip_disabled\"\r\n\t\t\t\t\t\t\thandle={\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"btn_inline\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\topenSLTP(position, true, setIsTpSubmitting);\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tdisabled={isSLTPDisabled || hasSL}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{hasTP\r\n\t\t\t\t\t\t\t\t\t\t\t? <img className='edit-btn' src={icon_edit} alt=\"Edit Take Profit button\" />\r\n\t\t\t\t\t\t\t\t\t\t\t: 'Set TP'}\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tposition=\"left-bottom\"\r\n\t\t\t\t\t\t\tenabled={getIsTooltipEnabled(true)}\r\n\t\t\t\t\t\t\trenderContent={() => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div className=\"Tooltip__text\">\r\n\t\t\t\t\t\t\t\t\t\t{getTpTooltipText()}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</>}\r\n\t\t</>\r\n\t)\r\n\tconst SLButton = (\r\n\t\t<>\r\n\t\t\t{isSlSubmitting\r\n\t\t\t\t? <ImSpinner2 className=\"spin position-loading-icon\" />\r\n\t\t\t\t: <>\r\n\t\t\t\t\t\t{hasSL && `$${formatAmount(position.sl, OPTIONS_DECIMALS, 2, true)}`}\r\n\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\tclassName=\"Tooltip_take-profit Tooltip_disabled\"\r\n\t\t\t\t\t\t\thandle={\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclassName=\"btn_inline\"\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\topenSLTP(position, false, setIsSlSubmitting);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tdisabled={isSLTPDisabled || hasTP || position.isClosingDisabled}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{hasSL\r\n\t\t\t\t\t\t\t\t\t\t? <img src={icon_edit} className='edit-btn' alt=\"Edit Stop Loss button\" />\r\n\t\t\t\t\t\t\t\t\t\t: 'Set SL'}\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tposition=\"left-bottom\"\r\n\t\t\t\t\t\t\tenabled={getIsTooltipEnabled(false)}\r\n\t\t\t\t\t\t\trenderContent={() => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div className=\"Tooltip__text\">\r\n\t\t\t\t\t\t\t\t\t\t{getTpTooltipText()}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</>}\r\n\t\t</>\r\n\t)\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{isLarge ?\r\n\t\t\t\t<tr className={cx(isPending && 'positions-item_pending')}>\r\n\t\t\t\t\t<td className=\"clickable\" onClick={() => onPositionClick(position)}>\r\n\t\t\t\t\t\t<div className=\"Exchange-list-title\">\r\n\t\t\t\t\t\t\t{position.token}\r\n\t\t\t\t\t\t\t{isPending && <ImSpinner2 className=\"spin position-loading-icon\" />}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"Exchange-list-info-label\">\r\n\t\t\t\t\t\t\t<img className='market-logo' src={marketImg} alt={`${position.market} icon`} />\r\n\t\t\t\t\t\t\t<span className={cx({ positive: position.isCall, negative: !position.isCall })}>\r\n\t\t\t\t\t\t\t\t{position.sentiment}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t{formatAmountFree(position.size, OPTIONS_DECIMALS, 3)} {position.token}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t{position.profitZoneStr}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td style={{width: 135}}>\r\n\t\t\t\t\t\t${formatAmount(markPrice, USD_DECIMALS, 2, true)}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td>—</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t${formatAmount(position.premium, OPTIONS_DECIMALS, 2, true)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<div style={{ width: 150, display: 'block' }}>\r\n\t\t\t\t\t\t\t{delta ? (\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName={cx(\"Exchange-list-info-label\", {\r\n\t\t\t\t\t\t\t\t\t\tpositive: hasPositionProfit,\r\n\t\t\t\t\t\t\t\t\t\tnegative: !hasPositionProfit,\r\n\t\t\t\t\t\t\t\t\t\tmuted: delta.eq(0),\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{deltaStr}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : deltaStr}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t{format(position.expiry, DATE_FORMAT_TEMPLATE)}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t{TPButton}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t{SLButton}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td className=\"td-btn pos-relative\" style={{ width: 110, textAlign: 'center' }}>\r\n\t\t\t\t\t\t{closeButton}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t:\r\n\t\t\t<div className={cx(\"App-card\", isPending && 'positions-item_pending')}>\r\n\t\t\t\t<div className=\"App-card-divider\"></div>\r\n\t\t\t\t<div className=\"App-card-content\">\r\n\t\t\t\t\t<div className=\"App-card-row\">\r\n\t\t\t\t\t\t<div className=\"label\">\r\n\t\t\t\t\t\t\tPosition\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<div className=\"Exchange-list-token\">\r\n\t\t\t\t\t\t\t\t{isPending && <ImSpinner2 className=\"spin position-loading-icon\" style={{marginRight: 10}} />}\r\n\t\t\t\t\t\t\t\t{position.token}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<img className='market-logo' src={marketImg} alt={`${position.market} icon`} />\r\n\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\tclassName={cx(\"Exchange-list-side\", {\r\n\t\t\t\t\t\t\t\t\tpositive: position.isCall,\r\n\t\t\t\t\t\t\t\t\tnegative: !position.isCall,\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{position.sentiment}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"App-card-divider\"></div>\r\n\t\t\t\t<div className=\"App-card-content\">\r\n\t\t\t\t\t<div className=\"App-card-row\">\r\n\t\t\t\t\t\t<div className=\"label\">\r\n\t\t\t\t\t\t\tAmount\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{formatAmountFree(position.size, OPTIONS_DECIMALS, 3)} {position.token}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"App-card-row\">\r\n\t\t\t\t\t\t<div className=\"label\">\r\n\t\t\t\t\t\t\tProfit Zone\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{position.profitZoneStr}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"App-card-row\">\r\n\t\t\t\t\t\t<div className=\"label\">\r\n\t\t\t\t\t\t\tCurrent Price\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t${formatAmount(markPrice, USD_DECIMALS, 2, true)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"App-card-row\">\r\n\t\t\t\t\t\t<div className=\"label\">\r\n\t\t\t\t\t\t\tLiq. Price\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t—\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"App-card-row\">\r\n\t\t\t\t\t\t<div className=\"label\">\r\n\t\t\t\t\t\t\tPremium Paid\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t${formatAmount(position.premium, OPTIONS_DECIMALS, 2, true)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"App-card-row\">\r\n\t\t\t\t\t\t<div className=\"label\">\r\n\t\t\t\t\t\t\tPNL (ROE %)\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{delta ? (\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName={cx(\"Exchange-list-info-label\", {\r\n\t\t\t\t\t\t\t\t\t\tpositive: hasPositionProfit,\r\n\t\t\t\t\t\t\t\t\t\tnegative: !hasPositionProfit,\r\n\t\t\t\t\t\t\t\t\t\tmuted: delta.eq(0),\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{deltaStr}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : deltaStr}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"App-card-row\">\r\n\t\t\t\t\t\t<div className=\"label\">\r\n\t\t\t\t\t\t\tExpiration Date\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{format(position.expiry, 'MM/dd/yy, hh:mm a')}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"App-card-row\">\r\n\t\t\t\t\t\t<div className=\"label\">\r\n\t\t\t\t\t\t\tTake Profit\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{TPButton}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"App-card-row\">\r\n\t\t\t\t\t\t<div className=\"label\">\r\n\t\t\t\t\t\t\tStop Loss\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{SLButton}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"App-card-divider\"></div>\r\n\t\t\t\t<div className=\"App-card-options\">\r\n\t\t\t\t\t<div className=\"App-button-option pos-relative\">\r\n\t\t\t\t\t\t{closeButton}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default PositionsItem;","import { useState, useEffect } from 'react';\r\nimport Modal from './../../../../components/UI/modal/Modal';\r\nimport { sepToNumber } from '../../../../components/utils/sepThousands';\r\nimport { BigNumber } from 'ethers';\r\nimport NumberInput_v3 from './../../../../components/UI/input/NumberInput_v3';\r\nimport { expandDecimals, formatAmount } from './../../../gmx-test/lib/legacy';\r\nimport { DATE_FORMAT_TEMPLATE, OPTIONS_DECIMALS } from '../../../../components/utils/constants';\r\nimport { executePromise, fromBigNumber, msToTimeLeft } from './../../../../components/utils/utils';\r\nimport { format } from 'date-fns';\r\nimport cx from 'classnames';\r\nimport './PositionModal.scss';\r\nimport { formatAmountFree } from './../../lib/legacyOptions';\r\nimport Tooltip from './../../../gmx-test/components/Tooltip/Tooltip';\r\n\r\nconst ClosePositionModal = (props) => {\r\n\tconst {\r\n\t\tvisible,\r\n\t\tsetVisible,\r\n\t\tposition,\r\n\t\tsetPosition,\r\n\t\tpendingPositions,\r\n\t\tsetPendingPositions,\r\n\t\tpositions,\r\n\t} = props;\r\n\r\n\tconst isHegic = position?.market === \"Hegic\";\r\n\tconst isLyra = position?.market === \"Lyra\";\r\n\tconst [sizeValue, setSizeValue] = useState('');\r\n\tconst [isSubmitting, setIsSubmitting] = useState(false);\r\n\tconst [, setTrade] = useState();\r\n\r\n\tconst size = expandDecimals(BigNumber.from((sepToNumber(sizeValue) * 10**6).toFixed(0)), 12);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (position && isLyra) {\r\n\t\t\tif (!position.trade) {\r\n\t\t\t\tposition.getTrade()\r\n\t\t\t\t\t.then(trade => {\r\n\t\t\t\t\t\tposition.trade = trade;\r\n\t\t\t\t\t\tsetTrade(trade);\r\n\t\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}, [visible, position]);\r\n\t\r\n\t\r\n\tlet pnl,\r\n\tpnlFormatted,\r\n\tpnlSign,\r\n\tpnlStr,\r\n\tpnlPercentage,\r\n\tpnlPercentageStr;\r\n\tif (position && getError() !== \"Amount exceeds option's size\") {\r\n\t\tif (isLyra && position.trade) {\r\n\t\t\tpnl = position.trade.pnl();\r\n\t\t\tif (sizeValue) {\r\n\t\t\t\tpnl = size.div(position.size.div(10**6)).mul(pnl).div(10**6);\r\n\t\t\t}\r\n\t\t\tpnlFormatted = formatAmount(pnl.abs(), OPTIONS_DECIMALS, 2, true)\r\n\t\t\tpnlSign = pnl.gt(0) ? \"+\" : (pnl.lt(0) ? \"-\" : \"\");\r\n\t\t\tpnlStr = `${pnlSign}$${pnlFormatted}`;\r\n\t\t\tpnlPercentage = Math.abs(fromBigNumber(pnl) / fromBigNumber(position.premium) * 100);\r\n\t\t\tpnlPercentageStr = `(${pnlSign}${pnlPercentage.toFixed(2)}%)`;\r\n\t\t}\r\n\r\n\t\tif (isHegic) {\r\n\t\t\tconst { unrealizedPnl, unrealizedPnlPercentage } = position.pnl;\r\n\t\t\tpnl = unrealizedPnl;\r\n\t\t\tpnlPercentage = unrealizedPnlPercentage;\r\n\t\r\n\t\t\tpnlStr = `\r\n\t\t\t\t${pnl.lt(0) ? '-' : ''}$${Math.abs(fromBigNumber(pnl, OPTIONS_DECIMALS)).toFixed(2)}\r\n\t\t\t`;\r\n\t\t\tpnlPercentageStr = `(${formatAmount(pnlPercentage, OPTIONS_DECIMALS - 2, 2, true)}%)`;\r\n\t\t}\r\n\t}\r\n\r\n\tconst onCloseClick = () => {\r\n\t\texecutePromise(position.close, [size], \"Position closed!\", setIsSubmitting,\r\n\t\t() => {\r\n\t\t\tsetVisible(false);\r\n\t\t\tsetPendingPositions([...pendingPositions, position.strategy]);\r\n\t\t});\r\n\t}\r\n\r\n\tfunction getError() {\r\n\t\tif (!position) {\r\n\t\t\treturn \"ERR! No position\";\r\n\t\t}\r\n\r\n\t\tif (isLyra) {\r\n\t\t\tif (!position.trade) {\r\n\t\t\t\treturn \"Please, wait\"\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif (!sizeValue && !isHegic) {\r\n\t\t\treturn \"Enter amount\";\r\n\t\t}\r\n\r\n\t\tif (sepToNumber(sizeValue) > fromBigNumber(position.size)) {\r\n\t\t\treturn \"Amount exceeds option's size\";\r\n\t\t}\r\n\r\n\t\tif (isSubmitting) {\r\n\t\t\treturn \"Closing...\";\r\n\t\t}\r\n\t}\r\n\tconst getBtnText = () => {\r\n\t\tconst error = getError();\r\n\t\tif (error) {\r\n\t\t\treturn error;\r\n\t\t}\r\n\t\treturn \"Close\";\r\n\t}\r\n\tconst isBtnEnabled = () => {\r\n\t\tconst hasError = Boolean(getError());\r\n\t\tif (hasError) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n\tconst resetModal = () => {\r\n\t\t// animation delay\r\n\t\tsetTimeout(() => {\r\n\t\t\tsetSizeValue('');\r\n\t\t\tsetPosition(null);\r\n\t\t}, 300)\r\n\t}\r\n\t\r\n\tconst marketImg = position\r\n\t\t? require(`../../../../img/icon-${position.market}.svg`).default\r\n\t\t: \"\";\r\n\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\tclassName={\"CloseOptionModal PositionModal\"}\r\n\t\t\tvisible={visible}\r\n\t\t\tsetVisible={setVisible}\r\n\t\t\tresetModal={resetModal}\r\n\t\t>\r\n\t\t\t<h1 className=\"modal__title\">Close Option</h1>\r\n\t\t\t{position &&\r\n\t\t\t\t<div className=\"modal__body\">\r\n\t\t\t\t\t<div className=\"Exchange-info-row\">\r\n\t\t\t\t\t\t<div className=\"Exchange-info-label\">\r\n\t\t\t\t\t\t\tMarket\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"align-right PositionModal__market-logo\">\r\n\t\t\t\t\t\t\t<img src={marketImg} alt={`${position.market} logo`} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"Exchange-info-row\">\r\n\t\t\t\t\t\t<div className=\"Exchange-info-label\">\r\n\t\t\t\t\t\t\tType\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"align-right\">\r\n\t\t\t\t\t\t\t{position.type}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"Exchange-info-row\">\r\n\t\t\t\t\t\t<div className=\"Exchange-info-label\">\r\n\t\t\t\t\t\t\tStrategy\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"align-right\">\r\n\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\tclassName={cx({ positive: position.isCall, negative: !position.isCall })}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{position.sentiment}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"Exchange-info-row\">\r\n\t\t\t\t\t\t<div className=\"Exchange-info-label\">\r\n\t\t\t\t\t\t\tProfit Zone\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"align-right\">\r\n\t\t\t\t\t\t\t{position.profitZoneStr}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"Exchange-info-row\">\r\n\t\t\t\t\t\t<div className=\"Exchange-info-label\">\r\n\t\t\t\t\t\t\tExpires In\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"align-right\">\r\n\t\t\t\t\t\t\t{msToTimeLeft(position.expiry - Date.now())}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"Exchange-info-row\">\r\n\t\t\t\t\t\t<div className=\"Exchange-info-label\">\r\n\t\t\t\t\t\t\tExpiration Date\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"align-right\">\r\n\t\t\t\t\t\t\t{format(position.expiry, DATE_FORMAT_TEMPLATE)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"Exchange-info-row\">\r\n\t\t\t\t\t\t<div className=\"Exchange-info-label\">\r\n\t\t\t\t\t\t\tAmount\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"align-right\">\r\n\t\t\t\t\t\t\t{formatAmountFree(position.size, OPTIONS_DECIMALS, 3)} {position.token}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\tclassName=\"Tooltip_input\"\r\n\t\t\t\t\t\thandle={\r\n\t\t\t\t\t\t\t<NumberInput_v3\r\n\t\t\t\t\t\t\t\ttitle='Amount'\r\n\t\t\t\t\t\t\t\tdisabled={isHegic}\r\n\t\t\t\t\t\t\t\tvalue={isHegic ? fromBigNumber(position.size) : sizeValue}\r\n\t\t\t\t\t\t\t\tsetValue={setSizeValue}\r\n\t\t\t\t\t\t\t\tmaxValue={fromBigNumber(position.size)}\r\n\t\t\t\t\t\t\t\ticon={require(`../../../../img/icon-${position.token}.svg`).default}\r\n\t\t\t\t\t\t\t\ticonAlt={`${position.token} icon`}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tposition=\"left-bottom\"\r\n\t\t\t\t\t\tenabled={isHegic}\r\n\t\t\t\t\t\trenderContent={() => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<div className=\"Tooltip__text\">\r\n\t\t\t\t\t\t\t\t\tHegic doesn't support partial closing\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"Exchange-info-row hlight\">\r\n\t\t\t\t\t\t<div className=\"Exchange-info-label\">\r\n\t\t\t\t\t\t\tProfit/Loss\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"align-right\">\r\n\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t{pnlStr ?? \"...\"}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tpnlPercentage &&\r\n\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\tclassName={cx(pnl && { positive: pnl.gt(0), negative: pnl.lt(0) })}\r\n\t\t\t\t\t\t\t\t\tstyle={{marginLeft: 4}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{pnlPercentageStr}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"Exchange-info-row hlight\">\r\n\t\t\t\t\t\t<div className=\"Exchange-info-label\">\r\n\t\t\t\t\t\t\tPremium Paid\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"align-right\">\r\n\t\t\t\t\t\t\t${formatAmount(position.premium, OPTIONS_DECIMALS, 2, true)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>}\r\n\t\t\t\r\n\t\t\t<button \r\n\t\t\t\tclassName=\"modal__btn btn btn_hlight\"\r\n\t\t\t\tonClick={onCloseClick}\r\n\t\t\t\tdisabled={!isBtnEnabled()}\r\n\t\t\t>\r\n\t\t\t\t{getBtnText()}\r\n\t\t\t</button>\r\n\t\t</Modal>\r\n\t);\r\n};\r\n\r\nexport default ClosePositionModal;","import React from 'react';\r\nimport './Currency.scss';\r\nimport cx from \"classnames\";\r\n\r\nconst Currency = ({ className, children, isSmall = true, currencyName = \"usdc\", isHlight }) => {\r\n\tconst val = children;\r\n\tconst icon = require(`../img/icon-${currencyName}.svg`).default\r\n\t\r\n\tif (typeof val !== 'string' && typeof val !== 'number') {\r\n\t\treturn;\r\n\t}\r\n\t\r\n\treturn (\r\n\t\t<div className={cx(\"Currency\", isHlight && 'hlight', className)}>\r\n\t\t\t<img src={icon} alt={`${currencyName} icon`} width={isSmall ? 15 : \"auto\"}/>\r\n\t\t\t<span>{val}</span>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Currency;","import React, { useState, useEffect } from 'react';\r\nimport { formatForContract } from '../../utils/math';\r\nimport Modal from './Modal';\r\nimport { formatAmount, formatAmountFree, USD_DECIMALS } from './../../../views/gmx-test/lib/legacy';\r\nimport NumberInput_v3 from './../input/NumberInput_v3';\r\nimport { CALL, PUT, SL, TP } from './../../../views/options/lib/legacyOptions';\r\nimport { OPTIONS_DECIMALS } from '../../utils/constants';\r\nimport cx from \"classnames\";\r\nimport { executePromise, fromBigNumber } from '../../utils/utils';\r\nimport Currency from './../../Currency';\r\nimport {\r\n\tgetTPMethod,\r\n\tgetTPContract,\r\n} from '../../utils/contracts';\r\nimport Tooltip from '../../../views/gmx-test/components/Tooltip/Tooltip';\r\nimport icon_bin from '../../../img/icon-bin.svg';\r\nimport \"./SLTP.scss\";\r\nimport { ImSpinner2 } from 'react-icons/im';\r\n\r\nconst SLTPModalOptions = (props) => {\r\n\tconst {\r\n\t\tvisible,\r\n\t\tsetVisible,\r\n\t\tisTP,\r\n\t\tposition,\r\n\t\tsetPosition,\r\n\t\tSLTPCommission,\r\n\t\tmarkPrices,\r\n\t\tlibrary,\r\n\t} = props;\r\n\r\n\tconst [priceValue, setPriceValue] = useState('');\r\n\tconst [amountValue, setAmountValue] = useState('');\r\n\tconst [isSubmitting, setIsSubmitting] = useState(false);\r\n\tconst [isRemoving, setIsRemoving] = useState();\r\n\tconst [isApproved, setIsApproved] = useState(null);\r\n\tconst isActionSet = Boolean(isTP ? (!position?.tp || position.tp.eq(0)) : (!position?.sl || position.sl.eq(0)));\r\n\tconst actionStr = isActionSet ? \"Set\" : \"Update\";\r\n\tconst titleStr = isTP ? TP : SL;\r\n\tconst btnText = `${actionStr} ${titleStr}`;\r\n\tconst title = `${isActionSet ? \"Set\" : \"Edit\"} ${titleStr}`;\r\n\tconst isHegic = position?.market === \"Hegic\";\r\n\r\n\tconst markPrice = markPrices[position?.token];\r\n\r\n\tuseEffect(() => {\r\n\t\tif (position && visible) {\r\n\t\t\tsetAmountValue(fromBigNumber(position.size, OPTIONS_DECIMALS));\r\n\t\t\tposition.checkIsTpApproved()\r\n\t\t\t\t.then(setIsApproved);\r\n\t\t}\r\n\t}, [position]);\r\n\r\n\tconst executeCb = () => {\r\n\t\tposition.setIsSLTPSpinning(true);\r\n\t\tsetVisible(false);\r\n\t}\r\n\tconst onApply = async () => {\r\n\t\tif (!isApproved) {\r\n\t\t\texecutePromise(position.approveTp, [], \"ERC721 approved!\", setIsSubmitting, () => {\r\n\t\t\t\tsetIsApproved(true);\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst method = getTPMethod(isActionSet ? \"set\" : \"update\", position.market);\r\n\t\tconst contract = getTPContract(position.market, position.token, library.getSigner());\r\n\t\tconst id = position.id;\r\n\t\tconst price = formatForContract(priceValue, 8);\r\n\t\tconst isCall = position.isCall;\r\n\t\tconst takeType = isTP\r\n\t\t\t? isCall ? 0 : 1\r\n\t\t\t: isCall ? 1 : 0;\r\n\t\tconst args = [id, price, takeType];\r\n\t\tconst successMsg = `${titleStr} ${isActionSet ? \"set\" : \"updated\"}!`;\r\n\t\tif (isActionSet) {\r\n\t\t\targs.push({ value: await contract.commissionSize() });\r\n\t\t}\r\n\t\texecutePromise(contract[method], args, successMsg, setIsSubmitting, executeCb);\r\n\t}\r\n\tconst onRemove = () => {\r\n\t\t// Lyra SL/TP bug fix\r\n\t\tconst contract = getTPContract(position.hasOldTP ? `Lyra_old` : position.market, position.token, library.getSigner());\r\n\t\tconst method = getTPMethod(\"delete\", position.market);\r\n\t\texecutePromise(contract[method], [position.id], `${titleStr} removed!`, setIsRemoving, executeCb);\r\n\t}\r\n\r\n\tconst getError = () => {\r\n\t\tif (!position) {\r\n\t\t\treturn btnText;\r\n\t\t}\r\n\t\tif (isApproved === null) {\r\n\t\t\treturn `Please, wait`;\r\n\t\t}\r\n\r\n\t\tif (isSubmitting) {\r\n\t\t\tif (isApproved) {\r\n\t\t\t\treturn `Submitting...`;\r\n\t\t\t}\r\n\t\t\treturn `Approving...`;\r\n\t\t}\r\n\t\tif (isRemoving) {\r\n\t\t\treturn `Removing...`;\r\n\t\t}\r\n\r\n\t\tif (!amountValue && !isHegic) {\r\n\t\t\treturn `Enter amount`;\r\n\t\t}\r\n\t\tconst userAmount = formatForContract(amountValue, 18);\r\n\t\tconst curAmount = fromBigNumber(position.size, 0);\r\n\t\tif (userAmount > curAmount) {\r\n\t\t\treturn `Amount exceeds option's size`\r\n\t\t}\r\n\t\tif (!priceValue || priceValue == 0) {\r\n\t\t\treturn `Enter price`;\r\n\t\t}\r\n\t\t\r\n\t\tconst isCall = position.isCall;\r\n\t\tconst curPrice = Number(formatAmount(markPrice, 20, 0, 0));\r\n\t\tconst userPrice = formatForContract(priceValue, 10);\r\n\t\t\r\n\t\tif (userPrice === 0) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (!isTP) {\r\n      if ((isCall && userPrice > curPrice) || (!isCall && userPrice < curPrice)) {\r\n        return `${isCall ? CALL : PUT} SL can't be ${isCall ? 'greater' : 'less'} than mark price`;\r\n      }\r\n    }\r\n    if (isTP) {\r\n      if ((isCall && userPrice < curPrice) || (!isCall && userPrice > curPrice)) {\r\n        return `${isCall ? CALL : PUT} TP can't be ${isCall ? 'less' : 'greater'} than mark price`;\r\n      }\r\n    }\r\n\t}\r\n\tconst getBtnText = () => {\r\n\t\tconst error = getError();\r\n\t\tif (error) {\r\n\t\t\treturn error;\r\n\t\t}\r\n\r\n\t\tif (!isApproved) {\r\n\t\t\treturn `Approve`;\r\n\t\t}\r\n\r\n\t\treturn btnText;\r\n\t}\r\n\tconst isBtnEnabled = () => {\r\n\t\tconst hasError = Boolean(getError());\r\n\t\t\r\n\t\tif (hasError) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t}\r\n\r\n\tconst resetModal = () => {\r\n\t\tsetPriceValue('');\r\n\t\tsetAmountValue('');\r\n\t\tsetPosition(null);\r\n\t\tsetIsApproved(null);\r\n\t};\r\n\r\n\tconst marketImg = position\r\n\t\t? require(`../../../img/icon-${position.market}.svg`).default\r\n\t\t: \"\";\r\n\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\tclassName=\"PositionModal modal_SLTP modal_SLTP-Options\"\r\n\t\t\tvisible={visible}\r\n\t\t\tsetVisible={setVisible}\r\n\t\t\tresetModal={resetModal}\r\n\t\t>\r\n\t\t\t<h1 className=\"modal__title\">{title}</h1>\r\n\t\t\t{position && (\r\n\t\t\t\t<div className=\"modal__body\">\r\n\t\t\t\t\t<div className=\"Exchange-info-row\">\r\n\t\t\t\t\t\t<div className=\"Exchange-info-label\">\r\n\t\t\t\t\t\t\tMarket\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"align-right PositionModal__market-logo\">\r\n\t\t\t\t\t\t\t<img src={marketImg} alt={`${position.market} logo`} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"Exchange-info-row\">\r\n\t\t\t\t\t\t<div className=\"Exchange-info-label\">\r\n\t\t\t\t\t\t\tStrategy\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"align-right\">\r\n\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\tclassName={cx({ positive: position.isCall, negative: !position.isCall })}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{position.isCall ? CALL : PUT}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"Exchange-info-row\">\r\n\t\t\t\t\t\t<div className=\"Exchange-info-label\">\r\n\t\t\t\t\t\t\tProfit Zone\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"align-right\">\r\n\t\t\t\t\t\t\t{position.profitZoneStr}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\tclassName=\"Tooltip_input\"\r\n\t\t\t\t\t\thandle={\r\n\t\t\t\t\t\t\t<NumberInput_v3\r\n\t\t\t\t\t\t\t\ttitle='Amount'\r\n\t\t\t\t\t\t\t\tdisabled={true}\r\n\t\t\t\t\t\t\t\tvalue={amountValue}\r\n\t\t\t\t\t\t\t\tsetValue={setAmountValue}\r\n\t\t\t\t\t\t\t\tdisplayValue={formatAmountFree(position.size, OPTIONS_DECIMALS, 3, true)}\r\n\t\t\t\t\t\t\t\tdisplayValueTitle={'Amount'}\r\n\t\t\t\t\t\t\t\tmaxValue={fromBigNumber(position.size, OPTIONS_DECIMALS)}\r\n\t\t\t\t\t\t\t\tadditionalSymbol={position.token}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tposition=\"left-bottom\"\r\n\t\t\t\t\t\tenabled={true}\r\n\t\t\t\t\t\trenderContent={() => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<div className=\"Tooltip__text\">\r\n\t\t\t\t\t\t\t\t\tPartial closing is not supported\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<NumberInput_v3\r\n\t\t\t\t\t\ttitle='Price'\r\n\t\t\t\t\t\tvalue={priceValue}\r\n\t\t\t\t\t\tsetValue={setPriceValue}\r\n\t\t\t\t\t\tdisplayValue={formatAmount(markPrice, USD_DECIMALS, 2, true)}\r\n\t\t\t\t\t\tdisplayValueTitle={'Current Price'}\r\n\t\t\t\t\t\tadditionalSymbol={\"$\"}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{isActionSet && (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<div className=\"Exchange-info-row\">\r\n\t\t\t\t\t\t\t\t<div className=\"Exchange-info-label\">\r\n\t\t\t\t\t\t\t\t\t{titleStr} Fee\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"align-right\">\r\n\t\t\t\t\t\t\t\t\t<Currency currencyName='ETH' isSmall={true}>\r\n\t\t\t\t\t\t\t\t\t\t{formatAmount(SLTPCommission, OPTIONS_DECIMALS, 3, true) + \" ($\" + formatAmount(markPrices.ETH.div(SLTPCommission), OPTIONS_DECIMALS, 2, true) + \")\"}\r\n\t\t\t\t\t\t\t\t\t</Currency>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"text-inline Tip Tip_bordered\">\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tisHegic\r\n\t\t\t\t\t\t\t\t\t? \"The option will automatically be exercised if the take-profit price is reached. If the price doesn’t cross the take-profit threshold within 30 minutes before the expiration date, the option will be exercised automatically\"\r\n\t\t\t\t\t\t\t\t\t: \"Your option will be sold automatically to the Lyra AMM when the price reaches your take-profit/stop-loss price. Please be aware that when we sell your option to the Lyra AMM, we can’t control the slippage\"\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<button \r\n\t\t\t\t\t\tclassName=\"SLTP__btn modal__btn btn btn_hlight\"\r\n\t\t\t\t\t\tstyle={!isActionSet ? { marginTop: 0 } : {}}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetIsSubmitting(true);\r\n\t\t\t\t\t\t\tonApply();\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tdisabled={!isBtnEnabled()}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{getBtnText()}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t{!isActionSet && (\r\n\t\t\t\t\t\t<div className='SLTP__remove-btn align-right'>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName='btn_inline'\r\n\t\t\t\t\t\t\t\tonClick={onRemove}\r\n\t\t\t\t\t\t\t\tdisabled={isRemoving}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<img className='btn__icon' src={icon_bin} alt=\"Bin icon\" />\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tisRemoving\r\n\t\t\t\t\t\t\t\t\t? <ImSpinner2 className=\"spin position-loading-icon\" />\r\n\t\t\t\t\t\t\t\t\t: `Remove ${isTP ? \"TP\" : \"SL\"}`\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t\r\n\t\t</Modal>\r\n\t);\r\n};\r\n\r\nexport default SLTPModalOptions;","import { useState, memo } from \"react\";\r\n\r\nimport {\r\n  helperToast,\r\n  CALL,\r\n  PUT,\r\n} from \"../../lib/legacyOptions\";\r\nimport PositionsItem from './PositionsItemOptions';\r\nimport ClosePositionModal from './ClosePositionModal';\r\nimport SLTPModalOptions from './../../../../components/UI/modal/SLTPModalOptions';\r\nimport { getMarkPrice } from \"../../../../components/utils/utils\";\r\n\r\nconst PositionsList = memo((props) => {\r\n  let {\r\n    positions,\r\n  } = props;\r\n  const {\r\n    infoTokens,\r\n    setMarket,\r\n    positionsLoading,\r\n    positionsError,\r\n    pendingPositions,\r\n    setPendingPositions,\r\n    library,\r\n    SLTPCommission,\r\n  } = props;\r\n\r\n  /* const buyingPositions = pendingPositions.filter(pos => typeof pos === 'object');\r\n  if (positions) {\r\n    positions = [...buyingPositions, ...positions];\r\n  } */\r\n  \r\n  const hasPositions = Boolean(positions && positions.length);\r\n\r\n  const [closeModalVisible, setCloseModalVisible] = useState(false);\r\n  const [SLTPVisible, setSLTPVisible] = useState(false);\r\n  const [isTP, setIsTP] = useState(false);\r\n  const [position, setPosition] = useState(null);\r\n\r\n  const markPrices = {\r\n    ETH: getMarkPrice(infoTokens, \"ETH\"),\r\n    BTC: getMarkPrice(infoTokens, \"BTC\"),\r\n  }\r\n  const openSLTP = (position, isTP, setIsSLTPSpinning) => {\r\n    setPosition({\r\n      ...position,\r\n      setIsSLTPSpinning,\r\n    });\r\n    setIsTP(isTP);\r\n    setSLTPVisible(true);\r\n  }\r\n  const closePosition = (position) => {\r\n    setPosition(position);\r\n    setCloseModalVisible(true);\r\n  }\r\n  \r\n  const onPositionClick = (position) => {\r\n    helperToast.success(`${position.isCall ? \"Call\" : \"Put\"} ${position.token} market selected`);\r\n    setMarket(position.isCall ? CALL : PUT, position.token);\r\n  };\r\n\r\n  const getStatusLabel = () => {\r\n    if (!hasPositions || positionsLoading) {\r\n      if (positionsLoading) {\r\n        return `Loading...`;\r\n      }\r\n      if (positionsError) {\r\n        return `Loading failed, retrying...`;\r\n      }\r\n      return `No open positions`;\r\n    }\r\n  }\r\n  \r\n  const renderPositionItem = (position, isLarge) => {\r\n    return (\r\n      <PositionsItem\r\n        key={position.strategy}\r\n        position={position}\r\n        onPositionClick={onPositionClick}\r\n        markPrices={markPrices}\r\n        closePosition={closePosition}\r\n        isLarge={isLarge}\r\n        pendingPositions={pendingPositions}\r\n        openSLTP={openSLTP}\r\n      />\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"PositionsList table-wrapper\">\r\n      <div className=\"Exchange-list small\">\r\n        <div>\r\n          {(!hasPositions || positionsLoading) && (\r\n            <div className=\"App-card Exchange-list-empty-note\">\r\n              {getStatusLabel()}\r\n            </div>\r\n          )}\r\n          {hasPositions && positions.map((position) => {\r\n            return renderPositionItem(position, false);\r\n          })}\r\n        </div>\r\n      </div>\r\n      <table className=\"Exchange-list large App-box\">\r\n        <tbody>\r\n          {hasPositions && (\r\n            <tr className=\"Exchange-list-header\">\r\n              <th>\r\n                Position\r\n              </th>\r\n              <th>\r\n                Amount\r\n              </th>\r\n              <th>\r\n                Profit Zone\r\n              </th>\r\n              <th>\r\n                Current Price\r\n              </th>\r\n              <th>\r\n                Liq. Price\r\n              </th>\r\n              <th>\r\n                Premium Paid\r\n              </th>\r\n              <th>\r\n                PNL (ROE %)\r\n              </th>\r\n              <th>\r\n                Expiration Date\r\n              </th>\r\n              <th>\r\n                Take Profit\r\n              </th>\r\n              <th>\r\n                Stop Loss\r\n              </th>\r\n              <th></th>\r\n            </tr>\r\n          )}\r\n          {(!hasPositions || positionsLoading) && (\r\n            <tr>\r\n              <td colSpan=\"15\" className=\"Exchange-list-empty-note\">\r\n                {getStatusLabel()}\r\n              </td>\r\n            </tr>\r\n          )}\r\n          {hasPositions && positions.map((position) => {\r\n            return renderPositionItem(position, true);\r\n          })}\r\n        </tbody>\r\n      </table>\r\n\r\n      <ClosePositionModal\r\n        visible={closeModalVisible}\r\n        setVisible={setCloseModalVisible}\r\n        position={position}\r\n        setPosition={setPosition}\r\n        pendingPositions={pendingPositions}\r\n        setPendingPositions={setPendingPositions}\r\n        positions={positions}\r\n      />\r\n      <SLTPModalOptions\r\n        visible={SLTPVisible}\r\n        setVisible={setSLTPVisible}\r\n        position={position}\r\n        setPosition={setPosition}\r\n        isTP={isTP}\r\n        SLTPCommission={SLTPCommission}\r\n        markPrices={markPrices}\r\n        library={library}\r\n      />\r\n    </div>\r\n  );\r\n})\r\n\r\nexport default PositionsList;","// prettier-ignore\r\nimport {ethers} from \"ethers\";\r\nimport { Web3Provider } from \"@ethersproject/providers\";\r\nimport { getFallbackProvider, getProvider } from \"../legacyOptions\";\r\n\r\nexport const fetcher =\r\n  (library: Web3Provider, contractInfo: any, additionalArgs: any[]) =>\r\n  (...args: any) => {\r\n    // eslint-disable-next-line\r\n    const [id, chainId, arg0, arg1, ...params] = args;\r\n    const provider = getProvider(library, chainId);\r\n\r\n    const method = ethers.utils.isAddress(arg0) ? arg1 : arg0;\r\n\r\n    const contractCall = getContractCall({\r\n      provider,\r\n      contractInfo,\r\n      arg0,\r\n      arg1,\r\n      method,\r\n      params,\r\n      additionalArgs,\r\n    });\r\n\r\n    let shouldCallFallback = true;\r\n\r\n    const handleFallback = async (resolve, reject, error) => {\r\n      if (!shouldCallFallback) {\r\n        return;\r\n      }\r\n      // prevent fallback from being called twice\r\n      shouldCallFallback = false;\r\n\r\n      const fallbackProvider = getFallbackProvider(chainId);\r\n      if (!fallbackProvider) {\r\n        reject(error);\r\n        return;\r\n      }\r\n\r\n      console.info(\"using fallbackProvider for\", method);\r\n      const fallbackContractCall = getContractCall({\r\n        provider: fallbackProvider,\r\n        contractInfo,\r\n        arg0,\r\n        arg1,\r\n        method,\r\n        params,\r\n        additionalArgs,\r\n      });\r\n\r\n      fallbackContractCall\r\n        .then((result) => resolve(result))\r\n        .catch((e) => {\r\n          console.error(\"fallback fetcher error\", id, contractInfo.contractName, method, e);\r\n          reject(e);\r\n        });\r\n    };\r\n\r\n    return new Promise(async (resolve, reject) => {\r\n      contractCall\r\n        .then((result) => {\r\n          shouldCallFallback = false;\r\n          resolve(result);\r\n        })\r\n        .catch((e) => {\r\n          console.error(\"fetcher error\", id, contractInfo.contractName, method, e);\r\n          handleFallback(resolve, reject, e);\r\n        });\r\n\r\n      setTimeout(() => {\r\n        handleFallback(resolve, reject, \"contractCall timeout\");\r\n      }, 2000);\r\n    });\r\n  };\r\n\r\nfunction getContractCall({ provider, contractInfo, arg0, arg1, method, params, additionalArgs }) {\r\n  if (ethers.utils.isAddress(arg0)) {\r\n    const address = arg0;\r\n    const contract = new ethers.Contract(address, contractInfo.abi, provider);\r\n\r\n    if (additionalArgs) {\r\n      return contract[method](...params.concat(additionalArgs));\r\n    }\r\n    return contract[method](...params);\r\n  }\r\n\r\n  if (!provider) {\r\n    return;\r\n  }\r\n\r\n  return provider[method](arg1, ...params);\r\n}\r\n","import React from 'react';\r\n\r\nconst Loader = () => {\r\n\treturn (\r\n\t\t<div className='loader-container'>\r\n\t\t\t<svg viewBox=\"0 0 100 100\">\r\n\t\t\t\t<defs>\r\n\t\t\t\t</defs>\r\n\t\t\t\t<circle className=\"loader\" style={{fill:'transparent',stroke:'#fff',strokeWidth: '7px',strokeLinecap: 'round'}} cx=\"50\" cy=\"50\" r=\"45\"/>\r\n\t\t\t</svg>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Loader;","import { useRef } from 'react';\r\nimport { formatAmount, expandDecimals } from './../../../gmx-test/lib/legacy';\r\nimport { format } from 'date-fns';\r\nimport { msToTimeLeft } from './../../../../components/utils/utils';\r\nimport { OPTIONS_DECIMALS } from '../../../../components/utils/constants';\r\nimport cx from 'classnames';\r\nimport { CALL, PUT } from '../../lib/legacyOptions';\r\n\r\nconst OptionsItem = (props) => {\r\n\tconst {\r\n\t\toption,\r\n\t\tmarkPrice,\r\n\t\tbuyPosition,\r\n\t} = props;\r\n\t\r\n\tconst curPrice = useRef(expandDecimals(markPrice, 10)).current;\r\n\t\r\n\tif (!option || !option.hasLiquidity) {\r\n\t\treturn null;\r\n\t}\r\n\t\r\n\tconst expirationDate = Date.now() + option.period;\r\n\toption.expiry = expirationDate;\r\n\t\r\n\tconst logo = require(`../../../../img/icon-${option.market}.svg`).default;\r\n\tconst isITM = option.isCall\r\n\t\t? curPrice.gte(option.strike)\r\n\t\t: curPrice.lte(option.strike);\r\n\r\n\tconst cls = cx(\"Options-item\", isITM && 'hlight');\r\n\tconst btnText = `Buy ${option.isCall ? CALL : PUT}`;\r\n\r\n\treturn (\r\n\t\t<tr className={cls}>\r\n\t\t\t<td>\r\n\t\t\t\t<img src={logo} alt={`${option.market} logo`} />\r\n\t\t\t</td>\r\n\t\t\t<td>\r\n\t\t\t\t{option.type}\r\n\t\t\t</td>\r\n\t\t\t<td>\r\n\t\t\t\t${formatAmount(option.strike, OPTIONS_DECIMALS, 2, true)}\r\n\t\t\t</td>\r\n\t\t\t<td>\r\n\t\t\t\t{msToTimeLeft(option.period)}\r\n\t\t\t</td>\r\n\t\t\t<td>\r\n\t\t\t\t{format(expirationDate, 'dd MMM')}\r\n\t\t\t</td>\r\n\t\t\t<td>\r\n\t\t\t\t${formatAmount(option.cost, OPTIONS_DECIMALS, 2, true)}\r\n\t\t\t</td>\r\n\t\t\t<td>\r\n\t\t\t\t${formatAmount(option.price, OPTIONS_DECIMALS, 2, true)}\r\n\t\t\t</td>\r\n\t\t\t<td style={{textAlign: \"right\", width: 150}}>\r\n\t\t\t\t\t{option.isBuyingEnabled\r\n\t\t\t\t\t\t? <button className='Options-item__btn btn_inline' onClick={() => { buyPosition(option) }}>\r\n\t\t\t\t\t\t\t\t{btnText}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t: <a href={option.buyUrl ?? '#'} target=\"_blank\" rel=\"noreferrer\"\r\n\t\t\t\t\t\t\t\tclassName={'Options-item__btn btn_inline'}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{btnText}\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t}\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t);\r\n};\r\n\r\nexport default OptionsItem;","import React, { useState } from 'react';\r\nimport icon_curve from '../../../img/icon-market.svg';\r\nimport cx from 'classnames';\r\nimport './Filter.scss';\r\nimport icon_down from '../../../img/icon-down-small.svg';\r\nimport { useTogglePopup } from './../../../hooks/useTogglePopup';\r\n\r\nconst Filter = (props) => {\r\n\tconst {\r\n\t\titems,\r\n\t\tselectedItems,\r\n\t\tsetSelectedItems,\r\n\t\ticonLabels,\r\n\t} = props;\r\n\r\n\tconst {\r\n\t\tisOpen,\r\n\t\topenPopup: openFilter,\r\n\t} = useTogglePopup();\r\n\r\n\t\r\n\treturn (\r\n\t\t<div className={cx(\"Filter\", isOpen && 'active')}>\r\n\t\t\t<button className=\"Filter__header\" onClick={openFilter}>\r\n\t\t\t\t<div className=\"Filter__header-icon\">\r\n\t\t\t\t\t<img src={icon_curve} alt=\"Curve icon\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"Filter__header-title-container\">\r\n\t\t\t\t\t<span className='Filter__header-title nowrap'>\r\n\t\t\t\t\t\tChoose Markets\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<img className='Filter__chevron-down' src={icon_down} alt=\"chevron down\" />\r\n\t\t\t\t</div>\r\n\t\t\t</button>\r\n\t\t\t<div className=\"Filter__items\" onClick={(e) => e.stopPropagation()}>\r\n\t\t\t\t{items.map(item => {\r\n\t\t\t\t\tlet iconName = item;\r\n\t\t\t\t\tif (iconLabels && iconLabels[item]) {\r\n\t\t\t\t\t\ticonName = iconLabels[item];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst itemIcon = require(`../../../img/icon-${iconName}.svg`).default;\r\n\t\t\t\t\tconst isSelected = selectedItems.find(el => el === item);\r\n\t\t\t\t\t\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<div className=\"Filter__item input-container\" key={item}>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\t\tdefaultChecked={isSelected}\r\n\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\tif (e.target.checked) {\r\n\t\t\t\t\t\t\t\t\t\tselectedItems.push(item);\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tconst index = selectedItems.findIndex(el => el === item);\r\n\t\t\t\t\t\t\t\t\t\tselectedItems.splice(index, 1);\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\tsetSelectedItems(selectedItems.slice());\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t\t<img className='Filter__item-icon' src={itemIcon} alt={item} />\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)\r\n\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Filter;","import { useCallback, useRef } from \"react\";\r\n\r\nexport default function useDebounce(cb, delay) {\r\n\tconst timer = useRef();\r\n\r\n\tconst debouncedCb = useCallback((...args) => {\r\n\t\tif (timer.current) {\r\n\t\t\tclearTimeout(timer.current);\r\n\t\t}\r\n\t\ttimer.current = setTimeout(() => {\r\n\t\t\tcb(...args);\r\n\t\t}, delay);\r\n\t}, [cb, delay]);\r\n\r\n\treturn debouncedCb;\r\n}","import React, { useState, useEffect } from 'react';\r\nimport Modal from '../../../../components/UI/modal/Modal';\r\nimport { sepToNumber } from '../../../../components/utils/sepThousands';\r\nimport { BigNumber } from 'ethers';\r\nimport NumberInput_v3 from '../../../../components/UI/input/NumberInput_v3';\r\nimport { errAlert, notifySuccess } from '../../../../components/utils/notifications';\r\nimport { expandDecimals, formatAmount } from '../../../gmx-test/lib/legacy';\r\nimport { DATE_FORMAT_TEMPLATE, OPTIONS_DECIMALS, tokenDecimals } from '../../../../components/utils/constants';\r\nimport { executePromise, fromBigNumber, msToTimeLeft } from '../../../../components/utils/utils';\r\nimport { format } from 'date-fns';\r\nimport cx from 'classnames';\r\nimport './PositionModal.scss';\r\nimport { CALL, PUT, USD_DECIMALS } from './../../lib/legacyOptions';\r\nimport { separateThousands } from './../../../../components/utils/sepThousands';\r\nimport useDebounce from './../../../../hooks/useDebounce';\r\nimport { USDC, getIsUsdcApproved } from '../../../../components/utils/contracts';\r\nimport { approveUSDC } from './../../../../components/utils/contracts';\r\nimport Currency from './../../../../components/Currency';\r\n\r\nconst BuyPositionModal = (props) => {\r\n\tconst {\r\n\t\tvisible,\r\n\t\tsetVisible,\r\n\t\tposition,\r\n\t\tsetPosition,\r\n\t\tinfoTokens,\r\n\t\tpendingPositions,\r\n\t\tsetPendingPositions,\r\n\t\twalletAddress,\r\n\t} = props;\r\n\r\n\tconst [sizeValue, setSizeValue] = useState(\"\");\r\n\tconst size = expandDecimals(BigNumber.from((sepToNumber(sizeValue) * 10**6).toFixed(0)), 12);\r\n\t// balance 1e6\r\n\tconst usdcBalance = infoTokens[USDC.address].balance && expandDecimals(infoTokens[USDC.address].balance, OPTIONS_DECIMALS - 6);\r\n\r\n\tconst [premium, setPremium] = useState(undefined);\r\n\tconst onSizeValueChange = useDebounce((value) => {\r\n\t\tconst size = expandDecimals(BigNumber.from((Number(value) * 10**6).toFixed(0)), 12);\r\n\t\t\r\n\t\tposition.getPremium(size)\r\n\t\t\t.then(premium => {\r\n\t\t\t\t// USDC Allowance 1e6\r\n\t\t\t\tgetIsUsdcApproved(\r\n\t\t\t\t\twalletAddress, position.contractAddress, premium.div(BigNumber.from(10).pow(OPTIONS_DECIMALS - 6))\r\n\t\t\t\t\t).then(isUsdcApproved => {\r\n\t\t\t\t\t\tposition.isUsdcApproved = isUsdcApproved;\r\n\t\t\t\t\t\tsetPremium(premium);\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t}, 800);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (sizeValue) {\r\n\t\t\tsetPremium(undefined);\r\n\t\t\tonSizeValueChange(sepToNumber(sizeValue));\r\n\t\t}\r\n\t}, [sizeValue]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (position) {\r\n\t\t\tconst initSizeNumber = fromBigNumber(position.initSize, tokenDecimals[position.token]); \r\n\t\t\tsetSizeValue(\r\n\t\t\t\tseparateThousands(\r\n\t\t\t\t\tinitSizeNumber\r\n\t\t\t\t)\r\n\t\t\t);\r\n\t\t\tsetPremium(position.cost);\r\n\t\t}\r\n\t}, [position]);\r\n\r\n\tconst [isSubmitting, setIsSubmitting] = useState(false);\r\n\tconst [isApproving, setIsApproving] = useState(false);\r\n\r\n\tconst onPrimaryClick = () => {\r\n\t\tif (!position.isUsdcApproved) {\r\n\t\t\tapproveUSDC(position.contractAddress, setIsApproving, () => {\r\n\t\t\t\tposition.isUsdcApproved = true;\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\texecutePromise(position.buy, [size], \"Position opened!\", setIsSubmitting, () => {\r\n\t\t\t\tsetVisible(false);\r\n\t\t\t\tsetPendingPositions([...pendingPositions, {\r\n\t\t\t\t\t...position,\r\n\t\t\t\t\tsize,\r\n\t\t\t\t\tstrikePrice: position.strike,\r\n\t\t\t\t\tprofitZoneStr: \"...\",\r\n\t\t\t\t\tisPending: true,\r\n\t\t\t\t}]);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\tconst getError = () => {\r\n\t\tif (!position) {\r\n\t\t\treturn \"ERR! No position\";\r\n\t\t}\r\n\r\n\t\tif (!sizeValue) {\r\n\t\t\treturn \"Enter amount\";\r\n\t\t}\r\n\r\n\t\tif (!premium) {\r\n\t\t\treturn \"Please, wait\";\r\n\t\t}\r\n\r\n\t\tif (premium.gt(usdcBalance)) {\r\n\t\t\treturn \"Insufficient balance\"\r\n\t\t}\r\n\r\n\t\tif (isApproving) {\r\n\t\t\treturn \"Approving USDC...\";\r\n\t\t}\r\n\r\n\t\tif (isSubmitting) {\r\n\t\t\treturn \"Buying...\";\r\n\t\t}\r\n\t}\r\n\tconst getBtnText = () => {\r\n\t\tconst error = getError();\r\n\t\tif (error) {\r\n\t\t\treturn error;\r\n\t\t}\r\n\r\n\t\tif (!position?.isUsdcApproved) {\r\n\t\t\treturn `Allow to use your USDC`;\r\n\t\t}\r\n\t\treturn `Buy ${position.isCall ? CALL : PUT} option`;\r\n\t}\r\n\tconst isBtnEnabled = () => {\r\n\t\tconst hasError = Boolean(getError());\r\n\t\tif (hasError) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n\tconst resetModal = () => {\r\n\t\t// animation delay\r\n\t\tsetTimeout(() => {\r\n\t\t\tsetSizeValue(\"\");\r\n\t\t\tsetPosition(null);\r\n\t\t\tsetPremium(undefined);\r\n\t\t}, 300);\r\n\t}\r\n\t\r\n\tconst marketImg = position\r\n\t\t? require(`../../../../img/icon-${position.market}.svg`).default\r\n\t\t: \"\";\r\n\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\tclassName={\"BuyOptionModal PositionModal\"}\r\n\t\t\tvisible={visible}\r\n\t\t\tsetVisible={setVisible}\r\n\t\t\tresetModal={resetModal}\r\n\t\t>\r\n\t\t\t<h1 className=\"modal__title\">Buy Option</h1>\r\n\t\t\t{position &&\r\n\t\t\t\t<div className=\"modal__body\">\r\n\t\t\t\t\t<div className=\"Exchange-info-row\">\r\n\t\t\t\t\t\t<div className=\"Exchange-info-label\">\r\n\t\t\t\t\t\t\tMarket\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"align-right PositionModal__market-logo\">\r\n\t\t\t\t\t\t\t<img src={marketImg} alt={`${position.market} logo`} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"Exchange-info-row\">\r\n\t\t\t\t\t\t<div className=\"Exchange-info-label\">\r\n\t\t\t\t\t\t\tType\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"align-right\">\r\n\t\t\t\t\t\t\t{position.type}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"Exchange-info-row\">\r\n\t\t\t\t\t\t<div className=\"Exchange-info-label\">\r\n\t\t\t\t\t\t\tStrategy\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"align-right\">\r\n\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\tclassName={cx({ positive: position.isCall, negative: !position.isCall })}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{position.isCall ? CALL : PUT}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"Exchange-info-row\">\r\n\t\t\t\t\t\t<div className=\"Exchange-info-label\">\r\n\t\t\t\t\t\t\tStrike\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"align-right\">\r\n\t\t\t\t\t\t\t${formatAmount(position.strike, OPTIONS_DECIMALS, 2, true)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"Exchange-info-row\">\r\n\t\t\t\t\t\t<div className=\"Exchange-info-label\">\r\n\t\t\t\t\t\t\tExpires In\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"align-right\">\r\n\t\t\t\t\t\t\t{msToTimeLeft(position.expiry - Date.now())}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"Exchange-info-row\">\r\n\t\t\t\t\t\t<div className=\"Exchange-info-label\">\r\n\t\t\t\t\t\t\tExpiration Date\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"align-right\">\r\n\t\t\t\t\t\t\t{format(position.expiry, DATE_FORMAT_TEMPLATE)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<NumberInput_v3\r\n\t\t\t\t\t\ttitle='Amount'\r\n\t\t\t\t\t\tvalue={sizeValue}\r\n\t\t\t\t\t\tsetValue={setSizeValue}\r\n\t\t\t\t\t\tmaxValue={fromBigNumber(position.size)}\r\n\t\t\t\t\t\ticon={require(`../../../../img/icon-${position.token}.svg`).default}\r\n\t\t\t\t\t\ticonAlt={`${position.token} icon`}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div className=\"Exchange-info-row hlight\">\r\n\t\t\t\t\t\t<div className=\"Exchange-info-label\">\r\n\t\t\t\t\t\t\tPrice Per Option\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"align-right\">\r\n\t\t\t\t\t\t\t<Currency isSmall={true} style={{ color: \"white\" }}>\r\n\t\t\t\t\t\t\t\t{formatAmount(position.price, OPTIONS_DECIMALS, 2, true)}\r\n\t\t\t\t\t\t\t</Currency>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"Exchange-info-row hlight\">\r\n\t\t\t\t\t\t<div className=\"Exchange-info-label\">\r\n\t\t\t\t\t\t\tTotal Cost\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"align-right\">\r\n\t\t\t\t\t\t\t<Currency isSmall={true} style={{ color: \"white\" }}>\r\n\t\t\t\t\t\t\t\t{formatAmount(premium, OPTIONS_DECIMALS, 2, true)}\r\n\t\t\t\t\t\t\t</Currency>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"Exchange-info-row hlight\">\r\n\t\t\t\t\t\t<div className=\"Exchange-info-label\">\r\n\t\t\t\t\t\t\tBalance\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"align-right\">\r\n\t\t\t\t\t\t\t<Currency isSmall={true} style={{ color: \"white\" }}>\r\n\t\t\t\t\t\t\t\t{formatAmount(usdcBalance, OPTIONS_DECIMALS, 2, true)}\r\n\t\t\t\t\t\t\t</Currency>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>}\r\n\t\t\t\r\n\t\t\t<button \r\n\t\t\t\tclassName=\"modal__btn btn btn_hlight\"\r\n\t\t\t\tonClick={onPrimaryClick}\r\n\t\t\t\tdisabled={!isBtnEnabled()}\r\n\t\t\t>\r\n\t\t\t\t{getBtnText()}\r\n\t\t\t</button>\r\n\t\t</Modal>\r\n\t);\r\n};\r\n\r\nexport default BuyPositionModal;","import { useState } from \"react\";\r\nimport { BigNumber } from \"ethers\";\r\n\r\nexport default function useSort(items, filterArr, filterPropertyName) {\r\n\tconst [sortType, setSortType] = useState('');\r\n\tconst [sortedItems, setSortedItems] = useState([]);\r\n\tconst filterFn = (itemsArr) => {\r\n\t\tif (!filterArr) {\r\n\t\t\treturn itemsArr;\r\n\t\t}\r\n\t\treturn itemsArr.filter(item => {\r\n\t\t\tfor (let i = 0; i < filterArr.length; i++) {\r\n\t\t\t\tconst filterProperty = filterArr[i];\r\n\t\t\t\tif (filterProperty === item[filterPropertyName]) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tconst sortItems = (param, dir = 1, isInit = false) => {\r\n\t\tconst res = filterFn(items);\r\n\t\tlet isBigNumbers;\r\n\t\tif (items.length) {\r\n\t\t\tisBigNumbers = BigNumber.isBigNumber(items[0][param]);\r\n\t\t}\r\n\t\t\r\n\t\tconst sortFn = (arr) => {\r\n\t\t\tarr.sort((a, b) => {\r\n\t\t\t\tconst prevEl = a[param];\r\n\t\t\t\tconst el = b[param];\r\n\t\t\t\t\r\n\t\t\t\tif (prevEl === null) {\r\n\t\t\t\t\treturn dir;\r\n\t\t\t\t} else if (el === null) {\r\n\t\t\t\t\treturn -dir;\r\n\t\t\t\t} else if (prevEl && el) {\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tarr.sort((a, b) => {\r\n\t\t\t\tconst prevEl = a[param];\r\n\t\t\t\tconst el = b[param];\r\n\t\r\n\t\t\t\tif (!prevEl || !el) {\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (isBigNumbers ? prevEl.lt(el) : prevEl < el) {\r\n\t\t\t\t\treturn dir;\r\n\t\t\t\t}\telse if (isBigNumbers ? prevEl.eq(el) : prevEl === el) {\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn -dir;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t\t\r\n\t\tif (!isInit) {\r\n\t\t\tconst [prevParam, prevDir] = sortType.split('__');\r\n\t\t\tif (param === prevParam) {\r\n\t\t\t\tdir = -prevDir;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t}\r\n\t\tsortFn(res);\r\n\t\tsetSortedItems(res.slice());\r\n\t\tsetSortType(`${param}__${dir}`);\r\n\t}\r\n\r\n\treturn [sortItems, sortedItems, setSortedItems, sortType];\r\n}","import { useState, useEffect } from 'react';\r\nimport './OptionsList.scss';\r\nimport Loader from './../../../../components/UI/loader/Loader';\r\nimport OptionsItem from './OptionsItem';\r\nimport Tooltip from './../Tooltip/Tooltip';\r\nimport Chai_ABI from '../../../../deployments/options/Chai_ABI.json';\r\nimport { CHAI_CONTRACT_ETH, CHAI_CONTRACT_BTC } from '../../../../components/utils/contracts';\r\nimport useSWR from 'swr';\r\nimport { ethers } from 'ethers';\r\nimport icon_btnUp from '../../../../img/icon-btn-up.svg';\r\nimport Filter from './../../../../components/UI/Filter/Filter';\r\nimport { marketsOptions, OPTION_LIST_FRONTIER } from './../../../../components/utils/constants';\r\nimport { useLocalStorageSerializeKey, ARBITRUM } from './../../lib/legacyOptions';\r\nimport BuyPositionModal from './BuyPositionModal';\r\nimport useSort from '../../../../hooks/useSort';\r\n\r\nconst OptionsList = (props) => {\r\n\tconst {\r\n\t\tactive,\r\n\t\twalletAddress,\r\n\t\tlibrary,\r\n\t\toptions,\r\n\t\toptionPrices,\r\n\t\tisLoading,\r\n\t\tscrollRef,\r\n\t\tswapOption,\r\n\t\tinfoTokens,\r\n\t\tpendingPositions,\r\n\t\tsetPendingPositions,\r\n\t} = props;\r\n\r\n\tconst chaiAddress = options[0]?.token === 'ETH'\r\n    ? CHAI_CONTRACT_ETH : CHAI_CONTRACT_BTC;\r\n\r\n\tconst { data: markPrice } = useSWR(\r\n\t\tactive && [active, options[0]?.token, \"getMarkPrice\"],\r\n\t\t{\r\n\t\t\tfetcher: async () => {\r\n\t\t\t\tconst contract = new ethers.Contract(chaiAddress, Chai_ABI, library.getSigner());\r\n\t\t\t\treturn await contract.latestAnswer();\r\n\t\t\t},\r\n\t\t\trefreshInterval: 5000\r\n\t\t}\r\n\t)\r\n\r\n\tconst isCall = swapOption === 'Call';\r\n\r\n\tconst [markets, setMarkets] = useLocalStorageSerializeKey([ARBITRUM, \"Options-Markets\"], marketsOptions.slice());\r\n\tconst [sortOptions, sortedOptions, setSortedOptions, sortType] = useSort(options, markets, \"market\");\r\n\r\n\tuseEffect(() => {\r\n\t\tconst [param, dir] = sortType.split('__');\r\n\t\tsortOptions(param, dir, true);\r\n\t}, [markets]);\r\n\t\r\n\tuseEffect(() => {\r\n\t\tif (options.length) {\r\n\t\t\tsortOptions('strike', isCall ? -1 : 1, true);\r\n\t\t} else {\r\n\t\t\tsetSortedOptions([]);\r\n\t\t}\r\n\t}, [options.length]);\r\n\r\n\tconst [position, setPosition] = useState(null);\r\n\tconst [buyModalVisible, setBuyModalVisible] = useState(false);\r\n\tconst buyPosition = (position) => {\r\n    setPosition(position);\r\n    setBuyModalVisible(true);\r\n  }\r\n\r\n\tconst renderHead = () => {\r\n\t\treturn (\r\n\t\t\t<tr className=\"Exchange-list-header\">\r\n\t\t\t\t<th>\r\n\t\t\t\t\tMarket\r\n\t\t\t\t</th>\r\n\t\t\t\t<th>\r\n\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\tclassName=\"has-hint-tooltip nowrap\"\r\n\t\t\t\t\t\thandle=\"Type\"\r\n\t\t\t\t\t\tposition=\"left-bottom\"\r\n\t\t\t\t\t\tenabled={true}\r\n\t\t\t\t\t\trenderContent={() => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<div className=\"Tooltip__text\">\r\n\t\t\t\t\t\t\t\t\tAmerican-style options may <br />exercise at any time before <br />the option expires.<br />European-style options may <br />exercise only at expiration.\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</th>\r\n\t\t\t\t<th>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName='btn_table-sort'\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsortOptions('strike');\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tStrike\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</th>\r\n\t\t\t\t<th>\r\n\t\t\t\t\tExpires in\r\n\t\t\t\t</th>\r\n\t\t\t\t<th>\r\n\t\t\t\t\tDate\r\n\t\t\t\t</th>\r\n\t\t\t\t<th>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName='btn_table-sort'\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsortOptions('cost');\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tTotal Cost\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</th>\r\n\t\t\t\t<th>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName='btn_table-sort'\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsortOptions('price');\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tPrice per Option\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</th>\r\n\t\t\t\t<th></th>\r\n\t\t\t</tr>\r\n\t\t)\r\n\t}\r\n\r\n\tif (!options) {\r\n\t\treturn null;\r\n\t}\r\n\treturn (\r\n\t\t<div className=\"OptionsList block\" ref={scrollRef}>\r\n\t\t\t<div className=\"OptionsList__header\">\r\n\t\t\t\t<h1 className='OptionsList__title'>Available Options</h1>\r\n\t\t\t\t<Filter\r\n\t\t\t\t\titems={marketsOptions}\r\n\t\t\t\t\tselectedItems={markets}\r\n\t\t\t\t\tsetSelectedItems={setMarkets}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"table-wrapper table-wrapper_scrollable\">\r\n\t\t\t\t<table className=\"Exchange-list large App-box\">\r\n\t\t\t\t\t{renderHead()}\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t{(!sortedOptions.length || !markPrice) ?\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td colSpan={8}>\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tisLoading ?\r\n\t\t\t\t\t\t\t\t\t\t<Loader /> :\r\n\t\t\t\t\t\t\t\t\t\t\t(options.length \r\n\t\t\t\t\t\t\t\t\t\t\t\t? \"Please select markets from the list above\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t: \"Please choose the desired amount and period to view the available options\")\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t(isLoading\r\n\t\t\t\t\t\t\t\t? <tr>\r\n\t\t\t\t\t\t\t\t\t\t<td colSpan={8}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Loader />\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t: sortedOptions.map(opt => {\r\n\t\t\t\t\t\t\t\t\t\tconst optPriceObj = optionPrices[opt.strategy];\r\n\t\t\t\t\t\t\t\t\t\topt.price = optPriceObj?.price;\r\n\t\t\t\t\t\t\t\t\t\topt.cost = optPriceObj?.cost;\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\treturn(\r\n\t\t\t\t\t\t\t\t\t\t\t<OptionsItem\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey={opt.strategy}\r\n\t\t\t\t\t\t\t\t\t\t\t\toption={opt}\r\n\t\t\t\t\t\t\t\t\t\t\t\tmarkPrice={markPrice}\r\n\t\t\t\t\t\t\t\t\t\t\t\tbuyPosition={buyPosition}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t\t<button className=\"btn_up\"\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\twindow.scrollTo({\r\n\t\t\t\t\t\ttop: 0,\r\n\t\t\t\t\t\tleft: 0,\r\n\t\t\t\t\t\tbehavior: 'smooth'\r\n\t\t\t\t\t});\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<img src={icon_btnUp} alt=\"scroll up button\" />\r\n\t\t\t</button>\r\n\r\n\t\t\t<BuyPositionModal\r\n\t\t\t\tvisible={buyModalVisible}\r\n        setVisible={setBuyModalVisible}\r\n        position={position}\r\n        setPosition={setPosition}\r\n\t\t\t\twalletAddress={walletAddress}\r\n\t\t\t\tlibrary={library}\r\n\t\t\t\tinfoTokens={infoTokens}\r\n\t\t\t\tpendingPositions={pendingPositions}\r\n\t\t\t\tsetPendingPositions={setPendingPositions}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default OptionsList;","import React, { useEffect, useState, forwardRef, useRef } from \"react\";\r\nimport { useWeb3React } from \"@web3-react/core\";\r\nimport useSWR from \"swr\";\r\nimport { ethers, BigNumber } from \"ethers\";\r\nimport Lyra from '@lyrafinance/lyra-js';\r\n\r\nimport {\r\n  USD_DECIMALS,\r\n  formatAmount,\r\n  getTokenInfo,\r\n  useLocalStorageByChainId,\r\n  useChainId,\r\n  getPageTitle,\r\n  CALL,\r\n  expandDecimals,\r\n  PUT,\r\n} from \"../../lib/legacyOptions\";\r\nimport { useInfoTokens } from \"../../../gmx-test/domain/legacy\";\r\n\r\nimport { getContract } from \"../../config/Addresses\";\r\nimport { getTokens, getToken, getTokenBySymbol } from \"../../config/Tokens\";\r\n\r\nimport Reader from \"../../abis/ReaderV2.json\";\r\n\r\nimport SwapBox from \"../../components/Exchange/SwapBoxOptions\";\r\nimport ExchangeTVChart from \"../../components/Exchange/ExchangeTVChartOptions\";\r\nimport PositionsList from \"../../components/Exchange/PositionsListOptions\";\r\nimport Tab from \"../../components/Tab/TabOptions\";\r\n\r\nimport \"../../../gmx-test/pages/Exchange/Exchange.scss\";\r\nimport \"./ExchangeOptions.scss\";\r\nimport { fetcher } from \"../../lib/contracts/fetcher\";\r\nimport { ARBITRUM } from './../../lib/legacyOptions';\r\nimport OptionsList from './../../components/Exchange/OptionsList';\r\nimport { CHAI_CONTRACT_BTC, CHAI_CONTRACT_ETH,\r\n  DDL_TP_Hegic_ABI, \r\n  DDL_TP_Hegic_addr,\r\n  DDL_TP_Lyra_ETH_addr,\r\n  DDL_TP_Lyra_BTC_addr,\r\n  DDL_TP_Lyra_ABI,\r\n  HEGIC_SENTIMENT_LABELS, HEGOPS, HEGOPS_ABI, HegicStrategy_ABI, OperationalTreasury, OperationalTreasury_ABI, getTPContract, getTPApproveContract, VICTIM_USER_ADDRESS, Chai_ABI } from './../../../../components/utils/contracts';\r\nimport { errAlert } from \"../../../../components/utils/notifications\";\r\nimport { DDL_WALLET, OPTIONS_DECIMALS, tokenDecimals } from \"../../../../components/utils/constants\";\r\nimport { DDL_WALLET_ENCODED, OPTION_TYPES } from './../../../../components/utils/constants';\r\nimport { HEGIC_STRATEGIES } from \"./../../../../components/utils/contracts\";\r\nimport { getOptionProfitZone } from \"../../../../components/utils/utils\";\r\nimport { alchemyProvider } from './../../../../components/utils/providers';\r\n\r\n\r\nconst { AddressZero } = ethers.constants;\r\n\r\nexport const Exchange = (props) => {\r\n  const {\r\n    connectWallet,\r\n    walletAddress,\r\n  } = props;\r\n\r\n  const { account, active, library } = useWeb3React();\r\n  const { chainId } = useChainId();\r\n  const defaultTokenSelection = AddressZero;\r\n\r\n  const [tokenSelection, setTokenSelection] = useLocalStorageByChainId(\r\n    chainId,\r\n    \"Exchange-token-selection-options\",\r\n    defaultTokenSelection\r\n  );\r\n  \r\n  // Info Tokens + Balances\r\n  const tokens = getTokens(chainId);\r\n  const tokenAddresses = tokens.map((token) => token.address);\r\n  const readerAddress = getContract(chainId, \"Reader\");\r\n  const { data: tokenBalances } = useSWR(active && [active, chainId, readerAddress, \"getTokenBalances\", account], {\r\n    fetcher: fetcher(library, Reader, [tokenAddresses]),\r\n    refreshInterval: 10 * 1000\r\n  });\r\n  const { infoTokens } = useInfoTokens(library, chainId, active, tokenBalances);\r\n  \r\n  const selectedToken = getTokenInfo(infoTokens, tokenSelection);\r\n\r\n  const chaiAddress = selectedToken.symbol === 'ETH'\r\n    ? CHAI_CONTRACT_ETH : CHAI_CONTRACT_BTC;\r\n  const { data: chaiMarkPrice } = useSWR(\r\n    active && [active, tokenSelection, \"getMarkPrice_Options\", account],\r\n    {\r\n      fetcher: async () => {\r\n        const contract = new ethers.Contract(chaiAddress, Chai_ABI, library.getSigner());\r\n        return await contract.latestAnswer();\r\n      },\r\n      refreshInterval: 5000,\r\n    }\r\n  )\r\n\r\n  useEffect(() => {\r\n    const toToken = getTokenInfo(infoTokens, tokenSelection);\r\n    let currentTokenPriceStr = formatAmount(toToken.maxPrice, USD_DECIMALS, 2, true);\r\n    let title = getPageTitle(currentTokenPriceStr + ` | ${toToken.symbol}${toToken.isStable ? \"\" : \"USD\"}`);\r\n    document.title = title;\r\n  }, [tokenSelection, infoTokens, chainId]);\r\n\r\n  const renderChart = () => {\r\n    return (\r\n      <ExchangeTVChart\r\n        tokenSelection={tokenSelection}\r\n        setTokenSelection={setTokenSelection}\r\n        infoTokens={infoTokens}\r\n        chainId={chainId}\r\n        savedShouldShowPositionLines={false}\r\n      />\r\n    );\r\n  };\r\n  \r\n  const [leverageOption, setLeverageOption] = useLocalStorageByChainId(ARBITRUM, \"Period_Options\", 7);\r\n  const [amountValue, setAmountValue] = useState('');\r\n  const [swapOption, setSwapOption] = useLocalStorageByChainId(ARBITRUM, \"Swap-option_Options\", CALL);\r\n  const [assetOption, setAssetOption] = useLocalStorageByChainId(ARBITRUM, \"Asset-option\", \"ETH\");\r\n\r\n  const setMarket = (swap, token) => {\r\n    setSwapOption(swap);\r\n    setTokenSelection(getTokenBySymbol(ARBITRUM, token).address);\r\n  }\r\n\r\n  useEffect(() => {\r\n    setAssetOption(selectedToken.symbol);\r\n  }, [selectedToken.symbol]);\r\n\r\n  const [options, setOptions] = useState([]);\r\n  const [optionsLength, setOptionsLength] = useState(0);\r\n  const [optionsExpectedLength, setOptionsExpectedLength] = useState(0);\r\n  const [isOptionsLoading, setIsOptionsLoading] = useState(false);\r\n  const [optionPrices, setOptionPrices] = useState({});\r\n\r\n  const scrollRef = useRef(null);\r\n  const scrollToList = () => {\r\n    if (scrollRef?.current) {\r\n      scrollRef.current.scrollIntoView({\r\n        behavior: 'smooth'\r\n      });\r\n    }\r\n  }\r\n\r\n  // Fetching positions\r\n  const [positions, setPositions] = useState([]);\r\n  const [pendingPositions, setPendingPositions] = useState([]);\r\n  useEffect(() => {\r\n    setPositions([]);\r\n  }, [account]);\r\n  const fetchHegicPositions = async () => {\r\n    let strategiesAddresses = [];\r\n    const provider = alchemyProvider;\r\n    const signer = library.getSigner();\r\n    // chaiMarkPrice 1e18 / 1e8 -- ETH / BTC\r\n    const chaiContractETH = new ethers.Contract(CHAI_CONTRACT_ETH, Chai_ABI, signer);\r\n    const chaiContractBTC = new ethers.Contract(CHAI_CONTRACT_BTC, Chai_ABI, signer);\r\n    const chaiMarkPrices = {\r\n      ETH: await chaiContractETH.latestAnswer(),\r\n      BTC: await chaiContractBTC.latestAnswer()\r\n    };\r\n\r\n    Object.values(HEGIC_STRATEGIES).forEach(obj => {\r\n      strategiesAddresses = [...strategiesAddresses, ...Object.values(obj)];\r\n    })\r\n\r\n    const contract = new ethers.Contract(HEGOPS, HEGOPS_ABI, provider);\r\n    const transferFilter = {\r\n      address: contract.address,\r\n      topics: [\r\n        ethers.utils.id(\"Transfer(address,address,uint256)\"),\r\n        null,\r\n        ethers.utils.hexZeroPad(walletAddress, 32),\r\n      ]\r\n    };\r\n    const events = await contract.queryFilter(transferFilter);\r\n    if (!events.length) {\r\n      return;\r\n    }\r\n    const tokenIds = events.map(e => {\r\n      return e.args.tokenId;\r\n    })\r\n    \r\n    const buyFilterTopics = [\r\n      ethers.utils.id(\"Acquired(uint256,(uint128,uint128),uint256,uint256,uint256,bytes[])\"),\r\n      tokenIds.map(id => {\r\n        return ethers.utils.hexZeroPad(id, 32);\r\n      }),\r\n    ]\r\n\r\n    const eventsPack = [];\r\n    let eventsPackLimit = 13;\r\n    const lastPackLength = strategiesAddresses.length % eventsPackLimit;\r\n    for (let i = 0; i < strategiesAddresses.length; i++) {\r\n      const address = strategiesAddresses[i];\r\n      const contract = new ethers.Contract(address, HegicStrategy_ABI, provider);\r\n\r\n      const buyFilter = {\r\n        address,\r\n        topics: buyFilterTopics,\r\n      }\r\n      const events = contract.queryFilter(buyFilter)\r\n        .then(eArr => {\r\n          eArr.forEach(e => {\r\n            formatPosition(e);\r\n          });\r\n        })\r\n      eventsPack.push(events);\r\n\r\n      if (i + 1 > (strategiesAddresses.length - lastPackLength)) {\r\n        eventsPackLimit = lastPackLength;\r\n      }\r\n      if (eventsPack.length >= eventsPackLimit) {\r\n        await Promise.all(eventsPack)\r\n          .then(() => {\r\n            // setPositions([...positions]);\r\n          });\r\n        eventsPack.splice(0, eventsPack.length);\r\n      }\r\n    }\r\n    async function formatPosition(e) {\r\n      const data = e.decode(e.data, e.topics);\r\n      const OpTreasury = new ethers.Contract(OperationalTreasury, OperationalTreasury_ABI, provider);\r\n      const additionalData = (await OpTreasury.lockedLiquidity(data.id));\r\n      const isActive = additionalData.state;\r\n      if (!isActive) {\r\n        return;\r\n      }\r\n\r\n      const periodDays = data.period.toString() / 60**2 / 24;\r\n      let strategies;\r\n      if (periodDays < 14) {\r\n        strategies = HEGIC_STRATEGIES.short;\r\n      } else if (periodDays < 30) {\r\n        strategies = HEGIC_STRATEGIES.medShort;\r\n      } else if (periodDays < 60) {\r\n        strategies = HEGIC_STRATEGIES.medLong;\r\n      } else if (periodDays <= 90) {\r\n        strategies = HEGIC_STRATEGIES.long;\r\n      } else {\r\n        return;\r\n      }\r\n\r\n      const strategy = Object.keys(strategies).find(key => strategies[key] === e.address);\r\n      const [, sentiment, strikeScale, token] = strategy.split('_');\r\n      const isCall = sentiment.split('-')[0] === 'CALL';\r\n      const isSpread = sentiment.split('-').length > 1;\r\n      // size 1e18 / 1e8 -- ETH / BTC\r\n      const size = expandDecimals(data.data.amount, OPTIONS_DECIMALS - tokenDecimals[token]);\r\n      // chaiMarkPrice 1e18 / 1e8 -- ETH / BTC\r\n      const chaiMarkPrice = expandDecimals(chaiMarkPrices[token], OPTIONS_DECIMALS - tokenDecimals[token]);\r\n      // strike 1e8\r\n      const buyingPrice = expandDecimals(data.data.strike, OPTIONS_DECIMALS - 8);\r\n      const comparisonMethod = isCall ? \"gt\" : \"lt\";\r\n      const isITM = buyingPrice[comparisonMethod](chaiMarkPrice);\r\n      let strikePrice = isITM ? buyingPrice : buyingPrice.div(100).mul(strikeScale);\r\n      if (isSpread) {\r\n        strikePrice = buyingPrice;\r\n      }\r\n      // premium 1e6\r\n      const premium = expandDecimals(data.positivepnl, OPTIONS_DECIMALS - 6);\r\n      const stratContract = new ethers.Contract(additionalData.strategy, HegicStrategy_ABI, provider);\r\n      // profit 1e6\r\n      const profit = expandDecimals(await stratContract.payOffAmount(data.id), OPTIONS_DECIMALS - 6);\r\n      const pnl = {\r\n        unrealizedPnl: profit.sub(premium),\r\n        unrealizedPnlPercentage: expandDecimals(expandDecimals(profit.sub(premium), 4).div(premium), OPTIONS_DECIMALS - 4)\r\n      };\r\n      // Profit Zone\r\n      const { profitZone, profitZoneStr } = getOptionProfitZone(isCall, strikePrice, premium, size);\r\n      // SL/TP\r\n      const DDL_TakeProfit = getTPContract(\"Hegic\", token, signer);\r\n      const tpInfo = await DDL_TakeProfit.tokenIdToTokenInfo(data.id);\r\n      let tp, sl;\r\n      if (!tpInfo.takeProfitPrice.eq(0)) {\r\n        // price 1e8\r\n        const price = expandDecimals(tpInfo.takeProfitPrice, OPTIONS_DECIMALS - 8);\r\n        if (tpInfo.takeType === 0) {\r\n          if (isCall) {\r\n            tp = price;\r\n          } else {\r\n            sl = price;\r\n          }\r\n        } else {\r\n          if (isCall) {\r\n            sl = price;\r\n          } else {\r\n            tp = price;\r\n          }\r\n        }\r\n      }\r\n\r\n      const expiry = additionalData.expiration * 1000;\r\n      const approveContract = getTPApproveContract(\"Hegic\", token, signer);\r\n\r\n      // Two children with the same key fix\r\n      const uniqStrategy = strategy + \"_\" + premium.toString();\r\n      const fetchedPosition = {\r\n        strategy: uniqStrategy,\r\n        market: \"Hegic\",\r\n        type: OPTION_TYPES.Hegic,\r\n        id: data.id,\r\n        isCall,\r\n        sentiment: HEGIC_SENTIMENT_LABELS[sentiment],\r\n        token,\r\n        size,\r\n        strikePrice,\r\n        premium,\r\n        expiry,\r\n        pnl,\r\n        profitZone,\r\n        profitZoneStr,\r\n        isClosingDisabled: profit.eq(0),\r\n        tp,\r\n        sl,\r\n        close: () => {\r\n          return OpTreasury.connect(signer).payOff(data.id, walletAddress);\r\n        },\r\n        checkIsTpApproved: () => {\r\n          return approveContract.isApprovedOrOwner(DDL_TakeProfit.address, data.id);\r\n        },\r\n        approveTp: () => {\r\n          return approveContract.approve(DDL_TakeProfit.address, data.id);\r\n        }\r\n      }\r\n      const index = positions.findIndex(el => el.strategy === uniqStrategy);\r\n      if (index === -1) {\r\n        positions.push(fetchedPosition);\r\n        // Remove buying positions\r\n        setPendingPositions(pendingPositions.filter(pos => typeof pos !== 'object'));\r\n      } else {\r\n        positions[index] = fetchedPosition;\r\n      }\r\n    }\r\n  }\r\n  const fetchLyraPositions = async () => {\r\n    const lyra = new Lyra(ARBITRUM);\r\n    const posArr = await lyra.positions(account);\r\n    const SLIPPAGE = 0.015;\r\n\r\n    posArr.forEach(async pos => {\r\n      const { id, strikeId, strikePrice, isCall, isBuy, pricePerOption, size, expiryTimestamp  } = pos;\r\n      if (size.eq(0) || expiryTimestamp * 1000 < Date.now()) {\r\n        return;\r\n      }\r\n\r\n      let token = pos.marketName.split('-')[0];\r\n      if (token.startsWith('W')) {\r\n        token = token.substring(1, token.length);\r\n      }\r\n\r\n      // SL/TP\r\n      let tp, sl;\r\n      const DDL_TakeProfit = getTPContract(\"Lyra\", token, library.getSigner());\r\n      const tpInfo = await DDL_TakeProfit.tokenIdToTokenInfo(id);\r\n      if (!tpInfo.stopOrderPrice.eq(0)) {\r\n        // price 1e8\r\n        const price = expandDecimals(tpInfo.stopOrderPrice, OPTIONS_DECIMALS - 8);\r\n        if (tpInfo.stopOrderType === 0) {\r\n          if (isCall) {\r\n            tp = price;\r\n          } else {\r\n            sl = price;\r\n          }\r\n        } else {\r\n          if (isCall) {\r\n            sl = price;\r\n          } else {\r\n            tp = price;\r\n          }\r\n        }\r\n      }\r\n\r\n      const expiry = expiryTimestamp * 1000;\r\n      \r\n      const trades = pos.trades();\r\n      const premium = trades.reduce((premium, trade) => {\r\n        const method = trade.isBuy ? \"add\" : \"sub\";\r\n        return premium[method](trade.premium);\r\n      }, BigNumber.from(0));\r\n      // Hide selled options\r\n      if (premium.lt(0)) {\r\n        return;\r\n      }\r\n      \r\n      const strategy = `Lyra_${isCall ? \"CALL\" : \"PUT\"}_${strikeId.toString()}_${token}_${premium.toString()}`;\r\n      const pnl = pos.pnl();\r\n      const { profitZone, profitZoneStr } = getOptionProfitZone(isCall, strikePrice, premium, size);\r\n\r\n      // IncorrectOwner error fix\r\n      pos.owner = account;\r\n\r\n      const approveContract = getTPApproveContract(\"Lyra\", token, library.getSigner());\r\n      const fetchedPosition = {\r\n        strategy,\r\n        market: \"Lyra\",\r\n        type: OPTION_TYPES.Lyra,\r\n        isCall,\r\n        id,\r\n        sentiment: isCall ? CALL : PUT,\r\n        isBuy,\r\n        token,\r\n        size,\r\n        strikePrice,\r\n        pricePerOption,\r\n        premium,\r\n        expiry,\r\n        pnl,\r\n        profitZone,\r\n        profitZoneStr,\r\n        tp,\r\n        sl,\r\n        getTrade: async () => {\r\n          return await pos.trade(isBuy, size, SLIPPAGE);\r\n        },\r\n        close: async (size) => {\r\n          const signer = library.getSigner();\r\n          const trade = await pos.close(size, SLIPPAGE);\r\n          // add referrer\r\n          trade.tx.data = trade.tx.data.substring(0, trade.tx.data.length - DDL_WALLET_ENCODED.length);\r\n          trade.tx.data+= DDL_WALLET_ENCODED;\r\n          // visually\r\n          trade.params[0].referrer = DDL_WALLET;\r\n\r\n          if (trade.isDisabled) {\r\n            errAlert(new Error(trade.disabledReason));\r\n          }\r\n          \r\n          return signer.sendTransaction(trade.tx);\r\n        },\r\n        checkIsTpApproved: () => {\r\n          return approveContract.ownerOf(id)\r\n            .then(res => {\r\n              return res.toLowerCase() === DDL_TakeProfit.address.toLowerCase();\r\n            });\r\n        },\r\n        approveTp: () => {\r\n          return approveContract.approve(DDL_TakeProfit.address, id);\r\n        }\r\n      };\r\n      const index = positions.findIndex(el => el.strategy === strategy);\r\n      if (index === -1) {\r\n        positions.push(fetchedPosition);\r\n        // Remove buying positions\r\n        setPendingPositions(pendingPositions.filter(pos => typeof pos !== 'object'));\r\n      } else {\r\n        positions[index] = fetchedPosition;\r\n      }\r\n      \r\n      return positions;\r\n    });\r\n  }\r\n  const { data: positionsData, error: positionsDataError } = useSWR(\r\n    active && [active, account, library, chainId, \"getPositions_Options\", pendingPositions],\r\n    {\r\n      fetcher: async () => {\r\n        // Remove closing positions\r\n        if (pendingPositions.length) {\r\n          pendingPositions.forEach((strat, i) => {\r\n            if (typeof strat !== 'string') {\r\n              return;\r\n            }\r\n            const pendingIndex = positions.findIndex(pos => pos.strategy === strat);\r\n            if (pendingIndex > -1) {\r\n              positions.splice(pendingIndex, 1);\r\n              setPositions([...positions]);\r\n  \r\n              if (i + 1 === pendingPositions.length) {\r\n                setPendingPositions(pendingPositions.filter(pos => typeof pos !== 'string'));\r\n              }\r\n            }\r\n          })\r\n        }\r\n        // End remove closing positions\r\n        await Promise.all([\r\n          fetchHegicPositions(),\r\n          fetchLyraPositions(),\r\n        ]);\r\n        return true;\r\n      },\r\n    }\r\n  );\r\n  if (positionsDataError) {\r\n    console.log(\"Fetching Positions error!\", positionsDataError);\r\n  }\r\n  // End Fetching positions\r\n\r\n  // Fetching Commission data, no changes expected\r\n  const { data: SLTPCommission, error: SLTPCommissionError } = useSWR(\r\n    active && library && [active, library, \"getSLTPCommission_Options\", account],\r\n    {\r\n      fetcher: async () => {\r\n        const DDL_TakeProfit = getTPContract(\"Hegic\", \"\", library.getSigner());\r\n        const commission = await DDL_TakeProfit.commissionSize();\r\n        return commission;\r\n      },\r\n      refreshInterval: 300 * 1000,\r\n    }\r\n  )\r\n  if (SLTPCommissionError) {\r\n    console.log(\"DDL_TakeProfit commission error!\", SLTPCommissionError);\r\n  }\r\n  // End Commission data\r\n\r\n  // Sections Labels\r\n  const LIST_SECTIONS = [\"Positions\"];\r\n  let [listSection, setListSection] = useLocalStorageByChainId(chainId, \"List-section-v2\", LIST_SECTIONS[0]);\r\n  const LIST_SECTIONS_LABELS = {\r\n    Positions: \"Active\",\r\n  };\r\n  if (!LIST_SECTIONS.includes(listSection)) {\r\n    listSection = LIST_SECTIONS[0];\r\n  }\r\n  const positionsDataIsLoading = active && !positionsData && !positionsDataError;\r\n  // End Sections Labels\r\n  \r\n  const getListSection = () => {\r\n    return (\r\n      <>\r\n        <div className=\"Exchange-list-tab-container\">\r\n          <Tab\r\n            options={LIST_SECTIONS}\r\n            optionLabels={LIST_SECTIONS_LABELS}\r\n            option={listSection}\r\n            onChange={(section) => setListSection(section)}\r\n            type=\"inline\"\r\n            className=\"Exchange-list-tabs\"\r\n          />\r\n          <div className=\"Exchange-list-tip\">\r\n            *The table displays estimated PnL values. To view the actual PnL, click on the «Close» button\r\n          </div>\r\n        </div>\r\n        {listSection === \"Positions\" && (\r\n          <PositionsList\r\n            infoTokens={infoTokens}\r\n            active={active}\r\n            account={account}\r\n            library={library}\r\n            setMarket={setMarket}\r\n            positions={positions}\r\n            positionsLoading={positionsDataIsLoading}\r\n            positionsError={positionsDataError}\r\n            pendingPositions={pendingPositions}\r\n            setPendingPositions={setPendingPositions}\r\n            SLTPCommission={SLTPCommission}\r\n          />\r\n        )}\r\n      </>\r\n    );\r\n  };\r\n\r\n  if (!getToken(chainId, tokenSelection)) {\r\n    return null;\r\n  }\r\n  return (\r\n    <div className=\"Exchange page-layout\">\r\n      <div className=\"Exchange-content\">\r\n        <div className=\"Exchange-left\">\r\n          {renderChart()}\r\n        </div>\r\n        <div className=\"Exchange-right\">\r\n          <SwapBox\r\n            chainId={chainId}\r\n            infoTokens={infoTokens}\r\n            active={active}\r\n            connectWallet={connectWallet}\r\n            walletAddress={walletAddress}\r\n            library={library}\r\n            account={account}\r\n            selectedToken={selectedToken}\r\n            tokenSelection={tokenSelection}\r\n            setTokenSelection={setTokenSelection}\r\n            leverageOption={leverageOption}\r\n            setLeverageOption={setLeverageOption}\r\n            amountValue={amountValue}\r\n            setAmountValue={setAmountValue}\r\n            swapOption={swapOption}\r\n            setSwapOption={setSwapOption}\r\n            assetOption={assetOption}\r\n            setAssetOption={setAssetOption}\r\n            options={options}\r\n            setOptions={setOptions}\r\n            setOptionsLength={setOptionsLength}\r\n            setOptionsExpectedLength={setOptionsExpectedLength}\r\n            isOptionsLoading={isOptionsLoading}\r\n            setIsOptionsLoading={setIsOptionsLoading}\r\n            optionPrices={optionPrices}\r\n            setOptionPrices={setOptionPrices}\r\n            scrollToList={scrollToList}\r\n            chaiMarkPrice={chaiMarkPrice}\r\n          />\r\n        </div>\r\n        <div className=\"Exchange-lists-container\">\r\n          <h1 className=\"Exchange-lists__title\">\r\n            My positions\r\n          </h1>\r\n          <div className=\"Exchange-lists large\">{getListSection()}</div>\r\n          <div className=\"Exchange-lists small\">{getListSection()}</div>\r\n        </div>\r\n        <OptionsList\r\n          active={active}\r\n          library={library}\r\n          options={options}\r\n          setOptions={setOptions}\r\n          optionsExpectedLength={optionsExpectedLength}\r\n          optionPrices={optionPrices}\r\n          isLoading={isOptionsLoading}\r\n          scrollRef={scrollRef}\r\n          swapOption={swapOption}\r\n          walletAddress={walletAddress}\r\n          infoTokens={infoTokens}\r\n          positions={positions}\r\n          pendingPositions={pendingPositions}\r\n          setPendingPositions={setPendingPositions}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import { useEffect, useRef } from \"react\";\r\nimport { Exchange } from \"../pages/Exchange/ExchangeOptions\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nimport \"../styles/Font.css\";\r\nimport \"./App.scss\";\r\nimport \"../styles/Input.scss\";\r\nimport _AccountManager from \"../../../deployments/arbitrum_ddl/accountManager.json\";\r\n\r\nfunction FullApp({ walletAddress, connectWallet }) {\r\n  const exchangeRef = useRef();\r\n\r\n  return (\r\n    <>\r\n      <div className=\"App GMX-Interface Options-Interface\">\r\n        <div className=\"App-content\">\r\n          <Exchange\r\n            ref={exchangeRef}\r\n            connectWallet={connectWallet}\r\n            walletAddress={walletAddress}\r\n          />\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nfunction Options(props) {\r\n  return (\r\n    <FullApp {...props} />\r\n  );\r\n}\r\n\r\nexport default Options;\r\n","import React from 'react';\r\nimport { Outlet } from 'react-router-dom';\r\nimport Tabs from '../../components/Tabs';\r\nimport { useLocation } from 'react-router-dom';\r\nimport './Terminal.scss';\r\n\r\nconst Terminal = (props) => {\r\n\tconst {\r\n\t\t\r\n\t} = props;\r\n\r\n\tconst loc = useLocation();\r\n\tconst links = [\r\n\t\t{\r\n\t\t\tname: \"Perpetuals\",\r\n\t\t\tto: '/terminal/perpetuals'\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"Options\",\r\n\t\t\tto: '/terminal/options',\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"Position Builder\",\r\n\t\t\tto: \"/terminal/builder\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"User Profile\",\r\n\t\t\tto: \"/terminal/profile\"\r\n\t\t},\r\n\t\t/* {\r\n\t\t\tname: \"Market Overview\",\r\n\t\t\tto: \"/terminal/market-overview\"\r\n\t\t} */\r\n\t]\r\n\tconst activeLink = links.find(link => {\r\n\t\treturn loc.pathname.endsWith(link.to);\r\n\t})\r\n\tif (activeLink) {\r\n\t\tactiveLink.isActive = true;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"Terminal GMX-Interface\">\r\n\t\t\t<Tabs\r\n\t\t\t\tlinks={links}\r\n\t\t\t\tpathname={loc.pathname}\r\n\t\t\t/>\r\n\t\t\t<Outlet />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Terminal;","export const FLIPSIDE_API_KEY = \"db8c633c-6540-4977-96dd-b7a8e45dca7d\";\r\nexport const COMPASS_API_KEY = \"0c7bf770-3f96-4744-9cb0-74abc5a4e8d6\";\r\nexport const DUNE_API_KEY = \"5U1EnGgVF4BW4RneLXS3u2BNiPeohtZj\";\r\n\r\nexport const getSqlQueries = (account) => {\r\n\treturn {\r\n\t\tHegic: `WITH combined_transfers AS (\r\n\t\t\t-- Outflow\r\n\t\t\tSELECT\r\n\t\t\t\tBLOCK_TIMESTAMP,\r\n\t\t\t\tTX_HASH,\r\n\t\t\t\tFROM_ADDRESS AS address,\r\n\t\t\t\t-AMOUNT AS amount,\r\n\t\t\t\t-AMOUNT_USD AS amount_usd,\r\n\t\t\t\tSYMBOL\r\n\t\t\tFROM\r\n\t\t\t\tarbitrum.core.ez_token_transfers\r\n\t\t\tWHERE\r\n\t\t\t\tcontract_address = LOWER('0xFF970A61A04b1cA14834A43f5dE4533eBDDB5CC8')\r\n\t\t\t\tAND to_address = LOWER('0xec096ea6eB9aa5ea689b0CF00882366E92377371')\r\n\t\t\t\tAND from_address = LOWER('${account}')\r\n\t\t\t\r\n\t\t\tUNION ALL\r\n\t\t\t\r\n\t\t\t-- Inflow \r\n\t\t\tSELECT\r\n\t\t\t\tBLOCK_TIMESTAMP,\r\n\t\t\t\tTX_HASH,\r\n\t\t\t\tTO_ADDRESS AS address,\r\n\t\t\t\tAMOUNT AS amount,\r\n\t\t\t\tAMOUNT_USD AS amount_usd,\r\n\t\t\t\tSYMBOL\r\n\t\t\tFROM\r\n\t\t\t\tarbitrum.core.ez_token_transfers\r\n\t\t\tWHERE\r\n\t\t\t\tcontract_address = LOWER('0xFF970A61A04b1cA14834A43f5dE4533eBDDB5CC8')\r\n\t\t\t\tAND from_address = LOWER('0xec096ea6eB9aa5ea689b0CF00882366E92377371')\r\n\t\t\t\tAND to_address = LOWER('${account}')\r\n\t\t)\r\n\t\t\r\n\t\tSELECT\r\n\t\t\tBLOCK_TIMESTAMP,\r\n\t\t\tTX_HASH,\r\n\t\t\taddress,\r\n\t\t\tamount,\r\n\t\t\tamount_usd,\r\n\t\t\tSYMBOL,\r\n\t\t\tSUM(amount_usd) OVER (\r\n\t\t\t\tPARTITION BY address\r\n\t\t\t\tORDER BY BLOCK_TIMESTAMP, TX_HASH\r\n\t\t\t) AS cumulative_amount_usd\r\n\t\tFROM\r\n\t\t\tcombined_transfers\r\n\t\tORDER BY\r\n\t\t\tBLOCK_TIMESTAMP,\r\n\t\t\tTX_HASH;\r\n\t\t`,\r\n\t\tLyra: `WITH combined_transfers AS (\r\n\t\t\t-- Outflow\r\n\t\t\tSELECT\r\n\t\t\t\tBLOCK_TIMESTAMP,\r\n\t\t\t\tTX_HASH,\r\n\t\t\t\tFROM_ADDRESS AS address,\r\n\t\t\t\t-AMOUNT AS amount,\r\n\t\t\t\t-AMOUNT_USD AS amount_usd,\r\n\t\t\t\tSYMBOL\r\n\t\t\tFROM\r\n\t\t\t\tarbitrum.core.ez_token_transfers\r\n\t\t\tWHERE\r\n\t\t\t\t(\r\n\t\t\t\t\tcontract_address IN (\r\n\t\t\t\t\t\tLOWER('0xFF970A61A04b1cA14834A43f5dE4533eBDDB5CC8'),\r\n\t\t\t\t\t\tLOWER('0x82af49447d8a07e3bd95bd0d56f35241523fbab1'),\r\n\t\t\t\t\t\tLOWER('0x5A4842c0c1F81EbbAE7bB3eC07EDf7Ae55aac631')\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t\t\tAND (\r\n\t\t\t\t\tto_address IN (\r\n\t\t\t\t\t\tLOWER('0xEC6F3ef9481e7B8484290edBaE2CEDcdb0Ce790e'),\r\n\t\t\t\t\t\tLOWER('0xB619913921356904Bf62abA7271E694FD95AA10D'),\r\n\t\t\t\t\t\tLOWER('0xef4a92FCde48c84EF2B5c4A141A4CD1988FC73a9')\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t\t\tAND from_address = LOWER('${account}')\r\n\t\t\r\n\t\t\tUNION ALL\r\n\t\t\r\n\t\t\t-- Inflow\r\n\t\t\tSELECT\r\n\t\t\t\tBLOCK_TIMESTAMP,\r\n\t\t\t\tTX_HASH,\r\n\t\t\t\tTO_ADDRESS AS address,\r\n\t\t\t\tAMOUNT AS amount,\r\n\t\t\t\tAMOUNT_USD AS amount_usd,\r\n\t\t\t\tSYMBOL\r\n\t\t\tFROM\r\n\t\t\t\tarbitrum.core.ez_token_transfers\r\n\t\t\tWHERE\r\n\t\t\t\t(\r\n\t\t\t\t\tcontract_address IN (\r\n\t\t\t\t\t\tLOWER('0xFF970A61A04b1cA14834A43f5dE4533eBDDB5CC8'),\r\n\t\t\t\t\t\tLOWER('0x82af49447d8a07e3bd95bd0d56f35241523fbab1'),\r\n\t\t\t\t\t\tLOWER('0x5A4842c0c1F81EbbAE7bB3eC07EDf7Ae55aac631')\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t\t\tAND (\r\n\t\t\t\t\tfrom_address IN (\r\n\t\t\t\t\t\tLOWER('0xEC6F3ef9481e7B8484290edBaE2CEDcdb0Ce790e'),\r\n\t\t\t\t\t\tLOWER('0xef4a92FCde48c84EF2B5c4A141A4CD1988FC73a9'),\r\n\t\t\t\t\t\tLOWER('0x5A4842c0c1F81EbbAE7bB3eC07EDf7Ae55aac631')\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t\t\tAND to_address = LOWER('${account}')\r\n\t\t)\r\n\t\t\r\n\t\tSELECT\r\n\t\t\tBLOCK_TIMESTAMP,\r\n\t\t\tTX_HASH,\r\n\t\t\taddress,\r\n\t\t\tamount,\r\n\t\t\tamount_usd,\r\n\t\t\tSYMBOL,\r\n\t\t\tSUM(amount_usd) OVER (PARTITION BY address ORDER BY BLOCK_TIMESTAMP, TX_HASH) AS cumulative_amount_usd\r\n\t\tFROM\r\n\t\t\tcombined_transfers\r\n\t\tORDER BY\r\n\t\t\tBLOCK_TIMESTAMP, TX_HASH;\r\n\t\t`,\r\n\t\tGMX: `WITH\r\n\t\tfiltered_eth_transfers AS (\r\n\t\t\tSELECT\r\n\t\t\t\t*\r\n\t\t\tFROM\r\n\t\t\t\tarbitrum.core.ez_eth_transfers\r\n\t\t\tWHERE\r\n\t\t\t\t(\r\n\t\t\t\t\tETH_FROM_ADDRESS = LOWER('${account}')\r\n\t\t\t\t\tAND ETH_TO_ADDRESS IN (\r\n\t\t\t\t\t\tLOWER('0xb87a436b93ffe9d75c5cfa7bacfff96430b09868'),\r\n\t\t\t\t\t\tLOWER('0x09f77e8a13de9a35a7231028187e9fd5db8a2acb')\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t\t\tOR (\r\n\t\t\t\t\tETH_TO_ADDRESS = LOWER('${account}')\r\n\t\t\t\t\tAND ETH_FROM_ADDRESS IN (\r\n\t\t\t\t\t\tLOWER('0xb87a436B93fFE9D75c5cFA7bAcFff96430b09868'),\r\n\t\t\t\t\t\tLOWER('0x09f77e8a13de9a35a7231028187e9fd5db8a2acb')\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t),\r\n\t\tfiltered_token_transfers AS (\r\n\t\t\tSELECT\r\n\t\t\t\t*\r\n\t\t\tFROM\r\n\t\t\t\tarbitrum.core.ez_token_transfers\r\n\t\t\tWHERE\r\n\t\t\t\tcontract_address IN (\r\n\t\t\t\t\tLOWER('0xFF970A61A04b1cA14834A43f5dE4533eBDDB5CC8'), --USDC\r\n\t\t\t\t\tLOWER('0xFd086bC7CD5C481DCC9C85ebE478A1C0b69FCbb9'), --USDT\r\n\t\t\t\t\tLOWER('0xDA10009cBd5D07dd0CeCc66161FC93D7c9000da1'), --DAI\r\n\t\t\t\t\tLOWER('0xFa7F8980b0f1E64A2062791cc3b0871572f1F7f0'), --UNI\r\n\t\t\t\t\tLOWER('0xf97f4df75117a78c1A5a0DBb814Af92458539FB4'), --LINK\r\n\t\t\t\t\tLOWER('0x2f2a2543B76A4166549F7aaB2e75Bef0aefC5B0f'), --WBTC\r\n\t\t\t\t\tLOWER('0x82aF49447D8a07e3bd95BD0d56f35241523fBab1'), --WETH\r\n\t\t\t\t\tLOWER('0x17FC002b466eEc40DaE837Fc4bE5c67993ddBd6F') --FRAX\r\n\t\t\t\t)\r\n\t\t\t\tAND (\r\n\t\t\t\t\t(\r\n\t\t\t\t\t\tfrom_address = LOWER('${account}')\r\n\t\t\t\t\t\tAND to_address IN (\r\n\t\t\t\t\t\t\tLOWER('0xb87a436b93ffe9d75c5cfa7bacfff96430b09868'),\r\n\t\t\t\t\t\t\tLOWER('0x09f77e8a13de9a35a7231028187e9fd5db8a2acb')\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t)\r\n\t\t\t\t\tOR (\r\n\t\t\t\t\t\tto_address = LOWER('${account}')\r\n\t\t\t\t\t\tAND from_address IN (\r\n\t\t\t\t\t\t\tLOWER('0xb87a436B93fFE9D75c5cFA7bAcFff96430b09868'),\r\n\t\t\t\t\t\t\tLOWER('0x09f77e8a13de9a35a7231028187e9fd5db8a2acb')\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t),\r\n\t\teth_transfers AS (\r\n\t\t\tSELECT\r\n\t\t\t\tBLOCK_TIMESTAMP,\r\n\t\t\t\tTX_HASH,\r\n\t\t\t\tETH_FROM_ADDRESS AS address,\r\n\t\t\t\t- AMOUNT AS amount,\r\n\t\t\t\t- AMOUNT_USD AS amount_usd,\r\n\t\t\t\t'ETH' AS SYMBOL\r\n\t\t\tFROM\r\n\t\t\t\tfiltered_eth_transfers\r\n\t\t\tWHERE\r\n\t\t\t\tETH_FROM_ADDRESS = LOWER('${account}')\r\n\t\t\tUNION ALL\r\n\t\t\tSELECT\r\n\t\t\t\tBLOCK_TIMESTAMP,\r\n\t\t\t\tTX_HASH,\r\n\t\t\t\tETH_TO_ADDRESS AS address,\r\n\t\t\t\tAMOUNT AS amount,\r\n\t\t\t\tAMOUNT_USD AS amount_usd,\r\n\t\t\t\t'ETH' AS SYMBOL\r\n\t\t\tFROM\r\n\t\t\t\tfiltered_eth_transfers\r\n\t\t\tWHERE\r\n\t\t\t\tETH_TO_ADDRESS = LOWER('${account}')\r\n\t\t),\r\n\t\ttoken_transfers AS (\r\n\t\t\tSELECT\r\n\t\t\t\tBLOCK_TIMESTAMP,\r\n\t\t\t\tTX_HASH,\r\n\t\t\t\tFROM_ADDRESS AS address,\r\n\t\t\t\t- AMOUNT AS amount,\r\n\t\t\t\t- AMOUNT_USD AS amount_usd,\r\n\t\t\t\tSYMBOL\r\n\t\t\tFROM\r\n\t\t\t\tfiltered_token_transfers\r\n\t\t\tWHERE\r\n\t\t\t\tfrom_address = LOWER('${account}')\r\n\t\t\tUNION ALL\r\n\t\t\tSELECT\r\n\t\t\t\tBLOCK_TIMESTAMP,\r\n\t\t\t\tTX_HASH,\r\n\t\t\t\tTO_ADDRESS AS address,\r\n\t\t\t\tAMOUNT AS amount,\r\n\t\t\t\tAMOUNT_USD AS amount_usd,\r\n\t\t\t\tSYMBOL\r\n\t\t\tFROM\r\n\t\t\t\tfiltered_token_transfers\r\n\t\t\tWHERE\r\n\t\t\t\tto_address = LOWER('${account}')\r\n\t\t)\r\n\tSELECT\r\n\t\tBLOCK_TIMESTAMP,\r\n\t\tTX_HASH,\r\n\t\taddress,\r\n\t\tamount,\r\n\t\tamount_usd,\r\n\t\tSYMBOL,\r\n\t\tSUM(amount_usd) OVER (\r\n\t\t\tPARTITION BY\r\n\t\t\t\taddress\r\n\t\t\tORDER BY\r\n\t\t\t\tBLOCK_TIMESTAMP,\r\n\t\t\t\tTX_HASH\r\n\t\t) AS cumulative_amount_usd\r\n\tFROM\r\n\t\t(\r\n\t\t\tSELECT\r\n\t\t\t\t*\r\n\t\t\tFROM\r\n\t\t\t\teth_transfers\r\n\t\t\tUNION ALL\r\n\t\t\tSELECT\r\n\t\t\t\t*\r\n\t\t\tFROM\r\n\t\t\t\ttoken_transfers\r\n\t\t) AS combined_transfers\r\n\tORDER BY\r\n\t\tBLOCK_TIMESTAMP,\r\n\t\tTX_HASH;`,\r\n\t\tGNS: `WITH combined_transfers AS (\r\n\t\t\t-- Outflow\r\n\t\t\tSELECT\r\n\t\t\t\tBLOCK_TIMESTAMP,\r\n\t\t\t\tTX_HASH,\r\n\t\t\t\tFROM_ADDRESS AS address,\r\n\t\t\t\t-AMOUNT AS amount,\r\n\t\t\t\t-AMOUNT_USD AS amount_usd,\r\n\t\t\t\tSYMBOL\r\n\t\t\tFROM\r\n\t\t\t\tarbitrum.core.ez_token_transfers\r\n\t\t\tWHERE\r\n\t\t\t\tcontract_address = LOWER('0xda10009cbd5d07dd0cecc66161fc93d7c9000da1')\r\n\t\t\t\tAND to_address = LOWER('0xcfa6ebd475d89db04cad5a756fff1cb2bc5be33c')\r\n\t\t\t\tAND from_address = LOWER('${account}')\r\n\t\t\t\r\n\t\t\tUNION ALL\r\n\t\t\t\r\n\t\t\t-- Inflow\r\n\t\t\tSELECT\r\n\t\t\t\tBLOCK_TIMESTAMP,\r\n\t\t\t\tTX_HASH,\r\n\t\t\t\tTO_ADDRESS AS address,\r\n\t\t\t\tAMOUNT AS amount,\r\n\t\t\t\tAMOUNT_USD AS amount_usd,\r\n\t\t\t\tSYMBOL\r\n\t\t\tFROM\r\n\t\t\t\tarbitrum.core.ez_token_transfers\r\n\t\t\tWHERE\r\n\t\t\t\tcontract_address = LOWER('0xda10009cbd5d07dd0cecc66161fc93d7c9000da1')\r\n\t\t\t\tAND from_address = LOWER('0xcfa6ebd475d89db04cad5a756fff1cb2bc5be33c')\r\n\t\t\t\tAND to_address = LOWER('${account}')\r\n\t\t)\r\n\t\t\r\n\t\tSELECT\r\n\t\t\tBLOCK_TIMESTAMP,\r\n\t\t\tTX_HASH,\r\n\t\t\taddress,\r\n\t\t\tamount,\r\n\t\t\tamount_usd,\r\n\t\t\tSYMBOL,\r\n\t\t\tSUM(amount_usd) OVER (\r\n\t\t\t\tPARTITION BY address\r\n\t\t\t\tORDER BY BLOCK_TIMESTAMP, TX_HASH\r\n\t\t\t) AS cumulative_amount_usd\r\n\t\tFROM\r\n\t\t\tcombined_transfers\r\n\t\tORDER BY\r\n\t\t\tBLOCK_TIMESTAMP,\r\n\t\t\tTX_HASH;\r\n\t\t`,\r\n\t}\r\n}\r\nexport const getSqlQueriesForChart = (account) => {\r\n\treturn [\r\n\t\t{\r\n\t\t\tname: \"perps\",\r\n\t\t\tquery: `WITH\r\n\t\t\tfiltered_eth_transfers AS (\r\n\t\t\t\tSELECT\r\n\t\t\t\t\t*\r\n\t\t\t\tFROM\r\n\t\t\t\t\tarbitrum.core.ez_eth_transfers\r\n\t\t\t\tWHERE\r\n\t\t\t\t\t(\r\n\t\t\t\t\t\tETH_FROM_ADDRESS = LOWER('${account}')\r\n\t\t\t\t\t\tAND ETH_TO_ADDRESS IN (\r\n\t\t\t\t\t\t\tLOWER('0xb87a436b93ffe9d75c5cfa7bacfff96430b09868'),\r\n\t\t\t\t\t\t\tLOWER('0x09f77e8a13de9a35a7231028187e9fd5db8a2acb')\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t)\r\n\t\t\t\t\tOR (\r\n\t\t\t\t\t\tETH_TO_ADDRESS = LOWER('${account}')\r\n\t\t\t\t\t\tAND ETH_FROM_ADDRESS IN (\r\n\t\t\t\t\t\t\tLOWER('0xb87a436B93fFE9D75c5cFA7bAcFff96430b09868'),\r\n\t\t\t\t\t\t\tLOWER('0x09f77e8a13de9a35a7231028187e9fd5db8a2acb')\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t)\r\n\t\t\t),\r\n\t\t\tfiltered_token_transfers AS (\r\n\t\t\t\tSELECT\r\n\t\t\t\t\t*\r\n\t\t\t\tFROM\r\n\t\t\t\t\tarbitrum.core.ez_token_transfers\r\n\t\t\t\tWHERE\r\n\t\t\t\t\tcontract_address IN (\r\n\t\t\t\t\t\tLOWER('0xFF970A61A04b1cA14834A43f5dE4533eBDDB5CC8'), --USDC\r\n\t\t\t\t\t\tLOWER('0xFd086bC7CD5C481DCC9C85ebE478A1C0b69FCbb9'), --USDT\r\n\t\t\t\t\t\tLOWER('0xDA10009cBd5D07dd0CeCc66161FC93D7c9000da1'), --DAI\r\n\t\t\t\t\t\tLOWER('0xFa7F8980b0f1E64A2062791cc3b0871572f1F7f0'), --UNI\r\n\t\t\t\t\t\tLOWER('0xf97f4df75117a78c1A5a0DBb814Af92458539FB4'), --LINK\r\n\t\t\t\t\t\tLOWER('0x2f2a2543B76A4166549F7aaB2e75Bef0aefC5B0f'), --WBTC\r\n\t\t\t\t\t\tLOWER('0x82aF49447D8a07e3bd95BD0d56f35241523fBab1'), --WETH\r\n\t\t\t\t\t\tLOWER('0x17FC002b466eEc40DaE837Fc4bE5c67993ddBd6F') --FRAX\r\n\t\t\t\t\t)\r\n\t\t\t\t\tAND (\r\n\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\tfrom_address = LOWER('${account}')\r\n\t\t\t\t\t\t\tAND to_address IN (\r\n\t\t\t\t\t\t\t\tLOWER('0xb87a436b93ffe9d75c5cfa7bacfff96430b09868'),\r\n\t\t\t\t\t\t\t\tLOWER('0x09f77e8a13de9a35a7231028187e9fd5db8a2acb')\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\tOR (\r\n\t\t\t\t\t\t\tto_address = LOWER('${account}')\r\n\t\t\t\t\t\t\tAND from_address IN (\r\n\t\t\t\t\t\t\t\tLOWER('0xb87a436B93fFE9D75c5cFA7bAcFff96430b09868'),\r\n\t\t\t\t\t\t\t\tLOWER('0x09f77e8a13de9a35a7231028187e9fd5db8a2acb')\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t)\r\n\t\t\t),\r\n\t\t\teth_transfers AS (\r\n\t\t\t\tSELECT\r\n\t\t\t\t\tdate_trunc('day', block_timestamp) as timestamp,\r\n\t\t\t\t\t- AMOUNT_USD AS amount_usd\r\n\t\t\t\tFROM\r\n\t\t\t\t\tfiltered_eth_transfers\r\n\t\t\t\tWHERE\r\n\t\t\t\t\tETH_FROM_ADDRESS = LOWER('${account}')\r\n\t\t\t\tUNION ALL\r\n\t\t\t\tSELECT\r\n\t\t\t\t\tdate_trunc('day', block_timestamp) as timestamp,\r\n\t\t\t\t\tAMOUNT_USD AS amount_usd\r\n\t\t\t\tFROM\r\n\t\t\t\t\tfiltered_eth_transfers\r\n\t\t\t\tWHERE\r\n\t\t\t\t\tETH_TO_ADDRESS = LOWER('${account}')\r\n\t\t\t),\r\n\t\t\ttoken_transfers AS (\r\n\t\t\t\tSELECT\r\n\t\t\t\t\tdate_trunc('day', block_timestamp) as timestamp,\r\n\t\t\t\t\t- AMOUNT_USD AS amount_usd\r\n\t\t\t\tFROM\r\n\t\t\t\t\tfiltered_token_transfers\r\n\t\t\t\tWHERE\r\n\t\t\t\t\tfrom_address = LOWER('${account}')\r\n\t\t\t\tUNION ALL\r\n\t\t\t\tSELECT\r\n\t\t\t\t\tdate_trunc('day', block_timestamp) as timestamp,\r\n\t\t\t\t\tAMOUNT_USD AS amount_usd\r\n\t\t\t\tFROM\r\n\t\t\t\t\tfiltered_token_transfers\r\n\t\t\t\tWHERE\r\n\t\t\t\t\tto_address = LOWER('${account}')\r\n\t\t\t),\r\n\t\t\tquery_1 AS (\r\n\t\t\t\tSELECT\r\n\t\t\t\t\ttimestamp,\r\n\t\t\t\t\tSUM(amount_usd) as amount_usd\r\n\t\t\t\tFROM\r\n\t\t\t\t\t(\r\n\t\t\t\t\t\tSELECT\r\n\t\t\t\t\t\t\t*\r\n\t\t\t\t\t\tFROM\r\n\t\t\t\t\t\t\teth_transfers\r\n\t\t\t\t\t\tUNION ALL\r\n\t\t\t\t\t\tSELECT\r\n\t\t\t\t\t\t\t*\r\n\t\t\t\t\t\tFROM\r\n\t\t\t\t\t\t\ttoken_transfers\r\n\t\t\t\t\t) AS combined_transfers\r\n\t\t\t\tGROUP BY\r\n\t\t\t\t\ttimestamp\r\n\t\t\t),\r\n\t\t\tcombined_transfers AS (\r\n\t\t\t\t-- Outflow\r\n\t\t\t\tSELECT\r\n\t\t\t\t\tdate_trunc('day', block_timestamp) as timestamp,\r\n\t\t\t\t\t- AMOUNT_USD AS amount_usd\r\n\t\t\t\tFROM\r\n\t\t\t\t\tarbitrum.core.ez_token_transfers\r\n\t\t\t\tWHERE\r\n\t\t\t\t\tcontract_address = LOWER('0xda10009cbd5d07dd0cecc66161fc93d7c9000da1')\r\n\t\t\t\t\tAND to_address = LOWER('0xcfa6ebd475d89db04cad5a756fff1cb2bc5be33c')\r\n\t\t\t\t\tAND from_address = LOWER('${account}')\r\n\t\t\t\tUNION ALL\r\n\t\t\t\t-- Inflow\r\n\t\t\t\tSELECT\r\n\t\t\t\t\tdate_trunc('day', block_timestamp) as timestamp,\r\n\t\t\t\t\tAMOUNT_USD AS amount_usd\r\n\t\t\t\tFROM\r\n\t\t\t\t\tarbitrum.core.ez_token_transfers\r\n\t\t\t\tWHERE\r\n\t\t\t\t\tcontract_address = LOWER('0xda10009cbd5d07dd0cecc66161fc93d7c9000da1')\r\n\t\t\t\t\tAND from_address = LOWER('0xcfa6ebd475d89db04cad5a756fff1cb2bc5be33c')\r\n\t\t\t\t\tAND to_address = LOWER('${account}')\r\n\t\t\t),\r\n\t\t\tquery_2 AS (\r\n\t\t\t\tSELECT\r\n\t\t\t\t\ttimestamp,\r\n\t\t\t\t\tSUM(amount_usd) as amount_usd\r\n\t\t\t\tFROM\r\n\t\t\t\t\tcombined_transfers\r\n\t\t\t\tGROUP BY\r\n\t\t\t\t\ttimestamp\r\n\t\t\t),\r\n\t\t\tunified_query AS (\r\n\t\t\t\tSELECT * FROM query_1\r\n\t\t\t\tUNION ALL\r\n\t\t\t\tSELECT * FROM query_2\r\n\t\t\t)\r\n\t\tSELECT \r\n\t\t\ttimestamp,\r\n\t\t\tSUM(amount_usd) as daily_amount_usd,\r\n\t\t\tSUM(SUM(amount_usd)) OVER (ORDER BY timestamp) as cumulative_amount_usd\r\n\t\tFROM unified_query\r\n\t\tGROUP BY timestamp\r\n\t\tORDER BY timestamp;`\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"options\",\r\n\t\t\tquery: `WITH\r\n\t\t\tcombined_transfers_hegic AS (\r\n\t\t\t\t-- Outflow\r\n\t\t\t\tSELECT\r\n\t\t\t\t\tBLOCK_TIMESTAMP,\r\n\t\t\t\t\tTX_HASH,\r\n\t\t\t\t\tFROM_ADDRESS AS address,\r\n\t\t\t\t\t- AMOUNT AS amount,\r\n\t\t\t\t\t- AMOUNT_USD AS amount_usd,\r\n\t\t\t\t\tSYMBOL\r\n\t\t\t\tFROM\r\n\t\t\t\t\tarbitrum.core.ez_token_transfers\r\n\t\t\t\tWHERE\r\n\t\t\t\t\tcontract_address = LOWER('0xFF970A61A04b1cA14834A43f5dE4533eBDDB5CC8')\r\n\t\t\t\t\tAND to_address = LOWER('0xec096ea6eB9aa5ea689b0CF00882366E92377371')\r\n\t\t\t\t\tAND from_address = LOWER('${account}')\r\n\t\t\t\tUNION ALL\r\n\t\t\t\t-- Inflow \r\n\t\t\t\tSELECT\r\n\t\t\t\t\tBLOCK_TIMESTAMP,\r\n\t\t\t\t\tTX_HASH,\r\n\t\t\t\t\tTO_ADDRESS AS address,\r\n\t\t\t\t\tAMOUNT AS amount,\r\n\t\t\t\t\tAMOUNT_USD AS amount_usd,\r\n\t\t\t\t\tSYMBOL\r\n\t\t\t\tFROM\r\n\t\t\t\t\tarbitrum.core.ez_token_transfers\r\n\t\t\t\tWHERE\r\n\t\t\t\t\tcontract_address = LOWER('0xFF970A61A04b1cA14834A43f5dE4533eBDDB5CC8')\r\n\t\t\t\t\tAND from_address = LOWER('0xec096ea6eB9aa5ea689b0CF00882366E92377371')\r\n\t\t\t\t\tAND to_address = LOWER('${account}')\r\n\t\t\t),\r\n\t\t\tcombined_transfers_lyra AS (\r\n\t\t\t\t-- Outflow\r\n\t\t\t\tSELECT\r\n\t\t\t\t\tBLOCK_TIMESTAMP,\r\n\t\t\t\t\tTX_HASH,\r\n\t\t\t\t\tFROM_ADDRESS AS address,\r\n\t\t\t\t\t- AMOUNT AS amount,\r\n\t\t\t\t\t- AMOUNT_USD AS amount_usd,\r\n\t\t\t\t\tSYMBOL\r\n\t\t\t\tFROM\r\n\t\t\t\t\tarbitrum.core.ez_token_transfers\r\n\t\t\t\tWHERE\r\n\t\t\t\t\t(\r\n\t\t\t\t\t\tcontract_address IN (\r\n\t\t\t\t\t\t\tLOWER('0xFF970A61A04b1cA14834A43f5dE4533eBDDB5CC8'),\r\n\t\t\t\t\t\t\tLOWER('0x82af49447d8a07e3bd95bd0d56f35241523fbab1'),\r\n\t\t\t\t\t\t\tLOWER('0x5A4842c0c1F81EbbAE7bB3eC07EDf7Ae55aac631')\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t)\r\n\t\t\t\t\tAND (\r\n\t\t\t\t\t\tto_address IN (\r\n\t\t\t\t\t\t\tLOWER('0xEC6F3ef9481e7B8484290edBaE2CEDcdb0Ce790e'),\r\n\t\t\t\t\t\t\tLOWER('0xB619913921356904Bf62abA7271E694FD95AA10D'),\r\n\t\t\t\t\t\t\tLOWER('0xef4a92FCde48c84EF2B5c4A141A4CD1988FC73a9')\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t)\r\n\t\t\t\t\tAND from_address = LOWER('${account}')\r\n\t\t\t\tUNION ALL\r\n\t\t\t\t-- Inflow\r\n\t\t\t\tSELECT\r\n\t\t\t\t\tBLOCK_TIMESTAMP,\r\n\t\t\t\t\tTX_HASH,\r\n\t\t\t\t\tTO_ADDRESS AS address,\r\n\t\t\t\t\tAMOUNT AS amount,\r\n\t\t\t\t\tAMOUNT_USD AS amount_usd,\r\n\t\t\t\t\tSYMBOL\r\n\t\t\t\tFROM\r\n\t\t\t\t\tarbitrum.core.ez_token_transfers\r\n\t\t\t\tWHERE\r\n\t\t\t\t\t(\r\n\t\t\t\t\t\tcontract_address IN (\r\n\t\t\t\t\t\t\tLOWER('0xFF970A61A04b1cA14834A43f5dE4533eBDDB5CC8'),\r\n\t\t\t\t\t\t\tLOWER('0x82af49447d8a07e3bd95bd0d56f35241523fbab1'),\r\n\t\t\t\t\t\t\tLOWER('0x5A4842c0c1F81EbbAE7bB3eC07EDf7Ae55aac631')\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t)\r\n\t\t\t\t\tAND (\r\n\t\t\t\t\t\tfrom_address IN (\r\n\t\t\t\t\t\t\tLOWER('0xEC6F3ef9481e7B8484290edBaE2CEDcdb0Ce790e'),\r\n\t\t\t\t\t\t\tLOWER('0xef4a92FCde48c84EF2B5c4A141A4CD1988FC73a9'),\r\n\t\t\t\t\t\t\tLOWER('0x5A4842c0c1F81EbbAE7bB3eC07EDf7Ae55aac631')\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t)\r\n\t\t\t\t\tAND to_address = LOWER('${account}')\r\n\t\t\t),\r\n\t\t\tcombined AS (\r\n\t\t\t\tSELECT\r\n\t\t\t\t\tdate_trunc('day', block_timestamp) as timestamp,\r\n\t\t\t\t\tamount_usd\r\n\t\t\t\tFROM\r\n\t\t\t\t\tcombined_transfers_hegic\r\n\t\t\r\n\t\t\t\tUNION ALL\r\n\t\t\t\tSELECT\r\n\t\t\t\t\tdate_trunc('day', block_timestamp) as timestamp,\r\n\t\t\t\tamount_usd\r\n\t\t\t\tFROM\r\n\t\t\t\t\tcombined_transfers_lyra\r\n\t\t\t)\r\n\t\tSELECT\r\n\t\t\ttimestamp,\r\n\t\t\tSUM(amount_usd) as daily_amount_usd,\r\n\t\t\tSUM(SUM(amount_usd)) OVER (ORDER BY timestamp) as cumulative_amount_usd\r\n\t\tFROM\r\n\t\t\tcombined\r\n\t\tGROUP BY timestamp\r\n\t\tORDER BY timestamp;`\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"sum\",\r\n\t\t\tquery: `WITH\r\n\t\t\tcombined_transfers_hegic AS (\r\n\t\t\t\t-- Outflow\r\n\t\t\t\tSELECT\r\n\t\t\t\t\tBLOCK_TIMESTAMP,\r\n\t\t\t\t\tTX_HASH,\r\n\t\t\t\t\tFROM_ADDRESS AS address,\r\n\t\t\t\t\t- AMOUNT AS amount,\r\n\t\t\t\t\t- AMOUNT_USD AS amount_usd,\r\n\t\t\t\t\tSYMBOL\r\n\t\t\t\tFROM\r\n\t\t\t\t\tarbitrum.core.ez_token_transfers\r\n\t\t\t\tWHERE\r\n\t\t\t\t\tcontract_address = LOWER('0xFF970A61A04b1cA14834A43f5dE4533eBDDB5CC8')\r\n\t\t\t\t\tAND to_address = LOWER('0xec096ea6eB9aa5ea689b0CF00882366E92377371')\r\n\t\t\t\t\tAND from_address = LOWER('${account}')\r\n\t\t\t\tUNION ALL\r\n\t\t\t\t-- Inflow \r\n\t\t\t\tSELECT\r\n\t\t\t\t\tBLOCK_TIMESTAMP,\r\n\t\t\t\t\tTX_HASH,\r\n\t\t\t\t\tTO_ADDRESS AS address,\r\n\t\t\t\t\tAMOUNT AS amount,\r\n\t\t\t\t\tAMOUNT_USD AS amount_usd,\r\n\t\t\t\t\tSYMBOL\r\n\t\t\t\tFROM\r\n\t\t\t\t\tarbitrum.core.ez_token_transfers\r\n\t\t\t\tWHERE\r\n\t\t\t\t\tcontract_address = LOWER('0xFF970A61A04b1cA14834A43f5dE4533eBDDB5CC8')\r\n\t\t\t\t\tAND from_address = LOWER('0xec096ea6eB9aa5ea689b0CF00882366E92377371')\r\n\t\t\t\t\tAND to_address = LOWER('${account}')\r\n\t\t\t),\r\n\t\t\tcombined_transfers_lyra AS (\r\n\t\t\t\t-- Outflow\r\n\t\t\t\tSELECT\r\n\t\t\t\t\tBLOCK_TIMESTAMP,\r\n\t\t\t\t\tTX_HASH,\r\n\t\t\t\t\tFROM_ADDRESS AS address,\r\n\t\t\t\t\t- AMOUNT AS amount,\r\n\t\t\t\t\t- AMOUNT_USD AS amount_usd,\r\n\t\t\t\t\tSYMBOL\r\n\t\t\t\tFROM\r\n\t\t\t\t\tarbitrum.core.ez_token_transfers\r\n\t\t\t\tWHERE\r\n\t\t\t\t\t(\r\n\t\t\t\t\t\tcontract_address IN (\r\n\t\t\t\t\t\t\tLOWER('0xFF970A61A04b1cA14834A43f5dE4533eBDDB5CC8'),\r\n\t\t\t\t\t\t\tLOWER('0x82af49447d8a07e3bd95bd0d56f35241523fbab1'),\r\n\t\t\t\t\t\t\tLOWER('0x5A4842c0c1F81EbbAE7bB3eC07EDf7Ae55aac631')\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t)\r\n\t\t\t\t\tAND (\r\n\t\t\t\t\t\tto_address IN (\r\n\t\t\t\t\t\t\tLOWER('0xEC6F3ef9481e7B8484290edBaE2CEDcdb0Ce790e'),\r\n\t\t\t\t\t\t\tLOWER('0xB619913921356904Bf62abA7271E694FD95AA10D'),\r\n\t\t\t\t\t\t\tLOWER('0xef4a92FCde48c84EF2B5c4A141A4CD1988FC73a9')\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t)\r\n\t\t\t\t\tAND from_address = LOWER('${account}')\r\n\t\t\t\tUNION ALL\r\n\t\t\t\t-- Inflow\r\n\t\t\t\tSELECT\r\n\t\t\t\t\tBLOCK_TIMESTAMP,\r\n\t\t\t\t\tTX_HASH,\r\n\t\t\t\t\tTO_ADDRESS AS address,\r\n\t\t\t\t\tAMOUNT AS amount,\r\n\t\t\t\t\tAMOUNT_USD AS amount_usd,\r\n\t\t\t\t\tSYMBOL\r\n\t\t\t\tFROM\r\n\t\t\t\t\tarbitrum.core.ez_token_transfers\r\n\t\t\t\tWHERE\r\n\t\t\t\t\t(\r\n\t\t\t\t\t\tcontract_address IN (\r\n\t\t\t\t\t\t\tLOWER('0xFF970A61A04b1cA14834A43f5dE4533eBDDB5CC8'),\r\n\t\t\t\t\t\t\tLOWER('0x82af49447d8a07e3bd95bd0d56f35241523fbab1'),\r\n\t\t\t\t\t\t\tLOWER('0x5A4842c0c1F81EbbAE7bB3eC07EDf7Ae55aac631')\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t)\r\n\t\t\t\t\tAND (\r\n\t\t\t\t\t\tfrom_address IN (\r\n\t\t\t\t\t\t\tLOWER('0xEC6F3ef9481e7B8484290edBaE2CEDcdb0Ce790e'),\r\n\t\t\t\t\t\t\tLOWER('0xef4a92FCde48c84EF2B5c4A141A4CD1988FC73a9'),\r\n\t\t\t\t\t\t\tLOWER('0x5A4842c0c1F81EbbAE7bB3eC07EDf7Ae55aac631')\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t)\r\n\t\t\t\t\tAND to_address = LOWER('${account}')\r\n\t\t\t),\r\n\t\t\tquery_1 AS (\r\n\t\t\t\tSELECT\r\n\t\t\t\t\tdate_trunc('day', block_timestamp) as timestamp,\r\n\t\t\t\t\tamount_usd\r\n\t\t\t\tFROM\r\n\t\t\t\t\tcombined_transfers_hegic\r\n\t\t\t\tUNION ALL\r\n\t\t\t\tSELECT\r\n\t\t\t\t\tdate_trunc('day', block_timestamp) as timestamp,\r\n\t\t\t\t\tamount_usd\r\n\t\t\t\tFROM\r\n\t\t\t\t\tcombined_transfers_lyra\r\n\t\t\t),\r\n\t\t\tfiltered_eth_transfers AS (\r\n\t\t\t\tSELECT\r\n\t\t\t\t\t*\r\n\t\t\t\tFROM\r\n\t\t\t\t\tarbitrum.core.ez_eth_transfers\r\n\t\t\t\tWHERE\r\n\t\t\t\t\t(\r\n\t\t\t\t\t\tETH_FROM_ADDRESS = LOWER('${account}')\r\n\t\t\t\t\t\tAND ETH_TO_ADDRESS IN (\r\n\t\t\t\t\t\t\tLOWER('0xb87a436b93ffe9d75c5cfa7bacfff96430b09868'),\r\n\t\t\t\t\t\t\tLOWER('0x09f77e8a13de9a35a7231028187e9fd5db8a2acb')\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t)\r\n\t\t\t\t\tOR (\r\n\t\t\t\t\t\tETH_TO_ADDRESS = LOWER('${account}')\r\n\t\t\t\t\t\tAND ETH_FROM_ADDRESS IN (\r\n\t\t\t\t\t\t\tLOWER('0xb87a436B93fFE9D75c5cFA7bAcFff96430b09868'),\r\n\t\t\t\t\t\t\tLOWER('0x09f77e8a13de9a35a7231028187e9fd5db8a2acb')\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t)\r\n\t\t\t),\r\n\t\t\tfiltered_token_transfers AS (\r\n\t\t\t\tSELECT\r\n\t\t\t\t\t*\r\n\t\t\t\tFROM\r\n\t\t\t\t\tarbitrum.core.ez_token_transfers\r\n\t\t\t\tWHERE\r\n\t\t\t\t\tcontract_address IN (\r\n\t\t\t\t\t\tLOWER('0xFF970A61A04b1cA14834A43f5dE4533eBDDB5CC8'), --USDC\r\n\t\t\t\t\t\tLOWER('0xFd086bC7CD5C481DCC9C85ebE478A1C0b69FCbb9'), --USDT\r\n\t\t\t\t\t\tLOWER('0xDA10009cBd5D07dd0CeCc66161FC93D7c9000da1'), --DAI\r\n\t\t\t\t\t\tLOWER('0xFa7F8980b0f1E64A2062791cc3b0871572f1F7f0'), --UNI\r\n\t\t\t\t\t\tLOWER('0xf97f4df75117a78c1A5a0DBb814Af92458539FB4'), --LINK\r\n\t\t\t\t\t\tLOWER('0x2f2a2543B76A4166549F7aaB2e75Bef0aefC5B0f'), --WBTC\r\n\t\t\t\t\t\tLOWER('0x82aF49447D8a07e3bd95BD0d56f35241523fBab1'), --WETH\r\n\t\t\t\t\t\tLOWER('0x17FC002b466eEc40DaE837Fc4bE5c67993ddBd6F') --FRAX\r\n\t\t\t\t\t)\r\n\t\t\t\t\tAND (\r\n\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\tfrom_address = LOWER('${account}')\r\n\t\t\t\t\t\t\tAND to_address IN (\r\n\t\t\t\t\t\t\t\tLOWER('0xb87a436b93ffe9d75c5cfa7bacfff96430b09868'),\r\n\t\t\t\t\t\t\t\tLOWER('0x09f77e8a13de9a35a7231028187e9fd5db8a2acb')\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\tOR (\r\n\t\t\t\t\t\t\tto_address = LOWER('${account}')\r\n\t\t\t\t\t\t\tAND from_address IN (\r\n\t\t\t\t\t\t\t\tLOWER('0xb87a436B93fFE9D75c5cFA7bAcFff96430b09868'),\r\n\t\t\t\t\t\t\t\tLOWER('0x09f77e8a13de9a35a7231028187e9fd5db8a2acb')\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t)\r\n\t\t\t),\r\n\t\t\teth_transfers AS (\r\n\t\t\t\tSELECT\r\n\t\t\t\t\tdate_trunc('day', block_timestamp) as timestamp,\r\n\t\t\t\t\t- AMOUNT_USD AS amount_usd\r\n\t\t\t\tFROM\r\n\t\t\t\t\tfiltered_eth_transfers\r\n\t\t\t\tWHERE\r\n\t\t\t\t\tETH_FROM_ADDRESS = LOWER('${account}')\r\n\t\t\t\tUNION ALL\r\n\t\t\t\tSELECT\r\n\t\t\t\t\tdate_trunc('day', block_timestamp) as timestamp,\r\n\t\t\t\t\tAMOUNT_USD AS amount_usd\r\n\t\t\t\tFROM\r\n\t\t\t\t\tfiltered_eth_transfers\r\n\t\t\t\tWHERE\r\n\t\t\t\t\tETH_TO_ADDRESS = LOWER('${account}')\r\n\t\t\t),\r\n\t\t\ttoken_transfers AS (\r\n\t\t\t\tSELECT\r\n\t\t\t\t\tdate_trunc('day', block_timestamp) as timestamp,\r\n\t\t\t\t\t- AMOUNT_USD AS amount_usd\r\n\t\t\t\tFROM\r\n\t\t\t\t\tfiltered_token_transfers\r\n\t\t\t\tWHERE\r\n\t\t\t\t\tfrom_address = LOWER('${account}')\r\n\t\t\t\tUNION ALL\r\n\t\t\t\tSELECT\r\n\t\t\t\t\tdate_trunc('day', block_timestamp) as timestamp,\r\n\t\t\t\t\tAMOUNT_USD AS amount_usd\r\n\t\t\t\tFROM\r\n\t\t\t\t\tfiltered_token_transfers\r\n\t\t\t\tWHERE\r\n\t\t\t\t\tto_address = LOWER('${account}')\r\n\t\t\t),\r\n\t\t\tquery_2 AS (\r\n\t\t\t\tSELECT\r\n\t\t\t\t\tdate_trunc('day', block_timestamp) as timestamp,\r\n\t\t\t\t\t- AMOUNT_USD AS amount_usd\r\n\t\t\t\tFROM\r\n\t\t\t\t\tarbitrum.core.ez_token_transfers\r\n\t\t\t\tWHERE\r\n\t\t\t\t\tcontract_address = LOWER('0xda10009cbd5d07dd0cecc66161fc93d7c9000da1')\r\n\t\t\t\t\tAND to_address = LOWER('0xcfa6ebd475d89db04cad5a756fff1cb2bc5be33c')\r\n\t\t\t\t\tAND from_address = LOWER('${account}')\r\n\t\t\t\tUNION ALL\r\n\t\t\t\tSELECT\r\n\t\t\t\t\tdate_trunc('day', block_timestamp) as timestamp,\r\n\t\t\t\t\tAMOUNT_USD AS amount_usd\r\n\t\t\t\tFROM\r\n\t\t\t\t\tarbitrum.core.ez_token_transfers\r\n\t\t\t\tWHERE\r\n\t\t\t\t\tcontract_address = LOWER('0xda10009cbd5d07dd0cecc66161fc93d7c9000da1')\r\n\t\t\t\t\tAND from_address = LOWER('0xcfa6ebd475d89db04cad5a756fff1cb2bc5be33c')\r\n\t\t\t\t\tAND to_address = LOWER('${account}')\r\n\t\t\t),\r\n\t\t\tcombined AS (\r\n\t\t\t\tSELECT * FROM query_1\r\n\t\t\t\tUNION ALL\r\n\t\t\t\tSELECT * FROM eth_transfers\r\n\t\t\t\tUNION ALL\r\n\t\t\t\tSELECT * FROM token_transfers\r\n\t\t\t\tUNION ALL\r\n\t\t\t\tSELECT * FROM query_2\r\n\t\t\t)\r\n\t\tSELECT \r\n\t\t\ttimestamp,\r\n\t\t\tSUM(amount_usd) as daily_amount_usd,\r\n\t\t\tSUM(SUM(amount_usd)) OVER (ORDER BY timestamp) as cumulative_amount_usd\r\n\t\tFROM combined\r\n\t\tGROUP BY timestamp\r\n\t\tORDER BY timestamp;\r\n\t\t`\r\n\t\t}\r\n\t]\r\n}\r\n\r\n\r\n// Chart constants\r\nexport const CHART_COLORS = {\r\n\tGMX: '#3353E8',\r\n\tGNS: '#2DD3D4',\r\n\tHegic: '#3D855B',\r\n\tLyra: '#6FB09D',\r\n\toptions: '#6988FF',\r\n\tperps: '#42528F',\r\n\tsum: '#6988FF',\r\n}\r\nexport const CHART_LABELS = {\r\n\toptions: \"Options\",\r\n\tperps: \"Perpetuals\",\r\n\tsum: \"\",\r\n}","import React, { useEffect, useMemo, useState } from 'react';\r\nimport './UserGraph.scss';\r\nimport cx from \"classnames\";\r\nimport { ImSpinner2 } from 'react-icons/im';\r\nimport * as ChartModule from \"chart.js/auto\";\r\nimport { Line } from 'react-chartjs-2';\r\nimport zoom from 'chartjs-plugin-zoom';\r\nimport 'chartjs-adapter-date-fns';\r\nimport { daysToMs, findLatestOrEarliest } from '../../../../components/utils/utils';\r\nimport { eachDayOfInterval, format } from 'date-fns';\r\nimport { ALL_MARKETS } from '../../../../components/utils/constants';\r\nimport { CHART_COLORS } from '../../analyticsConstants';\r\nimport { floor } from '../../../../components/utils/math';\r\nimport { CHART_LABELS } from './../../analyticsConstants';\r\nimport Loader from '../../../../components/UI/loader/Loader';\r\n\r\nconst UserGraph = (props) => {\r\n\tconst {\r\n\t\ttxData,\r\n\t\tisLoading,\r\n\t} = props;\r\n\tconst hasTxData = Boolean(Object.keys(txData).length && txData[Object.keys(txData)[0]]);\r\n\r\n\tconst [profitPerps, profitOptions, profitTotal] = useMemo(() => {\r\n\t\tif (hasTxData) {\r\n\t\t\tconsole.log(txData);\r\n\t\t\tconst profitPerps = txData.perps.reduce((profit, tx) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tsum: tx.cumulative_amount_usd,\r\n\t\t\t\t\toutflow: tx.daily_amount_usd >= 0 ? profit.outflow : profit.outflow + tx.daily_amount_usd\r\n\t\t\t\t}\r\n\t\t\t}, {\r\n\t\t\t\tsum: 0,\r\n\t\t\t\toutflow: 0\r\n\t\t\t});\r\n\t\t\tprofitPerps.percentage = profitPerps.sum / profitPerps.outflow * 100;\r\n\t\t\t\r\n\t\t\tconst profitOptions = txData.options.reduce((profit, tx) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tsum: tx.cumulative_amount_usd,\r\n\t\t\t\t\toutflow: tx.daily_amount_usd >= 0 ? profit.outflow : profit.outflow + tx.daily_amount_usd\r\n\t\t\t\t}\r\n\t\t\t}, {\r\n\t\t\t\tsum: 0,\r\n\t\t\t\toutflow: 0\r\n\t\t\t});\r\n\t\t\tprofitOptions.percentage = profitOptions.sum / profitOptions.outflow * 100;\r\n\t\t\t\r\n\t\t\tconst profitTotal = {\r\n\t\t\t\tsum: profitPerps.sum + profitOptions.sum,\r\n\t\t\t\toutflow: profitPerps.outflow + profitOptions.outflow,\r\n\t\t\t};\r\n\t\t\tprofitTotal.percentage = profitTotal.sum / profitTotal.outflow * 100;\r\n\t\r\n\t\t\treturn [profitPerps, profitOptions, profitTotal];\r\n\t\t}\r\n\t\telse return [];\r\n\t}, [txData]);\r\n\t\r\n\tconst profitPerpsSign = profitPerps?.sum < 0 ? \"–\" : \"\";\r\n\tconst profitOptionsSign = profitOptions?.sum < 0 ? \"–\" : \"\";\r\n\tconst profitTotalSign = profitTotal?.sum < 0 ? \"–\" : \"\";\r\n\r\n\tconst [chartData, setChartData] = useState(null);\r\n\tuseEffect(() => {\r\n\t\tif (!hasTxData) {\r\n\t\t\tsetChartData(null);\r\n\t\t}\r\n\t}, [txData]);\r\n\r\n\tconst Chart = ChartModule.default;\r\n\tChart.register(zoom);\r\n\tuseEffect(() => {\r\n\t\tif (hasTxData) {\r\n\t\t\tconst datesArr = [\r\n\t\t\t\t...txData.perps.map(tx => tx.timestamp),\r\n\t\t\t\t...txData.options.map(tx => tx.timestamp),\r\n\t\t\t].sort();\r\n\t\t\t// Remove duplicate values\r\n\t\t\tconst dates = [...new Set(datesArr)];\r\n\t\t\tconst labels = dates.map(date => (new Date(date)).getTime());\r\n\r\n\t\t\tconst datasets = [];\r\n\t\t\t// Only sum is used for chart\r\n\t\t\t// for (let i = 0; i < Object.keys(txData).length; i++) {\r\n\t\t\t\t// const txSource = Object.keys(txData)[i];\r\n\t\t\t\tconst txSource = 'sum';\r\n\t\t\t\tconst color = CHART_COLORS[txSource];\r\n\t\t\t\tconst dataset = {\r\n\t\t\t\t\tlabel: CHART_LABELS[txSource],\r\n\t\t\t\t\tborderColor: color,\r\n\t\t\t\t\tbackgroundColor: color,\r\n\t\t\t\t\tpointBackgroundColor: \"transparent\",\r\n\t\t\t\t\thoverBackgroundColor: color,\r\n\t\t\t\t\thoverBorderColor: color,\r\n\t\t\t\t\ttooltip: {\r\n\t\t\t\t\t\tcallbacks: {\r\n\t\t\t\t\t\t\tlabelColor: () => {\r\n\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\tbackgroundColor: color,\r\n\t\t\t\t\t\t\t\t\tborderColor: color,\r\n\t\t\t\t\t\t\t\t\tborderWidth: 0,\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tdata: [],\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tlet reducer = 0;\r\n\t\t\t\tfor (let j = 0; j < dates.length; j++) {\r\n\t\t\t\t\tconst date = dates[j];\r\n\t\t\t\t\tconst dateTx = txData[txSource].find(tx => tx.timestamp === date);\r\n\t\t\t\t\t// Line Chart\r\n\t\t\t\t\tconst profit = dateTx?.cumulative_amount_usd;\r\n\t\t\t\t\t// Bar Chart\r\n\t\t\t\t\t// const profit = dateTx?.daily_amount_usd;\r\n\t\t\t\t\t// Reducing number of dates to avoid multi-pointing\r\n\t\t\t\t\tif (reducer % 4 === 0) {\r\n\t\t\t\t\t\tdataset.data.push(dateTx ? floor(profit, 2) : undefined);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tdataset.data.push(undefined)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (dateTx) {\r\n\t\t\t\t\t\treducer++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdatasets.push(dataset);\r\n\t\t\t// }\r\n\t\t\t\r\n\t\t\tconst chartData = {\r\n\t\t\t\tlabels,\r\n\t\t\t\tdatasets,\r\n\t\t\t}\r\n\t\t\tsetChartData(chartData);\r\n\t\t}\r\n\t}, [txData]);\r\n\r\n\tconst defaultFont = {\r\n\t\tfamily: \"'Gantari', sans-serif\",\r\n\t\tweight: 500,\r\n\t};\r\n\tconst globalOptions = {\r\n\t\tspanGaps: true,\r\n\t\tpointStyle: 'circle',\r\n\t\tpointRadius: 6,\r\n\t\tpointHoverRadius: 4,\r\n\t\tpointHitRadius: 4,\r\n\t\tpointBackgroundColor: \"transparent\",\r\n\t\tpointBorderColor: \"transparent\",\r\n\t\tborderWidth: 2,\r\n\t\tinteraction: {\r\n\t\t\tmode: 'x',\r\n\t\t\tintersect: true,\r\n\t\t\tmode: 'point',\r\n\t\t},\r\n\t\tmaintainAspectRatio: false,\r\n\t\tlayout: {\r\n\t\t\tpadding: {\r\n\t\t\t\ttop: 0,\r\n\t\t\t\tleft: 0,\r\n\t\t\t\tright: 0,\r\n\t\t\t\tbottom: 10\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tconst axesOptions = {\r\n\t\tgrid: {\r\n\t\t\tdisplay: false,\r\n\t\t},\r\n\t};\r\n\tconst ticksOptions = {\r\n\t\tfont: {\r\n\t\t\t...defaultFont,\r\n\t\t\tsize: 14,\r\n\t\t},\r\n\t\tcolor: '#384263',\r\n\t}\r\n\tconst legendOptions = {\r\n\t\tdisplay: false,\r\n\t\tposition: 'bottom',\r\n\t\talign: 'end',\r\n\t\tlabels: {\r\n\t\t\tusePointStyle: true,\r\n\t\t\tpointStyleWidth: 9,\r\n\t\t\tboxHeight: 6,\r\n\t\t\tboxWidth: 6,\r\n\t\t\tcolor: '#fff',\r\n\t\t\tfont: {\r\n\t\t\t\t...defaultFont,\r\n\t\t\t\tsize: 15,\r\n\t\t\t},\r\n\t\t\tpadding: 10\r\n\t\t},\r\n\t};\r\n\tconst zoomOptions = {\r\n\t\tzoom: {\r\n\t\t\tenabled: false,\r\n\t\t\tmode: 'xy',\r\n\t\t\t// wheel: {\r\n\t\t\t// \tenabled: true\r\n\t\t\t// },\r\n\t\t},\r\n\t\tpan: {\r\n\t\t\tenabled: false,\r\n\t\t\tmode: 'y',\r\n\t\t},\r\n\t\tpinch: {\r\n\t\t\tenabled: false\r\n\t\t},\r\n\t};\r\n\tconst tooltipOptions = {\r\n\t\ttitleColor: '#3A4466',\r\n\t\ttitleFont: {\r\n\t\t\t...defaultFont,\r\n\t\t\tsize: 12,\r\n\t\t},\r\n\t\tbodyFont: {\r\n\t\t\t...defaultFont,\r\n\t\t\tsize: 12,\r\n\t\t\tweight: 400\r\n\t\t},\r\n\t\tposition: 'nearest',\r\n\t\tusePointStyle: true,\r\n\t\tpointBackgroundColor: \"transparent\",\r\n\t\tboxWidth: 6,\r\n\t\tborderWidth: 1,\r\n\t\tborderColor: 'rgba(56, 66, 99, 0.2)',\r\n\t\tbackgroundColor: '#141637',\r\n\t\tcornerRadius: 5,\r\n\t\tpadding: 8,\r\n\t\tcaretPadding: 5,\r\n\t\tboxPadding: 4,\r\n\t\txAlign: 'left',\r\n\t\tyAlign: 'top',\r\n\t\tcallbacks: {\r\n\t\t\tlabel: function(context) {\r\n\t\t\t\tlet label = context.dataset.label || '';\r\n\t\t\t\tif (label) {\r\n\t\t\t\t\t\tlabel += ': ';\r\n\t\t\t\t}\r\n\t\t\t\tif (context.parsed.y !== null) {\r\n\t\t\t\t\t\tlabel += new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' }).format(context.parsed.y);\r\n\t\t\t\t}\r\n\t\t\t\treturn label;\r\n\t\t\t},\r\n\t\t},\r\n\t};\r\n\tconst pluginsOptions = {\r\n\t\tlegend: {\r\n\t\t\t...legendOptions,\r\n\t\t},\r\n\t\tzoom: {\r\n\t\t\t...zoomOptions,\r\n\t\t},\r\n\t\ttooltip: {\r\n\t\t\t...tooltipOptions,\r\n\t\t}\r\n\t};\r\n\treturn (\r\n\t\t<div className=\"UserGraph\">\r\n\t\t\t<h1>History</h1>\r\n\t\t\t<div className=\"UserGraph__content\">\r\n\t\t\t\t<div className=\"UserGraph__graph App-box\">\r\n\t\t\t\t\t<div className=\"UserGraph__graph-canvas\">\r\n\t\t\t\t\t\t{isLoading\r\n\t\t\t\t\t\t\t? <Loader />\r\n\t\t\t\t\t\t\t: chartData && (\r\n\t\t\t\t\t\t\t\t<Line\r\n\t\t\t\t\t\t\t\t\tdataIdKey='txData'\r\n\t\t\t\t\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t\t\t\t\t...globalOptions,\r\n\t\t\t\t\t\t\t\t\t\tscales: {\r\n\t\t\t\t\t\t\t\t\t\t\tx: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t...axesOptions,\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype: 'time',\r\n\t\t\t\t\t\t\t\t\t\t\t\ttime: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminUnit: 'week',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisplayFormats: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tday: 'd MMM'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttooltipFormat: 'd MMM yyyy',\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\tticks: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t...ticksOptions,\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\ty: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t...axesOptions,\r\n\t\t\t\t\t\t\t\t\t\t\t\tposition: 'right',\r\n\t\t\t\t\t\t\t\t\t\t\t\tticks: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t...ticksOptions,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcallback: (value) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlet sign = '';\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (value < 0) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsign = '-';\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn `${sign}$${Math.abs(value).toFixed(0)}`;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tplugins: {\r\n\t\t\t\t\t\t\t\t\t\t\t...pluginsOptions,\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tdata={chartData}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"UserGraph__graph-markets-icons\">\r\n\t\t\t\t\t\t{ALL_MARKETS.map(market => {\r\n\t\t\t\t\t\t\tconst iconSrc = require(`../../../../img/icon-${market}_sm.svg`).default;\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<div className=\"UserGraph__graph-markets-icon\" key={market}>\r\n\t\t\t\t\t\t\t\t\t<img src={iconSrc} alt={`${market} icon`} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"UserGraph__overview App-box\">\r\n\t\t\t\t\t<h2>Overview</h2>\r\n\t\t\t\t\t<div className=\"UserGraph__overview-items\">\r\n\t\t\t\t\t\t<div className=\"UserGraph__overview-item\">\r\n\t\t\t\t\t\t\t<div className=\"UserGraph__overview-item-title\">\r\n\t\t\t\t\t\t\t\tRealized PnL (Perps)\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"UserGraph__overview-item-pnl\">\r\n\t\t\t\t\t\t\t\t{profitPerps !== undefined && (\r\n\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t{profitPerpsSign}${Math.abs(profitPerps.sum).toFixed(2)}\r\n\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={cx('UserGraph__overview-item-pnl-percentage', { \r\n\t\t\t\t\t\t\t\t\t\t\t\tpositive: profitPerps?.sum > 0,\r\n\t\t\t\t\t\t\t\t\t\t\t\tnegative: profitPerps?.sum < 0,\r\n\t\t\t\t\t\t\t\t\t\t\t\tmuted: profitPerps?.sum === 0,\r\n\t\t\t\t\t\t\t\t\t\t\t})}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t({profitPerpsSign || '+'}{(isNaN(profitPerps.percentage) ? 0 : Math.abs(profitPerps.percentage)).toFixed(0)}%)\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t{isLoading && <ImSpinner2 className=\"spin position-loading-icon\" />}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"UserGraph__overview-item\">\r\n\t\t\t\t\t\t\t<div className=\"UserGraph__overview-item-title\">\r\n\t\t\t\t\t\t\t\tRealized PnL (Options)\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"UserGraph__overview-item-pnl\">\r\n\t\t\t\t\t\t\t\t{profitOptions !== undefined && (\r\n\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t{profitOptionsSign}${Math.abs(profitOptions.sum).toFixed(2)}\r\n\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={cx('UserGraph__overview-item-pnl-percentage', { \r\n\t\t\t\t\t\t\t\t\t\t\t\tpositive: profitOptions?.sum > 0,\r\n\t\t\t\t\t\t\t\t\t\t\t\tnegative: profitOptions?.sum < 0,\r\n\t\t\t\t\t\t\t\t\t\t\t\tmuted: profitOptions?.sum === 0,\r\n\t\t\t\t\t\t\t\t\t\t\t})}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t({profitOptionsSign || '+'}{((isNaN(profitOptions.percentage) ? 0 : Math.abs(profitOptions.percentage))).toFixed(0)}%)\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t{isLoading && <ImSpinner2 className=\"spin position-loading-icon\" />}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"UserGraph__overview-item\">\r\n\t\t\t\t\t\t\t<div className=\"UserGraph__overview-item-title\">\r\n\t\t\t\t\t\t\t\tTotal Realized PnL\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"UserGraph__overview-item-pnl\">\r\n\t\t\t\t\t\t\t\t{profitTotal !== undefined && (\r\n\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t{profitTotalSign}${Math.abs(profitTotal.sum).toFixed(2)}\r\n\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={cx('UserGraph__overview-item-pnl-percentage', { \r\n\t\t\t\t\t\t\t\t\t\t\t\tpositive: profitTotal?.sum > 0,\r\n\t\t\t\t\t\t\t\t\t\t\t\tnegative: profitTotal?.sum < 0,\r\n\t\t\t\t\t\t\t\t\t\t\t\tmuted: profitTotal?.sum === 0,\r\n\t\t\t\t\t\t\t\t\t\t\t})}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t({profitTotalSign || '+'}{(isNaN(profitTotal.percentage) ? 0 : Math.abs(profitTotal.percentage)).toFixed(0)}%)\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t{isLoading && <ImSpinner2 className=\"spin position-loading-icon\" />}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default UserGraph;","import { format } from 'date-fns';\r\nimport React from 'react';\r\nimport { DATE_FORMAT_TEMPLATE } from '../../../../components/utils/constants';\r\nimport cx from \"classnames\";\r\n\r\nconst TxHistoryItem = (props) => {\r\n\tconst {\r\n\t\ttx\r\n\t} = props;\r\n\t// console.log(tx);\r\n\t\r\n\tconst typeLabel = tx.transaction_type === \"Received\"\r\n\t\t? \"Inflow\"\r\n\t\t: \"Outflow\";\r\n\tconst isNegative = tx.amount_usd < 0;\r\n\tconst amountSign = isNegative ? \"–\" : \"+\";\r\n\r\n\tconst marketLogo = require(`../../../../img/icon-${tx.market}_full.svg`).default;\r\n\treturn (\r\n\t\t<tr>\r\n\t\t\t<td>\r\n\t\t\t\t<img src={marketLogo} alt={`${tx.market} logo`} />\r\n\t\t\t</td>\r\n\t\t\t<td>\r\n\t\t\t\t{format(new Date(tx.block_timestamp), DATE_FORMAT_TEMPLATE)}\r\n\t\t\t</td>\r\n\t\t\t<td>\r\n\t\t\t\t<a href={`https://arbiscan.io/tx/${tx.tx_hash}`} target='_blank' rel=\"noreferrer\">\r\n\t\t\t\t\t{typeLabel}\r\n\t\t\t\t\t<svg\r\n\t\t\t\t\t\tstyle={{ marginLeft: 5, transform: \"translateY(1px)\" }}\r\n\t\t\t\t\t\twidth=\"12\" height=\"12\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<path d=\"M11.25 8.75L17.5 2.5M13.3333 2.5H17.5V6.66667M17.5 11.6667V15.8333C17.5 16.2754 17.3244 16.6993 17.0118 17.0118C16.6993 17.3244 16.2754 17.5 15.8333 17.5H4.16667C3.72464 17.5 3.30072 17.3244 2.98816 17.0118C2.67559 16.6993 2.5 16.2754 2.5 15.8333V4.16667C2.5 3.72464 2.67559 3.30072 2.98816 2.98816C3.30072 2.67559 3.72464 2.5 4.16667 2.5H8.33333\" stroke=\"#747FA6\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n\t\t\t\t\t</svg>\r\n\t\t\t\t</a>\r\n\t\t\t</td>\r\n\t\t\t<td>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName={cx({\r\n\t\t\t\t\t\tpositive: !isNegative,\r\n\t\t\t\t\t\tnegative: isNegative,\r\n\t\t\t\t\t})}\r\n\t\t\t\t>\r\n\t\t\t\t\t{amountSign}{Math.abs(tx.amount)} {tx.symbol}\r\n\t\t\t\t</div>\r\n\t\t\t</td>\r\n\t\t\t<td>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName={cx({\r\n\t\t\t\t\t\tpositive: !isNegative,\r\n\t\t\t\t\t\tnegative: isNegative,\r\n\t\t\t\t\t})}\r\n\t\t\t\t>\r\n\t\t\t\t\t{amountSign}${Math.abs(tx.amount_usd).toFixed(2)}\r\n\t\t\t\t</div>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t);\r\n};\r\n\r\nexport default TxHistoryItem;","import { useMemo, useEffect } from 'react';\r\nimport { getPagesArray } from '../components/utils/pages'\r\nimport cx from \"classnames\";\r\n\r\nexport const usePages = (totalPages, page, setPage, cls) => {\r\n\tuseEffect(() => {\r\n\t\tsetPage(1);\r\n\t}, [totalPages]);\r\n\t\r\n\tconst pages = useMemo(() => {\r\n\t\ttotalPages = Math.ceil(totalPages);\r\n\t\tconst pagesArray = getPagesArray(totalPages, page);\r\n\t\t\r\n\t\tif (!totalPages) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn(\r\n\t\t\t<div className={cx(\"pages-container\", cls)}>\r\n\t\t\t\t<div className=\"pages\">\r\n\t\t\t\t\t<button className=\"pages-btn-back_full pages-btn pages-btn_full btn btn_plain\" disabled={page <= 1}\r\n\t\t\t\t\t\tonClick={() => setPage(1)}>\r\n\t\t\t\t\t\t<div className=\"pages-btn__icon-container\">\r\n\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"7\" height=\"12\" viewBox=\"0 0 7 12\" fill=\"none\">\r\n\t\t\t\t\t\t\t\t<path d=\"M6 11L1 6L6 1\" stroke=\"#384263\"/>\r\n\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"7\" height=\"12\" viewBox=\"0 0 7 12\" fill=\"none\">\r\n\t\t\t\t\t\t\t\t<path d=\"M6 11L1 6L6 1\" stroke=\"#384263\"/>\r\n\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button className=\"pages-btn-back pages-btn btn btn_plain\" disabled={page <= 1}\r\n\t\t\t\t\t\tonClick={() => setPage(page - 1)}>\r\n\t\t\t\t\t\t<div className=\"pages-btn__icon-container\">\r\n\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"7\" height=\"12\" viewBox=\"0 0 7 12\" fill=\"none\">\r\n\t\t\t\t\t\t\t\t<path d=\"M6 11L1 6L6 1\" stroke=\"#384263\"/>\r\n\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t{pagesArray.map((p, i) => {\r\n\t\t\t\t\t\treturn <button className={cx('page btn btn_plain', page === p && 'current')}\r\n\t\t\t\t\t\t\tkey={p}\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tsetPage(p)\r\n\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t{p}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t})}\r\n\t\t\t\t\t<button className=\"pages-btn-forward pages-btn btn btn_plain\" disabled={page >= totalPages}\r\n\t\t\t\t\t\tonClick={() => setPage(page + 1)}>\r\n\t\t\t\t\t\t<div className=\"pages-btn__icon-container\">\r\n\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"7\" height=\"12\" viewBox=\"0 0 7 12\" fill=\"none\">\r\n\t\t\t\t\t\t\t\t<path d=\"M1 1L6 6L1 11\" stroke=\"#6988FF\"/>\r\n\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button className=\"pages-btn-forward_full pages-btn pages-btn_full btn btn_plain\" disabled={page >= totalPages}\r\n\t\t\t\t\t\tonClick={() => setPage(totalPages)}>\r\n\t\t\t\t\t\t<div className=\"pages-btn__icon-container\">\r\n\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"7\" height=\"12\" viewBox=\"0 0 7 12\" fill=\"none\">\r\n\t\t\t\t\t\t\t\t<path d=\"M1 1L6 6L1 11\" stroke=\"#6988FF\"/>\r\n\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"7\" height=\"12\" viewBox=\"0 0 7 12\" fill=\"none\">\r\n\t\t\t\t\t\t\t\t<path d=\"M1 1L6 6L1 11\" stroke=\"#6988FF\"/>\r\n\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}, [totalPages, page])\r\n\r\n\treturn pages;\r\n}","export const getPageCount = (totalCount, limit) => {\r\n\treturn Math.ceil(totalCount / limit);\r\n}\r\n\r\nexport const getPagesArray = (totalPages, page) => {\r\n\tconst visibleFrontier = 3;\r\n\tconst pagesArr = [];\r\n\tconst startingPoint = page === 1\r\n\t\t? 1\r\n\t\t: page === totalPages \r\n\t\t\t? totalPages - 2 \r\n\t\t\t: page - 1;\r\n\t\r\n\tfor (let i = startingPoint || 1; i < Math.min(startingPoint + visibleFrontier, totalPages + 1); i++) {\r\n\t\tpagesArr.push(i);\r\n\t}\r\n\r\n\treturn pagesArr;\r\n}","import React, { useEffect, useMemo, useState } from 'react';\r\nimport { ALL_MARKETS, OPTION_LIST_FRONTIER } from './../../../../components/utils/constants';\r\nimport useSort from '../../../../hooks/useSort';\r\nimport { ARBITRUM, useLocalStorageSerializeKey } from '../../../gmx-test/lib/legacy';\r\nimport TxHistoryItem from './TxHistoryItem';\r\nimport Loader from '../../../../components/UI/loader/Loader';\r\nimport Filter from '../../../../components/UI/Filter/Filter';\r\nimport { usePages } from '../../../../hooks/usePages';\r\n\r\nconst TxHistory = (props) => {\r\n\tconst {\r\n\t\ttxData,\r\n\t\tisLoading,\r\n\t} = props;\r\n\tconst [markets, setMarkets] = useLocalStorageSerializeKey([ARBITRUM, \"Tx-Markets\"], ALL_MARKETS.slice());\r\n\tconst [sortTxs, sortedTxs, setSortedTxs, sortType] = useSort(txData, markets, \"market\");\r\n\tuseEffect(() => {\r\n\t\tconst [param, dir] = sortType.split('__');\r\n\t\tsortTxs(param, dir, true);\r\n\t}, [markets]);\r\n\tuseEffect(() => {\r\n\t\tif (txData.length) {\r\n\t\t\tsortTxs('block_timestamp', 1, true);\r\n\t\t} else {\r\n\t\t\tsetSortedTxs([]);\r\n\t\t}\r\n\t}, [txData.length]);\r\n\r\n\t// Pages\r\n\tconst [page, setPage] = useState(1);\r\n\tconst totalPages = sortedTxs.length / OPTION_LIST_FRONTIER;\r\n\tconst pages = usePages(totalPages, page, setPage, \"pages-container_in-table\");\r\n\tconst pagedTxs = useMemo(() => {\r\n\t\treturn sortedTxs.slice((page-1) * OPTION_LIST_FRONTIER, page * OPTION_LIST_FRONTIER);\r\n\t}, [page, sortedTxs]);\r\n\r\n\tconst renderHead = () => {\r\n\t\treturn (\r\n\t\t\t<tr className=\"Exchange-list-header\">\r\n\t\t\t\t<th>\r\n\t\t\t\t\tMarket\r\n\t\t\t\t</th>\r\n\t\t\t\t<th>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName='btn_table-sort'\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsortTxs('block_timestamp');\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tDate\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</th>\r\n\t\t\t\t<th>\r\n\t\t\t\t\tType\r\n\t\t\t\t</th>\r\n\t\t\t\t<th>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName='btn_table-sort'\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsortTxs('amount');\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tAmount\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</th>\r\n\t\t\t\t<th>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName='btn_table-sort'\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsortTxs('amount_usd');\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tAmount, $\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</th>\r\n\t\t\t</tr>\r\n\t\t)\r\n\t}\r\n\treturn (\r\n\t\t<div className=\"TxHistory\">\r\n\t\t\t<div className=\"TxHistory__header block__header\">\r\n\t\t\t\t<h1 className=\"TxHistory__title\">\r\n\t\t\t\t\tTransaction History\r\n\t\t\t\t</h1>\r\n\t\t\t\t<Filter\r\n\t\t\t\t\titems={ALL_MARKETS}\r\n\t\t\t\t\tselectedItems={markets}\r\n\t\t\t\t\tsetSelectedItems={setMarkets}\r\n\t\t\t\t\ticonLabels={{\r\n\t\t\t\t\t\tGMX: \"GMX_full\",\r\n\t\t\t\t\t\tGNS: \"GNS_full\",\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"table-wrapper table-wrapper_scrollable\">\r\n\t\t\t\t<table className=\"Exchange-list large App-box table_even\">\r\n\t\t\t\t\t{renderHead()}\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t{(!sortedTxs.length) ?\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td colSpan={8}>\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tisLoading ?\r\n\t\t\t\t\t\t\t\t\t\t\t\"Loading...\" :\r\n\t\t\t\t\t\t\t\t\t\t\t(txData.length \r\n\t\t\t\t\t\t\t\t\t\t\t\t? \"Please select markets from the list above\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t: \"Please choose the desired amount and period to view the available options\")\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t{isLoading && (\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<td colSpan={8}>\r\n\t\t\t\t\t\t\t\t\t\t\tLoading...\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t{pagedTxs.map(tx => {\r\n\t\t\t\t\t\t\t\t\treturn(\r\n\t\t\t\t\t\t\t\t\t\t<TxHistoryItem\r\n\t\t\t\t\t\t\t\t\t\t\tkey={`${tx.tx_hash}__${tx.asset}`}\r\n\t\t\t\t\t\t\t\t\t\t\ttx={tx}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t\t{totalPages > 1 && (\r\n\t\t\t\tpages\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default TxHistory;","import React, { useEffect, useState } from 'react';\r\nimport './UserProfile.scss';\r\nimport UserGraph from './components/UserGraph';\r\nimport TxHistory from './components/TxHistory';\r\nimport { FLIPSIDE_API_KEY, getSqlQueries, getSqlQueriesForChart } from '../analyticsConstants';\r\nimport { Flipside } from '@flipsidecrypto/sdk';\r\nimport StringInput from './../../../components/UI/input/StringInput';\r\n\r\nconst UserProfile = ({ walletAddress }) => {\r\n\tconst [txData, setTxData] = useState([]);\r\n\tconst [txDataForChart, setTxDataForChart] = useState({});\r\n\tconst [account, setAccount] = useState(\"\");\r\n\tconst [isLoading, setIsLoading] = useState(true);\r\n\r\n\tconst clearTxData = () => {\r\n\t\tsetTxData([]);\r\n\t\tsetTxDataForChart({});\r\n\t}\r\n\t\r\n\t// Setting title\r\n\tuseEffect(() => {\r\n\t\tdocument.title = \"User Profile | DeDeLend\";\r\n\t}, []);\r\n\r\n\t// Fetching user tx data\r\n\tuseEffect(() => {\r\n\t\t// Setting default account address\r\n\t\tif (walletAddress) {\r\n\t\t\tclearTxData();\r\n\t\t\tsetAccount(walletAddress);\r\n\t\t}\r\n\t}, [walletAddress]);\r\n\t\r\n\tuseEffect(() => {\r\n\t\tif (account) {\r\n\t\t\t// Running SQL-queries\r\n\t\t\tconst keys = [];\r\n\t\t\tconst flipside = new Flipside(\r\n\t\t\t\tFLIPSIDE_API_KEY,\r\n\t\t\t\t\"https://api-v2.flipsidecrypto.xyz\",\r\n\t\t\t);\r\n\t\t\t\r\n\t\t\tconst queriesObj = getSqlQueries(account);\r\n\t\t\tconst queriesObjForChart = getSqlQueriesForChart(account);\r\n\t\t\tconst promises = [];\r\n\t\t\tconst promisesChart = [];\r\n\t\t\tsetIsLoading(true);\r\n\t\t\tfor (const queryName of Object.keys(queriesObj)) {\r\n\t\t\t\tpromises.push(\r\n\t\t\t\t\tflipside.query.run({ sql: queriesObj[queryName], ttlMinutes: 24 * 60 })\r\n\t\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\t\t\tres.records?.forEach(record => {\r\n\t\t\t\t\t\t\t\t\tif (keys.find(key => key === record.tx_hash)) {\r\n\t\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tkeys.push(record.tx_hash);\r\n\t\t\t\t\t\t\t\t\trecord.market = queryName;\r\n\t\t\t\t\t\t\t\t\ttxData.push(record);\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\tsetTxData(txData.slice());\r\n\t\t\t\t\t\t\t}, console.log)\r\n\t\t\t\t\t\t);\r\n\t\t\t}\r\n\t\t\tPromise.all(promises)\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tsetTxData(txData.slice());\r\n\t\t\t\t})\r\n\t\t\t\r\n\t\t\tfor (const queryObj of queriesObjForChart) {\r\n\t\t\t\tpromisesChart.push(\r\n\t\t\t\t\tflipside.query.run({ sql: queryObj.query, ttlMinutes: 24 * 60 })\r\n\t\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\t\ttxDataForChart[queryObj.name] = res.records;\r\n\t\t\t\t\t\t}, console.log)\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\tPromise.all(promisesChart)\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tsetTxDataForChart({ ...txDataForChart });\r\n\t\t\t\t})\r\n\r\n\t\t\t// Hide loader after all promises resolved\r\n\t\t\tPromise.all([...promises, ...promisesChart])\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tsetIsLoading(false);\r\n\t\t\t\t})\r\n\t\t}\r\n\t}, [account]);\r\n\r\n\treturn (\r\n\t\t<div className=\"UserProfile\">\r\n\t\t\t<div className=\"UserProfile__account\">\r\n\t\t\t\t<div className=\"UserProfile__account-input\">\r\n\t\t\t\t\t{/* <StringInput\r\n\t\t\t\t\t\tvalue={account}\r\n\t\t\t\t\t/> */}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<UserGraph\r\n\t\t\t\ttxData={txDataForChart}\r\n\t\t\t\tisLoading={isLoading}\r\n\t\t\t/>\r\n\t\t\t<TxHistory\r\n\t\t\t\ttxData={txData}\r\n\t\t\t\tisLoading={isLoading}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default UserProfile;","import React, { useState, useRef } from 'react';\r\nimport cx from 'classnames';\r\nimport './InputSimple.scss';\r\n\r\nconst InputSimple = (props) => {\r\n\tconst {\r\n\t\tvalue,\r\n\t\tsetValue,\r\n\t\tonChange,\r\n\t\thasError,\r\n\t\tdisabled,\r\n\t\tunit,\r\n\t} = props;\r\n\r\n\tconst [hasFocus, setHasFocus] = useState(false);\r\n\tconst cls = cx(props.className, \"InputSimple\", hasFocus && 'hlight', hasError && 'error', disabled && 'disabled');\r\n\tconst inputRef = useRef(null);\r\n\t\r\n\treturn (\r\n\t\t<div className={cls} onClick={() => {\r\n\t\t\tinputRef.current.focus();\r\n\t\t}}>\r\n\t\t\t<input\r\n\t\t\t\tref={inputRef}\r\n\t\t\t\tdisabled={disabled}\r\n\t\t\t\tvalue={value}\r\n\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\tif (onChange) {\r\n\t\t\t\t\t\tonChange(e);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsetValue(e.target.value);\r\n\t\t\t\t\t}\r\n\t\t\t\t}}\r\n\t\t\t\tonFocus={(e) => {\r\n\t\t\t\t\tsetHasFocus(true);\r\n\t\t\t\t}}\r\n\t\t\t\tonBlur={(e) => {\r\n\t\t\t\t\tsetHasFocus(false);\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t\t<div className=\"InputSimple__unit\">\r\n\t\t\t\t{unit}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default InputSimple;","export const builderStrategies = {\r\n\tCall: {\r\n\t\tstats: {\r\n\t\t\tOutlook: 1,\r\n\t\t\tProfit: true,\r\n\t\t\tRisk: false,\r\n\t\t},\r\n\t\tstructure: [1], // Array of options' keys: positive = buy, negative = sell\r\n\t\t// Example: -1 = Sell Call, 1 = Buy Call.\r\n\t\tkey: 1,\r\n\t\tcolor: \"#46956A\"\r\n\t},\r\n\tPut: {\r\n\t\tstats: {\r\n\t\t\tOutlook: 0,\r\n\t\t\tProfit: true,\r\n\t\t\tRisk: false,\r\n\t\t},\r\n\t\tstructure: [2],\r\n\t\tkey: 2,\r\n\t\tcolor: \"#C75E4B\"\r\n\t},\r\n\tStrangle: {\r\n\t\tstats: {\r\n\t\t\tOutlook: 1,\r\n\t\t\tProfit: true,\r\n\t\t\tRisk: false,\r\n\t\t},\r\n\t\tstructure: [1, 2],\r\n\t\tkey: 3,\r\n\t\tcolor: \"#D99445\"\r\n\t},\r\n\tStraddle: {\r\n\t\tstats: {\r\n\t\t\tOutlook: 1,\r\n\t\t\tProfit: true,\r\n\t\t\tRisk: false,\r\n\t\t},\r\n\t\tstructure: [1, 1],\r\n\t\tkey: 4,\r\n\t\tcolor: \"#D99445\"\r\n\t},\r\n}\r\n\r\nexport const strategyStatsLabels = {\r\n\tOutlook: {\r\n\t\t\"1\": \"Bullish\",\r\n\t\t\"0\": \"Neutral\",\r\n\t\t\"-1\": \"Bearish\"\r\n\t},\r\n\tProfit: {\r\n\t\t\"true\": \"Unlimited\",\r\n\t\t\"false\": \"Limited\"\r\n\t},\r\n\tRisk: {\r\n\t\t\"true\": \"Unlimited\",\r\n\t\t\"false\": \"Limited\"\r\n\t}\r\n}\r\n\r\nexport const builderProtocols = {\r\n\t\"Lyra_ETH\" : 0,\r\n\t\"Lyra_BTC\": 1,\r\n\t\"Hegic_ETH\": 2,\r\n\t\"Hegic_BTC\": 2,\r\n}\r\n\r\nexport const getOptionComponentLabel = (key) => {\r\n\tconst strategy = Object.keys(builderStrategies).find(stratName => {\r\n\t\treturn builderStrategies[stratName].key === Math.abs(key);\r\n\t})\r\n\treturn `${key > 0 ? \"Buy\" : \"Sell\"} ${strategy}`\r\n}","import React, { useState, useEffect } from 'react';\r\nimport Modal from '../../../../components/UI/modal/Modal';\r\nimport Currency from '../../../../components/Currency';\r\nimport Tooltip from '../../../gmx-test/components/Tooltip/Tooltip';\r\nimport './BuyBuildModal.scss';\r\nimport { builderProtocols, builderStrategies } from '../builderConstants';\r\nimport { getOptionComponentLabel } from '../builderConstants';\r\nimport { DATE_FORMAT_TEMPLATE, OPTIONS_DECIMALS } from '../../../../components/utils/constants';\r\nimport { awaitLoading, executePromise, fromBigNumber } from '../../../../components/utils/utils';\r\nimport icon_calendar from '../../../../img/icon-calendar.svg';\r\nimport { format } from 'date-fns';\r\nimport cx from \"classnames\";\r\nimport { USDC, approveUSDC, builderOpen, builderOpenContract, getIsUsdcApproved } from './../../../../components/utils/contracts';\r\nimport { expandDecimals, formatAmount } from '../../../gmx-test/lib/legacy';\r\nimport { BigNumber } from 'ethers';\r\n\r\nconst BuyBuildModal = (props) => {\r\n\tconst {\r\n\t\tvisible,\r\n\t\tsetVisible,\r\n\t\tfields,\r\n\t\tstrategy,\r\n\t\tinfoTokens,\r\n\t\tamount,\r\n\t\tasset,\r\n\t\tmaxCost,\r\n\t\twalletAddress\r\n\t} = props;\r\n\r\n\tconst [isUsdcApproved, setIsUsdcApproved] = useState(false);\r\n\tuseEffect(() => {\r\n\t\tif (walletAddress && maxCost) {\r\n\t\t\tgetIsUsdcApproved(walletAddress, builderOpen, maxCost.div(10**(OPTIONS_DECIMALS-6)))\r\n\t\t\t\t.then(setIsUsdcApproved);\r\n\t\t}\r\n\t}, [walletAddress, maxCost]);\r\n\r\n\tconst usdcBalance = infoTokens[USDC.address].balance && expandDecimals(infoTokens[USDC.address].balance, OPTIONS_DECIMALS - 6);\r\n\tconst [premiums, setPremiums] = useState([]);\r\n\tconst [isMinorLoading, setIsMinorLoading] = useState(false);\r\n\tconst [isLoading, setIsLoading] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (visible) {\r\n\t\t\tsetIsMinorLoading(true);\r\n\t\t\tfields.forEach(field => {\r\n\t\t\t\tconst market = field.market[0];\r\n\t\t\t\tconst strike = field.strike[0];\r\n\t\t\t\tpremiums.push(field.strikesData[0][market][strike].calcPremium(amount))\r\n\t\t\t})\r\n\t\t\tPromise.all(premiums)\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tsetPremiums([...res])\r\n\t\t\t\t\tsetIsMinorLoading(false);\r\n\t\t\t\t})\r\n\t\t}\r\n\t}, [visible]);\r\n\r\n\tconst getError = () => {\r\n\t\tif (usdcBalance && maxCost && usdcBalance.lt(maxCost)) {\r\n\t\t\treturn `Max. Cost exceeds balance`\r\n\t\t}\r\n\t}\r\n\tconst getBtnText = () => {\r\n\t\tconst err = getError();\r\n\t\tif (err) {\r\n\t\t\treturn err;\r\n\t\t}\r\n\r\n\t\tif (isLoading) {\r\n\t\t\tif (!isUsdcApproved) {\r\n\t\t\t\treturn `Approving...`;\r\n\t\t\t} else {\r\n\t\t\t\treturn `Submitting...`;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (!isUsdcApproved) {\r\n\t\t\treturn `Approve USDC`\r\n\t\t}\r\n\r\n\t\treturn `Buy Strategy`;\r\n\t}\r\n\tconst isBtnEnabled = () => {\r\n\t\treturn !getError() && !isLoading;\r\n\t}\r\n\tconst onPrimaryClick = async () => {\r\n\t\tif (!isUsdcApproved) {\r\n\t\t\tapproveUSDC(builderOpen, setIsLoading, () => { setIsUsdcApproved(true) })\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tsetIsLoading(true);\r\n\t\tconst paramsArr = [];\r\n\t\tconst protocols = [];\r\n\t\tlet promises = [];\r\n\t\tfields.forEach(field => {\r\n\t\t\tconst market = field.market[0];\r\n\t\t\tconst strike = field.strike[0];\r\n\t\t\tconst data = field.strikesData[0][market][strike];\r\n\r\n\t\t\tpromises.push(data.getParams(amount).then(params => {\r\n\t\t\t\tparamsArr.push(params);\r\n\t\t\t\tprotocols.push(builderProtocols[`${field.market[0]}_${asset}`]);\r\n\t\t\t}))\r\n\t\t})\r\n\t\tawait Promise.all(promises);\r\n\t\tconst productKey = builderStrategies[strategy].key;\r\n\t\tconsole.log(protocols, paramsArr, productKey);\r\n\t\texecutePromise(builderOpenContract.consolidationOfTransactions, [protocols, paramsArr, productKey], `${amount} ${strategy.toLowerCase()}${amount > 1 ? \"s\" : \"\"} opened!`, setIsLoading, () => {\r\n\t\t\tsetVisible(false);\r\n\t\t});\r\n\t}\r\n\r\n\tconst resetModal = () => {\r\n\t\tsetPremiums([]);\r\n\t}\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\tclassName={\"BuyBuildModal\"}\r\n\t\t\tvisible={visible}\r\n\t\t\tsetVisible={setVisible}\r\n\t\t\tresetModal={resetModal}\r\n\t\t>\r\n\t\t\t<div className=\"BuyBuildModal__body\">\r\n\t\t\t\t<div className=\"modal__steps steps\">\r\n\t\t\t\t\t<div className={cx(\"step\", !isUsdcApproved && \"current\")}>Approve USDC</div>\r\n\t\t\t\t\t<div className={cx(\"step\", isUsdcApproved && \"current\")}>Buy</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"BuyBuildModal__header\">\r\n\t\t\t\t\t<h1 className=\"BuyBuildModal__title modal__title\">Buy Strategy</h1>\r\n\t\t\t\t\t<div className=\"BuyBuildModal__strategy\" style={{color: builderStrategies[strategy].color}}>\r\n\t\t\t\t\t\t{strategy}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<table className='BuyBuildModal__table' cellPadding={0} border={1}>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>\r\n\t\t\t\t\t\t\t\tStrike\r\n\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t<th>\r\n\t\t\t\t\t\t\t\tAmount\r\n\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t<th>\r\n\t\t\t\t\t\t\t\tMax. Cost\r\n\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t<th>{/* date */}</th>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t{fields.map((field, i) => {\r\n\t\t\t\t\t\t\tif (!visible) {\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tconst strike = field.strike[0];\r\n\t\t\t\t\t\t\tconst struct = builderStrategies[strategy].structure[i];\r\n\t\t\t\t\t\t\tconst structLabel = getOptionComponentLabel(struct);\r\n\t\t\t\t\t\t\tconst market = field.market[0];\r\n\t\t\t\t\t\t\tlet marketIcon;\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tmarketIcon = require(`../../../../img/icon-${market}_sm.svg`).default;\r\n\t\t\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\t\t\tconsole.log(e);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<tr key={i}>\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"BuyBuildModal__table-strike\">\r\n\t\t\t\t\t\t\t\t\t\t\t<img src={marketIcon} alt={`${market} icon`} />\r\n\t\t\t\t\t\t\t\t\t\t\t<div className={cx(\"BuyBuildModal__table-strike-label\", {\r\n\t\t\t\t\t\t\t\t\t\t\t\tpositive: struct > 0,\r\n\t\t\t\t\t\t\t\t\t\t\t\tnegative: struct < 0,\r\n\t\t\t\t\t\t\t\t\t\t\t})}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{structLabel}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t${formatAmount(strike, 0, 0, true)}\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t<Currency currencyName={asset}>\r\n\t\t\t\t\t\t\t\t\t\t\t{amount}\r\n\t\t\t\t\t\t\t\t\t\t</Currency>\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t{awaitLoading((\r\n\t\t\t\t\t\t\t\t\t\t\t<Currency>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{premiums.length && !isMinorLoading && formatAmount(premiums[i], OPTIONS_DECIMALS, 2, true)}\t\r\n\t\t\t\t\t\t\t\t\t\t\t</Currency>\r\n\t\t\t\t\t\t\t\t\t\t), isMinorLoading)}\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td style={{textAlign: \"right\"}}>\r\n\t\t\t\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"Tooltip_date-icon\"\r\n\t\t\t\t\t\t\t\t\t\thandle={\r\n\t\t\t\t\t\t\t\t\t\t\t<img src={icon_calendar} alt={\"Calendar icon\"} />\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tposition=\"left-bottom\"\r\n\t\t\t\t\t\t\t\t\t\tenabled={true}\r\n\t\t\t\t\t\t\t\t\t\trenderContent={() => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"Tooltip__text\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tExpiration Date\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={{color: \"#fff\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{format(field.dateMs[0], DATE_FORMAT_TEMPLATE)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t<div className=\"BuyBuildModal__footer\">\r\n\t\t\t\t<div className=\"BuyBuildModal__money\">\r\n\t\t\t\t\t<div className=\"BuyBuildModal__money-item\">\r\n\t\t\t\t\t\t<div className=\"BuyBuildModal__money-item-title\">\r\n\t\t\t\t\t\t\tBalance\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"BuyBuildModal__money-item-val\">\r\n\t\t\t\t\t\t\t<Currency isHlight={true}>\r\n\t\t\t\t\t\t\t\t{formatAmount(usdcBalance, OPTIONS_DECIMALS, 2, true)}\r\n\t\t\t\t\t\t\t</Currency>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"BuyBuildModal__money-item\">\r\n\t\t\t\t\t\t<div className=\"BuyBuildModal__money-item-title\">\r\n\t\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\t\tclassName=\"has-hint-tooltip nowrap\"\r\n\t\t\t\t\t\t\t\thandle=\"Max. Cost\"\r\n\t\t\t\t\t\t\t\tposition=\"left-bottom\"\r\n\t\t\t\t\t\t\t\tenabled={true}\r\n\t\t\t\t\t\t\t\trenderContent={() => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"Tooltip__text\">\r\n\t\t\t\t\t\t\t\t\t\t\tThis is the highest amount <br/>you’ll pay for buying options. <br/>If the option price rises <br/>beyond this, your transaction <br/>will be reverted.\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"BuyBuildModal__money-item-val\">\r\n\t\t\t\t\t\t\t<Currency isHlight={true}>\r\n\t\t\t\t\t\t\t\t{formatAmount(maxCost, OPTIONS_DECIMALS, 2, true)}\r\n\t\t\t\t\t\t\t</Currency>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<button \r\n\t\t\t\t\tclassName=\"modal__btn btn btn_hlight\"\r\n\t\t\t\t\tonClick={onPrimaryClick}\r\n\t\t\t\t\tdisabled={!isBtnEnabled()}\r\n\t\t\t\t>\r\n\t\t\t\t\t{getBtnText()}\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</Modal>\r\n\t);\r\n};\r\n\r\nexport default BuyBuildModal;","import React, { useState, useEffect } from 'react';\r\nimport { DDL_WALLET, OPTIONS_DECIMALS, assetsIcons, assetsOptions, tokenDecimals } from './../../../../components/utils/constants';\r\nimport Tab from '../../../gmx-test/components/Tab/Tab';\r\nimport InputSimple from './../../../../components/UI/input/InputSimple';\r\nimport { convertInputNum, separateThousands } from '../../../../components/utils/sepThousands';\r\nimport './BuilderForm.scss';\r\nimport { ARBITRUM, expandDecimals, formatAmount, formatAmountFree, useLocalStorageByChainId } from '../../../gmx-test/lib/legacy';\r\nimport { getOptionComponentLabel, builderStrategies, strategyStatsLabels } from './../builderConstants';\r\nimport cx from \"classnames\";\r\nimport Selector from './../../../../components/UI/Selector/Selector';\r\nimport { HEGIC_STRATEGIES, HegicStrategy_ABI, PRICE_CALCULATORS, PriceCalculator_ABI, builderOpen, builderOpenContract, getIsUsdcApproved } from '../../../../components/utils/contracts';\r\nimport { fromBigNumber, numToBn } from '../../../../components/utils/utils';\r\nimport { alchemyProvider } from '../../../../components/utils/providers';\r\nimport { BigNumber, ethers } from 'ethers';\r\nimport Lyra from '@lyrafinance/lyra-js';\r\nimport { format } from 'date-fns';\r\nimport Spinner from '../../../../components/UI/loader/Spinner';\r\nimport Currency from './../../../../components/Currency';\r\nimport Tooltip from '../../../gmx-test/components/Tooltip/Tooltip';\r\nimport { useBuilderFields } from '../../../../hooks/useBuilderField';\r\nimport useDebounce from '../../../../hooks/useDebounce';\r\nimport BuyBuildModal from './BuyBuildModal';\r\n\r\nconst BuilderForm = (props) => {\r\n\tconst {\r\n\t\tasset,\r\n\t\tsetAsset,\r\n\t\twalletAddress,\r\n\t\tchaiMarkPrice,\r\n\t\tinfoTokens,\r\n\t} = props;\r\n\t\r\n\tconst [modalVisible, setModalVisible] = useState(false);\r\n\tconst [amount, setAmount] = useState('');\r\n\tconst [strategy, setStrategy] = useLocalStorageByChainId(ARBITRUM, \"Builder-strategy-option\", \"Call\");\r\n\tconst [lyraMarket, setLyraMarket] = useState(null);\r\n\tconst [isCostLoading, setIsCostLoading] = useState(false);\r\n\tconst [cost, setCost] = useState(null);\r\n\tconst [datesMs, setDatesMs] = useState([]);\r\n\r\n\tconst fetchStrikes = (field, isCall) => {\r\n\t\tconst strikesPromises = [];\r\n\t\tfetchHegicStrikes(field, isCall, strikesPromises);\r\n\t\tfetchLyraStrikes(field, isCall, strikesPromises);\r\n\t\treturn strikesPromises;\r\n\t}\r\n\tconst builderFields = useBuilderFields(builderStrategies[strategy].structure, fetchStrikes);\r\n\tconst clearOptions = () => {\r\n\t\tbuilderFields.forEach(field => {\r\n\t\t\tfield.dateMs[1](null);\r\n\t\t\tfield.strike[1](null);\r\n\t\t\tfield.clearData();\r\n\t\t})\r\n\t}\r\n\r\n\tconst isBtnEnabled = () => {\r\n\t\tif (!amount) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tfor (let i = 0; i < builderFields.length; i++) {\r\n\t\t\tconst field = builderFields[i];\r\n\t\t\tif (!field.strike[0]) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn !getError();\r\n\t}\r\n\tconst btnDefaultText = \"Buy Strategy\";\r\n\tconst getError = () => {\r\n\t\tif (!amount) {\r\n\t\t\treturn `Enter Amount`;\r\n\t\t}\r\n\t\t\r\n\t\tif (!cost) {\r\n\t\t\treturn btnDefaultText;\r\n\t\t}\r\n\t\tif (Number(cost) === 0) {\r\n\t\t\treturn `No liquidity`\r\n\t\t}\r\n\t}\r\n\r\n\t// Set Lyra Market\r\n\tuseEffect(() => {\r\n\t\tif (asset) {\r\n\t\t\tsetLyraMarket(null);\r\n\t\t\tconst lyra = new Lyra(ARBITRUM);\r\n\t\t\tlyra.markets().then(markets => {\r\n\t\t\t\tconst market = markets.find(mkt => {\r\n\t\t\t\t\treturn mkt.baseToken.symbol === `W${asset}`;\r\n\t\t\t\t});\r\n\t\t\t\tsetLyraMarket(market);\r\n\t\t\t})\r\n\t\t}\r\n\t}, [asset]);\r\n\t// Fetch dates\r\n\tconst fetchDates = () => {\r\n\t\tconst dates = lyraMarket.liveBoards().map(bd => bd.expiryTimestamp * 10**3);\r\n\t\treturn dates;\r\n\t}\r\n\tuseEffect(() => {\r\n\t\tif (lyraMarket) {\r\n\t\t\tsetDatesMs(fetchDates());\r\n\t\t}\r\n\t}, [lyraMarket]);\r\n\t// Clear fields data\r\n\tuseEffect(() => {\r\n\t\tclearOptions();\r\n\t}, [asset, strategy]);\r\n\r\n\t// Fetch Strikes Fns\r\n\tconst defaultAmount = expandDecimals(1, tokenDecimals[asset]);\r\n\tconst fetchHegicStrikes = async (field, isCall, strikesPromises) => {\r\n\t\tconst dateMs = field.dateMs[0];\r\n\t\tconst strikes = field.strikes[0];\r\n\t\tconst strikesData = field.strikesData[0];\r\n\r\n    const periodDays = Math.floor((dateMs - Date.now()) / 1000 / 60 / 60 / 24);\r\n    if (periodDays < 7 || periodDays > 90) {\r\n      return;\r\n    }\r\n    let strategies;\r\n    if (periodDays < 14) {\r\n      strategies = HEGIC_STRATEGIES.short;\r\n    } else if (periodDays < 30) {\r\n      strategies = HEGIC_STRATEGIES.medShort;\r\n    } else if (periodDays < 60) {\r\n      strategies = HEGIC_STRATEGIES.medLong;\r\n    } else if (periodDays <= 90) {\r\n      strategies = HEGIC_STRATEGIES.long;\r\n    }\r\n    \r\n    for (let i = 0; i < Object.keys(strategies).length; i++) {\r\n      const strategy = Object.keys(strategies)[i];\r\n      const [, strategySentiment, strikeScale, strategyTokenSymbol] = strategy.split('_');\r\n      const isSpread = strategySentiment.split('-').length > 1;\r\n      if (isSpread) {\r\n        continue;\r\n      }\r\n\r\n      const strategyIsCall = strategySentiment === 'CALL';\r\n      if ((isCall && !strategyIsCall) || (!isCall && strategyIsCall)) {\r\n        continue;\r\n      }\r\n      if (strategyTokenSymbol !== asset) {\r\n        continue;\r\n      }\r\n      \r\n      const strike = (formatAmountFree(chaiMarkPrice, 8, 2) / 100 * strikeScale).toFixed(0);\r\n\t\t\tconst priceName = `PriceCalculator_${strategySentiment}_${strikeScale}_${strategyTokenSymbol}`;\r\n      const priceAddress = PRICE_CALCULATORS[priceName];\r\n      const priceContract = new ethers.Contract(priceAddress, PriceCalculator_ABI, alchemyProvider);\r\n\t\t\tconst periodS = Math.floor((dateMs - Date.now()) / 1000);\r\n\r\n\t\t\tconst strategyAddress = strategies[strategy];\r\n\t\t\tconst strategyContract = new ethers.Contract(strategyAddress, HegicStrategy_ABI, alchemyProvider);\r\n\t\t\tlet hasLiq = !(await strategyContract.getAvailableContracts(periodS, [])).eq(0);\r\n\t\t\tif (!hasLiq) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\t\r\n      strikesPromises.push(\r\n\t\t\t\tpriceContract.calculatePremium(periodS, defaultAmount, 0)\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\tconst price = fromBigNumber(res, 6).toFixed(2);\r\n\t\t\t\t\t\tstrikes.Hegic.push([strike, price]);\r\n\t\t\t\t\t}, console.log)\r\n\t\t\t)\r\n\r\n\t\t\tstrikesData.Hegic[strike] = {\r\n\t\t\t\tgetParams: (amount) => {\r\n\t\t\t\t\tconst amountBn = numToBn(amount, tokenDecimals[asset]);\r\n\t\t\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t\t\tresolve(builderOpenContract.encodeFromHegic(\r\n\t\t\t\t\t\t\tstrategyAddress, // strategy\r\n\t\t\t\t\t\t\tbuilderOpen, // holder\r\n\t\t\t\t\t\t\tamountBn, // amount\r\n\t\t\t\t\t\t\tperiodS, // period\r\n\t\t\t\t\t\t\t[] // additional\r\n\t\t\t\t\t\t));\r\n\t\t\t\t\t}) \r\n\t\t\t\t},\r\n\t\t\t\tcalcPremium: (amount) => {\r\n\t\t\t\t\tconst amountBn = numToBn(amount, tokenDecimals[asset]);\r\n\t\t\t\t\treturn priceContract.calculatePremium(periodS, amountBn, 0)\r\n\t\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\t\tconst premium = expandDecimals(res, OPTIONS_DECIMALS - 6);\r\n\t\t\t\t\t\t\treturn premium;\r\n\t\t\t\t\t\t}, console.log)\r\n\t\t\t\t},\r\n\t\t\t};\r\n    }\r\n  }\r\n  const fetchLyraStrikes = (field, isCall, strikesPromises) => {\r\n\t\tif (!lyraMarket) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst dateMs = field.dateMs[0];\r\n\t\tconst strikes = field.strikes[0];\r\n\t\tconst strikesData = field.strikesData[0];\r\n\t\t\r\n    const lyra = new Lyra(ARBITRUM);\r\n    const boardId = lyraMarket.liveBoards().find((bd) => {\r\n\t\t\treturn bd.expiryTimestamp * 10**3 === dateMs;\r\n    }).id;\r\n    const board = lyraMarket.liveBoardsMap[boardId];\r\n    \r\n    board.strikes.forEach(strike => {\r\n\t\t\tconst { strikeId, strikePrice } = strike;\r\n\t\t\tconst strikeRounded = fromBigNumber(strikePrice, OPTIONS_DECIMALS);\r\n      strikesPromises.push(\r\n\t\t\t\tlyra.quoteOption(lyraMarket.address, strikeId, isCall, defaultAmount)\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\tconst price = fromBigNumber(res.ask.premium, tokenDecimals[asset]).toFixed(2);\r\n\t\t\t\t\t\tif (res.ask.premium.eq(0) || res.ask.isDisabled) {\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tconst getTrade = (amount) => {\r\n\t\t\t\t\t\t\tconst ONE_BN = ethers.constants.WeiPerEther;\r\n\t\t\t\t\t\t\tconst SLIPPAGE = 0.0015;\r\n\t\t\t\t\t\t\tconst amountBn = numToBn(amount, OPTIONS_DECIMALS);\r\n\t\t\t\t\t\t\tconst size = ONE_BN.mul(amountBn).div(BigNumber.from(10).pow(OPTIONS_DECIMALS));\r\n\t\t\t\t\t\t\treturn lyraMarket.trade(\r\n\t\t\t\t\t\t\t\twalletAddress,\r\n\t\t\t\t\t\t\t\tstrikeId.toNumber(),\r\n\t\t\t\t\t\t\t\tisCall,\r\n\t\t\t\t\t\t\t\ttrue,\r\n\t\t\t\t\t\t\t\tsize,\r\n\t\t\t\t\t\t\t\tSLIPPAGE,\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tstrikes.Lyra.push([strikeRounded, price]);\r\n\t\t\t\t\t\tstrikesData.Lyra[strikeRounded] = {\r\n\t\t\t\t\t\t\tstrikeId: strikeId.toNumber(),\r\n\t\t\t\t\t\t\tgetParams: (amount) => {\r\n\t\t\t\t\t\t\t\treturn getTrade(amount).then(trade => {\r\n\t\t\t\t\t\t\t\t\tconst params = trade.params[0];\r\n\t\t\t\t\t\t\t\t\treturn builderOpenContract.encodeFromLyra([\r\n\t\t\t\t\t\t\t\t\t\t\tparams.strikeId,\r\n\t\t\t\t\t\t\t\t\t\t\tparams.positionId,\r\n\t\t\t\t\t\t\t\t\t\t\tparams.iterations,\r\n\t\t\t\t\t\t\t\t\t\t\tparams.optionType,\r\n\t\t\t\t\t\t\t\t\t\t\tparams.amount,\r\n\t\t\t\t\t\t\t\t\t\t\tparams.setCollateralTo,\r\n\t\t\t\t\t\t\t\t\t\t\tparams.minTotalCost,\r\n\t\t\t\t\t\t\t\t\t\t\tparams.maxTotalCost,\r\n\t\t\t\t\t\t\t\t\t\t\tDDL_WALLET, // referrer\r\n\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tcalcPremium: (amount) => {\r\n\t\t\t\t\t\t\t\treturn getTrade(amount).then(trade => {\r\n\t\t\t\t\t\t\t\t\tif (trade.isDisabled) {\r\n\t\t\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\treturn trade.params[0].maxTotalCost;\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t)\r\n    })\r\n  }\r\n\r\n\t// Calculate Max.Cost\r\n\tconst calcMaxCost = () => {\r\n\t\tif (!amount) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tsetIsCostLoading(true);\r\n\t\tsetCost(null);\r\n\t\tlet cost = BigNumber.from(0);\r\n\t\tconst premiumPromises = [];\r\n\t\tbuilderFields.forEach(field => {\r\n\t\t\tconst [strike, ] = field.strike;\r\n\t\t\tconst [strikesData, ] = field.strikesData\r\n\t\t\tObject.keys(strikesData).forEach(market => {\r\n\t\t\t\tconst data = strikesData[market];\r\n\t\t\t\tif (!data[strike]) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tpremiumPromises.push(\r\n\t\t\t\t\tdata[strike].calcPremium(Number(amount))\r\n\t\t\t\t\t\t.then(premium => {\r\n\t\t\t\t\t\t\tif (!premium) {\r\n\t\t\t\t\t\t\t\tthrow new Error(\"No liquidity\")\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tcost = cost.add(premium);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t)\r\n\t\t\t})\r\n\t\t})\r\n\t\tPromise.all(premiumPromises)\r\n\t\t\t.then(() => {\r\n\t\t\t\tsetCost(cost);\r\n\t\t\t}, e => {\r\n\t\t\t\tif (e.message === \"No liquidity\") {\r\n\t\t\t\t\tsetCost(BigNumber.from(0))\r\n\t\t\t\t}\r\n\t\t\t}).finally(() => {\r\n\t\t\t\tsetIsCostLoading(false);\r\n\t\t\t})\r\n\t}\r\n\tuseEffect(() => {\r\n\t\tcalcMaxCost();\r\n\t}, [...builderFields.map(field => field.strike[0])]);\r\n\tconst calcMaxCostDelayed = useDebounce(calcMaxCost, 800);\r\n\tuseEffect(() => {\r\n\t\tcalcMaxCostDelayed();\r\n\t}, [amount]);\r\n\r\n\t// Render Chart Preview block\r\n\tconst renderChartPreview = (strategy) => {\r\n\t\tif (!strategy) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<div className=\"BuilderForm__preview\">\r\n\t\t\t\t<div className=\"BuilderForm__preview-img\">\r\n\t\t\t\t\t<img src={require(`../../../../img/BuilderCharts/${strategy}.svg`).default} alt={`${strategy} chart`} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"BuilderForm__preview-stats\">\r\n\t\t\t\t\t{Object.keys(builderStrategies[strategy].stats).map(stat => {\r\n\t\t\t\t\t\tconst statValue = builderStrategies[strategy].stats[stat];\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div className=\"BuilderForm__preview-stat\" key={stat}>\r\n\t\t\t\t\t\t\t\t<div className=\"BuilderForm__preview-stat-name\">\r\n\t\t\t\t\t\t\t\t\t{stat}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className={\r\n\t\t\t\t\t\t\t\t\tcx(\"BuilderForm__preview-stat-val\", {\r\n\t\t\t\t\t\t\t\t\t\tpositive: statValue === 1,\r\n\t\t\t\t\t\t\t\t\t\tnegative: statValue === -1,\r\n\t\t\t\t\t\t\t\t\t\tneutral: statValue === 0,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\t\t{strategyStatsLabels[stat][statValue.toString()]}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\t\r\n\treturn (\r\n\t\t<div className=\"BuilderForm App-box\">\r\n\t\t\t<div className=\"BuilderForm__inputs\">\r\n\t\t\t\t<div className=\"BuilderForm__field\">\r\n\t\t\t\t\t<div className=\"BuilderForm__field-title\">\r\n\t\t\t\t\t\tAsset\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"BuilderForm__field-content\">\r\n\t\t\t\t\t\t<Tab\r\n\t\t\t\t\t\t\ticons={assetsIcons}\r\n\t\t\t\t\t\t\toptions={assetsOptions}\r\n\t\t\t\t\t\t\toption={asset}\r\n\t\t\t\t\t\t\tsetOption={setAsset}\r\n\t\t\t\t\t\t\tonChange={clearOptions}\r\n\t\t\t\t\t\t\ticonsFirst={true}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"BuilderForm__field\">\r\n\t\t\t\t\t<div className=\"BuilderForm__field-title\">\r\n\t\t\t\t\t\tEnter Amount\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"BuilderForm__field-content\">\r\n\t\t\t\t\t\t<InputSimple \r\n\t\t\t\t\t\t\tvalue={amount}\r\n\t\t\t\t\t\t\tsetValue={setAmount}\r\n\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\tsetAmount(convertInputNum(e.target.value, ''));\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tunit={`${strategy}s`}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"BuilderForm__field\">\r\n\t\t\t\t\t<div className=\"BuilderForm__field-title\">\r\n\t\t\t\t\t\tStrategy\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"BuilderForm__field-content\">\r\n\t\t\t\t\t\t<Selector\r\n\t\t\t\t\t\t\tclassName=\"Selector_wide\"\r\n\t\t\t\t\t\t\titems={Object.keys(builderStrategies)}\r\n\t\t\t\t\t\t\tchosenItem={strategy}\r\n\t\t\t\t\t\t\ttitleIcon={\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tsrc={require('../../../../img/icon-aggregator.svg').default}\r\n\t\t\t\t\t\t\t\t\talt={\"Selector icon\"}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tonSelect={(item) => {\r\n\t\t\t\t\t\t\t\tsetStrategy(item);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\trenderOnHover={(item) => {\r\n\t\t\t\t\t\t\t\treturn renderChartPreview(item);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"BuilderForm__field BuilderForm__field_multiple\">\r\n\t\t\t\t\t<div className=\"BuilderForm__field-title\">\r\n\t\t\t\t\t\tExpiration Date\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"BuilderForm__field-content\">\r\n\t\t\t\t\t\t{datesMs && (\r\n\t\t\t\t\t\t\tbuilderStrategies[strategy].structure.map((struct, i) => {\r\n\t\t\t\t\t\t\t\tconst [dateMs, setDateMs] = builderFields[i].dateMs;\r\n\t\t\t\t\t\t\t\tconst clearData = builderFields[i].clearData;\r\n\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<Selector\r\n\t\t\t\t\t\t\t\t\t\tkey={i}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"Selector_wide\"\r\n\t\t\t\t\t\t\t\t\t\titems={datesMs}\r\n\t\t\t\t\t\t\t\t\t\tchosenItem={dateMs}\r\n\t\t\t\t\t\t\t\t\t\tdefaultText=\"Choose Expiration Date\"\r\n\t\t\t\t\t\t\t\t\t\tformatFn={(date, isChosen) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn format(date, isChosen ? 'd MMM hh:mm a' : 'd MMM');\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\ttitleIcon={\r\n\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={require('../../../../img/icon-date.svg').default}\r\n\t\t\t\t\t\t\t\t\t\t\t\talt={\"Selector icon\"}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tonSelect={(item) => {\r\n\t\t\t\t\t\t\t\t\t\t\tsetDateMs(item);\r\n\t\t\t\t\t\t\t\t\t\t\tclearData();\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"BuilderForm__field BuilderForm__field_multiple\">\r\n\t\t\t\t\t<div className=\"BuilderForm__field-title\">\r\n\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\tclassName=\"has-hint-tooltip nowrap\"\r\n\t\t\t\t\t\t\thandle=\"Strike\"\r\n\t\t\t\t\t\t\tposition=\"left-bottom\"\r\n\t\t\t\t\t\t\tenabled={true}\r\n\t\t\t\t\t\t\trenderContent={() => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div className=\"Tooltip__text\">\r\n\t\t\t\t\t\t\t\t\t\t<h6>Hegic Options (American options)</h6>\r\n\t\t\t\t\t\t\t\t\t\t<div style={{margin: \"3px 0\"}}>They require manual exercise before <br/>the expiration date. <br/>There are no secondary markets; out-<br/>of-the-money options can't be sold.</div>\r\n\t\t\t\t\t\t\t\t\t\t<h6>Lyra (European options)</h6>\r\n\t\t\t\t\t\t\t\t\t\t<div style={{margin: \"3px 0\"}}>They are only exercised automatically <br/>at the expiration date. <br/>Secondary markets are available; out-<br/>of-the-money options can be sold.</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"BuilderForm__field-content\">\r\n\t\t\t\t\t\t{builderStrategies[strategy].structure.map((struct, i) => {\r\n\t\t\t\t\t\t\tconst field = builderFields[i];\r\n\t\t\t\t\t\t\tconst [dateMs,] = field.dateMs;\r\n\t\t\t\t\t\t\tconst [strike, setStrike] = field.strike;\r\n\t\t\t\t\t\t\tconst [market, setMarket] = field.market;\r\n\t\t\t\t\t\t\tconst [strikes,] = field.strikes;\r\n\t\t\t\t\t\t\tconst [isLoading, ] = field.loader;\r\n\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\tisLoading\r\n\t\t\t\t\t\t\t\t\t? <div className=\"Spinner\" key={i}><Spinner /></div>\r\n\t\t\t\t\t\t\t\t\t: <Selector\r\n\t\t\t\t\t\t\t\t\t\t\tkey={i}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"Selector_wide\"\r\n\t\t\t\t\t\t\t\t\t\t\titems={strikes}\r\n\t\t\t\t\t\t\t\t\t\t\tchosenItem={strike}\r\n\t\t\t\t\t\t\t\t\t\t\tdefaultText=\"Choose Strike\"\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={!dateMs}\r\n\t\t\t\t\t\t\t\t\t\t\tonSelect={(item, market) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetStrike(item);\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetMarket(market);\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\ttitleIcon={\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span className={cx({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tpositive: struct > 0,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnegative: struct < 0,\r\n\t\t\t\t\t\t\t\t\t\t\t\t})}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{getOptionComponentLabel(struct)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tformatFn={(item) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn `$${separateThousands(item)}`;\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tsortFn={(items) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn items.sort((prev, cur) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (prev[0] > cur[0]) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn 1;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else if (prev[0] < cur[0]) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn -1;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn 0;\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tisComplex={true}\r\n\t\t\t\t\t\t\t\t\t\t\tcomplexCols={[\"Price, USDC\"]}\r\n\t\t\t\t\t\t\t\t\t\t\trenderChosenItem={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tconst price = strikes[market]?.find(strikeArr => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn strikeArr[0] === strike\r\n\t\t\t\t\t\t\t\t\t\t\t\t})?.[1];\r\n\t\t\t\t\t\t\t\t\t\t\t\tlet marketImg;\r\n\t\t\t\t\t\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmarketImg = require(`../../../../img/icon-${market}.svg`).default;\r\n\t\t\t\t\t\t\t\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(e);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"Selector__chosen-item-complex-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"market\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{marketImg && <img src={marketImg} alt={`${market} icon`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{transform: market === \"Hegic\" ? \"translate(-2px, -1px)\" : \"\"}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"strike\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t${separateThousands(strike)};\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"price\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Currency isHlight={true}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{separateThousands(price)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Currency>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t})}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"BuilderForm__field\">\r\n\t\t\t\t\t{renderChartPreview(strategy)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"BuilderForm__field\">\r\n\t\t\t\t\t<div className=\"BuilderForm__field-title\">\r\n\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\tclassName=\"has-hint-tooltip nowrap\"\r\n\t\t\t\t\t\t\thandle=\"Collateral\"\r\n\t\t\t\t\t\t\tposition=\"left-bottom\"\r\n\t\t\t\t\t\t\tenabled={true}\r\n\t\t\t\t\t\t\trenderContent={() => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div className=\"Tooltip__text\">\r\n\t\t\t\t\t\t\t\t\t\tThis refers to the amount <br/>you’re setting aside <br/>as collateral for selling options\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"BuilderForm__field-content\">\r\n\t\t\t\t\t\t<span className={cx(\"muted\")}>\r\n\t\t\t\t\t\t\t—\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"BuilderForm__buyer\">\r\n\t\t\t\t<div className=\"BuilderForm__field BuilderForm__buyer-field\">\r\n\t\t\t\t\t<div className=\"BuilderForm__field-title\">\r\n\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\tclassName=\"has-hint-tooltip nowrap\"\r\n\t\t\t\t\t\t\thandle=\"Max. Cost\"\r\n\t\t\t\t\t\t\tposition=\"left-bottom\"\r\n\t\t\t\t\t\t\tenabled={true}\r\n\t\t\t\t\t\t\trenderContent={() => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div className=\"Tooltip__text\">\r\n\t\t\t\t\t\t\t\t\t\tThis is the highest amount <br/>you’ll pay for buying options. <br/>If the option price rises <br/>beyond this, your transaction <br/>will be reverted.\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"BuilderForm__field-content\">\r\n\t\t\t\t\t\t{isCostLoading\r\n\t\t\t\t\t\t\t? <Spinner />\r\n\t\t\t\t\t\t\t:\t<Currency isSmall={true} isHlight={!!cost}>\r\n\t\t\t\t\t\t\t\t\t{cost ? formatAmount(cost, OPTIONS_DECIMALS, 2, true) : \"—\"}\r\n\t\t\t\t\t\t\t\t</Currency>}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName=\"BuilderForm__button btn\"\r\n\t\t\t\t\tdisabled={!isBtnEnabled()}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tsetModalVisible(true)\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{getError() ?? btnDefaultText}\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t\t<BuyBuildModal\r\n\t\t\t\tvisible={modalVisible}\r\n\t\t\t\tsetVisible={setModalVisible}\r\n\t\t\t\tfields={builderFields}\r\n\t\t\t\tstrategy={strategy}\r\n\t\t\t\tamount={amount}\r\n\t\t\t\tasset={asset}\r\n\t\t\t\tmaxCost={cost}\r\n\t\t\t\tinfoTokens={infoTokens}\r\n\t\t\t\twalletAddress={walletAddress}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default BuilderForm;","import { useState, useEffect } from \"react\";\r\n\r\nexport const useBuilderFields = (structure, effectFn, amount) => {\r\n\tconst defaultStrikes = { Hegic: [], Lyra: [] };\r\n\tconst defaultStrikesData = { Hegic: {}, Lyra: {} };\r\n\t\r\n\tconst fields = [\r\n\t\t{\r\n\t\t\tdateMs: useState(null),\r\n\t\t\tmarket: useState(null),\r\n\t\t\tstrike: useState(null),\r\n\t\t\tstrikes: useState(defaultStrikes),\r\n\t\t\tstrikesData: useState(defaultStrikesData),\r\n\t\t\tloader: useState(false),\r\n\t\t},\r\n\t\t{\r\n\t\t\tdateMs: useState(null),\r\n\t\t\tmarket: useState(null),\r\n\t\t\tstrike: useState(null),\r\n\t\t\tstrikes: useState(defaultStrikes),\r\n\t\t\tstrikesData: useState(defaultStrikesData),\r\n\t\t\tloader: useState(false),\r\n\t\t},\r\n\t\t{\r\n\t\t\tdateMs: useState(null),\r\n\t\t\tmarket: useState(null),\r\n\t\t\tstrike: useState(null),\r\n\t\t\tstrikes: useState(defaultStrikes),\r\n\t\t\tstrikesData: useState(defaultStrikesData),\r\n\t\t\tloader: useState(false),\r\n\t\t},\r\n\t\t{\r\n\t\t\tdateMs: useState(null),\r\n\t\t\tmarket: useState(null),\r\n\t\t\tstrike: useState(null),\r\n\t\t\tstrikes: useState(defaultStrikes),\r\n\t\t\tstrikesData: useState(defaultStrikesData),\r\n\t\t\tloader: useState(false),\r\n\t\t},\r\n\t]\r\n\tfields.forEach((field, i) => {\r\n\t\tfield.clearData = () => {\r\n\t\t\tconst [, setStrikes] = field.strikes;\r\n\t\t\tconst [, setStrikesData] = field.strikesData;\r\n\t\t\tsetStrikes(defaultStrikes);\r\n\t\t\tsetStrikesData(defaultStrikesData);\r\n\t\t}\r\n\t\tfield.isCall = Math.abs(structure[i]) === 1;\r\n\t})\r\n\t\r\n\tconst effFactory = (field) => {\r\n\t\treturn [\r\n\t\t\t() => {\r\n\t\t\t\tfield.strike[1](null);\r\n\t\t\t\tif (effectFn && field.dateMs[0]) {\r\n\t\t\t\t\tfield.loader[1](true);\r\n\t\t\t\t\tfield.clearData();\r\n\t\t\t\t\tconst strikesPromises = effectFn(field, field.isCall);\r\n\t\t\t\t\tPromise.all(strikesPromises).then(() => {\r\n\t\t\t\t\t\tfield.strikes[1]({...field.strikes[0]});\r\n\t\t\t\t\t\tfield.strikesData[1]({...field.strikesData[0]});\r\n\t\t\t\t\t\tfield.loader[1](false);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t[field.dateMs[0], amount]\r\n\t\t]\r\n\t}\r\n\tuseEffect(...effFactory(fields[0]));\r\n\tuseEffect(...effFactory(fields[1]));\r\n\tuseEffect(...effFactory(fields[2]));\r\n\tuseEffect(...effFactory(fields[3]));\r\n\r\n\treturn fields.slice(0, structure.length);\r\n}","import React, { useEffect, useState } from 'react';\r\nimport BuilderForm from './BuilderForm/BuilderForm';\r\nimport { ARBITRUM, useLocalStorageByChainId } from '../../gmx-test/lib/legacy';\r\nimport useSWR from 'swr';\r\nimport { CHAI_CONTRACT_BTC, CHAI_CONTRACT_ETH, Chai_ABI } from '../../../components/utils/contracts';\r\nimport { ethers } from 'ethers';\r\nimport { signer } from '../../../components/utils/providers';\r\nimport { getTokens } from '../../gmx-test/config/Tokens';\r\nimport { getContract } from '../../gmx-test/config/Addresses';\r\nimport { useInfoTokens } from '../../gmx-test/domain/legacy';\r\n\r\nconst Builder = (props) => {\r\n\tconst {\r\n\t\twalletAddress,\r\n\t\tinfoTokens,\r\n\t} = props;\r\n\r\n\tconst [asset, setAsset] = useLocalStorageByChainId(ARBITRUM, \"Asset-option\", \"ETH\");\r\n\r\n\tconst chaiAddress = asset === 'ETH'\r\n    ? CHAI_CONTRACT_ETH : CHAI_CONTRACT_BTC;\r\n  const { data: chaiMarkPrice } = useSWR(\r\n    [asset, \"getMarkPrice_Options\", walletAddress],\r\n    {\r\n      fetcher: async () => {\r\n        const contract = new ethers.Contract(chaiAddress, Chai_ABI, signer);\r\n        return await contract.latestAnswer();\r\n      },\r\n      refreshInterval: 5000,\r\n    }\r\n  )\r\n\t\r\n\treturn (\r\n\t\t<div className=\"Builder\">\r\n\t\t\t<BuilderForm\r\n\t\t\t\tasset={asset}\r\n\t\t\t\tsetAsset={setAsset}\r\n\t\t\t\tdates={[]}\r\n\t\t\t\twalletAddress={walletAddress}\r\n\t\t\t\tchaiMarkPrice={chaiMarkPrice}\r\n\t\t\t\tinfoTokens={infoTokens}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Builder;","import React, { useEffect } from 'react';\r\nimport { Routes, Route, Navigate, useNavigate, useLocation } from \"react-router-dom\";\r\nimport Perpetuals from '../views/gmx-test/App/App';\r\nimport { connectWallet } from './utils/wallet';\r\nimport { HOMEPAGE_HREF } from './utils/constants';\r\nimport Options from './../views/options/App/App';\r\nimport { useLocalStorageByChainId } from './../views/gmx-test/lib/legacy';\r\nimport { ARBITRUM } from './../views/options/lib/legacyOptions';\r\nimport Terminal from '../views/Terminal/Terminal';\r\nimport UserProfile from './../views/Terminal/UserProfile/UserProfile';\r\nimport MarketOverview from '../views/Terminal/MarketOverview/MarketOverview';\r\nimport Builder from '../views/Terminal/Builder/Builder';\r\n\r\n\r\nconst AppRouter = ({ walletAddress, setWalletAddress, connectWallet, infoTokens }) => {\r\n\tconst [path, setPath] = useLocalStorageByChainId(ARBITRUM, \"terminal_path\", HOMEPAGE_HREF);\r\n\r\n\tconst nav = useNavigate();\r\n\tconst loc = useLocation();\r\n\r\n\tuseEffect(() => {\r\n\t\tif (loc.pathname === '/terminal') {\r\n\t\t\tnav(HOMEPAGE_HREF);\r\n\t\t} else {\r\n\t\t\tswitch (loc.pathname) {\r\n\t\t\t\tcase \"/terminal/perpetuals\":\r\n\t\t\t\t\tsetPath(\"/terminal/perpetuals\");\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"/terminal/options\":\r\n\t\t\t\t\tsetPath(\"/terminal/options\");\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"/terminal/builder\":\r\n\t\t\t\t\tsetPath(\"/terminal/builder\")\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}, [loc.pathname]);\r\n\t\r\n\treturn (\r\n\t\t<Routes>\r\n\t\t\t<Route\r\n\t\t\t\tpath=\"/terminal\"\r\n\t\t\t\telement={\r\n\t\t\t\t\t<Terminal />\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t<Route\r\n\t\t\t\t\tpath=\"perpetuals\"\r\n\t\t\t\t\telement={\r\n\t\t\t\t\t\t<Perpetuals\r\n\t\t\t\t\t\t\tconnectWallet={connectWallet}\r\n\t\t\t\t\t\t\twalletAddress={walletAddress} />\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t\t<Route\r\n\t\t\t\t\tpath=\"options\"\r\n\t\t\t\t\telement={\r\n\t\t\t\t\t\t<Options\r\n\t\t\t\t\t\t\tconnectWallet={connectWallet}\r\n\t\t\t\t\t\t\twalletAddress={walletAddress}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t\t<Route\r\n\t\t\t\t\tpath=\"builder\"\r\n\t\t\t\t\telement={\r\n\t\t\t\t\t\t<Builder\r\n\t\t\t\t\t\t\twalletAddress={walletAddress}\r\n\t\t\t\t\t\t\tinfoTokens={infoTokens}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t\t<Route\r\n\t\t\t\t\tpath=\"profile\"\r\n\t\t\t\t\telement={\r\n\t\t\t\t\t\t<UserProfile\r\n\t\t\t\t\t\t\twalletAddress={walletAddress}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t\t{/* <Route\r\n\t\t\t\t\tpath=\"market-overview\"\r\n\t\t\t\t\telement={\r\n\t\t\t\t\t\t<MarketOverview\r\n\t\t\t\t\t\t\twalletAddress={walletAddress}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t}\r\n\t\t\t\t/> */}\r\n\t\t\t</Route>\r\n\t\t\t<Route\r\n\t\t\t\tpath=\"*\"\r\n\t\t\t\telement={<Navigate to={path} replace />}\r\n\t\t\t/>\r\n\t\t</Routes>\r\n\t);\r\n};\r\n\r\nexport default AppRouter;","import { createContext } from \"react\";\r\n\r\nexport const GlobalStatsContext = createContext(null)\r\nexport const UserStatsContext = createContext(null)","import React from 'react';\r\n\r\nconst Warning = (props) => {\r\n\treturn (\r\n\t\t<div className=\"warning\">\r\n\t\t\t{props.children}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Warning;","// Style\r\nimport './style/App.scss'\r\n\r\n// Main\r\nimport React, { useState, useEffect } from 'react';\r\n\r\nimport Header from './Header';\r\nimport Footer from './Footer';\r\nimport AppRouter from './components/AppRouter';\r\nimport { HashRouter } from 'react-router-dom';\r\nimport { UserStatsContext } from './context/context';\r\nimport { GlobalStatsContext } from './context/context';\r\nimport Warning from './components/UI/warning/Warning';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport { cssTransition } from 'react-toastify';\r\nimport EventToastContainer from './views/gmx-test/components/EventToast/EventToastContainer';\r\nimport { i18n } from '@lingui/core';\r\nimport { I18nProvider } from '@lingui/react';\r\nimport { defaultLocale, dynamicActivate } from './views/gmx-test/lib/i18n';\r\nimport { ARBITRUM, CURRENT_PROVIDER_LOCALSTORAGE_KEY, LANGUAGE_LOCALSTORAGE_KEY, SHOULD_EAGER_CONNECT_LOCALSTORAGE_KEY, activateInjectedProvider, getInjectedHandler } from './views/gmx-test/lib/legacy';\r\nimport SEO from './views/gmx-test/components/Common/SEO';\r\nimport { getTokens } from './views/gmx-test/config/Tokens';\r\nimport useSWR from 'swr';\r\nimport Reader from \"./views/gmx-test/abis/ReaderV2.json\";\r\nimport { useWeb3React } from '@web3-react/core';\r\nimport { getContract } from './views/gmx-test/config/Addresses';\r\nimport { fetcher } from './views/gmx-test/lib/contracts/fetcher';\r\nimport { useInfoTokens } from './views/gmx-test/domain/legacy';\r\nimport { Web3ReactProvider } from '@web3-react/core';\r\nimport { Web3Provider } from '@ethersproject/providers';\r\nimport { connectWallet } from './components/utils/wallet';\r\n\r\n\r\nif (\"ethereum\" in window) {\r\n  window.ethereum.autoRefreshOnNetworkChange = false;\r\n}\r\n\r\nfunction getLibrary(provider) {\r\n  const library = new Web3Provider(provider);\r\n  return library;\r\n}\r\n\r\nfunction FullApp() {\r\n\tconst [walletAddress, setWalletAddress] = useState('');\r\n\tconst [registerVisible, setRegisterVisible] = useState(false);\r\n\r\n\tconst Jelly = cssTransition({\r\n\t\tenter: \"jellyIn\",\r\n\t\texit: \"jellyOut\",\r\n\t});\r\n\t\r\n\t// Activating Web3\r\n\tconst { activate } = useWeb3React();\r\n\tconst connectInjectedWallet = getInjectedHandler(activate);\r\n  const attemptActivateWallet = (providerName) => {\r\n    localStorage.setItem(SHOULD_EAGER_CONNECT_LOCALSTORAGE_KEY, true);\r\n    localStorage.setItem(CURRENT_PROVIDER_LOCALSTORAGE_KEY, providerName);\r\n    activateInjectedProvider(providerName);\r\n    connectInjectedWallet();\r\n  };\r\n\tconst connectWalletJoint = () => {\r\n\t\tconnectWallet(setWalletAddress);\r\n    attemptActivateWallet(\"MetaMask\");\r\n  };\r\n\tuseEffect(() => {\r\n\t\tattemptActivateWallet(\"MetaMask\");\r\n\t}, [walletAddress]);\r\n\r\n\t// Getting infoTokens and balances\r\n\tconst { active, library } = useWeb3React();\r\n\tconst tokens = getTokens(ARBITRUM);\r\n  const tokenAddresses = tokens.map((token) => token.address);\r\n  const readerAddress = getContract(ARBITRUM, \"Reader\");\r\n  const { data: tokenBalances } = useSWR(walletAddress && [walletAddress, ARBITRUM, readerAddress, \"getTokenBalances\"], {\r\n    fetcher: fetcher(library, Reader, [walletAddress, tokenAddresses]),\r\n    refreshInterval: 10 * 1000\r\n  });\r\n  const { infoTokens } = useInfoTokens(library, ARBITRUM, active, tokenBalances);\r\n\t\r\n\treturn (\r\n\t\t<HashRouter>\r\n\t\t\t<I18nProvider i18n={i18n}>\r\n\t\t\t\t<ToastContainer\r\n\t\t\t\t\tlimit={1}\r\n\t\t\t\t\ttransition={Jelly}\r\n\t\t\t\t\tposition=\"bottom-right\"\r\n\t\t\t\t\thideProgressBar={true}\r\n\t\t\t\t\tnewestOnTop={false}\r\n\t\t\t\t\tcloseOnClick={false}\r\n\t\t\t\t\tdraggable={false}\r\n\t\t\t\t\tpauseOnHover={false}\r\n\t\t\t\t/>\r\n\t\t\t\t<EventToastContainer />\r\n\t\t\t\t<div className=\"App\">\r\n\t\t\t\t\t<Header walletAddress={walletAddress}\r\n\t\t\t\t\t\tsetWalletAddress={setWalletAddress}\r\n\t\t\t\t\t\tregisterVisible={registerVisible}\r\n\t\t\t\t\t\tsetRegisterVisible={setRegisterVisible}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<main className='_container'>\r\n\t\t\t\t\t\t<AppRouter\r\n\t\t\t\t\t\t\twalletAddress={walletAddress}\r\n\t\t\t\t\t\t\tsetWalletAddress={setWalletAddress}\r\n\t\t\t\t\t\t\tsetRegisterVisible={setRegisterVisible}\r\n\t\t\t\t\t\t\tconnectWallet={connectWalletJoint}\r\n\t\t\t\t\t\t\tinfoTokens={infoTokens}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</main>\r\n\r\n\t\t\t\t\t<Footer />\r\n\t\t\t\t</div>\r\n\t\t\t</I18nProvider>\r\n\t\t</HashRouter>\r\n\t)\r\n}\r\n\r\nfunction App() {\r\n\tconst [userStats, setUserStats] = useState({\r\n\t\tbalance: undefined,\r\n\t\tcurBalance: undefined,\r\n\t\tavail: undefined\r\n\t})\r\n\tconst [globalStats, setGlobalStats] = useState(\r\n\t\t{\r\n\t\t\ttotalSupplied: \"\",\r\n\t\t\ttotalBorrowed: \"\",\r\n\t\t\tutilRate: \"\",\r\n\t\t\tavailToBorrow: \"\",\r\n\t\t\tborrowAPY: \"\",\r\n\t\t}\r\n\t)\r\n\t\r\n\tuseEffect(() => {\r\n    const defaultLanguage = localStorage.getItem(LANGUAGE_LOCALSTORAGE_KEY) || defaultLocale;\r\n    dynamicActivate(defaultLanguage);\r\n  }, []);\r\n\t\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Web3ReactProvider getLibrary={getLibrary}>\r\n\t\t\t\t<SEO>\r\n\t\t\t\t\t<GlobalStatsContext.Provider value={{\r\n\t\t\t\t\t\tglobalStats,\r\n\t\t\t\t\t\tsetGlobalStats\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\t\t<UserStatsContext.Provider value={{\r\n\t\t\t\t\t\t\tuserStats,\r\n\t\t\t\t\t\t\tsetUserStats\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t<FullApp />\r\n\t\t\t\t\t\t</UserStatsContext.Provider>\r\n\t\t\t\t\t</GlobalStatsContext.Provider>\r\n\t\t\t\t\t<Warning>\r\n\t\t\t\t\t\tDeDeLend is in alpha. Use at your own risk\r\n\t\t\t\t\t</Warning>\r\n\t\t\t\t</SEO>\r\n\t\t\t</Web3ReactProvider>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom/client';\r\nimport App from './App';\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById('root'));\r\nroot.render(\r\n\t<React.StrictMode>\r\n\t\t<App />\r\n\t</React.StrictMode>\r\n);\r\n"],"sourceRoot":""}